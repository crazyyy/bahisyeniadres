function GoTo(e){window.open(e.replace("_","http://"))}function base64_decode(e){if("undefined"==typeof window)return new Buffer(e,"base64").toString("utf-8");if(void 0!==window.atob)return decodeURIComponent(escape(window.atob(e)));var t,n,i,o,a,s,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,l=0,c="",u=[];if(!e)return e;for(e+="";t=(s=r.indexOf(e.charAt(d++))<<18|r.indexOf(e.charAt(d++))<<12|(o=r.indexOf(e.charAt(d++)))<<6|(a=r.indexOf(e.charAt(d++))))>>16&255,n=s>>8&255,i=255&s,u[l++]=64===o?String.fromCharCode(t):64===a?String.fromCharCode(t,n):String.fromCharCode(t,n,i),d<e.length;);return c=u.join(""),decodeURIComponent(escape(c.replace(/\0+$/,"")))}function createCookie(e,t,n){var i;if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}else i="";document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+"; path=/"}function readCookie(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null}function eraseCookie(e){createCookie(e,"",-1)}jQuery(function(c){"use strict";var e,t=c(window).width(),n=c(".mob-hamburger"),i=c("#site-navigation"),o=c("#header_menu"),a=c("#top_menu"),s=c(".widget-mobile-menu ul"),r=a.clone(),d=s.clone();function l(){c(".top-menu .menu-item .sub-menu, .main-navigation .menu-item .sub-menu, .sidebar-navigation .menu-item .sub-menu").slideUp(200)}if(r.find("li").addClass("only-hamburger"),d.find("li").addClass("only-hamburger"),n.on("click",function(){n.toggleClass("active"),i.slideToggle()}),"undefined"!=typeof fixed_main_menu&&"yes"==fixed_main_menu&&(c("#site-navigation").clone().attr("id","").addClass("site-navigation-fixed").appendTo("body"),c(window).scroll(function(){c(this).scrollTop()>c(".site-header").outerHeight()&&974<c(window).width()?(c(".site-navigation-fixed").show(),c(".site-navigation-fixed").css("width",c("#site-navigation").outerWidth()),c(".site-navigation-fixed").css("left",c("#site-navigation").offset().left)):c(".site-navigation-fixed").hide()}),c(window).resize(function(){c(".site-navigation-fixed").is(":visible")&&(c(".site-navigation-fixed").css("width",c("#site-navigation").outerWidth()),c(".site-navigation-fixed").css("left",c("#site-navigation").offset().left))})),991<t&&(c(".top-menu .menu-item a, .top-menu .menu-item .removed-link, .main-navigation .menu-item a, .main-navigation .menu-item .removed-link").on("mouseenter",function(){c(this).parent().parent().find(".sub-menu:visible").hide(),c(this).parent().find(".sub-menu:first").show(),clearTimeout(e)}),c(".top-menu, .main-navigation").on({mouseenter:function(){clearTimeout(e)},mouseleave:function(){e=setTimeout(l,400)}})),t<=991&&(c("#site-navigation").on("click",".menu-item-has-children",function(e){"A"!=e.target.nodeName&&"a"!=e.target.nodeName&&(e.stopPropagation(),c(this).toggleClass("open"),c(this).find(".sub-menu:first").slideToggle())}),c("#footer_menu").on("click",".menu-item-has-children",function(e){"A"!=e.target.nodeName&&"a"!=e.target.nodeName&&(e.stopPropagation(),c(this).toggleClass("open"),c(this).find(".sub-menu:first").slideToggle())})),c(".sidebar-navigation").on("click",".menu-item-has-children",function(e){"A"!=e.target.nodeName&&"a"!=e.target.nodeName&&(e.stopPropagation(),c(this).toggleClass("open"),c(this).find(".sub-menu:first").slideToggle())}),"undefined"!=typeof top_menu_mobile_position&&"bottom"==top_menu_mobile_position?o.append(r.html()):o.prepend(r.html()),o.append(d.html()),c(document).on("click",".js-table-of-contents-hide",function(){var e=c(this).parents(".table-of-contents");e.toggleClass("open"),e.hasClass("open")?(eraseCookie("wpshop_toc_hide"),c(".js-table-of-contents-list").slideDown()):(createCookie("wpshop_toc_hide","hide"),c(".js-table-of-contents-list").slideUp())}),c(document).on("click",'.table-of-contents a[href*="#"]',function(e){c("html,body").stop().animate({scrollTop:c(this.hash).offset().top-100},500),e.preventDefault()}),1==settings_array.lightbox_enabled&&(c(".entry-content").find("a:has(img)").wpshoplightbox(),c(document).find("a:has(img.lightbox-open)").wpshoplightbox()),c(".entry-content table").wrap(c("<div class='table-responsive' />")),c(".js-spoiler-box-title").click(function(){c(this).toggleClass("active").next().slideToggle()}),console.log(window.location.hash),c("body").hasClass("single-paged")&&!window.location.hash){var u=c("#main").offset().top;c("html,body").animate({scrollTop:u},800)}function h(){c(".entry-content iframe, .responsive-iframe iframe").each(function(){if(!(c(this).parents(".not-responsive").length||c(this).width()<=c(this).parent().width())){var e=c(this).width(),t=c(this).height(),n=c(this).parent().width(),i=n/e,o=Math.round(t*i);c(this).css({width:n,height:o})}})}jQuery(document).on("click",".js-link",function(e){var t=jQuery(this).data("href");if("http"!=t.substring(0,4)){var n=base64_decode(t);"http"==n.substring(0,4)&&(t=n)}var i="self";"blank"!=jQuery(this).data("target")&&"_blank"!=jQuery(this).data("target")&&"blank"!=jQuery(this).attr("target")&&"_blank"!=jQuery(this).attr("target")||(i="blank"),"blank"==i?window.open(t):document.location.href=t}),c(".js-share-link").click(function(){c(this).hasClass("js-share-link-no-window")?window.location.href=c(this).data("uri"):function(e){var t,n=(screen.height-436)/2,i=(screen.width-626)/2;n<0&&(n=0);i<0&&(i=0);t="top="+n+",left="+i,t+=",height=436,width=626,resizable=no",open(e,"displayWindow",t)}(c(this).data("uri"))}),c(".ps-link").click(function(){var e=base64_decode(c(this).data("uri"));window.open(e)}),c(document).on("click",".js-star-rating-item",function(){var i=c(this),o=i.parent(),a=i.data("score"),e=o.data("post-id"),s=o.data("rating-count"),r=o.data("rating-sum"),d=o.data("rating-value");if(!o.hasClass("disabled")){o.addClass("disabled process");var t={action:"wpshop_star_rating_submit",nonce:wps_ajax.nonce,post_id:e,score:a,rating_count:s,rating_sum:r,rating_value:d};jQuery.post(wps_ajax.url,t,function(e){if(e.success){d=((r+=a)/++s).toFixed(2);var t="assessment",n=c("html").attr("lang");"undefined"!=typeof rating_count_text_filter?t=rating_count_text_filter:("ru-RU"==n&&(t=l(s,["оценка","оценки","оценок"])),"uk"==n&&(t=l(s,["оцінка","оцінки","оцінок"]))),i.parent().parent().find(".star-rating-text").html("<em>( <strong>"+s+"</strong> "+t+", "+settings_array.rating_text_average+" <strong>"+d+"</strong> "+settings_array.rating_text_from+" <strong>5</strong> )</em></div>")}else e.data,console.log(e);o.removeClass("process")})}function l(e,t){return t[4<e%100&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}}),c(".js-star-rating-item").on({mouseenter:function(){c(this).parent().hasClass("disabled")||(c(this).parent().addClass("hover"),c(this).addClass("hover").prevAll().addClass("hover"))},mouseleave:function(){c(this).parent().hasClass("disabled")||(c(this).parent().removeClass("hover"),c(".js-star-rating-item").removeClass("hover"))}}),c(".js-comment-smiles img").click(function(){var e=c(this);c("#comment").val(c("#comment").val()+" "+e.prop("alt"))}).on("dragstart",function(e){e.preventDefault()}),h(),c(window).resize(function(){h()});var m=c(".js-scrolltop");m.click(function(){return c("body,html").animate({scrollTop:0},500)}),c(window).scroll(function(){100<c(this).scrollTop()?t<991?"on"==m.data("mob")&&m.fadeIn():m.fadeIn():m.fadeOut()})});