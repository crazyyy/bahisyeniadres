"use strict";function _typeof3(e){return(_typeof3="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof3(e)})(e)}var Util=function(){function r(e){return e=parseFloat(e),!isNaN(e)&&isFinite(e)}function o(e){return"function"==typeof e}function i(e){return"string"==typeof e}function s(e){return e&&"object"==(void 0===e?"undefined":_typeof3(e))||e instanceof Object}function a(e){return void 0===e}function n(e,n,t){if(!i(e))return{};for(var o={},e=e.split(n),r=0;r<e.length;++r)o[(n=e[r].split(t,2))[0]]=1<n.length?decodeURIComponent(n[1]).replace(/\+/g," "):"";return o}var c={LOWER:0,UPPER:1};return{CASE:c,inherit:function(e,n){(o=function(){}).prototype=n.prototype;var t,o=new o;for(t in e.prototype)o[t]=e.prototype[t];e.prototype=o,e.prototype.super=n.prototype},isNumber:r,isPosition:function(e){return e&&r(e.top)&&r(e.left)},isFunction:o,isJQuery:function(e){return e instanceof $},arrayRemove:function(e,n){for(var t=[],o=0;o<e.length;++o)n!=e[o]&&t.push(e[o]);return t},isArray:function(e){return e instanceof Array},isString:i,stringsEqual:function(e,n,t){return e=["^",e,"$"].join(""),(t?RegExp(e):RegExp(e,"i")).test(n)},isObject:s,isUndefined:a,isOfSameType:function(e,n){return(void 0===e?"undefined":_typeof3(e))==(void 0===n?"undefined":_typeof3(n))},clone:function e(n,t){if(s(n)){var o,t={};for(o in n)t[o]=e(n[o])}else t=n;return t},extend:function(){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(arguments[0][n]=arguments[e][n]);return arguments[0]},getObjectValues:function(e){var n=[];if(s(e))for(var t in e)o(e[t])||n.push(e[t]);return n},parseParams:function(e){return n(e,"&","=")},parseParamsCustom:n,changeCase:function(e,n,t){if(!i(e)||0==$.trim(e).length)return e;var o=!1;return!(o=a(n)?!0:o)&&(!r(n)||n<0||n>=e.length)?e:(t=t===c.UPPER?"toUpperCase":"toLowerCase",o?e[t]():(o=[],0<n&&o.push(e.slice(0,n)),o.push(e.charAt(n)[t]()),o.push(e.slice(n+1)),o.join("")))}}}(),TimeUtil=function(){var e=(new Date).getTimezoneOffset(),n=Math.abs(e),t=Math.floor(n/60),o=(e<0?"+":"-")+(t?(t<10?"0":"")+t:"00")+":"+((n=n-60*t)?(n<10?"0":"")+n:"00");return{getTimeZoneOffset:function(){return o}}}(),Html5GameManager=function(){function t(n){try{var e=JSON.parse(n);if(console.log("receiveMessageFromGame",e),Util.isObject(e)){var t=Util.isObject(e.args)?e.args:{};switch(e.args=t,e.common){case"EVT_GET_CONFIGURATION":t.config=i.gameConfig;var o=JSON.stringify(e);try{var r=JSON.parse(o);console.log("sendMessageToGame",r)}catch(e){console.error("sendMessageToGame",e,o)}try{Util.isFunction(window.sendToGame)?window.sendToGame(o):console.log("sendMessageToGame","sendToGame is not function")}catch(e){console.error("sendMessageToGame",e,o)}break;case"EVT_OPEN_LOBBY":case"EVT_CLOSE_GAME":a(i.lobbyUri,i.mobileLobbyUri);break;case"EVT_OPEN_CASHIER":a(i.cashierUri,i.mobileCashierUri);break;case"UNLOGGED":null!=s&&i.extendSessionUri&&clearInterval(s)}}}catch(e){console.error("receiveMessageFromGame",e,n)}}var i={},s=null,a=function(e,n){UHT_DEVICE_TYPE.MOBILE&&n?/^js:\/\/.*/i.test(n)?new Function(n.substring(5,n.length))():n&&window.open(n,"_self"):e&&(/^js:\/\/.*/i.test(e)?new Function(e.substring(5,e.length))():e&&window.open(e,"_self"))};return extendSessionRequest=function(){if(i.extendSessionUri)for(var e=i.extendSessionUri.split(","),n=["_t",(new Date).getTime()].join("="),t=0;t<e.length;t++)try{(new Image).src=[e[t],/\?/.test(e[t])?"&":"?",n].join("")}catch(e){console.error("Extend Session Request",e)}},{init:function(e){Util.extend(i,e),e=i.contextPath||"",Util.extend(i,{loginUri:[e,"/common/pages/unlogged.jsp"].join(""),entryUri:[e,"/mobile/generic/"].join("")}),Util.extend(i,{lobbyUri:i.lobbyUrl,cashierUri:i.cashierUrl,mobileLobbyUri:i.mobileLobbyUrl,mobileCashierUri:i.mobileCashierUrl,extendSessionUri:i.extendSessionUrl});var n=(e=JSON.parse(i.gameConfig)).HISTORY;n&&(e.hasOwnProperty("historyType")&&"external"==e.historyType||(n+="&tz="+encodeURIComponent(TimeUtil.getTimeZoneOffset()),e.HISTORY=n),Util.extend(i,{gameConfig:e})),i.extendSessionInterval&&i.extendSessionUri&&(s=setInterval(extendSessionRequest,i.extendSessionInterval)),window.sendToAdapter=t}}}();