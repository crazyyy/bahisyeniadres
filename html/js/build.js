"use strict";function _typeof3(t){return(_typeof3="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)})(t)}!function(t){"object"==("undefined"==typeof exports?"undefined":_typeof3(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PIXI=t()}(function(){return function n(o,s,r){function a(i,t){if(!s[i]){if(!o[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(l)return l(i,!0);e=new Error("Cannot find module '"+i+"'");throw e.code="MODULE_NOT_FOUND",e}e=s[i]={exports:{}};o[i][0].call(e.exports,function(t){var e=o[i][1][t];return a(e||t)},e,e.exports,n,o,s,r)}return s[i].exports}for(var l="function"==typeof require&&require,t=0;t<r.length;t++)a(r[t]);return a}({1:[function(i,n,t){!function(t){i("./polyfill");var e=n.exports=i("./core");e.extras=i("./extras"),e.filters=i("./filters"),e.interaction=i("./interaction"),e.loaders=i("./loaders"),e.mesh=i("./mesh"),e.ticker=i("./ticker"),e.loader=new e.loaders.Loader,Object.assign(e,i("./deprecation")),t.PIXI=e}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":25,"./deprecation":74,"./extras":81,"./filters":3,"./interaction":84,"./loaders":87,"./mesh":93,"./polyfill":97,"./ticker":100}],2:[function(t,y,e){!function(g){!function(){function r(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}var t,c={},i=this;null!=i&&(t=i.async),c.noConflict=function(){return i.async=t,c};function p(t,e){for(var i=0;i<t.length;i+=1)e(t[i],i,t)}function l(t,n){if(t.map)return t.map(n);var o=[];return p(t,function(t,e,i){o.push(n(t,e,i))}),o}function d(t){if(Object.keys)return Object.keys(t);var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i}var e=Object.prototype.toString,m=Array.isArray||function(t){return"[object Array]"===e.call(t)};void 0!==g&&g.nextTick?(c.nextTick=g.nextTick,"undefined"!=typeof setImmediate?c.setImmediate=function(t){setImmediate(t)}:c.setImmediate=c.nextTick):("function"==typeof setImmediate?c.nextTick=function(t){setImmediate(t)}:c.nextTick=function(t){setTimeout(t,0)},c.setImmediate=c.nextTick),c.each=function(e,i,n){function o(t){t?(n(t),n=function(){}):(s+=1)>=e.length&&n()}if(n=n||function(){},!e.length)return n();var s=0;p(e,function(t){i(t,r(o))})},c.forEach=c.each,c.eachSeries=function(i,t,n){if(n=n||function(){},!i.length)return n();var o=0;(function e(){t(i[o],function(t){t?(n(t),n=function(){}):((o+=1)>=i.length?n:e)()})})()},c.forEachSeries=c.eachSeries,c.eachLimit=function(t,e,i,n){a(e).apply(null,[t,i,n])},c.forEachLimit=c.eachLimit;function n(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.each].concat(t))}}function o(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.eachSeries].concat(t))}}function s(t,e,o,i){var s;e=l(e,function(t,e){return{index:e,value:t}}),i?(s=[],t(e,function(i,n){o(i.value,function(t,e){s[i.index]=e,n(t)})},function(t){i(t,s)})):t(e,function(t,e){o(t.value,function(t){e(t)})})}var a=function(a){return function(i,t,n){if(n=n||function(){},!i.length||a<=0)return n();var o=0,s=0,r=0;!function e(){if(o>=i.length)return n();for(;r<a&&s<i.length;)r+=1,t(i[(s+=1)-1],function(t){t?(n(t),n=function(){}):(--r,((o+=1)>=i.length?n:e)())})}()}};c.map=n(s),c.mapSeries=o(s),c.mapLimit=function(t,e,i,n){return u(e)(t,i,n)};var u=function(t){return e=t,i=s,function(){var t=Array.prototype.slice.call(arguments);return i.apply(null,[a(e)].concat(t))};var e,i};c.reduce=function(t,n,e,i){c.eachSeries(t,function(t,i){e(n,t,function(t,e){n=e,i(t)})},function(t){i(t,n)})},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(t,e,i,n){t=l(t,function(t){return t}).reverse();c.reduce(t,e,i,n)},c.foldr=c.reduceRight;var h=function(t,e,n,i){var o=[];t(e=l(e,function(t,e){return{index:e,value:t}}),function(e,i){n(e.value,function(t){t&&o.push(e),i()})},function(t){i(l(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.filter=n(h),c.filterSeries=o(h),c.select=c.filter,c.selectSeries=c.filterSeries;h=function(t,e,n,i){var o=[];t(e=l(e,function(t,e){return{index:e,value:t}}),function(e,i){n(e.value,function(t){t||o.push(e),i()})},function(t){i(l(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.reject=n(h),c.rejectSeries=o(h);h=function(t,e,n,o){t(e,function(e,i){n(e,function(t){t?(o(e),o=function(){}):i()})},function(t){o()})};c.detect=n(h),c.detectSeries=o(h),c.some=function(t,i,n){c.each(t,function(t,e){i(t,function(t){t&&(n(!0),n=function(){}),e()})},function(t){n(!1)})},c.any=c.some,c.every=function(t,i,n){c.each(t,function(t,e){i(t,function(t){t||(n(!1),n=function(){}),e()})},function(t){n(!0)})},c.all=c.every,c.sortBy=function(t,e,i){c.map(t,function(i,n){e(i,function(t,e){t?n(t):n(null,{value:i,criteria:e})})},function(t,e){if(t)return i(t);i(null,l(e.sort(function(t,e){var i,t=t.criteria;return t<(i=e.criteria)?-1:i<t?1:0}),function(t){return t.value}))})},c.auto=function(t,o){o=o||function(){};var e=d(t),i=e.length;if(!i)return o();function a(t){h.unshift(t)}function l(){i--,p(h.slice(0),function(t){t()})}var u={},h=[];a(function(){var t;i||(t=o,o=function(){},t(null,u))}),p(e,function(s){function e(t){var e,i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),t?(e={},p(d(u),function(t){e[t]=u[t]}),e[s]=i,o(t,e),o=function(){}):(u[s]=i,c.setImmediate(l))}function i(){return n=function(t,e){return t&&u.hasOwnProperty(e)},o=!0,((t=r).reduce?t.reduce(n,o):(p(t,function(t,e,i){o=n(o,t,e,i)}),o))&&!u.hasOwnProperty(s);var t,n,o}var n=m(t[s])?t[s]:[t[s]],r=n.slice(0,Math.abs(n.length-1))||[];i()?n[n.length-1](e,u):a(function t(){i()&&(function(t){for(var e=0;e<h.length;e+=1)if(h[e]===t)return h.splice(e,1)}(t),n[n.length-1](e,u))})})},c.retry=function(t,n,o){var s=[];"function"==typeof t&&(o=n,n=t,t=5),t=parseInt(t,10)||5;var i,e=(i=function(i,e){for(;t;)s.push(function(t,n){return function(i){t(function(t,e){i(!t||n,{err:t,result:e})},e)}}(n,!--t));c.series(s,function(t,e){e=e[e.length-1],(i||o)(e.err,e.result)})},r.toString=function(){return i.toString()},r);function r(t,e){return i.apply(this,arguments)}return o?e():e},c.waterfall=function(t,o){if(o=o||function(){},!m(t)){var e=new Error("First argument to waterfall must be an array of functions");return o(e)}if(!t.length)return o();(function i(n){return function(t){var e;t?(o.apply(null,arguments),o=function(){}):(e=Array.prototype.slice.call(arguments,1),(t=n.next())?e.push(i(t)):e.push(o),c.setImmediate(function(){n.apply(null,e)}))}})(c.iterator(t))()};function S(t,e,i){var o;i=i||function(){},m(e)?t.map(e,function(t,i){t&&t(function(t){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),i.call(null,t,e)})},i):(o={},t.each(d(e),function(i,n){e[i](function(t){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),o[i]=e,n(t)})},function(t){i(t,o)}))}c.parallel=function(t,e){S({map:c.map,each:c.each},t,e)},c.parallelLimit=function(t,e,i){S({map:u(e),each:a(e)},t,i)},c.series=function(t,e){var o;e=e||function(){},m(t)?c.mapSeries(t,function(t,i){t&&t(function(t){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),i.call(null,t,e)})},e):(o={},c.eachSeries(d(t),function(i,n){t[i](function(t){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),o[i]=e,n(t)})},function(t){e(t,o)}))},c.iterator=function(n){return function t(e){function i(){return n.length&&n[e].apply(null,arguments),i.next()}return i.next=function(){return e<n.length-1?t(e+1):null},i}(0)},c.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};h=function(t,e,n,i){var o=[];t(e,function(t,i){n(t,function(t,e){o=o.concat(e||[]),i(t)})},function(t){i(t,o)})};c.concat=n(h),c.concatSeries=o(h),c.whilst=function(e,i,n){e()?i(function(t){return t?n(t):void c.whilst(e,i,n)}):n()},c.doWhilst=function(e,i,n){e(function(t){if(t)return n(t);t=Array.prototype.slice.call(arguments,1);i.apply(null,t)?c.doWhilst(e,i,n):n()})},c.until=function(e,i,n){e()?n():i(function(t){return t?n(t):void c.until(e,i,n)})},c.doUntil=function(e,i,n){e(function(t){if(t)return n(t);t=Array.prototype.slice.call(arguments,1);i.apply(null,t)?n():c.doUntil(e,i,n)})},c.queue=function(i,t){function n(e,t,i,n){return e.started||(e.started=!0),0==(t=!m(t)?[t]:t).length?c.setImmediate(function(){e.drain&&e.drain()}):void p(t,function(t){t={data:t,callback:"function"==typeof n?n:null};i?e.tasks.unshift(t):e.tasks.push(t),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)})}var o=0,s={tasks:[],concurrency:t=void 0===t?1:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(s,t,!1,e)},kill:function(){s.drain=null,s.tasks=[]},unshift:function(t,e){n(s,t,!0,e)},process:function(){var t,e;!s.paused&&o<s.concurrency&&s.tasks.length&&(t=s.tasks.shift(),s.empty&&0===s.tasks.length&&s.empty(),o+=1,e=r(function(){--o,t.callback&&t.callback.apply(t,arguments),s.drain&&s.tasks.length+o===0&&s.drain(),s.process()}),i(t.data,e))},length:function(){return s.tasks.length},running:function(){return o},idle:function(){return s.tasks.length+o===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var t=1;t<=s.concurrency;t++)c.setImmediate(s.process)}}};return s},c.priorityQueue=function(t,e){function o(t,e){return t.priority-e.priority}function n(e,t,i,n){return e.started||(e.started=!0),0==(t=!m(t)?[t]:t).length?c.setImmediate(function(){e.drain&&e.drain()}):void p(t,function(t){t={data:t,priority:i,callback:"function"==typeof n?n:null};e.tasks.splice(function(t,e,i){for(var n=-1,o=t.length-1;n<o;){var s=n+(o-n+1>>>1);0<=i(e,t[s])?n=s:o=s-1}return n}(e.tasks,t,o)+1,0,t),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)})}var s=c.queue(t,e);return s.push=function(t,e,i){n(s,t,e,i)},delete s.unshift,s},c.cargo=function(n,o){var s=!1,r=[],a={tasks:r,payload:o,saturated:null,empty:null,drain:null,drained:!0,push:function(t,e){m(t)||(t=[t]),p(t,function(t){r.push({data:t,callback:"function"==typeof e?e:null}),a.drained=!1,a.saturated&&r.length===o&&a.saturated()}),c.setImmediate(a.process)},process:function t(){if(!s){if(0===r.length)return a.drain&&!a.drained&&a.drain(),void(a.drained=!0);var i="number"==typeof o?r.splice(0,o):r.splice(0,r.length),e=l(i,function(t){return t.data});a.empty&&a.empty(),s=!0,n(e,function(){s=!1;var e=arguments;p(i,function(t){t.callback&&t.callback.apply(null,e)}),t()})}},length:function(){return r.length},running:function(){return s}};return a};h=function(i){return function(t){var e=Array.prototype.slice.call(arguments,1);t.apply(null,e.concat([function(t){var e=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[i]&&p(e,function(t){console[i](t)}))}]))}};c.log=h("log"),c.dir=h("dir"),c.memoize=function(i,o){var s={},r={};o=o||function(t){return t};function t(){var t,e=(t=Array.prototype.slice.call(arguments)).pop(),n=o.apply(null,t);n in s?c.nextTick(function(){e.apply(null,s[n])}):n in r?r[n].push(e):(r[n]=[e],i.apply(null,t.concat([function(){s[n]=arguments;var t=r[n];delete r[n];for(var e=0,i=t.length;e<i;e++)t[e].apply(null,arguments)}])))}return t.memo=s,t.unmemoized=i,t},c.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},c.times=function(t,e,i){for(var n=[],o=0;o<t;o++)n.push(o);return c.map(n,e,i)},c.timesSeries=function(t,e,i){for(var n=[],o=0;o<t;o++)n.push(o);return c.mapSeries(n,e,i)},c.seq=function(){var e=arguments;return function(){var n=this,t=Array.prototype.slice.call(arguments),i=t.pop();c.reduce(e,t,function(t,e,i){e.apply(n,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,e){i.apply(n,[t].concat(e))})}},c.compose=function(){return c.seq.apply(null,Array.prototype.reverse.call(arguments))};h=function(e,o){function t(){var i=this,n=Array.prototype.slice.call(arguments),t=n.pop();return e(o,function(t,e){t.apply(i,n.concat([e]))},t)}if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return t.apply(this,i)}return t};c.applyEach=n(h),c.applyEachSeries=o(h),c.forever=function(i,n){!function t(e){if(e){if(n)return n(e);throw e}i(t)}()},void 0!==y&&y.exports?y.exports=c:i.async=c}()}.call(this,t("_process"))},{_process:5}],3:[function(t,e,i){},{}],4:[function(t,e,u){!function(o){function s(t,e){for(var i=0,n=t.length-1;0<=n;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}function i(t){return e.exec(t).slice(1)}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;u.resolve=function(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){var n=0<=i?arguments[i]:o.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=s(r(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},u.normalize=function(t){var e=u.isAbsolute(t),i="/"===n(t,-1);return(t=!(t=s(r(t.split("/"),function(t){return!!t}),!e).join("/"))&&!e?".":t)&&i&&(t+="/"),(e?"/":"")+t},u.isAbsolute=function(t){return"/"===t.charAt(0)},u.join=function(){var t=Array.prototype.slice.call(arguments,0);return u.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},u.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;0<=i&&""===t[i];i--);return i<e?[]:t.slice(e,i-e+1)}t=u.resolve(t).substr(1),e=u.resolve(e).substr(1);for(var n=i(t.split("/")),o=i(e.split("/")),s=Math.min(n.length,o.length),r=s,a=0;a<s;a++)if(n[a]!==o[a]){r=a;break}for(var l=[],a=r;a<n.length;a++)l.push("..");return(l=l.concat(o.slice(r))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(t){var e=i(t),t=e[0],e=e[1];return t||e?t+(e=e&&e.substr(0,e.length-1)):"."},u.basename=function(t,e){t=i(t)[2];return t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t},u.extname=function(t){return i(t)[3]};var n="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}.call(this,t("_process"))},{_process:5}],5:[function(t,e,i){function n(){if(!r){r=!0;for(var t,e=s.length;e;){t=s,s=[];for(var i=-1;++i<e;)t[i]();e=s.length}r=!1}}function o(){}var e=e.exports={},s=[],r=!1;e.nextTick=function(t){s.push(t),r||setTimeout(n,0)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=o,e.addListener=o,e.once=o,e.off=o,e.removeListener=o,e.removeAllListeners=o,e.emit=o,e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],6:[function(t,e,i){function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(){}var s=Object.prototype.hasOwnProperty,d="function"!=typeof Object.create&&"~";o.prototype._events=void 0,o.prototype.eventNames=function(){var t,e=this._events,i=[];if(!e)return i;for(t in e)s.call(e,t)&&i.push(d?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(t,e){var i=this._events&&this._events[d?d+t:t];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},o.prototype.emit=function(t,e,i,n,o,s){var r=d?d+t:t;if(!this._events||!this._events[r])return!1;var a,l=this._events[r],u=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,o),!0;case 6:return l.fn.call(l.context,e,i,n,o,s),!0}for(p=1,a=new Array(u-1);p<u;p++)a[p-1]=arguments[p];l.fn.apply(l.context,a)}else for(var h,c=l.length,p=0;p<c;p++)switch(l[p].once&&this.removeListener(t,l[p].fn,void 0,!0),u){case 1:l[p].fn.call(l[p].context);break;case 2:l[p].fn.call(l[p].context,e);break;case 3:l[p].fn.call(l[p].context,e,i);break;default:if(!a)for(h=1,a=new Array(u-1);h<u;h++)a[h-1]=arguments[h];l[p].fn.apply(l[p].context,a)}return!0},o.prototype.on=function(t,e,i){i=new n(e,i||this),t=d?d+t:t;return this._events||(this._events=d?{}:Object.create(null)),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):this._events[t]=i,this},o.prototype.once=function(t,e,i){i=new n(e,i||this,!0),t=d?d+t:t;return this._events||(this._events=d?{}:Object.create(null)),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):this._events[t]=i,this},o.prototype.removeListener=function(t,e,i,n){t=d?d+t:t;if(!this._events||!this._events[t])return this;var o=this._events[t],s=[];if(e)if(o.fn)(o.fn!==e||n&&!o.once||i&&o.context!==i)&&s.push(o);else for(var r=0,a=o.length;r<a;r++)(o[r].fn!==e||n&&!o[r].once||i&&o[r].context!==i)&&s.push(o[r]);return s.length?this._events[t]=1===s.length?s[0]:s:delete this._events[t],this},o.prototype.removeAllListeners=function(t){return this._events&&(t?delete this._events[d?d+t:t]:this._events=d?{}:Object.create(null)),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=d,void 0!==e&&(e.exports=o)},{}],7:[function(t,e,i){e.exports=Object.assign||function(t,e){for(var i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),n=1;n<arguments.length;n++)for(var o=arguments[n],s=Object.keys(Object(o)),r=0;r<s.length;r++)i[s[r]]=o[s[r]];return i}},{}],8:[function(t,e,i){function l(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(){this._events=new l,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,d="~";Object.create&&(l.prototype=Object.create(null),(new l).__proto__||(d=!1)),o.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)s.call(t,e)&&i.push(d?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},o.prototype.listeners=function(t,e){var t=d?d+t:t,i=this._events[t];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},o.prototype.emit=function(t,e,i,n,o,s){var r=d?d+t:t;if(!this._events[r])return!1;var a,l=this._events[r],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,o),!0;case 6:return l.fn.call(l.context,e,i,n,o,s),!0}for(p=1,a=new Array(u-1);p<u;p++)a[p-1]=arguments[p];l.fn.apply(l.context,a)}else for(var h,c=l.length,p=0;p<c;p++)switch(l[p].once&&this.removeListener(t,l[p].fn,void 0,!0),u){case 1:l[p].fn.call(l[p].context);break;case 2:l[p].fn.call(l[p].context,e);break;case 3:l[p].fn.call(l[p].context,e,i);break;case 4:l[p].fn.call(l[p].context,e,i,n);break;default:if(!a)for(h=1,a=new Array(u-1);h<u;h++)a[h-1]=arguments[h];l[p].fn.apply(l[p].context,a)}return!0},o.prototype.on=function(t,e,i){i=new n(e,i||this),t=d?d+t:t;return this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):(this._events[t]=i,this._eventsCount++),this},o.prototype.once=function(t,e,i){i=new n(e,i||this,!0),t=d?d+t:t;return this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):(this._events[t]=i,this._eventsCount++),this},o.prototype.removeListener=function(t,e,i,n){t=d?d+t:t;if(!this._events[t])return this;if(!e)return 0==--this._eventsCount?this._events=new l:delete this._events[t],this;var o=this._events[t];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||(0==--this._eventsCount?this._events=new l:delete this._events[t]);else{for(var s=0,r=[],a=o.length;s<a;s++)(o[s].fn!==e||n&&!o[s].once||i&&o[s].context!==i)&&r.push(o[s]);r.length?this._events[t]=1===r.length?r[0]:r:0==--this._eventsCount?this._events=new l:delete this._events[t]}return this},o.prototype.removeAllListeners=function(t){return t?(t=d?d+t:t,this._events[t]&&(0==--this._eventsCount?this._events=new l:delete this._events[t])):(this._events=new l,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=d,o.EventEmitter=o,void 0!==e&&(e.exports=o)},{}],9:[function(t,e,i){e.exports=function(t,e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[(e=e||{}).strictMode?"strict":"loose"].exec(t),o={},s=14;s--;)o[n.key[s]]=i[s]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(t,e,i){e&&(o[n.q.name][e]=i)}),o}},{}],10:[function(t,e,i){function n(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._buffer=[],this._numToLoad=0,this._queue=s.queue(this._boundLoadResource,e),this.resources={}}var o=t("parse-uri"),s=t("./async"),r=t("./Resource"),a=t("eventemitter3");n.prototype=Object.create(a.prototype),(e.exports=n.prototype.constructor=n).prototype.add=n.prototype.enqueue=function(t,e,i,n){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"==(void 0===t?"undefined":_typeof3(t))&&(n=e||t.callback||t.onComplete,e=(i=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._prepareUrl(e),this.resources[t]=new r(t,e,i),"function"==typeof n&&this.resources[t].once("afterMiddleware",n),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},n.prototype.before=n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.after=n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources){t=this.resources[t];t.off("complete",this._onLoad,this),t.isLoading&&t.abort()}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this),this.loading=!0;for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},n.prototype._prepareUrl=function(t){var e=o(t,{strictMode:!0});return e.protocol||!e.path||0===e.path.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},n.prototype._loadResource=function(i,t){var n=this;i._dequeue=t,s.eachSeries(this._beforeMiddleware,function(t,e){t.call(n,i,function(){e(i.isComplete?{}:null)})},function(){i.isComplete?n._onLoad(i):(i.once("complete",n._onLoad,n),i.load())})},n.prototype._onComplete=function(){this.loading=!1,this.emit("complete",this,this.resources)},n.prototype._onLoad=function(i){var n=this;s.eachSeries(this._afterMiddleware,function(t,e){t.call(n,i,e)},function(){i.emit("afterMiddleware",i),n._numToLoad--,n.progress+=n._progressChunk,n.emit("progress",n,i),i.error?n.emit("error",i.error,n,i):n.emit("load",n,i),0===n._numToLoad&&(n.progress=100,n._onComplete())}),i._dequeue()},n.LOAD_TYPE=r.LOAD_TYPE,n.XHR_RESPONSE_TYPE=r.XHR_RESPONSE_TYPE},{"./Resource":11,"./async":12,eventemitter3:8,"parse-uri":9}],11:[function(t,e,i){function o(t,e,i){if(r.call(this),i=i||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this.isComplete=!1,this.isLoading=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function n(t){return t.toString().replace("object ","")}function s(t,e,i){(e=e&&0===e.indexOf(".")?e.substring(1):e)&&(t[e]=i)}var r=t("eventemitter3"),a=t("parse-uri"),l=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;o.prototype=Object.create(r.prototype),(e.exports=o.prototype.constructor=o).prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this.isComplete=!0,this.isLoading=!1,this.emit("complete",this)},o.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(void 0!==this.data.src)this.data.src="";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},o.prototype.load=function(t){if(!this.isLoading)if(this.isComplete){var e;t&&(e=this,setTimeout(function(){t(e)},1))}else switch(t&&this.once("complete",t),this.isLoading=!0,this.emit("start",this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case o.LOAD_TYPE.IMAGE:this._loadElement("image");break;case o.LOAD_TYPE.AUDIO:this._loadSourceElement("audio");break;case o.LOAD_TYPE.VIDEO:this._loadSourceElement("video");break;default:o.LOAD_TYPE.XHR;l&&this.crossOrigin?this._loadXdr():this._loadXhr()}},o.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url);t="is"+t[0].toUpperCase()+t.substring(1);!1===this[t]&&(this[t]=!0),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},o.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element "+t)},o.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===o.XHR_RESPONSE_TYPE.JSON||this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=o.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},o.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},o.prototype._createSource=function(t,e,i){i=i||t+"/"+e.substr(e.lastIndexOf(".")+1);t=document.createElement("source");return t.src=e,t.type=i,t},o.prototype._onError=function(t){this.abort("Failed to load element using "+t.target.nodeName)},o.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},o.prototype._xhrOnError=function(){var t=this.xhr;this.abort(n(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},o.prototype._xhrOnAbort=function(){this.abort(n(this.xhr)+" Request was aborted by the user.")},o.prototype._xdrOnTimeout=function(){this.abort(n(this.xhr)+" Request timed out.")},o.prototype._xhrOnLoad=function(){var t,e,i=this.xhr,n=void 0===i.status?i.status:200;if(200===n||204===n||0===n&&0<i.responseText.length){if(this.xhrType===o.XHR_RESPONSE_TYPE.TEXT)this.data=i.responseText;else if(this.xhrType===o.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i.responseText),this.isJson=!0}catch(t){return void this.abort("Error trying to parse loaded json:",t)}else if(this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(t=new DOMParser,this.data=t.parseFromString(i.responseText,"text/xml")):((e=document.createElement("div")).innerHTML=i.responseText,this.data=e),this.isXml=!0}catch(t){return void this.abort("Error trying to parse loaded xml:",t)}else this.data=i.response||i.responseText;this.complete()}else this.abort("["+i.status+"]"+i.statusText+":"+i.responseURL)},o.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,(u=u||document.createElement("a")).href=t;var i=!(t=a(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&n===e.protocol?"":"anonymous"},o.prototype._determineXhrType=function(){return o._xhrTypeMap[this._getExtension()]||o.XHR_RESPONSE_TYPE.TEXT},o.prototype._determineLoadType=function(){return o._loadTypeMap[this._getExtension()]||o.LOAD_TYPE.XHR},o.prototype._getExtension=function(){var t,e=this.url;return(this.isDataUrl?(t=e.indexOf("/"),e.substring(t+1,e.indexOf(";",t))):(e=-1!==(t=e.indexOf("?"))?e.substring(0,t):e).substring(e.lastIndexOf(".")+1)).toLowerCase()},o.prototype._getMimeFromXhrType=function(t){switch(t){case o.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case o.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case o.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case o.XHR_RESPONSE_TYPE.JSON:return"application/json";case o.XHR_RESPONSE_TYPE.DEFAULT:case o.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},o.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},o.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},o._loadTypeMap={gif:o.LOAD_TYPE.IMAGE,png:o.LOAD_TYPE.IMAGE,bmp:o.LOAD_TYPE.IMAGE,jpg:o.LOAD_TYPE.IMAGE,jpeg:o.LOAD_TYPE.IMAGE,tif:o.LOAD_TYPE.IMAGE,tiff:o.LOAD_TYPE.IMAGE,webp:o.LOAD_TYPE.IMAGE,tga:o.LOAD_TYPE.IMAGE,"svg+xml":o.LOAD_TYPE.IMAGE},o._xhrTypeMap={xhtml:o.XHR_RESPONSE_TYPE.DOCUMENT,html:o.XHR_RESPONSE_TYPE.DOCUMENT,htm:o.XHR_RESPONSE_TYPE.DOCUMENT,xml:o.XHR_RESPONSE_TYPE.DOCUMENT,tmx:o.XHR_RESPONSE_TYPE.DOCUMENT,tsx:o.XHR_RESPONSE_TYPE.DOCUMENT,svg:o.XHR_RESPONSE_TYPE.DOCUMENT,gif:o.XHR_RESPONSE_TYPE.BLOB,png:o.XHR_RESPONSE_TYPE.BLOB,bmp:o.XHR_RESPONSE_TYPE.BLOB,jpg:o.XHR_RESPONSE_TYPE.BLOB,jpeg:o.XHR_RESPONSE_TYPE.BLOB,tif:o.XHR_RESPONSE_TYPE.BLOB,tiff:o.XHR_RESPONSE_TYPE.BLOB,webp:o.XHR_RESPONSE_TYPE.BLOB,tga:o.XHR_RESPONSE_TYPE.BLOB,json:o.XHR_RESPONSE_TYPE.JSON,text:o.XHR_RESPONSE_TYPE.TEXT,txt:o.XHR_RESPONSE_TYPE.TEXT},o.setExtensionLoadType=function(t,e){s(o._loadTypeMap,t,e)},o.setExtensionXhrType=function(t,e){s(o._xhrTypeMap,t,e)}},{eventemitter3:8,"parse-uri":9}],12:[function(t,e,i){function s(){}e.exports={eachSeries:function(i,n,o){var s=0,r=i.length;!function t(e){return e||s===r?void(o&&o(e)):void n(i[s++],t)}()},queue:function(e,t){function i(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())return setTimeout(function(){o.drain()},1),0;i={data:t,callback:"function"==typeof i?i:s};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){o.process()},1)}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=0,o={_tasks:[],concurrency:t,saturated:s,unsaturated:s,buffer:t/4,empty:s,drain:s,error:s,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){o.drain=s,o._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var t=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),e(t.data,function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}(function(t){return function(){--n,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}(t)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};return o}}},{}],13:[function(t,e,i){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,i="",n=new Array(4),o=0,s=0;o<t.length;){for(e=new Array(3),s=0;s<e.length;s++)o<t.length?e[s]=255&t.charCodeAt(o++):e[s]=0;switch(n[0]=e[0]>>2,n[1]=(3&e[0])<<4|e[1]>>4,n[2]=(15&e[1])<<2|e[2]>>6,n[3]=63&e[2],o-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(s=0;s<n.length;s++)i+=this._keyStr.charAt(n[s])}return i}}},{}],14:[function(t,e,i){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}},e.exports.async=t("./async")},{"./Loader":10,"./Resource":11,"./async":12,"./middlewares/caching/memory":15,"./middlewares/parsing/blob":16}],15:[function(t,e,i){var n={};e.exports=function(){return function(t,e){n[t.url]?(t.data=n[t.url],t.complete()):t.once("complete",function(){n[this.url]=this.data}),e()}}},{}],16:[function(t,e,i){var o=t("../../Resource"),s=t("../../b64"),r=window.URL||window.webkitURL;e.exports=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===o.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=r.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.isImage=!0,void(t.data.onload=function(){r.revokeObjectURL(i),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+s.encodeBinary(t.xhr.responseText),t.isImage=!0,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}}},{"../../Resource":11,"../../b64":13}],17:[function(t,e,i){e.exports={name:"pixi.js",version:"3.0.2",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/GoodBoyDigital/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{test:"gulp && testem ci",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},dependencies:{async:"^0.9.0",brfs:"^1.4.0",eventemitter3:"^1.0.1","object-assign":"^2.0.0","resource-loader":"^1.5.2"},devDependencies:{browserify:"^9.0.8",chai:"^2.2.0",del:"^1.1.1",gulp:"^3.8.11","gulp-cached":"^1.0.4","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.10.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.0","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.4","ink-docstrap":"git+https://github.com/Pilatch/docstrap.git",jsdoc:"^3.3.0-beta3","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.4","require-dir":"^0.3.0","run-sequence":"^1.0.2",testem:"^0.8.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.1.2"},browserify:{transform:["brfs"]}}},{}],18:[function(t,e,i){e.exports={VERSION:t("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,SOURCE_OUT:17,SOURCE_IN:18,DESTINATION_OUT:19,DESTINATION_IN:20},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3}},{"../../package.json":17}],19:[function(t,e,i){function n(){o.call(this),this.children=[]}var h=t("../math"),o=t("./DisplayObject"),s=t("../textures/RenderTexture"),r=new h.Matrix;n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}}),n.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},n.prototype.addChildAt=function(t,e){if(t===this)return t;if(0<=e&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),(t.parent=this).children.splice(e,0,t),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},n.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);if(i<0||n<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[i]=e,this.children[n]=t}},n.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},n.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);this.children.splice(i,1),this.children.splice(e,0,t)},n.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},n.prototype.removeChild=function(t){t=this.children.indexOf(t);if(-1!==t)return this.removeChildAt(t)},n.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),e},n.prototype.removeChildren=function(t,e){var i=t||0,t="number"==typeof e?e:this.children.length,e=t-i;if(0<e&&e<=t){for(var n=this.children.splice(i,e),o=0;o<n.length;++o)n[o].parent=null;return n}if(0==e&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.generateTexture=function(t,e,i){var n=this.getLocalBounds(),e=new s(t,0|n.width,0|n.height,t,i,e);return r.tx=-n.x,r.ty=-n.y,e.render(this,r),e},n.prototype.containerUpdateTransform=n.prototype.updateTransform=function(){if(this.visible){if(0!=this.dirtyWT&&(this.displayObjectUpdateTransform(),this.dirtyWT=!0),0!=this.dirtyChildren||0!=this.dirtyWT)for(var t=0,e=this.children.length;t<e;++t)1==this.dirtyWT&&(this.children[t].dirtyWT=!0),this.children[t].updateTransform();this.dirtyWT=!1,this.dirtyChildren=!1}},n.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return h.Rectangle.EMPTY;for(var t,e,i=1/0,n=1/0,o=-1/0,s=-1/0,r=!1,a=0,l=this.children.length;a<l;++a)this.children[a].visible&&(r=!0,i=i<(e=this.children[a].getBounds()).x?i:e.x,n=n<e.y?n:e.y,o=(t=e.width+e.x)<o?o:t,s=(e=e.height+e.y)<s?s:e);if(!r)return h.Rectangle.EMPTY;var u=this._bounds;u.x=i,u.y=n,u.width=o-i,u.height=s-n,this._currentBounds=u}return this._currentBounds},n.prototype.containerGetBounds=n.prototype.getBounds,n.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=h.Matrix.IDENTITY;for(var e=0,i=this.children.length;e<i;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(h.Matrix.IDENTITY)},n.prototype.renderWebGL=function(t){var e,i;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,i=this.children.length;e<i;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,i=this.children.length;e<i;++e)this.children[e].renderWebGL(t)},n.prototype._renderWebGL=function(t){},n.prototype._renderCanvas=function(t){},n.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},n.prototype.destroy=function(t){if(o.prototype.destroy.call(this),t)for(var e=0,i=this.children.length;e<i;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":29,"../textures/RenderTexture":67,"./DisplayObject":20}],20:[function(t,e,i){function n(){r.call(this),this.position=new o.Point,this.scale=new o.Point(1,1),this.pivot=new o.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new o.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new o.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cachedObject=null}var o=t("../math"),s=t("../textures/RenderTexture"),r=t("eventemitter3"),l=t("../const"),a=new o.Matrix;n.prototype=Object.create(r.prototype),e.exports=n.prototype.constructor=n,Object.defineProperties(n.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),n.prototype.displayObjectUpdateTransform=n.prototype.updateTransform=function(){var t,e,i,n,o,s,r,a;0!=this.dirtyWT&&(r=this.parent.worldTransform,a=this.worldTransform,this.rotation%l.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,i=-this._sr*this.scale.y,n=this._cr*this.scale.y,o=this.position.x,s=this.position.y,(this.pivot.x||this.pivot.y)&&(o-=this.pivot.x*t+this.pivot.y*i,s-=this.pivot.x*e+this.pivot.y*n),a.a=t*r.a+e*r.c,a.b=t*r.b+e*r.d,a.c=i*r.a+n*r.c,a.d=i*r.b+n*r.d):(t=this.scale.x,n=this.scale.y,o=this.position.x-this.pivot.x*t,s=this.position.y-this.pivot.y*n,a.a=t*r.a,a.b=t*r.b,a.c=n*r.c,a.d=n*r.d),a.tx=o*r.a+s*r.c+r.tx,a.ty=o*r.b+s*r.d+r.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null,this.dirtyWT=!1)},n.prototype.getBounds=function(t){return o.Rectangle.EMPTY},n.prototype.getLocalBounds=function(){return this.getBounds(o.Matrix.IDENTITY)},n.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},n.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},n.prototype.renderWebGL=function(t){},n.prototype.renderCanvas=function(t){},n.prototype.generateTexture=function(t,e,i){var n=this.getLocalBounds(),e=new s(t,0|n.width,0|n.height,t,i,e);return a.tx=-n.x,a.ty=-n.y,e.render(this,a),e},n.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":18,"../math":29,"../textures/RenderTexture":67,eventemitter3:6}],21:[function(t,e,i){function n(){o.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=S.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new m.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var o=t("../display/Container"),s=t("../sprites/Sprite"),r=t("../textures/Texture"),a=t("../renderers/canvas/utils/CanvasBuffer"),l=t("../renderers/canvas/utils/CanvasGraphics"),u=t("./GraphicsData"),m=t("../math"),S=t("../const"),h=new m.Point;n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,Object.defineProperties(n.prototype,{}),n.prototype.clone=function(){var t=new n;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=this.dirty,t.glDirty=this.glDirty,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},n.prototype.lineStyle=function(t,e,i){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===i?1:i,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new m.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},n.prototype.moveTo=function(t,e){return this.drawShape(new m.Polygon([t,e])),this},n.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},n.prototype.quadraticCurveTo=function(t,e,i,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o,s=this.currentPath.shape.points;0===s.length&&this.moveTo(0,0);for(var r,a=s[s.length-2],l=s[s.length-1],u=1;u<=20;++u)s.push((o=a+(t-a)*(r=u/20))+(t+(i-t)*r-o)*r,(o=l+(e-l)*r)+(e+(n-e)*r-o)*r);return this.dirty=this.boundsDirty=!0,this},n.prototype.bezierCurveTo=function(t,e,i,n,o,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var r,a,l,u,h,c,p=this.currentPath.shape.points,d=p[p.length-2],m=p[p.length-1],S=1;S<=20;++S)p.push((l=(a=(r=1-(c=S/20))*r)*r)*d+3*a*c*t+3*r*(u=c*c)*i+(h=u*c)*o,l*m+3*a*c*e+3*r*u*n+h*s);return this.dirty=this.boundsDirty=!0,this},n.prototype.arcTo=function(t,e,i,n,o){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s,r,a=this.currentPath.shape.points,l=a[a.length-2],u=a[a.length-1]-e,h=l-t,c=n-e,p=i-t,d=Math.abs(u*p-h*c);return d<1e-8||0===o?a[a.length-2]===t&&a[a.length-1]===e||a.push(t,e):(s=u*u+h*h,r=c*c+p*p,l=u*c+h*p,i=(n=o*Math.sqrt(s)/d)*l/s,s=n*p+(a=o*Math.sqrt(r)/d)*h,d=n*c+a*u,r=p*(n+(l=a*l/r)),l=c*(n+l),i=Math.atan2(u*(a+i)-d,h*(a+i)-s),r=Math.atan2(l-d,r-s),this.arc(s+t,d+e,o,i,r,p*u<h*c)),this.dirty=this.boundsDirty=!0,this},n.prototype.arc=function(t,e,i,n,o,s){if(n===o)return this;!(s=s||!1)&&o<=n?o+=2*Math.PI:s&&n<=o&&(n+=2*Math.PI);var r=s?-1*(n-o):o-n,a=40*Math.ceil(Math.abs(r)/(2*Math.PI));if(0==r)return this;var l=t+Math.cos(n)*i,o=e+Math.sin(n)*i;this.currentPath?s&&this.filling?this.currentPath.shape.points.push(t,e):this.currentPath.shape.points.push(l,o):s&&this.filling?this.moveTo(t,e):this.moveTo(l,o);for(var u=this.currentPath.shape.points,h=r/(2*a),c=2*h,p=Math.cos(h),d=Math.sin(h),m=a-1,S=m%1/m,g=0;g<=m;g++){var y=h+n+c*(g+S*g),T=Math.cos(y),y=-Math.sin(y);u.push((p*T+d*y)*i+t,(p*-y+d*T)*i+e)}return this.dirty=this.boundsDirty=!0,this},n.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},n.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},n.prototype.drawRect=function(t,e,i,n){return this.drawShape(new m.Rectangle(t,e,i,n)),this},n.prototype.drawRoundedRect=function(t,e,i,n,o){return this.drawShape(new m.RoundedRectangle(t,e,i,n,o)),this},n.prototype.drawCircle=function(t,e,i){return this.drawShape(new m.Circle(t,e,i)),this},n.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new m.Ellipse(t,e,i,n)),this},n.prototype.drawPolygon=function(t){var e=t;if(!Array.isArray(e))for(var e=new Array(arguments.length),i=0;i<e.length;++i)e[i]=arguments[i];return this.drawShape(new m.Polygon(e)),this},n.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},n.prototype.generateTexture=function(t,e,i){e=e||1;var n=this.getLocalBounds(),o=new a(n.width*e,n.height*e),i=r.fromCanvas(o.canvas,i);return i.baseTexture.resolution=e,o.context.scale(e,e),o.context.translate(-n.x,-n.y),l.renderGraphics(this,o.context),i},n.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},n.prototype._renderCanvas=function(t){if(!0!==this.isMask){if(this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint),this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,void s.prototype._renderCanvas.call(this._cachedSprite,t);var e=t.context,i=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.blendModes[t.currentBlendMode]);t=t.resolution;e.setTransform(i.a*t,i.b*t,i.c*t,i.d*t,i.tx*t,i.ty*t),l.renderGraphics(this,e)}},n.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return m.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,i=e.x,n=e.width+e.x,o=e.y,s=e.height+e.y,r=t||this.worldTransform,a=r.a,l=r.b,u=r.c,h=r.d,c=r.tx,p=r.ty,d=a*n+u*s+c,e=h*s+l*n+p,t=a*i+u*s+c,r=h*s+l*i+p,s=a*i+u*o+c,i=h*o+l*i+p,c=a*n+u*o+c,l=h*o+l*n+p,n=t<(n=d)?t:n,p=l<(p=i<(p=r<(p=e)?r:p)?i:p)?l:p,d=(d=(d=(d=d)<t?t:d)<s?s:d)<c?c:d,e=(e=(e=(e=e)<r?r:e)<i?i:e)<l?l:e;this._bounds.x=n=c<(n=s<n?s:n)?c:n,this._bounds.width=d-n,this._bounds.y=p,this._bounds.height=e-p,this._currentBounds=this._bounds}return this._currentBounds},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);for(var e=this.graphicsData,i=0;i<e.length;i++){var n=e[i];if(n.fill&&n.shape&&n.shape.contains(h.x,h.y))return!0}return!1},n.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0;if(this.graphicsData.length)for(var o,s,r,a,l=0;l<this.graphicsData.length;l++){var u=this.graphicsData[l],h=u.type,c=u.lineWidth,u=u.shape;if(h===S.SHAPES.RECT||h===S.SHAPES.RREC)o=u.x-c/2,s=u.y-c/2,t=o<t?o:t,e=e<o+(r=u.width+c)?o+r:e,i=s<i?s:i,n=n<s+(a=u.height+c)?s+a:n;else if(h===S.SHAPES.CIRC)o=u.x,s=u.y,t=o-(r=u.radius+c/2)<t?o-r:t,e=e<o+r?o+r:e,i=s-(a=u.radius+c/2)<i?s-a:i,n=n<s+a?s+a:n;else if(h===S.SHAPES.ELIP)o=u.x,s=u.y,t=o-(r=u.width+c/2)<t?o-r:t,e=e<o+r?o+r:e,i=s-(a=u.height+c/2)<i?s-a:i,n=n<s+a?s+a:n;else for(var p=u.points,d=0;d<p.length;d+=2)t=(o=p[d])-c<t?o-c:t,e=e<o+c?o+c:e,i=(s=p[d+1])-c<i?s-c:i,n=n<s+c?s+c:n}else n=i=e=t=0;var m=this.boundsPadding;this._localBounds.x=t-m,this._localBounds.width=e-t+2*m,this._localBounds.y=i-m,this._localBounds.height=n-i+2*m},n.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;t=new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(t),t.type===S.SHAPES.POLY&&(t.shape.closed=this.filling,this.currentPath=t),this.dirty=this.boundsDirty=!0,t},n.prototype.destroy=function(){o.prototype.destroy.apply(this,arguments);for(var t,e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(t in this._webgl)for(var i=0;i<this._webgl[t].data.length;++i)this._webgl[t].data[i].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":18,"../display/Container":19,"../math":29,"../renderers/canvas/utils/CanvasBuffer":41,"../renderers/canvas/utils/CanvasGraphics":42,"../sprites/Sprite":63,"../textures/Texture":68,"./GraphicsData":22}],22:[function(t,e,i){function n(t,e,i,n,o,s,r){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=n,this.fillAlpha=o,this._fillTint=n,this.fill=s,this.shape=r,this.type=r.type}(e.exports=n.prototype.constructor=n).prototype.clone=function(){return new n(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},n.prototype.destroy=function(){this.shape=null}},{}],23:[function(t,e,i){function n(t){o.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null}var O=t("../../utils"),x=t("../../math"),y=t("../../const"),o=t("../../renderers/webgl/utils/ObjectRenderer"),s=t("../../renderers/webgl/WebGLRenderer"),r=t("./WebGLGraphicsData");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,s.registerPlugin("graphics",n),n.prototype.onContextChange=function(){},n.prototype.destroy=function(){o.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},n.prototype.render=function(t){var e,i,n=this.renderer,o=n.gl;n.shaderManager.plugins.primitiveShader;t.dirty&&this.updateGraphics(t,o);var s=t._webGL[o.id];n.blendModeManager.setBlendMode(t.blendMode);for(var r=0;r<s.data.length;r++)1===s.data[r].mode?(e=s.data[r],n.stencilManager.pushStencil(t,e,n),o.drawElements(o.TRIANGLE_FAN,4,o.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilManager.popStencil(t,e,n)):(e=s.data[r],i=n.shaderManager.primitiveShader,n.shaderManager.setShader(i),o.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),o.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,n.currentRenderTarget.projectionMatrix.toArray(!0)),o.uniform3fv(i.uniforms.tint._location,O.hex2rgb(t.tint)),o.uniform1f(i.uniforms.alpha._location,t.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,e.buffer),o.vertexAttribPointer(i.attributes.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(i.attributes.aColor,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer),o.drawElements(o.TRIANGLE_STRIP,e.indices.length,o.UNSIGNED_SHORT,0))},n.prototype.updateGraphics=function(t){var e,i=this.renderer.gl,n=(n=t._webGL[i.id])||(t._webGL[i.id]={lastIndex:0,data:[],gl:i});if(t.dirty=!1,t.clearDirty){for(t.clearDirty=!1,e=0;e<n.data.length;e++){var o=n.data[e];o.reset(),this.graphicsDataPool.push(o)}n.data=[],n.lastIndex=0}for(e=n.lastIndex;e<t.graphicsData.length;e++){var s,r=t.graphicsData[e];r.type===y.SHAPES.POLY?(r.points=r.shape.points.slice(),r.shape.closed&&(r.points[0]===r.points[r.points.length-2]&&r.points[1]===r.points[r.points.length-1]||r.points.push(r.points[0],r.points[1])),r.fill&&6<=r.points.length&&(r.points.length<12?(s=this.switchMode(n,0),this.buildPoly(r,s)||(s=this.switchMode(n,1),this.buildComplexPoly(r,s))):(s=this.switchMode(n,1),this.buildComplexPoly(r,s))),0<r.lineWidth&&(s=this.switchMode(n,0),this.buildLine(r,s))):(s=this.switchMode(n,0),r.type===y.SHAPES.RECT?this.buildRectangle(r,s):r.type===y.SHAPES.CIRC||r.type===y.SHAPES.ELIP?this.buildCircle(r,s):r.type===y.SHAPES.RREC&&this.buildRoundedRectangle(r,s)),n.lastIndex++}for(e=0;e<n.data.length;e++)(s=n.data[e]).dirty&&s.upload()},n.prototype.switchMode=function(t,e){var i;return t.data.length?(32e4<(i=t.data[t.data.length-1]).points.length||i.mode!==e||1===e)&&((i=this.graphicsDataPool.pop()||new r(t.gl)).mode=e,t.data.push(i)):((i=this.graphicsDataPool.pop()||new r(t.gl)).mode=e,t.data.push(i)),i.dirty=!0,i},n.prototype.buildRectangle=function(t,e){var i,n,o,s,r,a,l=t.shape,u=l.x,h=l.y,c=l.width,p=l.height;t.fill&&(a=O.hex2rgb(t.fillColor),i=t.fillAlpha,n=a[0]*i,o=a[1]*i,s=a[2]*i,r=e.points,l=e.indices,a=r.length/6,r.push(u,h),r.push(n,o,s,i),r.push(u+c,h),r.push(n,o,s,i),r.push(u,h+p),r.push(n,o,s,i),r.push(u+c,h+p),r.push(n,o,s,i),l.push(a,a,1+a,2+a,3+a,3+a)),t.lineWidth&&(a=t.points,t.points=[u,h,u+c,h,u+c,h+p,u,h+p,u,h],this.buildLine(t,e),t.points=a)},n.prototype.buildRoundedRectangle=function(t,e){var i=t.shape,n=i.x,o=i.y,s=i.width,r=i.height,i=i.radius,a=[];if(a.push(n,o+i),this.quadraticBezierCurve(n,o+r-i,n,o+r,n+i,o+r,a),this.quadraticBezierCurve(n+s-i,o+r,n+s,o+r,n+s,o+r-i,a),this.quadraticBezierCurve(n+s,o+i,n+s,o,n+s-i,o,a),this.quadraticBezierCurve(n+i,o,n,o,n,o+i+1e-10,a),t.fill){for(var l=O.hex2rgb(t.fillColor),u=t.fillAlpha,h=l[0]*u,c=l[1]*u,p=l[2]*u,d=e.points,m=e.indices,S=d.length/6,g=O.PolyK.Triangulate(a),y=0,y=0;y<g.length;y+=3)m.push(g[y]+S),m.push(g[y]+S),m.push(g[y+1]+S),m.push(g[y+2]+S),m.push(g[y+2]+S);for(y=0;y<a.length;y++)d.push(a[y],a[++y],h,c,p,u)}t.lineWidth&&(l=t.points,t.points=a,this.buildLine(t,e),t.points=l)},n.prototype.quadraticBezierCurve=function(t,e,i,n,o,s,r){function a(t,e,i){return t+(e-t)*i}for(var l,u,h,c,p,d=r||[],m=0;m<=20;m++)l=a(t,i,p=m/20),u=a(e,n,p),h=a(i,o,p),c=a(n,s,p),h=a(l,h,p),c=a(u,c,p),d.push(h,c);return d},n.prototype.buildCircle=function(t,e){var i,n=t.shape,o=n.x,s=n.y,r=t.type===y.SHAPES.CIRC?(i=n.radius,n.radius):(i=n.width,n.height),a=2*Math.PI/40,l=0;if(t.fill){var u=O.hex2rgb(t.fillColor),h=t.fillAlpha,c=u[0]*h,p=u[1]*h,d=u[2]*h,m=e.points,S=e.indices,g=m.length/6;for(S.push(g),l=0;l<41;l++)m.push(o,s,c,p,d,h),m.push(o+Math.sin(a*l)*i,s+Math.cos(a*l)*r,c,p,d,h),S.push(g++,g++);S.push(g-1)}if(t.lineWidth){u=t.points;for(t.points=[],l=0;l<41;l++)t.points.push(o+Math.sin(a*l)*i,s+Math.cos(a*l)*r);this.buildLine(t,e),t.points=u}},n.prototype.buildLine=function(t,e){var i=0,n=t.points;if(0!==n.length){if(t.lineWidth%2)for(i=0;i<n.length;i++)n[i]+=.5;var o,s=new x.Point(n[0],n[1]),r=new x.Point(n[n.length-2],n[n.length-1]);s.x===r.x&&s.y===r.y&&((n=n.slice()).pop(),n.pop(),o=(r=new x.Point(n[n.length-2],n[n.length-1])).x+.5*(s.x-r.x),r=r.y+.5*(s.y-r.y),n.unshift(o,r),n.push(o,r));var a,l,u,h,c,p,d,m,S,g=e.points,y=e.indices,T=n.length/2,f=n.length,b=g.length/6,C=t.lineWidth/2,e=O.hex2rgb(t.lineColor),v=t.lineAlpha,M=e[0]*v,A=e[1]*v,L=e[2]*v,I=n[0],R=n[1],P=n[2],_=n[3],E=-(R-_),D=I-P,w=Math.sqrt(E*E+D*D);for(E/=w,D/=w,g.push(I-(E*=C),R-(D*=C),M,A,L,v),g.push(I+E,R+D,M,A,L,v),i=1;i<T-1;i++)I=n[2*(i-1)],R=n[2*(i-1)+1],P=n[2*i],_=n[2*i+1],h=n[2*(i+1)],S=n[2*(i+1)+1],E=-(R-_),D=I-P,E/=w=Math.sqrt(E*E+D*D),D/=w,E*=C,D*=C,a=-(_-S),l=P-h,a/=w=Math.sqrt(a*a+l*l),l/=w,c=(-E+I)*(-D+_)-(-E+P)*(-D+R),m=(-(a*=C)+h)*(-(l*=C)+_)-(-a+P)*(-l+S),S=(u=-D+R-(-D+_))*(d=-a+P-(-a+h))-(p=-l+S-(-l+_))*(h=-E+P-(-E+I)),Math.abs(S)<.1?(S+=10.1,g.push(P-E,_-D,M,A,L,v),g.push(P+E,_+D,M,A,L,v)):19600<((d=(h*m-d*c)/S)-P)*(d-P)+((S=(p*c-u*m)/S)-_)+(S-_)?(a=E-a,l=D-l,a/=w=Math.sqrt(a*a+l*l),l/=w,g.push(P-(a*=C),_-(l*=C)),g.push(M,A,L,v),g.push(P+a,_+l),g.push(M,A,L,v),g.push(P-a,_-l),g.push(M,A,L,v),f++):(g.push(d,S),g.push(M,A,L,v),g.push(P-(d-P),_-(S-_)),g.push(M,A,L,v));for(I=n[2*(T-2)],R=n[2*(T-2)+1],P=n[2*(T-1)],E=-(R-(_=n[2*(T-1)+1])),D=I-P,E/=w=Math.sqrt(E*E+D*D),D/=w,g.push(P-(E*=C),_-(D*=C)),g.push(M,A,L,v),g.push(P+E,_+D),g.push(M,A,L,v),y.push(b),i=0;i<f;i++)y.push(b++);y.push(b-1)}},n.prototype.buildComplexPoly=function(t,e){var i=t.points.slice();if(!(i.length<6)){var n=e.indices;e.points=i,e.alpha=t.fillAlpha,e.color=O.hex2rgb(t.fillColor);for(var o,s=1/0,r=-1/0,a=1/0,l=-1/0,u=0;u<i.length;u+=2)s=(o=i[u])<s?o:s,r=r<o?o:r,a=(o=i[u+1])<a?o:a,l=l<o?o:l;i.push(s,a,r,a,r,l,s,l);for(var h=i.length/2,u=0;u<h;u++)n.push(u)}},n.prototype.buildPoly=function(t,e){var i=t.points;if(!(i.length<6)){var n=e.points,o=e.indices,s=i.length/2,e=O.hex2rgb(t.fillColor),r=t.fillAlpha,a=e[0]*r,l=e[1]*r,u=e[2]*r,h=O.PolyK.Triangulate(i);if(!h)return!1;for(var c=n.length/6,p=0,p=0;p<h.length;p+=3)o.push(h[p]+c),o.push(h[p]+c),o.push(h[p+1]+c),o.push(h[p+2]+c),o.push(h[p+2]+c);for(p=0;p<s;p++)n.push(i[2*p],i[2*p+1],a,l,u,r);return!0}}},{"../../const":18,"../../math":29,"../../renderers/webgl/WebGLRenderer":45,"../../renderers/webgl/utils/ObjectRenderer":59,"../../utils":72,"./WebGLGraphicsData":24}],24:[function(t,e,i){function n(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}(e.exports=n.prototype.constructor=n).prototype.reset=function(){this.points.length=0,this.indices.length=0},n.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},n.prototype.destroy=function(){this.gl=null,this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],25:[function(t,e,i){var o=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),math:t("./math"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),autoDetectRenderer:function(t,e,i,n){return t=t||800,e=e||600,new(!n&&o.utils.isWebGLSupported()?o.WebGLRenderer:o.CanvasRenderer)(t,e,i)}})},{"./const":18,"./display/Container":19,"./display/DisplayObject":20,"./graphics/Graphics":21,"./graphics/GraphicsData":22,"./graphics/webgl/GraphicsRenderer":23,"./math":29,"./particles/ParticleContainer":35,"./particles/webgl/ParticleRenderer":37,"./renderers/canvas/CanvasRenderer":40,"./renderers/canvas/utils/CanvasBuffer":41,"./renderers/canvas/utils/CanvasGraphics":42,"./renderers/webgl/WebGLRenderer":45,"./renderers/webgl/filters/AbstractFilter":46,"./renderers/webgl/managers/ShaderManager":52,"./renderers/webgl/shaders/Shader":57,"./renderers/webgl/utils/ObjectRenderer":59,"./renderers/webgl/utils/RenderTarget":61,"./sprites/Sprite":63,"./sprites/webgl/SpriteRenderer":64,"./text/Text":65,"./textures/BaseTexture":66,"./textures/RenderTexture":67,"./textures/Texture":68,"./textures/TextureUvs":69,"./textures/VideoBaseTexture":70,"./utils":72}],26:[function(t,e,i){function u(t){return t<0?-1:0<t?1:0}var h=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],c=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],p=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],d=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],m=[],S=t("./Matrix"),g=[];!function(){for(var t=0;t<16;t++){var e=[];g.push(e);for(var i=0;i<16;i++)for(var n=u(h[t]*h[i]+p[t]*c[i]),o=u(c[t]*h[i]+d[t]*c[i]),s=u(h[t]*p[i]+p[t]*d[i]),r=u(c[t]*p[i]+d[t]*d[i]),a=0;a<16;a++)if(h[a]===n&&c[a]===o&&p[a]===s&&d[a]===r){e.push(a);break}}for(t=0;t<16;t++){var l=new S;l.set(h[t],c[t],p[t],d[t],0,0),m.push(l)}}();var o={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return h[t]},uY:function(t){return c[t]},vX:function(t){return p[t]},vY:function(t){return d[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return g[t][e]},sub:function(t,e){return g[t][o.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?o.S:o.N:2*Math.abs(e)<=Math.abs(t)?0<t?o.E:o.W:0<e?0<t?o.SE:o.SW:0<t?o.NE:o.NW},matrixAppendRotationInv:function(t,e,i,n){e=m[o.inv(e)];n=n||0,e.tx=i=i||0,e.ty=n,t.append(e)}};e.exports=o},{"./Matrix":27}],27:[function(t,e,i){function n(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var o=t("./Point");(e.exports=n.prototype.constructor=n).prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,n,o,s){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t){this.array||(this.array=new Float32Array(9));var e=this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},n.prototype.apply=function(t,e){e=e||new o;var i=t.x,t=t.y;return e.x=this.a*i+this.c*t+this.tx,e.y=this.b*i+this.d*t+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new o;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,t=t.y;return e.x=this.d*i*n+-this.c*i*t+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*t+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,o=this.c,t=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=t*e-this.ty*i,this.ty=t*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,o=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.prepend=function(t){var e,i,n=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,i=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d),this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,o=this.tx,s=t*n-e*i;return this.a=n/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-n*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.IDENTITY=new n,n.TEMP_MATRIX=new n},{"./Point":28}],28:[function(t,e,i){function n(t,e){this.x=t||0,this.y=e||0}(e.exports=n.prototype.constructor=n).prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(t){this.set(t.x,t.y)},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],29:[function(t,e,i){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./Matrix":27,"./Point":28,"./shapes/Circle":30,"./shapes/Ellipse":31,"./shapes/Polygon":32,"./shapes/Rectangle":33,"./shapes/RoundedRectangle":34}],30:[function(t,e,i){function n(t,e,i){this.x=t||0,this.y=e||0,this.radius=i||0,this.type=s.SHAPES.CIRC}var o=t("./Rectangle"),s=t("../../const");(e.exports=n.prototype.constructor=n).prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;t=this.x-t,e=this.y-e;return(t*=t)+(e*=e)<=this.radius*this.radius},n.prototype.getBounds=function(){return new o(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":18,"./Rectangle":33}],31:[function(t,e,i){function n(t,e,i,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this.type=s.SHAPES.ELIP}var o=t("./Rectangle"),s=t("../../const");(e.exports=n.prototype.constructor=n).prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;t=(t-this.x)/this.width,e=(e-this.y)/this.height;return(t*=t)+(e*=e)<=1},n.prototype.getBounds=function(){return new o(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":18,"./Rectangle":33}],32:[function(t,e,i){function n(t){var e=t;if(!Array.isArray(e))for(var e=new Array(arguments.length),i=0;i<e.length;++i)e[i]=arguments[i];if(e[0]instanceof r){for(var n=[],o=0,s=e.length;o<s;o++)n.push(e[o].x,e[o].y);e=n}this.closed=!0,this.points=e,this.type=a.SHAPES.POLY}var r=t("../Point"),a=t("../../const");(e.exports=n.prototype.constructor=n).prototype.clone=function(){return new n(this.points.slice())},n.prototype.contains=function(t,e){for(var i=!1,n=this.points.length/2,o=0,s=n-1;o<n;s=o++){var r=this.points[2*o],a=this.points[2*o+1],l=this.points[2*s],u=this.points[2*s+1];e<a!=e<u&&t<(l-r)*(e-a)/(u-a)+r&&(i=!i)}return i}},{"../../const":18,"../Point":28}],33:[function(t,e,i){function n(t,e,i,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this.type=o.SHAPES.RECT}var o=t("../../const");(e.exports=n.prototype.constructor=n).EMPTY=new n(0,0,0,0),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}},{"../../const":18}],34:[function(t,e,i){function n(t,e,i,n,o){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this.radius=o||20,this.type=s.SHAPES.RREC}var s=t("../../const");(e.exports=n.prototype.constructor=n).prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}},{"../../const":18}],35:[function(t,e,i){function n(t,e){o.call(this),this._properties=[!1,!0,!1,!1,!1],this._size=t||15e3,this._buffers=null,this._updateStatic=!1,this.interactiveChildren=!1,this.blendMode=s.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var o=t("../display/Container"),s=t("../const");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},n.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},n.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},n.prototype.addChildAt=function(t,e){if(t===this)return t;if(0<=e&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),(t.parent=this).children.splice(e,0,t),this._updateStatic=!0,t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},n.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),this._updateStatic=!0,e},n.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,n=!0,o=0,s=0,r=0,a=0;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var u,h,c=this.children[l];c.visible&&(u=c.texture.frame,e.globalAlpha=this.worldAlpha*c.alpha,a=c.rotation%(2*Math.PI)==0?(n&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),n=!1),o=c.anchor.x*(-u.width*c.scale.x)+c.position.x+.5,s=c.anchor.y*(-u.height*c.scale.y)+c.position.y+.5,r=u.width*c.scale.x,u.height*c.scale.y):(n=n||!0,c.displayObjectUpdateTransform(),h=c.worldTransform,t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,0|h.tx,0|h.ty):e.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty),o=c.anchor.x*-u.width+.5,s=c.anchor.y*-u.height+.5,r=u.width,u.height),e.drawImage(c.texture.baseTexture.source,u.x,u.y,u.width,u.height,o,s,r,a))}}},n.prototype.destroy=function(){if(o.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers.destroy();this._properties=null,this._buffers=null}},{"../const":18,"../display/Container":19}],36:[function(t,e,i){function n(t,e,i){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;n++){var o=e[n];(o.dynamic?this.dynamicProperties:this.staticProperties).push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}(e.exports=n.prototype.constructor=n).prototype.initBuffers=function(){for(var t,e=this.gl,i=0,n=this.dynamicStride=0;n<this.dynamicProperties.length;n++)(t=this.dynamicProperties[n]).offset=i,i+=t.size,this.dynamicStride+=t.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.dynamicBuffer),e.bufferData(e.ARRAY_BUFFER,this.dynamicData,e.DYNAMIC_DRAW);var o=0;for(n=this.staticStride=0;n<this.staticProperties.length;n++)(t=this.staticProperties[n]).offset=o,o+=t.size,this.staticStride+=t.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.staticBuffer),e.bufferData(e.ARRAY_BUFFER,this.staticData,e.DYNAMIC_DRAW)},n.prototype.uploadDynamic=function(t,e,i){for(var n=this.gl,o=0;o<this.dynamicProperties.length;o++){var s=this.dynamicProperties[o];s.uploadFunction(t,e,i,this.dynamicData,this.dynamicStride,s.offset)}n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.dynamicData)},n.prototype.uploadStatic=function(t,e,i){for(var n=this.gl,o=0;o<this.staticProperties.length;o++){var s=this.staticProperties[o];s.uploadFunction(t,e,i,this.staticData,this.staticStride,s.offset)}n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.staticData)},n.prototype.bind=function(){var t,e,i=this.gl;for(i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],i.vertexAttribPointer(e.attribute,e.size,i.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],i.vertexAttribPointer(e.attribute,e.size,i.FLOAT,!1,4*this.staticStride,4*e.offset)},n.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],37:[function(t,e,i){function n(t){o.call(this,t),this.size=250;var e=6*this.size;this.indices=new Uint16Array(e);for(var i=0,n=0;i<e;i+=6,n+=4)this.indices[i+0]=n+0,this.indices[i+1]=n+1,this.indices[i+2]=n+2,this.indices[i+3]=n+0,this.indices[i+4]=n+2,this.indices[i+5]=n+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new l.Matrix}var o=t("../../renderers/webgl/utils/ObjectRenderer"),s=t("../../renderers/webgl/WebGLRenderer"),r=t("./ParticleShader"),a=t("./ParticleBuffer"),l=t("../../math");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,s.registerPlugin("particle",n),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,dynamic:!1,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,dynamic:!0,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,dynamic:!1,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,dynamic:!1,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,dynamic:!1,size:1,uploadFunction:this.uploadAlpha,offset:0}]},n.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);t=this.shader;this.renderer.shaderManager.setShader(t)},n.prototype.render=function(t){var e=t.children,i=e.length,n=t._size;if(0!==i){n<i&&(i=n),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var o=this.renderer.gl,n=t.worldTransform.copy(this.tempMatrix);n.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,n.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var s=t._updateStatic,n=e[0]._texture.baseTexture;if(n._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,n._glTextures[o.id]);else{if(!this.renderer.updateTexture(n))return;this.properties[0].dynamic&&this.properties[3].dynamic||(s=!0)}for(var r=0,a=0;a<i;a+=this.size){var l=i-a;l>this.size&&(l=this.size);var u=t._buffers[r++];u.uploadDynamic(e,a,l),s&&u.uploadStatic(e,a,l),u.bind(this.shader),o.drawElements(o.TRIANGLES,6*l,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}t._updateStatic=!1}},n.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,i=[],n=t._size,o=0;o<t._properties.length;o++)this.properties[o].dynamic=t._properties[o];for(o=0;o<n;o+=this.size)i.push(new a(e,this.properties,this.size,this.shader));return i},n.prototype.uploadVertices=function(t,e,i,n,o,s){for(var r,a,l,u,h,c,p,d,m=0;m<i;m++)a=(r=t[e+m])._texture,l=r.scale.x,u=r.scale.y,a.trim?(h=(c=(p=a.trim).x-r.anchor.x*p.width)+a.crop.width,p=(d=p.y-r.anchor.y*p.height)+a.crop.height):(h=a._frame.width*(1-r.anchor.x),c=a._frame.width*-r.anchor.x,p=a._frame.height*(1-r.anchor.y),d=a._frame.height*-r.anchor.y),n[s]=c*l,n[s+1]=d*u,n[s+o]=h*l,n[s+o+1]=d*u,n[s+2*o]=h*l,n[s+2*o+1]=p*u,n[s+3*o]=c*l,n[s+3*o+1]=p*u,s+=4*o},n.prototype.uploadPosition=function(t,e,i,n,o,s){for(var r=0;r<i;r++){var a=t[e+r].position;n[s]=a.x,n[s+1]=a.y,n[s+o]=a.x,n[s+o+1]=a.y,n[s+2*o]=a.x,n[s+2*o+1]=a.y,n[s+3*o]=a.x,n[s+3*o+1]=a.y,s+=4*o}},n.prototype.uploadRotation=function(t,e,i,n,o,s){for(var r=0;r<i;r++){var a=t[e+r].rotation;n[s]=a,n[s+o]=a,n[s+2*o]=a,n[s+3*o]=a,s+=4*o}},n.prototype.uploadUvs=function(t,e,i,n,o,s){for(var r=0;r<i;r++){var a=t[e+r]._texture._uvs;a?(n[s]=a.x0,n[s+1]=a.y0,n[s+o]=a.x1,n[s+o+1]=a.y1,n[s+2*o]=a.x2,n[s+2*o+1]=a.y2,n[s+3*o]=a.x3,n[s+3*o+1]=a.y3):(n[s]=0,n[s+1]=0,n[s+o]=0,n[s+o+1]=0,n[s+2*o]=0,n[s+2*o+1]=0,n[s+3*o]=0,n[s+3*o+1]=0),s+=4*o}},n.prototype.uploadAlpha=function(t,e,i,n,o,s){for(var r=0;r<i;r++){var a=t[e+r].alpha;n[s]=a,n[s+o]=a,n[s+2*o]=a,n[s+3*o]=a,s+=4*o}},n.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),o.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":29,"../../renderers/webgl/WebGLRenderer":45,"../../renderers/webgl/utils/ObjectRenderer":59,"./ParticleBuffer":36,"./ParticleShader":38}],38:[function(t,e,i){function n(t){o.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor * uAlpha ;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var o=t("../../renderers/webgl/shaders/TextureShader");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n},{"../../renderers/webgl/shaders/TextureShader":58}],39:[function(t,e,i){function n(t,e,i,n){if(l.call(this),s.sayHello(t),n)for(var o in a.DEFAULT_RENDER_OPTIONS)void 0===n[o]&&(n[o]=a.DEFAULT_RENDER_OPTIONS[o]);else n=a.DEFAULT_RENDER_OPTIONS;this.type=a.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=i||600,this.view=n.view||document.createElement("canvas"),this.resolution=n.resolution,this.transparent=n.transparent,this.autoResize=n.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=n.preserveDrawingBuffer,this.clearBeforeRender=n.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=n.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new r.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var s=t("../utils"),r=t("../math"),a=t("../const"),l=t("eventemitter3");n.prototype=Object.create(l.prototype),e.exports=n.prototype.constructor=n,Object.defineProperties(n.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=s.hex2string(t),s.hex2rgb(t,this._backgroundColorRgb)}}}),n.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},n.prototype.destroy=function(t){t&&this.view.parent&&this.view.parent.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":18,"../math":29,"../utils":72,eventemitter3:6}],40:[function(t,e,i){function n(t,e,i){o.call(this,"Canvas",t,e,i),this.type=l.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new s,this.roundPixels=!1,this.currentScaleMode=l.SCALE_MODES.DEFAULT,this.currentBlendMode=l.BLEND_MODES.NORMAL,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var o=t("../SystemRenderer"),s=t("./utils/CanvasMaskManager"),r=t("../../utils"),a=t("../../math"),l=t("../../const");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,r.pluginTarget.mixin(n),n.prototype.render=function(t){var e=t.parent;(this._lastObjectRendered=t).parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.currentBlendMode=l.BLEND_MODES.NORMAL,this.context.globalCompositeOperation=this.blendModes[l.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context)},n.prototype.destroy=function(t){this.destroyPlugins(),o.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.roundPixels=!1,this.currentScaleMode=0,this.currentBlendMode=0,this.smoothProperty=null},n.prototype.renderDisplayObject=function(t,e){var i=this.context;this.context=e,t.renderCanvas(this),this.context=i},n.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},r.canUseNewCanvasBlendModes()?(this.blendModes[l.BLEND_MODES.NORMAL]="source-over",this.blendModes[l.BLEND_MODES.ADD]="lighter",this.blendModes[l.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[l.BLEND_MODES.SCREEN]="screen",this.blendModes[l.BLEND_MODES.OVERLAY]="overlay",this.blendModes[l.BLEND_MODES.DARKEN]="darken",this.blendModes[l.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[l.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[l.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[l.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[l.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[l.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[l.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[l.BLEND_MODES.HUE]="hue",this.blendModes[l.BLEND_MODES.SATURATION]="saturation",this.blendModes[l.BLEND_MODES.COLOR]="color",this.blendModes[l.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[l.BLEND_MODES.NORMAL]="source-over",this.blendModes[l.BLEND_MODES.ADD]="lighter",this.blendModes[l.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[l.BLEND_MODES.SCREEN]="source-over",this.blendModes[l.BLEND_MODES.OVERLAY]="source-over",this.blendModes[l.BLEND_MODES.DARKEN]="source-over",this.blendModes[l.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[l.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[l.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[l.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[l.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[l.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[l.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[l.BLEND_MODES.HUE]="source-over",this.blendModes[l.BLEND_MODES.SATURATION]="source-over",this.blendModes[l.BLEND_MODES.COLOR]="source-over",this.blendModes[l.BLEND_MODES.LUMINOSITY]="source-over"),this.blendModes[l.BLEND_MODES.SOURCE_OUT]="source-out",this.blendModes[l.BLEND_MODES.SOURCE_IN]="source-in",this.blendModes[l.BLEND_MODES.DESTINATION_OUT]="destination-out",this.blendModes[l.BLEND_MODES.DESTINATION_IN]="destination-in")}},{"../../const":18,"../../math":29,"../../utils":72,"../SystemRenderer":39,"./utils/CanvasMaskManager":43}],41:[function(t,e,i){function n(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}e.exports=n.prototype.constructor=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},n.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],42:[function(t,e,i){var T=t("../../../const"),e=e.exports={};e.renderGraphics=function(t,e){var i=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o,s,r,a,l,u,h,c,p=t.graphicsData[n],d=p.shape,m=p._fillTint,S=p._lineTint;if(e.lineWidth=p.lineWidth,p.type===T.SHAPES.POLY){e.beginPath();var g=d.points;e.moveTo(g[0],g[1]);for(var y=1;y<g.length/2;y++)e.lineTo(g[2*y],g[2*y+1]);d.closed&&e.lineTo(g[0],g[1]),g[0]===g[g.length-2]&&g[1]===g[g.length-1]&&e.closePath(),p.fill&&(e.globalAlpha=p.fillAlpha*i,e.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),e.fill()),p.lineWidth&&(e.globalAlpha=p.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|S).toString(16)).substr(-6),e.stroke())}else p.type===T.SHAPES.RECT?(!p.fillColor&&0!==p.fillColor||(e.globalAlpha=p.fillAlpha*i,e.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),e.fillRect(d.x,d.y,d.width,d.height)),p.lineWidth&&(e.globalAlpha=p.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|S).toString(16)).substr(-6),e.strokeRect(d.x,d.y,d.width,d.height))):p.type===T.SHAPES.CIRC?(e.beginPath(),e.arc(d.x,d.y,d.radius,0,2*Math.PI),e.closePath(),p.fill&&(e.globalAlpha=p.fillAlpha*i,e.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),e.fill()),p.lineWidth&&(e.globalAlpha=p.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|S).toString(16)).substr(-6),e.stroke())):p.type===T.SHAPES.ELIP?(r=2*d.width,c=2*d.height,h=d.x-r/2,o=d.y-c/2,e.beginPath(),a=r/2*.5522848,u=c/2*.5522848,s=h+r,l=o+c,r=h+r/2,e.moveTo(h,c=o+c/2),e.bezierCurveTo(h,c-u,r-a,o,r,o),e.bezierCurveTo(r+a,o,s,c-u,s,c),e.bezierCurveTo(s,c+u,r+a,l,r,l),e.bezierCurveTo(r-a,l,h,c+u,h,c),e.closePath(),p.fill&&(e.globalAlpha=p.fillAlpha*i,e.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),e.fill()),p.lineWidth&&(e.globalAlpha=p.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|S).toString(16)).substr(-6),e.stroke())):p.type===T.SHAPES.RREC&&(a=d.x,l=d.y,u=d.width,h=d.height,c=d.radius,c=(d=Math.min(u,h)/2|0)<c?d:c,e.beginPath(),e.moveTo(a,l+c),e.lineTo(a,l+h-c),e.quadraticCurveTo(a,l+h,a+c,l+h),e.lineTo(a+u-c,l+h),e.quadraticCurveTo(a+u,l+h,a+u,l+h-c),e.lineTo(a+u,l+c),e.quadraticCurveTo(a+u,l,a+u-c,l),e.lineTo(a+c,l),e.quadraticCurveTo(a,l,a,l+c),e.closePath(),!p.fillColor&&0!==p.fillColor||(e.globalAlpha=p.fillAlpha*i,e.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),e.fill()),p.lineWidth&&(e.globalAlpha=p.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|S).toString(16)).substr(-6),e.stroke()))}},e.renderGraphicsMask=function(t,e){var i=t.graphicsData.length;if(0!==i){e.beginPath();for(var n=0;n<i;n++){var o,s,r,a,l,u,h,c,p=t.graphicsData[n],d=p.shape;if(p.type===T.SHAPES.POLY){var m=d.points;e.moveTo(m[0],m[1]);for(var S=1;S<m.length/2;S++)e.lineTo(m[2*S],m[2*S+1]);m[0]===m[m.length-2]&&m[1]===m[m.length-1]&&e.closePath()}else p.type===T.SHAPES.RECT?(e.rect(d.x,d.y,d.width,d.height),e.closePath()):p.type===T.SHAPES.CIRC?(e.arc(d.x,d.y,d.radius,0,2*Math.PI),e.closePath()):p.type===T.SHAPES.ELIP?(s=(a=2*d.width)/2*.5522848,u=(c=2*d.height)/2*.5522848,r=(h=d.x-a/2)+a,l=(o=d.y-c/2)+c,a=h+a/2,e.moveTo(h,c=o+c/2),e.bezierCurveTo(h,c-u,a-s,o,a,o),e.bezierCurveTo(a+s,o,r,c-u,r,c),e.bezierCurveTo(r,c+u,a+s,l,a,l),e.bezierCurveTo(a-s,l,h,c+u,h,c),e.closePath()):p.type===T.SHAPES.RREC&&(l=d.x,u=d.y,h=d.width,c=d.height,p=d.radius,d=Math.min(h,c)/2|0,e.moveTo(l,u+(p=d<p?d:p)),e.lineTo(l,u+c-p),e.quadraticCurveTo(l,u+c,l+p,u+c),e.lineTo(l+h-p,u+c),e.quadraticCurveTo(l+h,u+c,l+h,u+c-p),e.lineTo(l+h,u+p),e.quadraticCurveTo(l+h,u,l+h-p,u),e.lineTo(l+p,u),e.quadraticCurveTo(l,u,l,u+p),e.closePath())}}},e.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,n=(255&t.tint)/255,o=0;o<t.graphicsData.length;o++){var s=t.graphicsData[o],r=0|s.fillColor,a=0|s.lineColor;s._fillTint=((r>>16&255)/255*e*255<<16)+((r>>8&255)/255*i*255<<8)+(255&r)/255*n*255,s._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*n*255}}},{"../../../const":18}],43:[function(t,e,i){function n(){}var s=t("./CanvasGraphics");(e.exports=n.prototype.constructor=n).prototype.pushMask=function(t,e){e.context.save();var i=t.alpha,n=t.worldTransform,o=e.resolution;e.context.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),t.texture||(s.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=i},n.prototype.popMask=function(t){t.context.restore()}},{"./CanvasGraphics":42}],44:[function(t,e,i){var h=t("../../../utils"),o=e.exports={};o.getTintedTexture=function(t,e){var i=t.texture,n="#"+("00000"+(0|(e=o.roundColor(e))).toString(16)).substr(-6);if(i.tintCache=i.tintCache||{},i.tintCache[n])return i.tintCache[n];t=o.canvas||document.createElement("canvas");return o.tintMethod(i,e,t),o.convertTintToImage?((e=new Image).src=t.toDataURL(),i.tintCache[n]=e):(i.tintCache[n]=t,o.canvas=null),t},o.tintWithMultiply=function(t,e,i){var n=i.getContext("2d"),o=t.crop;i.width=o.width,i.height=o.height,n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,o.width,o.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},o.tintWithOverlay=function(t,e,i){var n=i.getContext("2d"),o=t.crop;i.width=o.width,i.height=o.height,n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,o.width,o.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},o.tintWithPerPixel=function(t,e,i){var n=i.getContext("2d"),o=t.crop;i.width=o.width,i.height=o.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var e=h.hex2rgb(e),s=e[0],r=e[1],a=e[2],o=n.getImageData(0,0,o.width,o.height),l=o.data,u=0;u<l.length;u+=4)l[u+0]*=s,l[u+1]*=r,l[u+2]*=a;n.putImageData(o,0,0)},o.roundColor=function(t){var e=o.cacheStepsPerColorChannel,t=h.hex2rgb(t);return t[0]=Math.min(255,t[0]/e*e),t[1]=Math.min(255,t[1]/e*e),t[2]=Math.min(255,t[2]/e*e),h.rgb2hex(t)},o.cacheStepsPerColorChannel=8,o.convertTintToImage=!1,o.canUseMultiply=h.canUseNewCanvasBlendModes(),o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel},{"../../../utils":72}],45:[function(t,e,i){function n(t,e,i){o.call(this,"WebGL",t,e,i=i||{}),this.type=m.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!i.forceFXAA&&i.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new s(this),this.maskManager=new r(this),this.stencilManager=new a(this),this.filterManager=new l(this),this.blendModeManager=new u(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._initContext(),this._mapBlendModes(),this._renderTargetStack=[]}var o=t("../SystemRenderer"),s=t("./managers/ShaderManager"),r=t("./managers/MaskManager"),a=t("./managers/StencilManager"),l=t("./managers/FilterManager"),u=t("./managers/BlendModeManager"),h=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),p=t("./filters/FXAAFilter"),d=t("../../utils"),m=t("../../const");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,d.pluginTarget.mixin(n),n.glContextId=0,n.prototype._initContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(!(this.gl=t))throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=n.glContextId++,t.id=this.glContextId,t.renderer=this,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new h(this.gl,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},n.prototype.render=function(t){var e;this.gl.isContextLost()||(this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter),e=t.parent,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,e=this.gl,this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?e.clearColor(0,0,0,0):e.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),e.clear(e.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget))},n.prototype.renderDisplayObject=function(t,e,i){this.setRenderTarget(e),i&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},n.prototype.resize=function(t,e){o.prototype.resize.call(this,t,e),this.gl.viewport(0,0,this.width,this.height),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&this.renderTarget.activate()},n.prototype.updateTexture=function(t){if((t=t.baseTexture||t).hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,t.hasAlpha?e.RGBA:e.RGB,t.hasAlpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},n.prototype.destroyTexture=function(t){(t=t.baseTexture||t).hasLoaded&&t._glTextures[this.gl.id]&&this.gl.deleteTexture(t._glTextures[this.gl.id])},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){for(var t in this._initContext(),d.BaseTextureCache)d.BaseTextureCache[t]._glTextures.length=0},n.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),o.prototype.destroy.call(this,t),this.uuid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl=null},n.prototype._mapBlendModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[m.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],this.blendModes[m.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[m.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.SOURCE_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],this.blendModes[m.BLEND_MODES.SOURCE_IN]=[t.DST_ALPHA,t.ZERO],this.blendModes[m.BLEND_MODES.DESTINATION_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],this.blendModes[m.BLEND_MODES.DESTINATION_IN]=[t.ZERO,t.SRC_ALPHA])}},{"../../const":18,"../../utils":72,"../SystemRenderer":39,"./filters/FXAAFilter":47,"./managers/BlendModeManager":49,"./managers/FilterManager":50,"./managers/MaskManager":51,"./managers/ShaderManager":52,"./managers/StencilManager":53,"./utils/ObjectRenderer":59,"./utils/RenderTarget":61}],46:[function(t,e,i){function n(t,e,i){this.shaders=[],this.padding=0,this.uniforms=i||{},this.vertexSrc=t||o.defaultVertexSrc,this.fragmentSrc=e||o.defaultFragmentSrc}var o=t("../shaders/TextureShader");(e.exports=n.prototype.constructor=n).prototype.getShader=function(t){var e=t.gl,i=this.shaders[e.id];return i||(i=new o(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=i),i},n.prototype.applyFilter=function(t,e,i,n){var o=this.getShader(t);t.filterManager.applyFilter(o,e,i,n)},n.prototype.syncUniform=function(t){for(var e=0,i=this.shaders.length;e<i;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":58}],47:[function(t,e,i){function n(){o.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var o=t("./AbstractFilter");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.applyFilter=function(t,e,i){var n=t.filterManager,t=this.getShader(t);n.applyFilter(t,e,i)}},{"./AbstractFilter":46}],48:[function(t,e,i){function n(t){var e=new s.Matrix;o.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var o=t("./AbstractFilter"),s=t("../../../math");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.applyFilter=function(t,e,i){var n=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,n.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;t=this.getShader(t);n.applyFilter(t,e,i)},Object.defineProperties(n.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":29,"./AbstractFilter":46}],49:[function(t,e,i){function n(t){o.call(this,t),this.currentBlendMode=99999}var o=t("./WebGLManager");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;t=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(t[0],t[1]),!0}},{"./WebGLManager":54}],50:[function(t,e,i){function n(t){o.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new a.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var o=t("./WebGLManager"),s=t("../utils/RenderTarget"),u=t("../../../const"),r=t("../utils/Quad"),a=t("../../../math");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new r(t)},n.prototype.setFilterStack=function(t){this.filterStack=t},n.prototype.pushFilter=function(t,e){var i=t.filterArea?t.filterArea.clone():t.getBounds();i.x=0|i.x,i.y=0|i.y,i.width=0|i.width,i.height=0|i.height;t=0|e[0].padding;i.x-=t,i.y-=t,i.width+=2*t,i.height+=2*t,this.renderer.currentRenderTarget.transform?(t=this.renderer.currentRenderTarget.transform,i.x+=t.tx,i.y+=t.ty,this.capFilterArea(i),i.x-=t.tx,i.y-=t.ty):this.capFilterArea(i),0<i.width&&0<i.height?(this.currentFrame=i,i=this.getRenderTarget(),this.renderer.setRenderTarget(i),i.clear(),this.filterStack.push({renderTarget:i,filter:e})):this.filterStack.push({renderTarget:null,filter:e})},n.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],i=t.renderTarget;if(t.renderTarget){var n=e.renderTarget,e=this.renderer.gl;this.currentFrame=i.frame,this.quad.map(this.textureSize,i.frame),e.bindBuffer(e.ARRAY_BUFFER,this.quad.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,e.FLOAT,!1,0,0),e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,e.FLOAT,!1,0,32),e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,e.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(u.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,i,n),this.returnRenderTarget(i);else{for(var s=i,r=this.getRenderTarget(!0),a=0;a<o.length-1;a++){var l=o[a];l.uniforms.dimensions&&(l.uniforms.dimensions.value[0]=this.renderer.width,l.uniforms.dimensions.value[1]=this.renderer.height,l.uniforms.dimensions.value[2]=this.quad.vertices[0],l.uniforms.dimensions.value[3]=this.quad.vertices[5]),l.applyFilter(this.renderer,s,r);l=s,s=r,r=l}o[o.length-1].applyFilter(this.renderer,s,n),this.returnRenderTarget(s),this.returnRenderTarget(r)}return t.filter}},n.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new s(this.renderer.gl,this.textureSize.width,this.textureSize.height,u.SCALE_MODES.LINEAR,this.renderer.resolution*u.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},n.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},n.prototype.applyFilter=function(t,e,i,n){var o=this.renderer.gl;this.renderer.setRenderTarget(i),n&&i.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)},n.prototype.calculateMappedMatrix=function(t,e,i){var n=e.worldTransform.copy(a.Matrix.TEMP_MATRIX),o=e._texture.baseTexture,s=i.identity(),r=this.textureSize.height/this.textureSize.width;s.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),s.scale(1,r);i=this.textureSize.width/o.width,t=this.textureSize.height/o.height;return n.tx/=o.width*i,n.ty/=o.width*i,n.invert(),s.prepend(n),s.scale(1,1/r),s.scale(i,t),s.translate(e.anchor.x,e.anchor.y),s},n.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},n.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var i=0;i<this.texturePool.length;i++)this.texturePool[i].resize(t,e)},n.prototype.destroy=function(){this.filterStack=null;for(var t=this.offsetY=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":18,"../../../math":29,"../utils/Quad":60,"../utils/RenderTarget":61,"./WebGLManager":54}],51:[function(t,e,i){function n(t){o.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var o=t("./WebGLManager"),s=t("../filters/SpriteMaskFilter");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},n.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},n.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool.pop();(i=i||[new s(e)])[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,i)},n.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},n.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},n.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":48,"./WebGLManager":54}],52:[function(t,e,i){function n(t){o.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var o=t("./WebGLManager"),s=t("../shaders/TextureShader"),r=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),t=t("../../../utils");n.prototype=Object.create(o.prototype),t.pluginTarget.mixin(n.prototype.constructor=n),(e.exports=n).prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new s(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new r(this)},n.prototype.setAttribs=function(t){for(var e,i=0;i<this.tempAttribState.length;i++)this.tempAttribState[i]=!1;for(e in t)this.tempAttribState[t[e]]=!0;var n=this.renderer.gl;for(i=0;i<this.attribState.length;i++)this.attribState[i]!==this.tempAttribState[i]&&(this.attribState[i]=this.tempAttribState[i],this.attribState[i]?n.enableVertexAttribArray(i):n.disableVertexAttribArray(i))},n.prototype.setShader=function(t){return this._currentId!==t.uuid&&(this._currentId=t.uuid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},n.prototype.destroy=function(){o.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":72,"../shaders/ComplexPrimitiveShader":55,"../shaders/PrimitiveShader":56,"../shaders/TextureShader":58,"./WebGLManager":54}],53:[function(t,e,i){function n(t){o.call(this,t),this.stencilMaskStack=null}var o=t("./WebGLManager"),s=t("../../../utils");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},n.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var i=this.renderer.gl,n=this.stencilMaskStack;this.bindGraphics(t,e,this.renderer),0===n.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),n.reverse=!0,n.count=0),n.stencilStack.push(e);t=n.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===e.mode?(i.drawElements(i.TRIANGLE_FAN,e.indices.length-4,i.UNSIGNED_SHORT,0),n.reverse?(i.stencilFunc(i.EQUAL,255-t,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,t,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),n.reverse?i.stencilFunc(i.EQUAL,255-(t+1),255):i.stencilFunc(i.EQUAL,t+1,255),n.reverse=!n.reverse):(n.reverse?(i.stencilFunc(i.EQUAL,t,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-t,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0),n.reverse?i.stencilFunc(i.EQUAL,t+1,255):i.stencilFunc(i.EQUAL,255-(t+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),n.count++},n.prototype.bindGraphics=function(t,e){this._currentGraphics=t;var i,n=this.renderer.gl;1===e.mode?(i=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(i),n.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(i.uniforms.tint._location,s.hex2rgb(t.tint)),n.uniform3fv(i.uniforms.color._location,e.color),n.uniform1f(i.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,8,0)):(i=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(i),n.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(i.uniforms.tint._location,s.hex2rgb(t.tint)),n.uniform1f(i.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(i.attributes.aColor,4,n.FLOAT,!1,24,8)),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer)},n.prototype.popStencil=function(t,e){var i,n=this.renderer.gl,o=this.stencilMaskStack;o.stencilStack.pop(),o.count--,0===o.stencilStack.length?n.disable(n.STENCIL_TEST):(i=o.count,this.bindGraphics(t,e,this.renderer),n.colorMask(!1,!1,!1,!1),1===e.mode?(o.reverse=!o.reverse,o.reverse?(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0)):(o.reverse?(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0)),o.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP))},n.prototype.destroy=function(){o.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},n.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)},n.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)}},{"../../../utils":72,"./WebGLManager":54}],54:[function(t,e,i){function n(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}(e.exports=n.prototype.constructor=n).prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange),this.renderer=null}},{}],55:[function(t,e,i){function n(t){o.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var o=t("./Shader");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n},{"./Shader":57}],56:[function(t,e,i){function n(t){o.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var o=t("./Shader");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n},{"./Shader":57}],57:[function(t,e,i){function n(t,e,i,n,o){if(!e||!i)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uuid=a.uuid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=n||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=i,this.init()}var a=t("../../../utils");(e.exports=n.prototype.constructor=n).prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},n.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},n.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},n.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),i=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,i),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(n,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(n)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(n)),t.deleteProgram(n),n=null),t.deleteShader(e),t.deleteShader(i),this.program=n},n.prototype.syncUniform=function(t){var e,i,n=t._location,o=t.value,s=this.gl;switch(t.type){case"i":case"1i":s.uniform1i(n,o);break;case"f":case"1f":s.uniform1f(n,o);break;case"2f":s.uniform2f(n,o[0],o[1]);break;case"3f":s.uniform3f(n,o[0],o[1],o[2]);break;case"4f":s.uniform4f(n,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(n,o.x,o.y);break;case"v3":s.uniform3f(n,o.x,o.y,o.z);break;case"v4":s.uniform4f(n,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(n,o);break;case"2iv":s.uniform2iv(n,o);break;case"3iv":s.uniform3iv(n,o);break;case"4iv":s.uniform4iv(n,o);break;case"1fv":s.uniform1fv(n,o);break;case"2fv":s.uniform2fv(n,o);break;case"3fv":s.uniform3fv(n,o);break;case"4fv":s.uniform4fv(n,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(n,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(n,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(n,t.transpose,o);break;case"c":"number"==typeof o&&(o=a.hex2rgb(o)),s.uniform3f(n,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(n,o);break;case"iv":s.uniform3iv(n,o);break;case"fv1":s.uniform1fv(n,o);break;case"fv":s.uniform3fv(n,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,i=o.length;e<i;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(n,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,i=o.length;e<i;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(n,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,i=o.length;e<i;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(n,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var r=t.value.baseTexture._glTextures[s.id];r||this.initSampler2D(t),s.bindTexture(s.TEXTURE_2D,r),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},n.prototype.syncUniforms=function(){for(var t in this.textureCount=1,this.uniforms)this.syncUniform(this.uniforms[t])},n.prototype.initSampler2D=function(t){var e=this.gl,i=t.value.baseTexture;i.hasLoaded&&(t.textureData?(t=t.textureData,i._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,i._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,t.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.magFilter||e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.wrapS||e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,t.wrapS||e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,t.wrapT||e.CLAMP_TO_EDGE)):this.shaderManager.renderer.updateTexture(i))},n.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},n.prototype._glCompile=function(t,e){t=this.gl.createShader(t);return this.gl.shaderSource(t,e),this.gl.compileShader(t),this.gl.getShaderParameter(t,this.gl.COMPILE_STATUS)?t:(console.log(this.gl.getShaderInfoLog(t)),null)}},{"../../../utils":72}],58:[function(t,e,i){function u(t,e,i,n,o){var s={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array(1,0,0,0,1,0,0,0,1)}};if(n)for(var r in n)s[r]=n[r];var a={aVertexPosition:0,aTextureCoord:0,aColor:0};if(o)for(var l in o)a[l]=o[l];h.call(this,t,e=e||u.defaultVertexSrc,i=i||u.defaultFragmentSrc,s,a)}var h=t("./Shader");u.prototype=Object.create(h.prototype),(e.exports=u.prototype.constructor=u).defaultVertexSrc=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),u.defaultFragmentSrc=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":57}],59:[function(t,e,i){function n(t){o.call(this,t)}var o=t("../managers/WebGLManager");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.flush=function(){},n.prototype.render=function(t){}},{"../managers/WebGLManager":54}],60:[function(t,e,i){function n(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}(n.prototype.constructor=n).prototype.map=function(t,e){var i,n;this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this.upload()},n.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},e.exports=n},{}],61:[function(t,e,i){var r=t("../../../math"),a=t("../../../utils"),l=t("../../../const"),u=t("./StencilMaskStack"),t=function(t,e,i,n,o,s){this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new r.Rectangle(0,0,1,1),this.resolution=o||l.RESOLUTION,this.projectionMatrix=new r.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new u,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=n||l.SCALE_MODES.DEFAULT,this.root=s,this.root||(this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n===l.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n===l.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),a.isPowerOfTwo(e,i)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)),this.resize(e,i)};(e.exports=t.prototype.constructor=t).prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},t.prototype.attachStencilBuffer=function(){var t;this.stencilBuffer||this.root||(t=this.gl,this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution))},t.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},t.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},t.prototype.resize=function(t,e){var i;e|=0,this.size.width===(t|=0)&&this.size.height===e||(this.size.width=t,this.size.height=e,this.root||((i=this.gl).bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t*this.resolution,e*this.resolution,0,i.RGBA,i.UNSIGNED_BYTE,null),this.stencilBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencilBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t*this.resolution,e*this.resolution))),e=this.frame||this.size,this.calculateProjection(e))},t.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":18,"../../../math":29,"../../../utils":72,"./StencilMaskStack":62}],62:[function(t,e,i){function n(){this.stencilStack=[],this.reverse=!0,this.count=0}e.exports=n.prototype.constructor=n},{}],63:[function(t,e,i){function n(t){r.call(this),this.anchor=new o.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=u.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||s.EMPTY}var o=t("../math"),s=t("../textures/Texture"),r=t("../display/Container"),l=t("../renderers/canvas/utils/CanvasTinter"),a=t("../utils"),u=t("../const"),h=new o.Point;n.prototype=Object.create(r.prototype),e.exports=n.prototype.constructor=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.scale.x*this.texture._frame.width},set:function(t){this.scale.x=t/this.texture._frame.width,this._width=t}},height:{get:function(){return this.scale.y*this.texture._frame.height},set:function(t){this.scale.y=t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),n.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},n.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},n.prototype.getBounds=function(t){var e,i,n,o,s,r,a,l,u,h,c,p,d,m,S,g,y;return this._currentBounds||(s=this._texture._frame.width,h=this._texture._frame.height,d=s*(1-this.anchor.x),m=s*-this.anchor.x,S=h*(1-this.anchor.y),y=h*-this.anchor.y,r=(a=t||this.worldTransform).a,n=a.b,u=a.c,o=a.d,l=a.tx,s=a.ty,g=0===n&&0===u?(r<0&&(r*=-1),o<0&&(o*=-1),c=r*m+l,e=r*d+l,i=o*y+s,o*S+s):(c=(h=r*m+u*S+l)<(c=(t=r*d+u*S+l)<(c=(a=r*d+u*y+l)<(c=r=r*m+u*y+l)?a:c)?t:c)?h:c,i=(p=o*S+n*m+s)<(i=(u=o*S+n*d+s)<(i=(l=o*y+n*d+s)<(i=g=o*y+n*m+s)?l:i)?u:i)?p:i,e=(e=(e=(e=r)<a?a:e)<t?t:e)<h?h:e,(g=(g=(g=g)<l?l:g)<u?u:g)<p?p:g),this.children.length&&(d=(p=this.containerGetBounds()).x,m=p.x+p.width,c=c<d?c:d,i=i<(S=p.y)?i:S,e=m<e?e:m,g=(y=p.y+p.height)<g?g:y),(y=this._bounds).x=c,y.width=e-c,y.y=i,y.height=g-i,this._currentBounds=y),this._currentBounds},n.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e=this._texture._frame.width,i=this._texture._frame.height,t=-e*this.anchor.x;return h.x>t&&h.x<t+e&&(e=-i*this.anchor.y,h.y>e&&h.y<e+i)},n.prototype._renderCanvas=function(t){var e,i,n,o,s,r,a;this.texture.crop.width<=0||this.texture.crop.height<=0||(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=t.blendModes[t.currentBlendMode]),!this.texture.valid)||(n=this._texture,o=this.worldTransform,s=n.baseTexture.resolution/t.resolution,t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.currentScaleMode!==n.baseTexture.scaleMode&&(t.currentScaleMode=n.baseTexture.scaleMode,t.context[t.smoothProperty]=t.currentScaleMode===u.SCALE_MODES.LINEAR),a=n.rotate?(r=o.a,a=o.b,o.a=-o.c,o.b=-o.d,o.c=r,o.d=a,e=n.crop.height,i=n.crop.width,r=n.trim?n.trim.y-this.anchor.y*n.trim.height:this.anchor.y*-n._frame.height,n.trim?n.trim.x-this.anchor.x*n.trim.width:this.anchor.x*-n._frame.width):(e=n.crop.width,i=n.crop.height,r=n.trim?n.trim.x-this.anchor.x*n.trim.width:this.anchor.x*-n._frame.width,n.trim?n.trim.y-this.anchor.y*n.trim.height:this.anchor.y*-n._frame.height),t.roundPixels?(t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution|0,o.ty*t.resolution|0),r|=0,a|=0):t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution,o.ty*t.resolution),16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=l.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,e*s*t.resolution,i*s*t.resolution,r,a,e*t.resolution,i*t.resolution)):t.context.drawImage(n.baseTexture.source,n.crop.x*s,n.crop.y*s,e*s*t.resolution,i*s*t.resolution,r,a,e*t.resolution,i*t.resolution))},n.prototype.destroy=function(t,e){r.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},n.fromFrame=function(t){var e=a.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new n(e)},n.fromImage=function(t,e,i){return new n(s.fromImage(t,e,i))}},{"../const":18,"../display/Container":19,"../math":29,"../renderers/canvas/utils/CanvasTinter":44,"../textures/Texture":68,"../utils":72}],64:[function(t,e,i){function n(t){o.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=r.SPRITE_BATCH_SIZE;var t=4*this.size*this.vertByteSize,e=6*this.size;this.vertices=new ArrayBuffer(t),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(e);for(var i=this.lastIndexCount=0,n=0;i<e;i+=6,n+=4)this.indices[i+0]=n+0,this.indices[i+1]=n+1,this.indices[i+2]=n+2,this.indices[i+3]=n+0,this.indices[i+4]=n+2,this.indices[i+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.shader=null}var o=t("../../renderers/webgl/utils/ObjectRenderer"),s=t("../../renderers/webgl/WebGLRenderer"),r=t("../../const");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,s.registerPlugin("sprite",n),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},n.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture);var i,n,o,s,r,a,l,u,h,c,p,d,m=e._uvs;m&&(c=t.anchor.x,p=t.anchor.y,e.trim?(n=(i=(h=e.trim).x-c*h.width)+e.crop.width,s=(o=h.y-p*h.height)+e.crop.height):(n=e._frame.width*(1-c),i=e._frame.width*-c,s=e._frame.height*(1-p),o=e._frame.height*-p),r=this.currentBatchSize*this.vertByteSize,a=(d=t.worldTransform).a,l=d.b,u=d.c,h=d.d,c=d.tx,e=d.ty,p=this.colors,d=this.positions,this.renderer.roundPixels?(d[r]=a*i+u*o+c|0,d[1+r]=h*o+l*i+e|0,d[5+r]=a*n+u*o+c|0,d[6+r]=h*o+l*n+e|0,d[10+r]=a*n+u*s+c|0,d[11+r]=h*s+l*n+e|0,d[15+r]=a*i+u*s+c|0,d[16+r]=h*s+l*i+e|0):(d[r]=a*i+u*o+c,d[1+r]=h*o+l*i+e,d[5+r]=a*n+u*o+c,d[6+r]=h*o+l*n+e,d[10+r]=a*n+u*s+c,d[11+r]=h*s+l*n+e,d[15+r]=a*i+u*s+c,d[16+r]=h*s+l*i+e),d[2+r]=m.x0,d[3+r]=m.y0,d[7+r]=m.x1,d[8+r]=m.y1,d[12+r]=m.x2,d[13+r]=m.y2,d[17+r]=m.x3,d[18+r]=m.y3,m=t.tint,p[4+r]=p[9+r]=p[14+r]=p[19+r]=(m>>16)+(65280&m)+((255&m)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t)},n.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;this.currentBatchSize>.5*this.size?e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices):(t=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize),e.bufferSubData(e.ARRAY_BUFFER,0,t));for(var i,n,o,s,r,a=0,l=0,u=null,h=this.renderer.blendModeManager.currentBlendMode,c=null,p=0,d=this.currentBatchSize;p<d;p++)i=(o=this.sprites[p])._texture.baseTexture,s=h!==(n=o.blendMode),r=c!==(o=o.shader||this.shader),(u!==i||s||r)&&(this.renderBatch(u,a,l),l=p,a=0,u=i,s&&this.renderer.blendModeManager.setBlendMode(h=n),r&&(o=(o=(c=o).shaders?c.shaders[e.id]:c)||c.getShader(this.renderer),this.renderer.shaderManager.setShader(o),o.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),o.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(u,a,l),this.currentBatchSize=0}},n.prototype.renderBatch=function(t,e,i){var n;0!==e&&(n=this.renderer.gl,t._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,t._glTextures[n.id]):this.renderer.updateTexture(t),n.drawElements(n.TRIANGLES,6*e,n.UNSIGNED_SHORT,6*i*2),this.renderer.drawCount++)},n.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},n.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.currentBaseTexture=null,this.drawing=!1,this.textures=null,this.blendModes=null,this.shaders=null,this.sprites=null,this.shader=null}},{"../../const":18,"../../renderers/webgl/WebGLRenderer":45,"../../renderers/webgl/utils/ObjectRenderer":59}],65:[function(t,e,i){function m(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||r.RESOLUTION,this._text=null,this._style=null;i=o.fromCanvas(this.canvas);i.trim=new s.Rectangle,n.call(this,i),this.text=t,this.style=e}var n=t("../sprites/Sprite"),o=t("../textures/Texture"),s=t("../math"),r=t("../const");m.prototype=Object.create(n.prototype),(e.exports=m.prototype.constructor=m).fontPropertiesCache={},m.fontPropertiesCanvas=document.createElement("canvas"),m.fontPropertiesContext=m.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(m.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*(this._texture._frame.width-this.extraWidthDueToEffects)},set:function(t){this.scale.x=t/(this._texture._frame.width-this.extraWidthDueToEffects),this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*(this._texture._frame.height-this._hack_extraOffsetTop-this.extraHeightDueToEffects)},set:function(t){this.scale.y=t/(this._texture._frame.height-this._hack_extraOffsetTop-this.extraHeightDueToEffects),this._height=t}},style:{get:function(){return this._style},set:function(t){(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||5,t.blurShadow=t.blurShadow||!1,t.blurShadowX=t.blurShadowX||5,t.blurShadowY=t.blurShadowY||5,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"round",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),m.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=(t.wordWrap?this.wordWrap(this._text):this._text).split(/(?:\r\n|\r|\n)/),i=new Array(e.length),n=0,o=this.determineFontProperties(t.font),s=0;s<e.length;s++){var r=this.context.measureText(e[s]).width;i[s]=r,n=Math.max(n,r)}var a=n;this.extraWidthDueToEffects=t.strokeThickness+(this._hack_NoCutFix?0:o.fontSize),t.dropShadow&&(this.extraWidthDueToEffects+=t.dropShadowDistance),t.blurShadow&&(this.extraWidthDueToEffects+=Math.max(2*t.dropShadowDistance+Math.abs(t.blurShadowX),0)),a+=this.extraWidthDueToEffects,this.canvas.width=a*this.resolution;var l,u,h=this.style.lineHeight||o.fontSize,c=this.style.spacingY||0,a=h*e.length+c*(e.length-1)+o.extraSizeTop;if(this.extraHeightDueToEffects=t.strokeThickness,t.dropShadow&&(this.extraHeightDueToEffects+=t.dropShadowDistance),t.blurShadow&&(this.extraHeightDueToEffects+=Math.max(2*t.dropShadowDistance+Math.abs(t.blurShadowY),0)),a+=this.extraHeightDueToEffects,this.canvas.height=(a+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit,1!=this._skipUpdateTexture&&t.dropShadow){this.context.fillStyle=t.dropShadowColor;for(var p=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,s=0;s<e.length;s++)l=t.strokeThickness/2+(this._hack_NoCutFix?0:o.fontSize/2),u=t.strokeThickness/2+s*(h+c)+o.ascent+o.extraSizeTop,"right"===t.align?l+=n-i[s]:"center"===t.align&&(l+=(n-i[s])/2),t.fill&&this.context.fillText(e[s],l+p,u+d+this._style.padding)}if(this.context.fillStyle=t.fill,t.blurShadow&&(a=null!=window.safari||0<=document.documentElement.className.indexOf("iOS")&&0<=document.documentElement.className.indexOf("MobileSafari"),this.context.shadowBlur=t.dropShadowDistance*(a?.66:1),this.context.shadowOffsetX=t.blurShadowX,this.context.shadowOffsetY=t.blurShadowY),1!=this._skipUpdateTexture)for(s=0;s<e.length;s++){if(l=t.strokeThickness/2+(this._hack_NoCutFix?0:o.fontSize/2),u=t.strokeThickness/2+s*(h+c)+o.ascent+o.extraSizeTop,t.blurShadow&&(this.context.shadowColor=t.dropShadowColor,l+=Math.max(t.dropShadowDistance-t.blurShadowX,0),u+=Math.max(t.dropShadowDistance-t.blurShadowY,0)),t.mFillUseGradient||t.mOutlineUseGradient){var m=.5*h,S=l+.5*i[s],g=t.strokeThickness/2+s*(h+c)+m+this._style.padding;t.blurShadow&&(g+=Math.max(t.dropShadowDistance-t.blurShadowY,0));var y=.5*Math.max(i[s],h),T=0,f=0,b=0,C=0;if(t.mFillUseGradient){for(var T=Math.cos(t.mFillGradientAngle+Math.PI)*y,b=0<=(b=Math.sin(t.mFillGradientAngle+Math.PI)*y)?Math.min(b,m):Math.max(b,-m),f=Math.cos(t.mFillGradientAngle)*y,C=0<=(C=Math.sin(t.mFillGradientAngle)*y)?Math.min(C,m):Math.max(C,-m),v=this.context.createLinearGradient(S+T,g+b,S+f,g+C),M=0;M<t.mFillGradient.colorKeys.length;M++)v.addColorStop(t.mFillGradient.colorKeys[M].time,t.mFillGradient.colorKeys[M].color.rgbAsString());this.context.fillStyle=v}if(t.mOutlineUseGradient){T=Math.cos(t.mOutlineGradientAngle+Math.PI)*y,b=0<=(b=Math.sin(t.mOutlineGradientAngle+Math.PI)*y)?Math.min(b,m):Math.max(b,-m),f=Math.cos(t.mOutlineGradientAngle)*y,C=0<=(C=Math.sin(t.mOutlineGradientAngle)*y)?Math.min(C,m):Math.max(C,-m);for(var A=this.context.createLinearGradient(S+T,g+b,S+f,g+C),L=0;L<t.mOutlineGradient.colorKeys.length;L++)A.addColorStop(t.mOutlineGradient.colorKeys[L].time,t.mOutlineGradient.colorKeys[L].color.rgbAsString());this.context.strokeStyle=A}}"right"===t.align?l+=n-i[s]:"center"===t.align&&(l+=(n-i[s])/2),t.stroke&&t.strokeThickness&&(t.blurShadow&&0!=t.fillCenter&&this.context.fillText(e[s],l,u+this._style.padding),this.context.strokeText(e[s],l,u+this._style.padding),this.context.shadowColor="RGBA(0, 0, 0, 0)"),t.fill&&0!=t.fillCenter&&this.context.fillText(e[s],l,u+this._style.padding)}this._hack_extraOffsetTop=o.extraSizeTop,this._hack_extraOffsetBottom=c,this.updateTexture()},m.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,1!=this._skipUpdateTexture&&t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},m.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),n.prototype.renderWebGL.call(this,t)},m.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),n.prototype._renderCanvas.call(this,t)},m.prototype.determineFontProperties=function(t){if(!(e=m.fontPropertiesCache[t])){var e,i=t.split(" "),n=i[1],o=0|i[0].split("px")[0],s="50px "+n,i=t;if(null!=(e=m.fontPropertiesCache[s])){var r={};return r.ascent=Math.round(o*e.ascent/50),r.descent=Math.round(o*e.descent/50),r.fontSize=o,r.extraSizeTop=Math.round(o*e.extraSizeTop/50),m.fontPropertiesCache[t]=r}e={};n=m.fontPropertiesCanvas,o=m.fontPropertiesContext;o.font=t=s;var r=Math.ceil(o.measureText("|MÉq").width),s=2*(a=Math.ceil(o.measureText("M").width)),a=1.4*a|0;n.width=r,n.height=s,o.fillStyle="#f00",o.fillRect(0,0,r,s),o.font=t,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText("|MEq",0,a);for(var l,u=o.getImageData(0,0,r,s).data,n=u.length,h=4*r,c=0,p=!1,d=0;d<a;d++){for(l=0;l<h;l+=4)if(u[c+l]<253){p=!0;break}if(p)break;c+=h}for(e.ascent=a-d+1,c=n-h,p=!1,d=s;a<d;d--){for(l=0;l<h;l+=4)if(u[c+l]<253){p=!0;break}if(p)break;c-=h}for(e.descent=d-a,e.fontSize=e.ascent+e.descent,o.fillStyle="#f00",o.fillRect(0,0,r,s),o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText("|MÉq",0,a),n=(u=o.getImageData(0,0,r,s).data).length,p=!1,d=c=0;d<a;d++){for(l=0;l<h;l+=4)if(u[c+l]<253){p=!0;break}if(p)break;c+=h}if(e.extraSizeTop=a-d-e.ascent,m.fontPropertiesCache[t]=e,t!=i)return this.determineFontProperties(i)}return e},m.prototype.wordWrap=function(t){for(var e="",i=t.split("\n"),n=this._style.wordWrapWidth,o=0;o<i.length;o++){for(var s=n,r=i[o].split(" "),a=0;a<r.length;a++){var l=this.context.measureText(r[a]).width,u=l+this.context.measureText(" ").width;0===a||s<u?(0<a&&(e+="\n"),e+=r[a],s=n-l):(s-=u,e+=" "+r[a])}o<i.length-1&&(e+="\n")}return e},m.prototype.getBounds=function(t){return this.dirty&&this.updateText(),n.prototype.getBounds.call(this,t)},m.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t||t)}},{"../const":18,"../math":29,"../sprites/Sprite":63,"../textures/Texture":68}],66:[function(t,e,i){function r(t,e,i){s.call(this),this.uuid=n.uuid(),this.resolution=i||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],this.hasAlpha=!0,t&&this.loadSource(t)}var n=t("../utils"),o=t("../const"),s=t("eventemitter3");r.prototype=Object.create(s.prototype),(e.exports=r.prototype.constructor=r).prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},r.prototype.loadSource=function(t){var e,i=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,i&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height?this._sourceLoaded():t.getContext||(this.isLoading=!0,e=this,t.onload=function(){t.onload=null,t.onerror=null,e.isLoading&&(e.isLoading=!1,e._sourceLoaded(),e.emit("loaded",e))},t.onerror=function(){t.onload=null,t.onerror=null,e.isLoading&&(e.isLoading=!1,e.emit("error",e))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),i&&this.emit("loaded",this)):i&&this.emit("error",this)))},r.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},r.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},r.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},r.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},b64_keys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64_cached=[];for(var a=0;a<256;a++)b64_cached.push(b64_keys.indexOf(String.fromCharCode(a)));b64toBlob=function(t,e,i){e=e||"";for(var n,o,s,r,a=Math.ceil((t.length-i)/4*3),l=0,u=i,h=null,c=[],p=0,l=0;l<a;l+=3)l%196608||(h=new Uint8Array(Math.min(196608,a-l)),c.push(h),p=0),o=b64_cached[t.charCodeAt(u++)],n=(15&(s=b64_cached[t.charCodeAt(u++)]))<<4|(r=b64_cached[t.charCodeAt(u++)])>>2,r=(3&r)<<6|b64_cached[t.charCodeAt(u++)],h[p++]=o<<2|s>>4,h[p++]=n,h[p++]=r;return new Blob(c,{type:e})},r.fromImage=function(t,e,i){void 0===e&&0!==t.indexOf("data:")&&(e=!0);var n=new Image;e&&(n.crossOrigin="");var o,s,e=new r(n,i);return null!=window.atob&&null!=window.Blob&&null!=window.XMLHttpRequest&&null!=window.URL&&1!=window.UHT_IMAGESLOADER_NOBLOBS&&!(-1<navigator.userAgent.indexOf("UCBrowser"))?"data:image/png"==t.slice(0,14)?(i=b64toBlob(t,"image/png",22),i=URL.createObjectURL(i),n.src=i):"data:image/jpeg"==t.slice(0,15)?(e.hasAlpha=!1,s=b64toBlob(t,"image/jpeg",23),s=URL.createObjectURL(s),n.src=s):(".jpg"==t.slice(t.length-4,t.length)&&(this.hasAlpha=!1),(o=n).downloadSizeLoaded=-1,o.downloadSizeTotal=-1,(s=new XMLHttpRequest).open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(t){o.downloadSizeLoaded=o.downloadSizeTotal;var e=new Blob([this.response]);o.src=window.URL.createObjectURL(e)},s.onprogress=function(t){o.downloadSizeLoaded=t.loaded,o.downloadSizeTotal=t.total},s.onloadstart=function(){o.downloadSizeLoaded=0},s.send()):("data:image/jpeg"==t.slice(0,15)&&(this.hasAlpha=!1),".jpg"==t.slice(t.length-4,t.length)&&(this.hasAlpha=!1),n.src=t),e.resolution=1,e},r.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+n.uuid());var i=n.BaseTextureCache[t._pixiId];return i||(i=new r(t,e),n.BaseTextureCache[t._pixiId]=i),i}},{"../const":18,"../utils":72,eventemitter3:6}],67:[function(t,e,i){function n(t,e,i,n,o){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,i=i||100,o=o||p.RESOLUTION;var s=new r;s.width=e,s.height=i,s.resolution=o,s.scaleMode=n||p.SCALE_MODES.DEFAULT,s.hasLoaded=!0,a.call(this,s,new c.Rectangle(0,0,e,i)),this.width=e,this.height=i,this.resolution=o,this.render=null,this.renderer=t,this.renderer.type===p.RENDERER_TYPE.WEBGL?(t=this.renderer.gl,this.textureBuffer=new l(t,this.width,this.height,s.scaleMode,this.resolution),this.baseTexture._glTextures[t.id]=this.textureBuffer.texture,this.filterManager=new u(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,i),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()):(this.render=this.renderCanvas,this.textureBuffer=new h(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas),this.valid=!0,this._updateUvs()}var r=t("./BaseTexture"),a=t("./Texture"),l=t("../renderers/webgl/utils/RenderTarget"),u=t("../renderers/webgl/managers/FilterManager"),h=t("../renderers/canvas/utils/CanvasBuffer"),c=t("../math"),p=t("../const"),d=new c.Matrix;n.prototype=Object.create(a.prototype),(e.exports=n.prototype.constructor=n).prototype.resize=function(t,e,i){t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,i&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width*this.resolution,this.height*this.resolution),this.filterManager&&this.filterManager.resize(this.width,this.height)))},n.prototype.clear=function(){this.valid&&(this.renderer.type===p.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},n.prototype.renderWebGL=function(t,e,i,n){if(this.valid){if(n=void 0===n||n,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=t.alpha,n){t.worldTransform.identity(),t.currentBounds=null;for(var o=t.children,s=0,r=o.length;s<r;++s)o[s].updateTransform()}n=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,i),this.renderer.filterManager=n}},n.prototype.renderCanvas=function(t,e,i,n){if(this.valid){n=!!n;var o=t.worldTransform,n=d;n.identity(),e&&n.append(e),t.worldTransform=n,t.worldAlpha=1;for(var s=t.children,r=0,a=s.length;r<a;++r)s[r].updateTransform();i&&this.textureBuffer.clear(),t.worldTransform=o;i=this.textureBuffer.context,o=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,i),this.renderer.resolution=o}},n.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},n.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},n.prototype.getBase64=function(){return this.getCanvas().toDataURL()},n.prototype.getCanvas=function(){if(this.renderer.type!==p.RENDERER_TYPE.WEBGL)return this.textureBuffer.canvas;var t=this.renderer.gl,e=this.textureBuffer.size.width,i=this.textureBuffer.size.height,n=new Uint8Array(4*e*i);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,i,t.RGBA,t.UNSIGNED_BYTE,n),t.bindFramebuffer(t.FRAMEBUFFER,null);t=new h(e,i),i=t.context.getImageData(0,0,e,i);return i.data.set(n),t.context.putImageData(i,0,0),t.canvas},n.prototype.getPixels=function(){if(this.renderer.type!==p.RENDERER_TYPE.WEBGL)return e=this.textureBuffer.canvas.width,i=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,e,i).data;var t=this.renderer.gl,e=this.textureBuffer.size.width,i=this.textureBuffer.size.height,n=new Uint8Array(4*e*i);return t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,i,t.RGBA,t.UNSIGNED_BYTE,n),t.bindFramebuffer(t.FRAMEBUFFER,null),n},n.prototype.getPixel=function(t,e){if(this.renderer.type!==p.RENDERER_TYPE.WEBGL)return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data;var i=this.renderer.gl,n=new Uint8Array(4);return i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(t,e,1,1,i.RGBA,i.UNSIGNED_BYTE,n),i.bindFramebuffer(i.FRAMEBUFFER,null),n},n.prototype.setPixels=function(t){this.renderer.type!==p.RENDERER_TYPE.WEBGL&&this.textureBuffer.canvas.getContext("2d").putImageData(t,0,0)}},{"../const":18,"../math":29,"../renderers/canvas/utils/CanvasBuffer":41,"../renderers/webgl/managers/FilterManager":50,"../renderers/webgl/utils/RenderTarget":61,"./BaseTexture":66,"./Texture":68}],68:[function(t,e,i){function s(t,e,i,n,o){if(a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new l.Rectangle(0,0,1,1)),t instanceof s&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||e,this._rotate=+(o||0),!0===o)this._rotate=2;else if(this._rotate%2!=0)throw"attempt to use diamond-shaped UVs. If you are sure, set rotation manually";t.hasLoaded?(this.noFrame&&(e=new l.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var o=t("./BaseTexture"),n=t("./VideoBaseTexture"),r=t("./TextureUvs"),a=t("eventemitter3"),l=t("../math"),u=t("../utils");s.prototype=Object.create(a.prototype),e.exports=s.prototype.constructor=s,Object.defineProperties(s.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}},rotate:{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}}}),s.prototype.update=function(){this.baseTexture.update()},s.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new l.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},s.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},s.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated),this.baseTexture.off("loaded",this.onBaseTextureLoaded),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1},s.prototype.clone=function(){return new s(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},s.prototype._updateUvs=function(){this._uvs||(this._uvs=new r),this._uvs.set(this.crop,this.baseTexture,this.rotate)},s.fromImage=function(t,e,i,n){if(1!=n)return new s(o.fromImage(t,e,i));n=u.TextureCache[t];return n||(n=new s(o.fromImage(t,e,i)),u.TextureCache[t]=n),n},s.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},s.fromCanvas=function(t,e){return new s(o.fromCanvas(t,e))},s.fromVideo=function(t,e){return"string"==typeof t?s.fromVideoUrl(t,e):new s(n.fromVideo(t,e))},s.fromVideoUrl=function(t,e){return new s(n.fromUrl(t,e))},s.addTextureToCache=function(t,e){u.TextureCache[e]=t},s.removeTextureFromCache=function(t){var e=u.TextureCache[t];return delete u.TextureCache[t],delete u.BaseTextureCache[t],e},s.EMPTY=new s(new o)},{"../math":29,"../utils":72,"./BaseTexture":66,"./TextureUvs":69,"./VideoBaseTexture":70,eventemitter3:6}],69:[function(t,e,i){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=n;var l=t("../math/GroupD8");n.prototype.set=function(t,e,i){var n,o,s,r=e.width,a=e.height;i?(n=((s=l.isSwapWidthHeight(i))?t.height:t.width)/2/r,o=(s?t.width:t.height)/2/a,e=t.x/r+n,s=t.y/a+o,i=l.add(i,l.NW),this.x0=e+n*l.uX(i),this.y0=s+o*l.uY(i),i=l.add(i,2),this.x1=e+n*l.uX(i),this.y1=s+o*l.uY(i),i=l.add(i,2),this.x2=e+n*l.uX(i),this.y2=s+o*l.uY(i),i=l.add(i,2),this.x3=e+n*l.uX(i),this.y3=s+o*l.uY(i)):(this.x0=t.x/r,this.y0=t.y/a,this.x1=(t.x+t.width)/r,this.y1=t.y/a,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/a,this.x3=t.x/r,this.y3=(t.y+t.height)/a)}},{"../math/GroupD8":26}],70:[function(t,e,i){function o(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),n.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function s(t,e){e=e||"video/"+t.substr(t.lastIndexOf(".")+1);var i=document.createElement("source");return i.src=t,i.type=e,i}var n=t("./BaseTexture"),r=t("../utils");o.prototype=Object.create(n.prototype),(e.exports=o.prototype.constructor=o).prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},o.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},o.prototype._onPlayStop=function(){this.autoUpdate=!1},o.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},o.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete r.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),n.prototype.destroy.call(this)},o.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+r.uuid());var i=r.BaseTextureCache[t._pixiId];return i||(i=new o(t,e),r.BaseTextureCache[t._pixiId]=i),i},o.fromUrls=o.fromUrl=function(t,e){var i=document.createElement("video");if(Array.isArray(t))for(var n=0;n<t.length;++n)i.appendChild(s(t.src||t,t.mime));else i.appendChild(s(t.src||t,t.mime));return i.load(),i.play(),o.fromVideo(i,e)}},{"../utils":72,"./BaseTexture":66}],71:[function(t,e,i){var f=e.exports={};f.Triangulate=function(t){var e=!0,i=t.length>>1;if(i<3)return[];for(var n=[],o=[],s=0;s<i;s++)o.push(s);for(var s=0,r=i;3<r;){var a=o[(s+0)%r],l=o[(s+1)%r],u=o[(s+2)%r],h=t[2*a],c=t[2*a+1],p=t[2*l],d=t[2*l+1],m=t[2*u],S=t[2*u+1],g=!1;if(f._convex(h,c,p,d,m,S,e))for(var g=!0,y=0;y<r;y++){var T=o[y];if(T!==a&&T!==l&&T!==u&&f._PointInTriangle(t[2*T],t[2*T+1],h,c,p,d,m,S)){g=!1;break}}if(g)n.push(a,l,u),o.splice((s+1)%r,1),r--,s=0;else if(s++>3*r){if(!e)return null;for(n=[],o=[],s=0;s<i;s++)o.push(s);s=0,r=i,e=!1}}return n.push(o[0],o[1],o[2]),n},f._PointInTriangle=function(t,e,i,n,o,s,r,a){r-=i,a-=n,o-=i,s-=n,t-=i,i=e-n,e=r*r+a*a,n=r*o+a*s,r=r*t+a*i,a=o*o+s*s,s=o*t+s*i,i=1/(e*a-n*n),a=(a*r-n*s)*i,i*=e*s-n*r;return 0<=a&&0<=i&&a+i<1},f._convex=function(t,e,i,n,o,s,r){return 0<=(e-n)*(o-i)+(i-t)*(s-n)===r}},{}],72:[function(t,e,i){var n=t("../const"),o=e.exports={_uid:0,_saidHello:!1,pluginTarget:t("./pluginTarget"),PolyK:t("./PolyK"),async:t("async"),uuid:function(){return++o._uid},hex2rgb:function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;i.src=t+"AP804Oa6"+e;var n=new Image;n.src=t+"/wCKxvRF"+e;e=document.createElement("canvas");e.width=6,e.height=1;e=e.getContext("2d");e.globalCompositeOperation="multiply",e.drawImage(i,0,0),e.drawImage(n,2,0);e=e.getImageData(2,0,1,1).data;return 255===e[0]&&0===e[1]&&0===e[2]},getNextPowerOfTwo:function(t){if(0<t&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},isPowerOfTwo:function(t,e){return 0<t&&0==(t&t-1)&&0<e&&0==(e&e-1)},getResolutionOfUrl:function(t){t=n.RETINA_PREFIX.exec(t);return t?parseFloat(t[1]):1},sayHello:function(t){var e;o._saidHello||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(e=["\n %c %c %c Pixi.js "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],window.console.log.apply(console,e)):window.console&&window.console.log("Pixi.js "+n.VERSION+" - "+t+" - http://www.pixijs.com/"),o._saidHello=!0)},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!i||!i.getContextAttributes().stencil)}catch(t){return!1}},TextureCache:{},BaseTextureCache:{}}},{"../const":18,"./PolyK":71,"./pluginTarget":73,async:2}],73:[function(t,e,i){e.exports={mixin:function(t){var i;(i=t).__plugins={},i.registerPlugin=function(t,e){i.__plugins[t]=e},i.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},i.__plugins)this.plugins[t]=new i.__plugins[t](this)},i.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}}},{}],74:[function(t,e,i){var n=t("./core"),o=t("./mesh"),s=t("./extras"),r=t("./core/utils");n.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},n.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(n,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),n.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),n.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),o.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),o.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),s.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),s.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),s.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),n.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),n.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),r.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),r.TextureCache}}}),n.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},s.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},n.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},n.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},n.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")}},{"./core":25,"./core/utils":72,"./extras":81,"./mesh":93}],75:[function(t,e,i){function T(t,e){f.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.dirty=!1,this.updateText()}var f=t("../core");T.prototype=Object.create(f.Container.prototype),e.exports=T.prototype.constructor=T,Object.defineProperties(T.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&0<=t?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=2<=t.length?parseInt(t[0],10):T.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),T.parse=function(t,e){var i={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0];i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(o.getAttribute("lineHeight"),10),i.chars={};for(var s=t.getElementsByTagName("char"),r=0;r<s.length;r++){var a=parseInt(s[r].getAttribute("id"),10),l=new f.math.Rectangle(parseInt(s[r].getAttribute("x"),10)+e.frame.x,parseInt(s[r].getAttribute("y"),10)+e.frame.y,parseInt(s[r].getAttribute("width"),10),parseInt(s[r].getAttribute("height"),10));i.chars[a]={xOffset:parseInt(s[r].getAttribute("xoffset"),10),yOffset:parseInt(s[r].getAttribute("yoffset"),10),xAdvance:parseInt(s[r].getAttribute("xadvance"),10),kerning:{},texture:new f.Texture(e.baseTexture,l)}}for(var u=t.getElementsByTagName("kerning"),r=0;r<u.length;r++){var h=parseInt(u[r].getAttribute("first"),10),c=parseInt(u[r].getAttribute("second"),10),p=parseInt(u[r].getAttribute("amount"),10);i.chars[c].kerning[h]=p}T.fonts[i.font]=i},T.prototype.updateText=function(){for(var t=T.fonts[this._font.name],e=new f.math.Point,i=null,n=[],o=0,s=0,r=[],a=0,l=this._font.size/t.size,u=-1,h=0;h<this.text.length;h++){var c,p=this.text.charCodeAt(h),u=/(\s)/.test(this.text.charAt(h))?h:u;/(?:\r\n|\r|\n)/.test(this.text.charAt(h))?(r.push(o),s=Math.max(s,o),a++,e.x=0,e.y+=t.lineHeight,i=null):-1!==u&&0<this.maxWidth&&e.x*l>this.maxWidth?(n.splice(u,h-u),h=u,u=-1,r.push(o),s=Math.max(s,o),a++,e.x=0,e.y+=t.lineHeight,i=null):(c=t.chars[p])&&(i&&c.kerning[i]&&(e.x+=c.kerning[i]),n.push({texture:c.texture,line:a,charCode:p,position:new f.math.Point(e.x+c.xOffset,e.y+c.yOffset)}),o=e.x+c.xAdvance,e.x+=c.xAdvance,i=p)}r.push(o);for(var s=Math.max(s,o),d=[],h=0;h<=a;h++){var m=0;"right"===this._font.align?m=s-r[h]:"center"===this._font.align&&(m=(s-r[h])/2),d.push(m)}var S=n.length,g=this.tint;for(h=0;h<S;h++){var y=this._glyphs[h];y?y.texture=n[h].texture:(y=new f.Sprite(n[h].texture),this._glyphs.push(y)),y.position.x=(n[h].position.x+d[n[h].line])*l,y.position.y=n[h].position.y*l,y.scale.x=y.scale.y=l,y.tint=g,y.parent||this.addChild(y)}for(h=S;h<this._glyphs.length;++h)this.removeChild(this._glyphs[h]);this.textWidth=s*l,this.textHeight=(e.y+t.lineHeight)*l},T.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),this.containerUpdateTransform()},T.fonts={}},{"../core":25}],76:[function(t,e,i){function n(t){o.Sprite.call(this,t[0]),this._textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var o=t("../core"),s=t("../ticker");n.prototype=Object.create(o.Sprite.prototype),e.exports=n.prototype.constructor=n,Object.defineProperties(n.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){this._textures=t,this.texture=this._textures[Math.floor(this._currentTime)%this._textures.length]}},currentFrame:{get:function(){return Math.floor(this._currentTime)%this._textures.length}}}),n.prototype.stop=function(){this.playing&&(this.playing=!1,s.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,s.shared.add(this.update,this))},n.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t;t=Math.floor(this._currentTime);this._texture=this._textures[t%this._textures.length]},n.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},n.prototype.update=function(t){this._currentTime+=this.animationSpeed*t;t=Math.floor(this._currentTime);t<0?this.loop?(this._currentTime+=this._textures.length,this._texture=this._textures[this._currentTime]):(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this.loop||t<this._textures.length?this._texture=this._textures[t%this._textures.length]:t>=this._textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())},n.prototype.destroy=function(){this.stop(),o.Sprite.prototype.destroy.call(this)},n.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(new o.Texture.fromFrame(t[i]));return new n(e)},n.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(new o.Texture.fromImage(t[i]));return new n(e)}},{"../core":25,"../ticker":100}],77:[function(t,e,i){function s(t,e,i){u.Sprite.call(this,t),this.tileScale=new u.math.Point(1,1),this.tilePosition=new u.math.Point(0,0),this._width=e||100,this._height=i||100,this._uvs=new u.TextureUvs,this._canvasPattern=null,this.shader=new u.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   coord /= uFrame.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","void main(void){","   vec2 coord = fract(vTextureCoord);","   coord *= uFrame.zw;","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]}})}var u=t("../core"),n=new u.Point;s.prototype=Object.create(u.Sprite.prototype),e.exports=s.prototype.constructor=s,Object.defineProperties(s.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),s.prototype._onTextureUpdate=function(){},s.prototype._renderWebGL=function(t){var e,i,n,o,s,r=this._texture;r&&r._uvs&&(e=r._uvs,i=r._frame.width,n=r._frame.height,o=r.baseTexture.width,s=r.baseTexture.height,r._uvs=this._uvs,r._frame.width=this.width,r._frame.height=this.height,this.shader.uniforms.uFrame.value[0]=e.x0+.5/o,this.shader.uniforms.uFrame.value[1]=e.y0+.5/s,this.shader.uniforms.uFrame.value[2]=e.x1-e.x0+-1/o,this.shader.uniforms.uFrame.value[3]=e.y2-e.y0+-1/s,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%o/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%s/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),r._uvs=e,r._frame.width=i,r._frame.height=n)},s.prototype._renderCanvas=function(t){var e,i,n,o,s,r,a,l=this._texture;l.baseTexture.hasLoaded&&(e=t.context,i=this.worldTransform,n=t.resolution,o=l.baseTexture,s=this.tilePosition.x%o.width,r=this.tilePosition.y%o.height,this._canvasPattern||((a=new u.CanvasBuffer(l._frame.width,l._frame.height)).context.drawImage(o.source,-l._frame.x,-l._frame.y),this._canvasPattern=a.context.createPattern(a.canvas,"repeat")),e.globalAlpha=this.worldAlpha,e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),e.scale(this.tileScale.x,this.tileScale.y),e.translate(s+this.anchor.x*-this._width,r+this.anchor.y*-this._height),this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.blendModes[t.currentBlendMode]),e.fillStyle=this._canvasPattern,e.fillRect(-s,-r,this._width/this.tileScale.x,this._height/this.tileScale.y))},s.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),n=t*-this.anchor.x,o=e*(1-this.anchor.y),s=e*-this.anchor.y,r=this.worldTransform,a=r.a,l=r.b,u=r.c,h=r.d,c=r.tx,p=r.ty,d=a*n+u*s+c,t=h*s+l*n+p,e=a*i+u*s+c,r=h*s+l*i+p,s=a*i+u*o+c,i=h*o+l*i+p,c=a*n+u*o+c,l=h*o+l*n+p,n=d,p=l<(p=i<(p=r<(p=t)?r:p)?i:p)?l:p,d=(d=(d=(d=d)<e?e:d)<s?s:d)<c?c:d,t=(t=(t=(t=t)<r?r:t)<i?i:t)<l?l:t,l=this._bounds;return l.x=n=c<(n=s<(n=e<n?e:n)?s:n)?c:n,l.width=d-n,l.y=p,l.height=t-p,this._currentBounds=l},s.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,n);var e=this._width,i=this._height,t=-e*this.anchor.x;return n.x>t&&n.x<t+e&&(e=-i*this.anchor.y,n.y>e&&n.y<e+i)},s.prototype.destroy=function(){u.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},s.fromFrame=function(t,e,i){var n=u.utils.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new s(n,e,i)},s.fromImage=function(t,e,i,n,o){return new s(u.Texture.fromImage(t,n,o),e,i)}},{"../core":25}],78:[function(t,e,i){var r=t("../core"),t=r.DisplayObject,a=new r.Matrix;t.prototype._cacheAsBitmap=!1,t.prototype._originalRenderWebGL=null,t.prototype._originalRenderCanvas=null,t.prototype._originalUpdateTransform=null,t.prototype._originalHitTest=null,t.prototype._originalDestroy=null,t.prototype._cachedSprite=null,Object.defineProperties(t.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainesPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),t.prototype._renderCachedWebGL=function(t){this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite)},t.prototype._initCachedDisplayObject=function(t){var e,i,n,o,s;this._cachedSprite||(t.currentRenderer.flush(),e=this.getLocalBounds().clone(),this._filters&&(s=this._filters[0].padding,e.x-=s,e.y-=s,e.width+=2*s,e.height+=2*s),i=t.currentRenderTarget,n=t.filterManager.filterStack,o=new r.RenderTexture(t,0|e.width,0|e.height),(s=a).tx=-e.x,s.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,o.render(this,s,!0,!0),t.setRenderTarget(i),t.filterManager.filterStack=n,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(o),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite))},t.prototype._renderCachedCanvas=function(t){this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t)},t.prototype._initCachedDisplayObjectCanvas=function(t){var e,i,n,o;this._cachedSprite||(e=this.getLocalBounds(),i=t.context,n=new r.RenderTexture(t,0|e.width,0|e.height),(o=a).tx=-e.x,o.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,o,!0),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite))},t.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},t.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},t.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":25}],79:[function(t,e,i){t=t("../core");t.DisplayObject.prototype.name=null,t.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":25}],80:[function(t,e,i){var n=t("../core");n.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new n.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":25}],81:[function(t,e,i){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":75,"./MovieClip":76,"./TilingSprite":77,"./cacheAsBitmap":78,"./getChildByName":79,"./getGlobalPosition":80}],82:[function(t,e,i){function n(){this.global=new u.Point,this.target=null,this.originalEvent=null}var u=t("../core");(e.exports=n.prototype.constructor=n).prototype.getLocalPosition=function(t,e,i){var n=t.worldTransform,o=i||this.global,s=n.a,r=n.c,a=n.tx,l=n.b,t=n.d,i=n.ty,n=1/(s*t+r*-l);return(e=e||new u.math.Point).x=t*n*o.x+-r*n*o.y+(i*r-a*t)*n,e.y=s*n*o.y+-l*n*o.x+(-i*s+a*l)*n,e}},{"../core":25}],83:[function(t,e,i){function n(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new s,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new o.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var o=t("../core"),s=t("./InteractionData");Object.assign(o.DisplayObject.prototype,t("./interactiveTarget")),(e.exports=n.prototype.constructor=n).prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},n.prototype.addEvents=function(){this.interactionDOMElement&&(o.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},n.prototype.removeEvents=function(){this.interactionDOMElement&&(o.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},n.prototype.update=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,!this.interactionDOMElement)||(this.didMove?this.didMove=!1:(this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)))},n.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.target=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},n.prototype.mapPositionToPoint=function(t,e,i){var n=this.interactionDOMElement.getBoundingClientRect();t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)/this.resolution,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)/this.resolution},n.prototype.processInteractive=function(t,e,i,n,o){if(!e.visible)return!1;var s=e.children,r=!1;if(o=o||e.interactive,e.interactiveChildren)for(var a=s.length-1;0<=a;a--)!r&&n?r=this.processInteractive(t,s[a],i,!0,o):this.processInteractive(t,s[a],i,!1,!1);return o&&(n&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),r=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(r=e.containsPoint(t))),e.interactive&&i(e,r)),r},n.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},n.prototype.processMouseDown=function(t,e){var i=this.mouse.originalEvent,i=2===i.button||3===i.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},n.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},n.prototype.processMouseUp=function(t,e){var i=this.mouse.originalEvent,n=2===i.button||3===i.which,i=n?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,n?"rightup":"mouseup",this.eventData),t[i]&&(t[i]=!1,this.dispatchEvent(t,n?"rightclick":"click",this.eventData))):t[i]&&(t[i]=!1,this.dispatchEvent(t,n?"rightupoutside":"mouseupoutside",this.eventData))},n.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},n.prototype.processMouseMove=function(t,e){this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},n.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},n.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},n.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,i=e.length,n=0;n<i;n++){var o=e[n],o=this.getTouchData(o);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},n.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},n.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,i=e.length,n=0;n<i;n++){var o=e[n],o=this.getTouchData(o);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},n.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},n.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,i=e.length,n=0;n<i;n++){var o=e[n],o=this.getTouchData(o);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,!1),this.returnTouchData(o)}},n.prototype.processTouchMove=function(t,e){this.dispatchEvent(t,"touchmove",this.eventData)},n.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return(e=e||new s).identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),t.globalX=e.global.x,t.globalY=e.global.y,e},n.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},n.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},o.WebGLRenderer.registerPlugin("interaction",n),o.CanvasRenderer.registerPlugin("interaction",n)},{"../core":25,"./InteractionData":82,"./interactiveTarget":85}],84:[function(t,e,i){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":82,"./InteractionManager":83,"./interactiveTarget":85}],85:[function(t,e,i){e.exports={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1}},{}],86:[function(t,e,i){function o(t,e){var i={},n=t.data.getElementsByTagName("info")[0],o=t.data.getElementsByTagName("common")[0];i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(o.getAttribute("lineHeight"),10),i.chars={};for(var s=t.data.getElementsByTagName("char"),r=0;r<s.length;r++){var a=parseInt(s[r].getAttribute("id"),10),l=new d.math.Rectangle(parseInt(s[r].getAttribute("x"),10)+e.frame.x,parseInt(s[r].getAttribute("y"),10)+e.frame.y,parseInt(s[r].getAttribute("width"),10),parseInt(s[r].getAttribute("height"),10));i.chars[a]={xOffset:parseInt(s[r].getAttribute("xoffset"),10),yOffset:parseInt(s[r].getAttribute("yoffset"),10),xAdvance:parseInt(s[r].getAttribute("xadvance"),10),kerning:{},texture:new d.Texture(e.baseTexture,l)}}for(var u=t.data.getElementsByTagName("kerning"),r=0;r<u.length;r++){var h=parseInt(u[r].getAttribute("first"),10),c=parseInt(u[r].getAttribute("second"),10),p=parseInt(u[r].getAttribute("amount"),10);i.chars[c].kerning[h]=p}t.bitmapFont=i,m.BitmapText.fonts[i.font]=i}var s=t("resource-loader").Resource,d=t("../core"),r=t("../core/utils"),m=t("../extras"),a=t("path");e.exports=function(){return function(e,i){if(!e.data||!e.isXml)return i();if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))return i();var t=a.dirname(e.url);"."===t&&(t=""),this.baseUrl&&t&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(t+="/"),t=t.replace(this.baseUrl,"")),t&&"/"!==t.charAt(t.length-1)&&(t+="/");var n=e.data.getElementsByTagName("page")[0].getAttribute("file");r.TextureCache[n]?(o(e,r.TextureCache[n]),i()):(t={crossOrigin:e.crossOrigin,loadType:s.LOAD_TYPE.IMAGE},this.add(e.name+"_image",n,t,function(t){o(e,t.texture),i()}))}}},{"../core":25,"../core/utils":72,"../extras":81,path:4,"resource-loader":14}],87:[function(t,e,i){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":86,"./loader":88,"./spritesheetParser":89,"./textureParser":90,"resource-loader":14}],88:[function(t,e,i){function n(t,e){o.call(this,t,e);for(var i=0;i<n._pixiMiddleware.length;++i)this.use(n._pixiMiddleware[i]())}var o=t("resource-loader"),s=t("./textureParser"),r=t("./spritesheetParser"),t=t("./bitmapFontParser");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,(e.exports=n)._pixiMiddleware=[o.middleware.parsing.blob,s,r,t],n.addPixiMiddleware=function(t){n._pixiMiddleware.push(t)};t=o.Resource;t.setExtensionXhrType("fnt",t.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":86,"./spritesheetParser":89,"./textureParser":90,"resource-loader":14}],89:[function(t,e,i){var n=t("resource-loader").Resource,o=t("path"),u=t("../core");e.exports=function(){return function(r,a){if(!r.data||!r.isJson||!r.data.frames)return a();var t={crossOrigin:r.crossOrigin,loadType:n.LOAD_TYPE.IMAGE},e=o.dirname(r.url.replace(this.baseUrl,"")),l=u.utils.getResolutionOfUrl(r.url);this.add(r.name+"_image",e+"/"+r.data.meta.image,t,function(t){r.textures={};var e,i=r.data.frames;for(e in i){var n,o,s=i[e].frame;s&&(n=o=null,o=i[e].rotated?new u.math.Rectangle(s.x,s.y,s.h,s.w):new u.math.Rectangle(s.x,s.y,s.w,s.h),i[e].trimmed&&(n=new u.math.Rectangle(i[e].spriteSourceSize.x/l,i[e].spriteSourceSize.y/l,i[e].sourceSize.w/l,i[e].sourceSize.h/l)),i[e].rotated&&(s=o.width,o.width=o.height,o.height=s),o.x/=l,o.y/=l,o.width/=l,o.height/=l,r.textures[e]=new u.Texture(t.texture.baseTexture,o,o.clone(),n,i[e].rotated),u.utils.TextureCache[e]=r.textures[e])}a()})}}},{"../core":25,path:4,"resource-loader":14}],90:[function(t,e,i){var n=t("../core");e.exports=function(){return function(t,e){t.data&&t.isImage&&(t.texture=new n.Texture(new n.BaseTexture(t.data,null,n.utils.getResolutionOfUrl(t.url))),n.utils.TextureCache[t.url]=t.texture),e()}}},{"../core":25}],91:[function(t,e,i){function s(t,e,i,n,o){y.Container.call(this),this.texture=t,this.uvs=i||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=n||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=y.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=o||s.DRAW_MODES.TRIANGLE_MESH}var y=t("../core");s.prototype=Object.create(y.Container.prototype),(e.exports=s.prototype.constructor=s).prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},s.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform;t.roundPixels?e.setTransform(i.a,i.b,i.c,i.d,0|i.tx,0|i.ty):e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),this.drawMode===s.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},s.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,i=this.uvs,n=e.length/2,o=0;o<n-2;o++){var s=2*o;this._renderCanvasDrawTriangle(t,e,i,s,2+s,4+s)}},s.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,i=this.uvs,n=this.indices,o=n.length,s=0;s<o;s+=3){var r=2*n[s],a=2*n[s+1],l=2*n[s+2];this._renderCanvasDrawTriangle(t,e,i,r,a,l)}},s.prototype._renderCanvasDrawTriangle=function(t,e,i,n,o,s){var r=this.texture.baseTexture.source,a=this.texture.width,l=this.texture.height,u=e[n],h=e[o],c=e[s],p=e[n+1],d=e[o+1],m=e[s+1],S=i[n]*a,g=i[o]*a,y=i[s]*a,T=i[n+1]*l,f=i[o+1]*l,e=i[s+1]*l;0<this.canvasPadding&&(a=this.canvasPadding/this.worldTransform.a,b=this.canvasPadding/this.worldTransform.d,o=p-(n=(p+d+m)/3),u=(i=(u+h+c)/3)+(s=u-i)/(l=Math.sqrt(s*s+o*o))*(l+a),p=n+o/l*(l+b),o=d-n,h=i+(s=h-i)/(l=Math.sqrt(s*s+o*o))*(l+a),d=n+o/l*(l+b),o=m-n,c=i+(s=c-i)/(l=Math.sqrt(s*s+o*o))*(l+a),m=n+o/l*(l+b)),t.save(),t.beginPath(),t.moveTo(u,p),t.lineTo(h,d),t.lineTo(c,m),t.closePath(),t.clip();var b=S*f+T*y+g*e-f*y-T*g-S*e;t.transform((u*f+T*c+h*e-f*c-T*h-u*e)/b,(p*f+T*m+d*e-f*m-T*d-p*e)/b,(S*h+u*y+g*c-h*y-u*g-S*c)/b,(S*d+p*y+g*m-d*y-p*g-S*m)/b,(S*f*c+T*h*y+u*g*e-u*f*y-T*g*c-S*h*e)/b,(S*f*m+T*d*y+p*g*e-p*f*y-T*g*m-S*d*e)/b),t.drawImage(r,0,0),t.restore()},s.prototype.renderMeshFlat=function(t){var e=this.context,i=t.vertices,n=i.length/2;e.beginPath();for(var o=1;o<n-2;o++){var s=2*o,r=i[s],a=i[2+s],l=i[4+s],u=i[1+s],h=i[3+s],s=i[5+s];e.moveTo(r,u),e.lineTo(a,h),e.lineTo(l,s)}e.fillStyle="#FF0000",e.fill(),e.closePath()},s.prototype.onTextureUpdate=function(){this.updateFrame=!0},s.prototype.getBounds=function(t){for(var t=t||this.worldTransform,e=t.a,i=t.b,n=t.c,o=t.d,s=t.tx,r=t.ty,a=-1/0,l=-1/0,u=1/0,h=1/0,c=this.vertices,p=0,d=c.length;p<d;p+=2)var m=c[p],S=c[p+1],g=e*m+n*S+s,m=o*S+i*m+r,u=g<u?g:u,h=m<h?m:h,a=a<g?g:a,l=l<m?m:l;if(u===-1/0||l===1/0)return y.math.Rectangle.EMPTY;t=this._bounds;return t.x=u,t.width=a-u,t.y=h,t.height=l-h,this._currentBounds=t},s.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":25}],92:[function(t,e,i){function n(t,e){o.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this.refresh()}var o=t("./Mesh");n.prototype=Object.create(o.prototype),(e.exports=n.prototype.constructor=n).prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,i[0]=0,i[1]=1;for(var o,s,r=t.length,a=1;a<r;a++)t[a],e[o=4*a]=s=a/(r-1),e[o+1]=0,e[o+2]=s,e[o+3]=1,n[o=2*a]=1,n[o+1]=1,i[o=2*a]=o,i[o+1]=o+1}},n.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,i,n,o,s,r=t[0],a=this.vertices,l=t.length,u=0;u<l;u++)e=t[u],i=4*u,s=-((n=u<t.length-1?t[u+1]:e).x-r.x),o=n.y-r.y,o/=n=Math.sqrt(o*o+s*s),s/=n,o*=n=this.texture.height/2,s*=n,a[i]=e.x+o,a[1+i]=e.y+s,a[2+i]=e.x-o,a[3+i]=e.y-s,r=e;this.containerUpdateTransform()}}},{"./Mesh":91}],93:[function(t,e,i){e.exports={Mesh:t("./Mesh"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":91,"./Rope":92,"./webgl/MeshRenderer":94,"./webgl/MeshShader":95}],94:[function(t,e,i){function n(t){o.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,i=0;e<15e3;e+=6,i+=4)this.indices[e+0]=i+0,this.indices[e+1]=i+1,this.indices[e+2]=i+2,this.indices[e+3]=i+0,this.indices[e+4]=i+2,this.indices[e+5]=i+3}var o=t("../../core/renderers/webgl/utils/ObjectRenderer"),t=t("../../core/renderers/webgl/WebGLRenderer");n.prototype=Object.create(o.prototype),e.exports=n.prototype.constructor=n,t.registerPlugin("mesh",n),n.prototype.onContextChange=function(){},n.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,i=e.gl,n=t.texture.baseTexture,o=e.shaderManager.plugins.meshShader,s=t.drawMode==={TRIANGLE_MESH:0,TRIANGLES:1}.TRIANGLE_STRIP?i.TRIANGLE_STRIP:i.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),i.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,e.currentRenderTarget.projectionMatrix.toArray(!0));var r,a=t.worldAlpha;t.darkColor?((r=t.lightColor).a*=a,e=t.darkColor,i.uniform4fv(o.uniforms.light._location,[r.r*r.a,r.g*r.a,r.b*r.a,r.a]),i.uniform4fv(o.uniforms.dark._location,[e.r*e.a,e.g*e.a,e.b*e.a,e.a])):(i.uniform4fv(o.uniforms.light._location,[a,a,a,a]),i.uniform4fv(o.uniforms.dark._location,[0,0,0,0])),t.dirty?(t.dirty=!1,i.bindBuffer(i.ARRAY_BUFFER,t._vertexBuffer),i.bufferData(i.ARRAY_BUFFER,t.vertices,i.STATIC_DRAW),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t._uvBuffer),i.bufferData(i.ARRAY_BUFFER,t.uvs,i.STATIC_DRAW),i.vertexAttribPointer(o.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),n._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,n._glTextures[i.id]):this.renderer.updateTexture(n),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t._indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.indices,i.STATIC_DRAW)):(i.bindBuffer(i.ARRAY_BUFFER,t._vertexBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,t.vertices),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t._uvBuffer),i.vertexAttribPointer(o.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),n._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,n._glTextures[i.id]):this.renderer.updateTexture(n),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t._indexBuffer)),i.drawElements(s,t.indices.length,i.UNSIGNED_SHORT,0)},n.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},n.prototype.flush=function(){},n.prototype.start=function(){var t=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(t)},n.prototype.destroy=function(){}},{"../../core/renderers/webgl/WebGLRenderer":45,"../../core/renderers/webgl/utils/ObjectRenderer":59}],95:[function(t,e,i){function n(t){o.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec4 light;","uniform vec4 dark;","void main(void){","vec4 texColor = texture2D(uSampler, vTextureCoord);","gl_FragColor.a = texColor.a * light.a;","gl_FragColor.rgb = ((texColor.a - 1.0) * dark.a + 1.0 - texColor.rgb) * dark.rgb + texColor.rgb * light.rgb;","}"].join("\n"),{light:{type:"4fv",value:[1,1,1,1]},dark:{type:"4fv",value:[0,0,0,1]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var o=t("../../core");n.prototype=Object.create(o.Shader.prototype),e.exports=n.prototype.constructor=n,o.ShaderManager.registerPlugin("meshShader",n)},{"../../core":25}],96:[function(t,e,i){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":7}],97:[function(t,e,i){t("./Object.assign"),t("./requestAnimationFrame")},{"./Object.assign":96,"./requestAnimationFrame":98}],98:[function(t,e,i){!function(t){var e;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),t.performance&&t.performance.now||(e=Date.now(),t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e});for(var n=Date.now(),i=["ms","moz","webkit","o"],o=0;o<i.length&&!t.requestAnimationFrame;++o)t.requestAnimationFrame=t[i[o]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[o]+"CancelAnimationFrame"]||t[i[o]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+n-e;return i<0&&(i=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],99:[function(t,e,i){function n(){var e=this;this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._emitter.listeners(r,!0))},this._emitter=new s,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var o=t("../core"),s=t("eventemitter3"),r="tick";Object.defineProperties(n.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(Math.max(0,t)/1e3,o.TARGET_FPMS);this._maxElapsedMS=1/t}}}),n.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(r,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e){return this._emitter.on(r,t,e),this._startIfPossible(),this},n.prototype.addOnce=function(t,e){return this._emitter.once(r,t,e),this._startIfPossible(),this},n.prototype.remove=function(t,e){return this._emitter.off(r,t,e),this._emitter.listeners(r,!0)||this._cancelIfNeeded(),this},n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.update=function(t){var e;t=t||performance.now(),(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*o.TARGET_FPMS*this.speed,this._emitter.emit(r,this.deltaTime),this.lastTime=t},e.exports=n},{"../core":25,eventemitter3:6}],100:[function(t,e,i){var n=t("./Ticker"),t=new n;t.autoStart=!0,e.exports={shared:t,Ticker:n}},{"./Ticker":99}]},{},[1])(1)});var pixi_spine,__extends=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function AnimationClip(){this.curves=[],this.events=[],this.name="",this.length=0,this.wrapMode=WrapMode.Default}function AnimationClipCurveData(){this.path="",this.propertyName="",this.type="",this.curve=null}function AnimationEvent(){this.functionName="",this.time=0,this.param=""}function Keyframe(t,e,i,n){this.time=t,this.value=e,this.inTangent=void 0!==i?i:0,this.outTangent=n||0}function AnimationCurve(t){this._lastKey=0,this.keys=[],void 0!==t&&this.addKeys(t)}function _source(){this.times={timesCount:0,increase:0},this.inTangents=null,this.outTangents=null}!function(t){!function(M){var A,p,t,L=(e.prototype.apply=function(t,e,i,n,o,s,r,a){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(i%=this.duration,0<e&&(e%=this.duration));for(var l=this.timelines,u=0,h=l.length;u<h;u++)l[u].apply(t,e,i,o,s,r,a)},e.binarySearch=function(t,e,i){var n=0,o=t.length/(i=void 0===i?1:i)-2;if(0==o)return i;for(var s=o>>>1;;){if(t[(s+1)*i]<=e?n=s+1:o=s,n==o)return(n+1)*i;s=n+o>>>1}},e.linearSearch=function(t,e,i){for(var n=0,o=t.length-i;n<=o;n+=i)if(t[n]>e)return n;return-1},e);function e(t,e,i){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=i}M.Animation=L,(i=A=M.MixPose||(M.MixPose={}))[i.setup=0]="setup",i[i.current=1]="current",i[i.currentLayered=2]="currentLayered",(o=p=M.MixDirection||(M.MixDirection={}))[o.in=0]="in",o[o.out=1]="out",(r=t=M.TimelineType||(M.TimelineType={}))[r.rotate=0]="rotate",r[r.translate=1]="translate",r[r.scale=2]="scale",r[r.shear=3]="shear",r[r.attachment=4]="attachment",r[r.color=5]="color",r[r.deform=6]="deform",r[r.event=7]="event",r[r.drawOrder=8]="drawOrder",r[r.ikConstraint=9]="ikConstraint",r[r.transformConstraint=10]="transformConstraint",r[r.pathConstraintPosition=11]="pathConstraintPosition",r[r.pathConstraintSpacing=12]="pathConstraintSpacing",r[r.pathConstraintMix=13]="pathConstraintMix",r[r.twoColor=14]="twoColor";var i=(T.prototype.getFrameCount=function(){return this.curves.length/T.BEZIER_SIZE+1},T.prototype.setLinear=function(t){this.curves[t*T.BEZIER_SIZE]=T.LINEAR},T.prototype.setStepped=function(t){this.curves[t*T.BEZIER_SIZE]=T.STEPPED},T.prototype.getCurveType=function(t){t*=T.BEZIER_SIZE;if(t==this.curves.length)return T.LINEAR;t=this.curves[t];return t==T.LINEAR?T.LINEAR:t==T.STEPPED?T.STEPPED:T.BEZIER},T.prototype.setCurve=function(t,e,i,n,o){var s=.03*(2*-e+n),r=.03*(2*-i+o),a=.006*(3*(e-n)+1),l=.006*(3*(i-o)+1),u=2*s+a,h=2*r+l,c=.3*e+s+.16666667*a,p=.3*i+r+.16666667*l,d=t*T.BEZIER_SIZE,m=this.curves;m[d++]=T.BEZIER;for(var S=c,g=p,y=d+T.BEZIER_SIZE-1;d<y;d+=2)m[d]=S,m[d+1]=g,c+=u,p+=h,u+=a,h+=l,S+=c,g+=p},T.prototype.getCurvePercent=function(t,e){e=M.MathUtils.clamp(e,0,1);var i=this.curves,n=t*T.BEZIER_SIZE,t=i[n];if(t==T.LINEAR)return e;if(t==T.STEPPED)return 0;for(var o=0,s=++n,r=n+T.BEZIER_SIZE-1;n<r;n+=2)if(e<=(o=i[n])){var a=void 0,l=void 0;return(l=n==s?a=0:(a=i[n-2],i[n-1]))+(i[n+1]-l)*(e-a)/(o-a)}t=i[n-1];return t+(1-t)*(e-o)/(1-o)},T.LINEAR=0,T.STEPPED=1,T.BEZIER=2,T.BEZIER_SIZE=19,T);function T(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=M.Utils.newFloatArray((t-1)*T.BEZIER_SIZE)}M.CurveTimeline=i;var n,o=(__extends(d,n=i),d.prototype.getPropertyId=function(){return(t.rotate<<24)+this.boneIndex},d.prototype.setFrame=function(t,e,i){this.frames[t<<=1]=e,this.frames[t+d.ROTATION]=i},d.prototype.apply=function(t,e,i,n,o,s,r){var a,l,u=this.frames,h=t.bones[this.boneIndex];if(i<u[0])switch(s){case A.setup:return void(h.rotation=h.data.rotation);case A.current:var c=h.data.rotation-h.rotation;h.rotation+=(c-=360*(16384-(16384.499999999996-c/360|0)))*o}else i>=u[u.length-d.ENTRIES]?s==A.setup?h.rotation=h.data.rotation+u[u.length+d.PREV_ROTATION]*o:(a=h.data.rotation+u[u.length+d.PREV_ROTATION]-h.rotation,h.rotation+=(a-=360*(16384-(16384.499999999996-a/360|0)))*o):(t=u[(l=L.binarySearch(u,i,d.ENTRIES))+d.PREV_ROTATION],a=u[l],a=this.getCurvePercent((l>>1)-1,1-(i-a)/(u[l+d.PREV_TIME]-a)),l=u[l+d.ROTATION]-t,l=t+(l-=360*(16384-(16384.499999999996-l/360|0)))*a,s==A.setup?h.rotation=h.data.rotation+(l-=360*(16384-(16384.499999999996-l/360|0)))*o:(l=h.data.rotation+l-h.rotation,h.rotation+=(l-=360*(16384-(16384.499999999996-l/360|0)))*o))},d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_ROTATION=-1,d.ROTATION=1,d);function d(t){var e=n.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t<<1),e}M.RotateTimeline=o;var s,r=(__extends(m,s=i),m.prototype.getPropertyId=function(){return(t.translate<<24)+this.boneIndex},m.prototype.setFrame=function(t,e,i,n){this.frames[t*=m.ENTRIES]=e,this.frames[t+m.X]=i,this.frames[t+m.Y]=n},m.prototype.apply=function(t,e,i,n,o,s,r){var a=this.frames,l=t.bones[this.boneIndex];if(i<a[0])switch(s){case A.setup:return l.x=l.data.x,void(l.y=l.data.y);case A.current:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}else{var u,h=0,c=0;i>=a[a.length-m.ENTRIES]?(h=a[a.length+m.PREV_X],c=a[a.length+m.PREV_Y]):(h=a[(u=L.binarySearch(a,i,m.ENTRIES))+m.PREV_X],c=a[u+m.PREV_Y],t=a[u],t=this.getCurvePercent(u/m.ENTRIES-1,1-(i-t)/(a[u+m.PREV_TIME]-t)),h+=(a[u+m.X]-h)*t,c+=(a[u+m.Y]-c)*t),s==A.setup?(l.x=l.data.x+h*o,l.y=l.data.y+c*o):(l.x+=(l.data.x+h-l.x)*o,l.y+=(l.data.y+c-l.y)*o)}},m.ENTRIES=3,m.PREV_TIME=-3,m.PREV_X=-2,m.PREV_Y=-1,m.X=1,m.Y=2,m);function m(t){var e=s.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t*m.ENTRIES),e}M.TranslateTimeline=r;var a,o=(__extends(S,a=r),S.prototype.getPropertyId=function(){return(t.scale<<24)+this.boneIndex},S.prototype.apply=function(t,e,i,n,o,s,r){var a=this.frames,l=t.bones[this.boneIndex];if(i<a[0])switch(s){case A.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case A.current:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}else{var u,h,c=0,t=0;t=i>=a[a.length-S.ENTRIES]?(c=a[a.length+S.PREV_X]*l.data.scaleX,a[a.length+S.PREV_Y]*l.data.scaleY):(c=a[(u=L.binarySearch(a,i,S.ENTRIES))+S.PREV_X],t=a[u+S.PREV_Y],h=a[u],h=this.getCurvePercent(u/S.ENTRIES-1,1-(i-h)/(a[u+S.PREV_TIME]-h)),c=(c+(a[u+S.X]-c)*h)*l.data.scaleX,(t+(a[u+S.Y]-t)*h)*l.data.scaleY),1==o?(l.scaleX=c,l.scaleY=t):(h=u=0,h=s==A.setup?(u=l.data.scaleX,l.data.scaleY):(u=l.scaleX,l.scaleY),r==p.out?(c=Math.abs(c)*M.MathUtils.signum(u),t=Math.abs(t)*M.MathUtils.signum(h)):(u=Math.abs(u)*M.MathUtils.signum(c),h=Math.abs(h)*M.MathUtils.signum(t)),l.scaleX=u+(c-u)*o,l.scaleY=h+(t-h)*o)}},S);function S(t){return a.call(this,t)||this}M.ScaleTimeline=o;var l,r=(__extends(g,l=r),g.prototype.getPropertyId=function(){return(t.shear<<24)+this.boneIndex},g.prototype.apply=function(t,e,i,n,o,s,r){var a=this.frames,l=t.bones[this.boneIndex];if(i<a[0])switch(s){case A.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case A.current:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}else{var u,h=0,c=0;i>=a[a.length-g.ENTRIES]?(h=a[a.length+g.PREV_X],c=a[a.length+g.PREV_Y]):(h=a[(u=L.binarySearch(a,i,g.ENTRIES))+g.PREV_X],c=a[u+g.PREV_Y],t=a[u],t=this.getCurvePercent(u/g.ENTRIES-1,1-(i-t)/(a[u+g.PREV_TIME]-t)),h+=(a[u+g.X]-h)*t,c+=(a[u+g.Y]-c)*t),s==A.setup?(l.shearX=l.data.shearX+h*o,l.shearY=l.data.shearY+c*o):(l.shearX+=(l.data.shearX+h-l.shearX)*o,l.shearY+=(l.data.shearY+c-l.shearY)*o)}},g);function g(t){return l.call(this,t)||this}M.ShearTimeline=r;var u,r=(__extends(y,u=i),y.prototype.getPropertyId=function(){return(t.color<<24)+this.slotIndex},y.prototype.setFrame=function(t,e,i,n,o,s){this.frames[t*=y.ENTRIES]=e,this.frames[t+y.R]=i,this.frames[t+y.G]=n,this.frames[t+y.B]=o,this.frames[t+y.A]=s},y.prototype.apply=function(t,e,i,n,o,s,r){var a=t.slots[this.slotIndex],l=this.frames;if(i<l[0])switch(s){case A.setup:return void a.color.setFromColor(a.data.color);case A.current:var u=a.color,h=a.data.color;u.add((h.r-u.r)*o,(h.g-u.g)*o,(h.b-u.b)*o,(h.a-u.a)*o)}else{var c,p=0,d=0,m=0,S=0;i>=l[l.length-y.ENTRIES]?(p=l[(c=l.length)+y.PREV_R],d=l[c+y.PREV_G],m=l[c+y.PREV_B],S=l[c+y.PREV_A]):(p=l[(t=L.binarySearch(l,i,y.ENTRIES))+y.PREV_R],d=l[t+y.PREV_G],m=l[t+y.PREV_B],S=l[t+y.PREV_A],c=l[t],c=this.getCurvePercent(t/y.ENTRIES-1,1-(i-c)/(l[t+y.PREV_TIME]-c)),p+=(l[t+y.R]-p)*c,d+=(l[t+y.G]-d)*c,m+=(l[t+y.B]-m)*c,S+=(l[t+y.A]-S)*c),1==o?a.color.set(p,d,m,S):(u=a.color,s==A.setup&&u.setFromColor(a.data.color),u.add((p-u.r)*o,(d-u.g)*o,(m-u.b)*o,(S-u.a)*o))}},y.ENTRIES=5,y.PREV_TIME=-5,y.PREV_R=-4,y.PREV_G=-3,y.PREV_B=-2,y.PREV_A=-1,y.R=1,y.G=2,y.B=3,y.A=4,y);function y(t){var e=u.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t*y.ENTRIES),e}M.ColorTimeline=r;var h,r=(__extends(C,h=i),C.prototype.getPropertyId=function(){return(t.twoColor<<24)+this.slotIndex},C.prototype.setFrame=function(t,e,i,n,o,s,r,a,l){this.frames[t*=C.ENTRIES]=e,this.frames[t+C.R]=i,this.frames[t+C.G]=n,this.frames[t+C.B]=o,this.frames[t+C.A]=s,this.frames[t+C.R2]=r,this.frames[t+C.G2]=a,this.frames[t+C.B2]=l},C.prototype.apply=function(t,e,i,n,o,s,r){var a=t.slots[this.slotIndex],l=this.frames;if(i<l[0])switch(s){case A.setup:return a.color.setFromColor(a.data.color),void a.darkColor.setFromColor(a.data.darkColor);case A.current:var u=a.color,h=a.darkColor,c=a.data.color,p=a.data.darkColor;u.add((c.r-u.r)*o,(c.g-u.g)*o,(c.b-u.b)*o,(c.a-u.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}else{var d,m=0,S=0,g=0,y=0,T=0,f=0,b=0;i>=l[l.length-C.ENTRIES]?(m=l[(d=l.length)+C.PREV_R],S=l[d+C.PREV_G],g=l[d+C.PREV_B],y=l[d+C.PREV_A],T=l[d+C.PREV_R2],f=l[d+C.PREV_G2],b=l[d+C.PREV_B2]):(m=l[(t=L.binarySearch(l,i,C.ENTRIES))+C.PREV_R],S=l[t+C.PREV_G],g=l[t+C.PREV_B],y=l[t+C.PREV_A],T=l[t+C.PREV_R2],f=l[t+C.PREV_G2],b=l[t+C.PREV_B2],d=l[t],d=this.getCurvePercent(t/C.ENTRIES-1,1-(i-d)/(l[t+C.PREV_TIME]-d)),m+=(l[t+C.R]-m)*d,S+=(l[t+C.G]-S)*d,g+=(l[t+C.B]-g)*d,y+=(l[t+C.A]-y)*d,T+=(l[t+C.R2]-T)*d,f+=(l[t+C.G2]-f)*d,b+=(l[t+C.B2]-b)*d),1==o?(a.color.set(m,S,g,y),a.darkColor.set(T,f,b,1)):(u=a.color,h=a.darkColor,s==A.setup&&(u.setFromColor(a.data.color),h.setFromColor(a.data.darkColor)),u.add((m-u.r)*o,(S-u.g)*o,(g-u.b)*o,(y-u.a)*o),h.add((T-h.r)*o,(f-h.g)*o,(b-h.b)*o,0))}},C.ENTRIES=8,C.PREV_TIME=-8,C.PREV_R=-7,C.PREV_G=-6,C.PREV_B=-5,C.PREV_A=-4,C.PREV_R2=-3,C.PREV_G2=-2,C.PREV_B2=-1,C.R=1,C.G=2,C.B=3,C.A=4,C.R2=5,C.G2=6,C.B2=7,C);function C(t){var e=h.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t*C.ENTRIES),e}M.TwoColorTimeline=r;c.prototype.getPropertyId=function(){return(t.attachment<<24)+this.slotIndex},c.prototype.getFrameCount=function(){return this.frames.length},c.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},c.prototype.apply=function(t,e,i,n,o,s,r){var a,l=t.slots[this.slotIndex];r!=p.out||s!=A.setup?i<(r=this.frames)[0]?s==A.setup&&(s=l.data.attachmentName,l.setAttachment(null==s?null:t.getAttachment(this.slotIndex,s))):(a=0,a=i>=r[r.length-1]?r.length-1:L.binarySearch(r,i,1)-1,a=this.attachmentNames[a],t.slots[this.slotIndex].setAttachment(null==a?null:t.getAttachment(this.slotIndex,a))):(a=l.data.attachmentName,l.setAttachment(null==a?null:t.getAttachment(this.slotIndex,a)))},r=c;function c(t){this.frames=M.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}M.AttachmentTimeline=r;var f,b=null,r=(__extends(v,f=i),v.prototype.getPropertyId=function(){return(t.deform<<27)+ +this.attachment.id+this.slotIndex},v.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.frameVertices[t]=i},v.prototype.apply=function(t,e,i,n,o,s,r){var a=t.slots[this.slotIndex],l=a.getAttachment();if(l instanceof M.VertexAttachment&&l.applyDeform(this.attachment)){var u=a.attachmentVertices;0==u.length&&(o=1);var h=this.frameVertices,c=h[0].length,t=this.frames;if(i<t[0]){var p=l;switch(s){case A.setup:return void(u.length=0);case A.current:if(1==o){u.length=0;break}var d=M.Utils.setArraySize(u,c);if(null==p.bones)for(var m=p.vertices,S=0;S<c;S++)d[S]+=(m[S]-d[S])*o;else{o=1-o;for(S=0;S<c;S++)d[S]*=o}}}else{var g=M.Utils.setArraySize(u,c);if(i>=t[t.length-1]){var y=h[t.length-1];if(1==o)M.Utils.arrayCopy(y,0,g,0,c);else if(s==A.setup)if(null==(p=l).bones)for(m=p.vertices,S=0;S<c;S++){var T=m[S];g[S]=T+(y[S]-T)*o}else for(S=0;S<c;S++)g[S]=y[S]*o;else for(S=0;S<c;S++)g[S]+=(y[S]-g[S])*o}else{var a=L.binarySearch(t,i),f=h[a-1],b=h[a],h=t[a],C=this.getCurvePercent(a-1,1-(i-h)/(t[a-1]-h));if(1==o)for(S=0;S<c;S++){var v=f[S];g[S]=v+(b[S]-v)*C}else if(s==A.setup)if(null==(p=l).bones)for(m=p.vertices,S=0;S<c;S++){v=f[S],T=m[S];g[S]=T+(v+(b[S]-v)*C-T)*o}else for(S=0;S<c;S++){v=f[S];g[S]=(v+(b[S]-v)*C)*o}else for(S=0;S<c;S++){v=f[S];g[S]+=(v+(b[S]-v)*C-g[S])*o}}}}},v);function v(t){var e=f.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==b&&(b=M.Utils.newFloatArray(64)),e}M.DeformTimeline=r;I.prototype.getPropertyId=function(){return t.event<<24},I.prototype.getFrameCount=function(){return this.frames.length},I.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},I.prototype.apply=function(t,e,i,n,o,s,r){if(null!=n){var a=this.frames,l=this.frames.length;if(i<e)this.apply(t,e,Number.MAX_VALUE,n,o,s,r),e=-1;else if(e>=a[l-1])return;if(!(i<a[0])){var u=0;if(e<a[0])u=0;else for(var h=a[u=L.binarySearch(a,e)];0<u&&a[u-1]==h;)u--;for(;u<l&&i>=a[u];u++)n.push(this.events[u])}}},r=I;function I(t){this.frames=M.Utils.newFloatArray(t),this.events=new Array(t)}M.EventTimeline=r;R.prototype.getPropertyId=function(){return t.drawOrder<<24},R.prototype.getFrameCount=function(){return this.frames.length},R.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.drawOrders[t]=i},R.prototype.apply=function(t,e,i,n,o,s,r){var a=t.drawOrder,l=t.slots;if(r!=p.out||s!=A.setup){r=this.frames;if(i<r[0])s==A.setup&&M.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var s=0,s=i>=r[r.length-1]?r.length-1:L.binarySearch(r,i)-1,u=this.drawOrders[s];if(null==u)M.Utils.arrayCopy(l,0,a,0,l.length);else for(var h=0,c=u.length;h<c;h++)a[h]=l[u[h]]}}else M.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},r=R;function R(t){this.frames=M.Utils.newFloatArray(t),this.drawOrders=new Array(t)}M.DrawOrderTimeline=r;var P,r=(__extends(_,P=i),_.prototype.getPropertyId=function(){return(t.ikConstraint<<24)+this.ikConstraintIndex},_.prototype.setFrame=function(t,e,i,n){this.frames[t*=_.ENTRIES]=e,this.frames[t+_.MIX]=i,this.frames[t+_.BEND_DIRECTION]=n},_.prototype.apply=function(t,e,i,n,o,s,r){var a,l,u=this.frames,h=t.ikConstraints[this.ikConstraintIndex];if(i<u[0])switch(s){case A.setup:return h.mix=h.data.mix,void(h.bendDirection=h.data.bendDirection);case A.current:h.mix+=(h.data.mix-h.mix)*o,h.bendDirection=h.data.bendDirection}else i>=u[u.length-_.ENTRIES]?s==A.setup?(h.mix=h.data.mix+(u[u.length+_.PREV_MIX]-h.data.mix)*o,h.bendDirection=r==p.out?h.data.bendDirection:u[u.length+_.PREV_BEND_DIRECTION]):(h.mix+=(u[u.length+_.PREV_MIX]-h.mix)*o,r==p.in&&(h.bendDirection=u[u.length+_.PREV_BEND_DIRECTION])):(l=u[(a=L.binarySearch(u,i,_.ENTRIES))+_.PREV_MIX],t=u[a],t=this.getCurvePercent(a/_.ENTRIES-1,1-(i-t)/(u[a+_.PREV_TIME]-t)),s==A.setup?(h.mix=h.data.mix+(l+(u[a+_.MIX]-l)*t-h.data.mix)*o,h.bendDirection=r==p.out?h.data.bendDirection:u[a+_.PREV_BEND_DIRECTION]):(h.mix+=(l+(u[a+_.MIX]-l)*t-h.mix)*o,r==p.in&&(h.bendDirection=u[a+_.PREV_BEND_DIRECTION])))},_.ENTRIES=3,_.PREV_TIME=-3,_.PREV_MIX=-2,_.PREV_BEND_DIRECTION=-1,_.MIX=1,_.BEND_DIRECTION=2,_);function _(t){var e=P.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t*_.ENTRIES),e}M.IkConstraintTimeline=r;var E,r=(__extends(D,E=i),D.prototype.getPropertyId=function(){return(t.transformConstraint<<24)+this.transformConstraintIndex},D.prototype.setFrame=function(t,e,i,n,o,s){this.frames[t*=D.ENTRIES]=e,this.frames[t+D.ROTATE]=i,this.frames[t+D.TRANSLATE]=n,this.frames[t+D.SCALE]=o,this.frames[t+D.SHEAR]=s},D.prototype.apply=function(t,e,i,n,o,s,r){var a=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(i<a[0]){var u=l.data;switch(s){case A.setup:return l.rotateMix=u.rotateMix,l.translateMix=u.translateMix,l.scaleMix=u.scaleMix,void(l.shearMix=u.shearMix);case A.current:l.rotateMix+=(u.rotateMix-l.rotateMix)*o,l.translateMix+=(u.translateMix-l.translateMix)*o,l.scaleMix+=(u.scaleMix-l.scaleMix)*o,l.shearMix+=(u.shearMix-l.shearMix)*o}}else{var h,c=0,p=0,d=0,m=0;i>=a[a.length-D.ENTRIES]?(c=a[(h=a.length)+D.PREV_ROTATE],p=a[h+D.PREV_TRANSLATE],d=a[h+D.PREV_SCALE],m=a[h+D.PREV_SHEAR]):(c=a[(t=L.binarySearch(a,i,D.ENTRIES))+D.PREV_ROTATE],p=a[t+D.PREV_TRANSLATE],d=a[t+D.PREV_SCALE],m=a[t+D.PREV_SHEAR],h=a[t],h=this.getCurvePercent(t/D.ENTRIES-1,1-(i-h)/(a[t+D.PREV_TIME]-h)),c+=(a[t+D.ROTATE]-c)*h,p+=(a[t+D.TRANSLATE]-p)*h,d+=(a[t+D.SCALE]-d)*h,m+=(a[t+D.SHEAR]-m)*h),s==A.setup?(u=l.data,l.rotateMix=u.rotateMix+(c-u.rotateMix)*o,l.translateMix=u.translateMix+(p-u.translateMix)*o,l.scaleMix=u.scaleMix+(d-u.scaleMix)*o,l.shearMix=u.shearMix+(m-u.shearMix)*o):(l.rotateMix+=(c-l.rotateMix)*o,l.translateMix+=(p-l.translateMix)*o,l.scaleMix+=(d-l.scaleMix)*o,l.shearMix+=(m-l.shearMix)*o)}},D.ENTRIES=5,D.PREV_TIME=-5,D.PREV_ROTATE=-4,D.PREV_TRANSLATE=-3,D.PREV_SCALE=-2,D.PREV_SHEAR=-1,D.ROTATE=1,D.TRANSLATE=2,D.SCALE=3,D.SHEAR=4,D);function D(t){var e=E.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t*D.ENTRIES),e}M.TransformConstraintTimeline=r;var w,r=(__extends(O,w=i),O.prototype.getPropertyId=function(){return(t.pathConstraintPosition<<24)+this.pathConstraintIndex},O.prototype.setFrame=function(t,e,i){this.frames[t*=O.ENTRIES]=e,this.frames[t+O.VALUE]=i},O.prototype.apply=function(t,e,i,n,o,s,r){var a=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(i<a[0])switch(s){case A.setup:return void(l.position=l.data.position);case A.current:l.position+=(l.data.position-l.position)*o}else{var u,h=0;i>=a[a.length-O.ENTRIES]?h=a[a.length+O.PREV_VALUE]:(h=a[(u=L.binarySearch(a,i,O.ENTRIES))+O.PREV_VALUE],t=a[u],t=this.getCurvePercent(u/O.ENTRIES-1,1-(i-t)/(a[u+O.PREV_TIME]-t)),h+=(a[u+O.VALUE]-h)*t),s==A.setup?l.position=l.data.position+(h-l.data.position)*o:l.position+=(h-l.position)*o}},O.ENTRIES=2,O.PREV_TIME=-2,O.PREV_VALUE=-1,O.VALUE=1,O);function O(t){var e=w.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t*O.ENTRIES),e}M.PathConstraintPositionTimeline=r;var x,r=(__extends(B,x=r),B.prototype.getPropertyId=function(){return(t.pathConstraintSpacing<<24)+this.pathConstraintIndex},B.prototype.apply=function(t,e,i,n,o,s,r){var a=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(i<a[0])switch(s){case A.setup:return void(l.spacing=l.data.spacing);case A.current:l.spacing+=(l.data.spacing-l.spacing)*o}else{var u,h=0;i>=a[a.length-B.ENTRIES]?h=a[a.length+B.PREV_VALUE]:(h=a[(u=L.binarySearch(a,i,B.ENTRIES))+B.PREV_VALUE],t=a[u],t=this.getCurvePercent(u/B.ENTRIES-1,1-(i-t)/(a[u+B.PREV_TIME]-t)),h+=(a[u+B.VALUE]-h)*t),s==A.setup?l.spacing=l.data.spacing+(h-l.data.spacing)*o:l.spacing+=(h-l.spacing)*o}},B);function B(t){return x.call(this,t)||this}M.PathConstraintSpacingTimeline=r;var V,i=(__extends(G,V=i),G.prototype.getPropertyId=function(){return(t.pathConstraintMix<<24)+this.pathConstraintIndex},G.prototype.setFrame=function(t,e,i,n){this.frames[t*=G.ENTRIES]=e,this.frames[t+G.ROTATE]=i,this.frames[t+G.TRANSLATE]=n},G.prototype.apply=function(t,e,i,n,o,s,r){var a=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(i<a[0])switch(s){case A.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case A.current:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*o,l.translateMix+=(l.data.translateMix-l.translateMix)*o}else{var u,h=0,c=0;i>=a[a.length-G.ENTRIES]?(h=a[a.length+G.PREV_ROTATE],c=a[a.length+G.PREV_TRANSLATE]):(h=a[(u=L.binarySearch(a,i,G.ENTRIES))+G.PREV_ROTATE],c=a[u+G.PREV_TRANSLATE],t=a[u],t=this.getCurvePercent(u/G.ENTRIES-1,1-(i-t)/(a[u+G.PREV_TIME]-t)),h+=(a[u+G.ROTATE]-h)*t,c+=(a[u+G.TRANSLATE]-c)*t),s==A.setup?(l.rotateMix=l.data.rotateMix+(h-l.data.rotateMix)*o,l.translateMix=l.data.translateMix+(c-l.data.translateMix)*o):(l.rotateMix+=(h-l.rotateMix)*o,l.translateMix+=(c-l.translateMix)*o)}},G.ENTRIES=3,G.PREV_TIME=-3,G.PREV_ROTATE=-2,G.PREV_TRANSLATE=-1,G.ROTATE=1,G.TRANSLATE=2,G);function G(t){var e=V.call(this,t)||this;return e.frames=M.Utils.newFloatArray(t*G.ENTRIES),e}M.PathConstraintMixTimeline=i}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(M){var m=(A.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,i=0,n=e.length;i<n;i++){var o=e[i];if(null!=o){o.animationLast=o.nextAnimationLast,o.trackLast=o.nextTrackLast;var s=t*o.timeScale;if(0<o.delay){if(o.delay-=s,0<o.delay)continue;s=-o.delay,o.delay=0}var r=o.next;if(null!=r){var a=o.trackLast-r.delay;if(0<=a){for(r.delay=0,r.trackTime=a+t*r.timeScale,o.trackTime+=s,this.setCurrent(i,r,!0);null!=r.mixingFrom;)r.mixTime+=s,r=r.mixingFrom;continue}}else if(o.trackLast>=o.trackEnd&&null==o.mixingFrom){e[i]=null,this.queue.end(o),this.disposeNext(o);continue}if(null!=o.mixingFrom&&this.updateMixingFrom(o,t)){var l=o.mixingFrom;for(o.mixingFrom=null;null!=l;)this.queue.end(l),l=l.mixingFrom}o.trackTime+=s}}this.queue.drain()},A.prototype.updateMixingFrom=function(t,e){var i=t.mixingFrom;if(null==i)return!0;var n=this.updateMixingFrom(i,e);return 0<t.mixTime&&(t.mixTime>=t.mixDuration||0==t.timeScale)?(0==i.totalAlpha&&(t.mixingFrom=i.mixingFrom,t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),n):(i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,i.trackTime+=e*i.timeScale,t.mixTime+=e*t.timeScale,!1)},A.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,i=this.tracks,n=!1,o=0,s=i.length;o<s;o++){var r=i[o];if(!(null==r||0<r.delay)){var n=!0,a=0==o?M.MixPose.current:M.MixPose.currentLayered,l=r.alpha;null!=r.mixingFrom?l*=this.applyMixingFrom(r,t,a):r.trackTime>=r.trackEnd&&null==r.next&&(l=0);var u=r.animationLast,h=r.getAnimationTime(),c=r.animation.timelines.length,p=r.animation.timelines;if(1==l)for(var d=0;d<c;d++)p[d].apply(t,u,h,e,1,M.MixPose.setup,M.MixDirection.in);else{var m=r.timelineData,S=0==r.timelinesRotation.length;S&&M.Utils.setArraySize(r.timelinesRotation,c<<1,null);for(var g=r.timelinesRotation,d=0;d<c;d++){var y=p[d],T=m[d]>=A.FIRST?M.MixPose.setup:a;y instanceof M.RotateTimeline?this.applyRotateTimeline(y,t,h,l,T,g,d<<1,S):(M.Utils.webkit602BugfixHelper(l,T),y.apply(t,u,h,e,l,T,M.MixDirection.in))}}this.queueEvents(r,h),e.length=0,r.nextAnimationLast=h,r.nextTrackLast=r.trackTime}}return this.queue.drain(),n},A.prototype.applyMixingFrom=function(t,e,i){var n=t.mixingFrom;null!=n.mixingFrom&&this.applyMixingFrom(n,e,i);var o=0;0==t.mixDuration?(o=1,i=M.MixPose.setup):1<(o=t.mixTime/t.mixDuration)&&(o=1);var s=o<n.eventThreshold?this.events:null,r=o<n.attachmentThreshold,a=o<n.drawOrderThreshold,l=n.animationLast,u=n.getAnimationTime(),h=n.animation.timelines.length,c=n.animation.timelines,p=n.timelineData,d=n.timelineDipMix,m=0==n.timelinesRotation.length;m&&M.Utils.setArraySize(n.timelinesRotation,h<<1,null);for(var S=n.timelinesRotation,g=n.alpha*t.interruptAlpha,y=g*(1-o),T=0,f=n.totalAlpha=0;f<h;f++){var b=c[f];switch(p[f]){case A.SUBSEQUENT:if(!r&&b instanceof M.AttachmentTimeline)continue;if(!a&&b instanceof M.DrawOrderTimeline)continue;C=i,T=y;break;case A.FIRST:C=M.MixPose.setup,T=y;break;case A.DIP:C=M.MixPose.setup,T=g;break;default:var C=M.MixPose.setup,T=g,v=d[f];T*=Math.max(0,1-v.mixTime/v.mixDuration)}n.totalAlpha+=T,b instanceof M.RotateTimeline?this.applyRotateTimeline(b,e,u,T,C,S,f<<1,m):b.apply(e,l,u,s,T,C,M.MixDirection.out)}return 0<t.mixDuration&&this.queueEvents(n,u),this.events.length=0,n.nextAnimationLast=u,n.nextTrackLast=n.trackTime,o},A.prototype.applyRotateTimeline=function(t,e,i,n,o,s,r,a){var l,u,h,c,p,d,m,S;a&&(s[r]=0),1!=n?(h=(l=t).frames,u=e.bones[l.boneIndex],i<h[0]?o==M.MixPose.setup&&(u.rotation=u.data.rotation):(S=0,i>=h[h.length-M.RotateTimeline.ENTRIES]?S=u.data.rotation+h[h.length+M.RotateTimeline.PREV_ROTATION]:(d=h[(p=M.Animation.binarySearch(h,i,M.RotateTimeline.ENTRIES))+M.RotateTimeline.PREV_ROTATION],c=h[p],m=l.getCurvePercent((p>>1)-1,1-(i-c)/(h[p+M.RotateTimeline.PREV_TIME]-c)),S=h[p+M.RotateTimeline.ROTATION]-d,S=d+(S-=360*(16384-(16384.499999999996-S/360|0)))*m+u.data.rotation,S-=360*(16384-(16384.499999999996-S/360|0))),(c=0)==(p=S-(h=(o==M.MixPose.setup?u.data:u).rotation))?c=s[r]:(p-=360*(16384-(16384.499999999996-p/360|0)),m=d=0,m=a?(d=0,p):(d=s[r],s[r+1]),S=0<p,a=0<=d,M.MathUtils.signum(m)!=M.MathUtils.signum(p)&&Math.abs(m)<=90&&(180<Math.abs(d)&&(d+=360*M.MathUtils.signum(d)),a=S),c=p+d-d%360,a!=S&&(c+=360*M.MathUtils.signum(d)),s[r]=c),s[r+1]=p,u.rotation=(h+=c*n)-360*(16384-(16384.499999999996-h/360|0)))):t.apply(e,0,i,null,1,o,M.MixDirection.in)},A.prototype.queueEvents=function(t,e){for(var i=t.animationStart,n=t.animationEnd,o=n-i,s=t.trackLast%o,r=this.events,a=0,l=r.length;a<l;a++){var u=r[a];if(u.time<s)break;u.time>n||this.queue.event(t,u)}for((t.loop?s>t.trackTime%o:n<=e&&t.animationLast<n)&&this.queue.complete(t);a<l;a++)r[a].time<i||this.queue.event(t,r[a])},A.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,i=this.tracks.length;e<i;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},A.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){t=this.tracks[t];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var e=t;;){var i=e.mixingFrom;if(null==i)break;this.queue.end(i),e.mixingFrom=null,e=i}this.tracks[t.trackIndex]=null,this.queue.drain()}}},A.prototype.setCurrent=function(t,e,i){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(i&&this.queue.interrupt(n),e.mixingFrom=n,e.mixTime=0,null!=n.mixingFrom&&0<n.mixDuration&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},A.prototype.setAnimation=function(t,e,i){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,i)},A.prototype.setAnimationWith=function(t,e,i){if(null==e)throw new Error("animation cannot be null.");var n=!0,o=this.expandToIndex(t);null!=o&&(-1==o.nextTrackLast?(this.tracks[t]=o.mixingFrom,this.queue.interrupt(o),this.queue.end(o),this.disposeNext(o),o=o.mixingFrom,n=!1):this.disposeNext(o));o=this.trackEntry(t,e,i,o);return this.setCurrent(t,o,n),this.queue.drain(),o},A.prototype.addAnimation=function(t,e,i,n){var o=this.data.skeletonData.findAnimation(e);if(null==o)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,o,i,n)},A.prototype.addAnimationWith=function(t,e,i,n){if(null==e)throw new Error("animation cannot be null.");var o=this.expandToIndex(t);if(null!=o)for(;null!=o.next;)o=o.next;i=this.trackEntry(t,e,i,o);return null==o?(this.setCurrent(t,i,!0),this.queue.drain()):(o.next=i,n<=0&&(0!=(t=o.animationEnd-o.animationStart)?(o.loop?n+=t*(1+(o.trackTime/t|0)):n+=t,n-=this.data.getMix(o.animation,e)):n=0)),i.delay=n,i},A.prototype.setEmptyAnimation=function(t,e){t=this.setAnimationWith(t,A.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t},A.prototype.addEmptyAnimation=function(t,e,i){i<=0&&(i-=e);i=this.addAnimationWith(t,A.emptyAnimation,!1,i);return i.mixDuration=e,i.trackEnd=e,i},A.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var i=0,n=this.tracks.length;i<n;i++){var o=this.tracks[i];null!=o&&this.setEmptyAnimation(o.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},A.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(M.Utils.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},A.prototype.trackEntry=function(t,e,i,n){var o=this.trackEntryPool.obtain();return o.trackIndex=t,o.animation=e,o.loop=i,o.eventThreshold=0,o.attachmentThreshold=0,o.drawOrderThreshold=0,o.animationStart=0,o.animationEnd=e.duration,o.animationLast=-1,o.nextAnimationLast=-1,o.delay=0,o.trackTime=0,o.trackLast=-1,o.nextTrackLast=-1,o.trackEnd=Number.MAX_VALUE,o.timeScale=1,o.alpha=1,o.interruptAlpha=1,o.mixTime=0,o.mixDuration=null==n?0:this.data.getMix(n.animation,e),o},A.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},A.prototype._animationsChanged=function(){this.animationsChanged=!1;var t=this.propertyIDs;t.clear();for(var e=this.mixingTo,i=0,n=this.tracks.length;i<n;i++){var o=this.tracks[i];null!=o&&o.setTimelineData(null,e,t)}},A.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},A.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},A.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0<=t&&this.listeners.splice(t,1)},A.prototype.clearListeners=function(){this.listeners.length=0},A.prototype.clearListenerNotifications=function(){this.queue.clear()},A.prototype.setAnimationByName=function(t,e,i){A.deprecatedWarning1||(A.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,i)},A.prototype.addAnimationByName=function(t,e,i,n){A.deprecatedWarning2||(A.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,i,n)},A.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},A.prototype.hasAnimationByName=function(t){return A.deprecatedWarning3||(A.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},A.emptyAnimation=new M.Animation("<empty>",[],0),A.SUBSEQUENT=0,A.FIRST=1,A.DIP=2,A.DIP_MIX=3,A.deprecatedWarning1=!1,A.deprecatedWarning2=!1,A.deprecatedWarning3=!1,A);function A(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new n(this),this.propertyIDs=new M.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new M.Pool(function(){return new e}),this.data=t}M.AnimationState=m;var e=(i.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},i.prototype.setTimelineData=function(t,e,i){null!=t&&e.push(t);var n=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,e,i):this;null!=t&&e.pop();var o=e,s=e.length-1,r=this.animation.timelines,a=this.animation.timelines.length,l=M.Utils.setArraySize(this.timelineData,a);this.timelineDipMix.length=0;var u=M.Utils.setArraySize(this.timelineDipMix,a);t:for(var h=0;h<a;h++){var c=r[h].getPropertyId();if(i.add(c))if(null!=t&&t.hasTimeline(c)){for(var p=s;0<=p;p--){var d=o[p];if(!d.hasTimeline(c)&&0<d.mixDuration){l[h]=m.DIP_MIX,u[h]=d;continue t}}l[h]=m.DIP}else l[h]=m.FIRST;else l[h]=m.SUBSEQUENT}return n},i.prototype.hasTimeline=function(t){for(var e=this.animation.timelines,i=0,n=e.length;i<n;i++)if(e[i].getPropertyId()==t)return!0;return!1},i.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},i.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},i.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},i.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(i.prototype,"time",{get:function(){return i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endTime",{get:function(){return i.deprecatedWarning2||(i.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){i.deprecatedWarning2||(i.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),i.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},i.deprecatedWarning1=!1,i.deprecatedWarning2=!1,i);function i(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}M.TrackEntry=e;var l,n=(t.prototype.start=function(t){this.objects.push(l.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(l.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(l.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(l.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(l.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(l.event),this.objects.push(t),this.objects.push(e)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];switch(n){case l.start:null!=o.listener&&o.listener.start&&o.listener.start(o);for(var s=0;s<e.length;s++)e[s].start&&e[s].start(o);o.onStart&&this.deprecateStuff()&&o.onStart(o.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(o.trackIndex);break;case l.interrupt:null!=o.listener&&o.listener.interrupt&&o.listener.interrupt(o);for(s=0;s<e.length;s++)e[s].interrupt&&e[s].interrupt(o);break;case l.end:null!=o.listener&&o.listener.end&&o.listener.end(o);for(s=0;s<e.length;s++)e[s].end&&e[s].end(o);o.onEnd&&this.deprecateStuff()&&o.onEnd(o.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(o.trackIndex);case l.dispose:null!=o.listener&&o.listener.dispose&&o.listener.dispose(o);for(s=0;s<e.length;s++)e[s].dispose&&e[s].dispose(o);this.animState.trackEntryPool.free(o);break;case l.complete:null!=o.listener&&o.listener.complete&&o.listener.complete(o);for(s=0;s<e.length;s++)e[s].complete&&e[s].complete(o);var r=M.MathUtils.toInt(o.loopsCount());o.onComplete&&this.deprecateStuff()&&o.onComplete(o.trackIndex,r),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(o.trackIndex,r);break;case l.event:var a=t[2+i++];null!=o.listener&&o.listener.event&&o.listener.event(o,a);for(s=0;s<e.length;s++)e[s].event&&e[s].event(o,a);o.onEvent&&this.deprecateStuff()&&o.onEvent(o.trackIndex,a),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(o.trackIndex,a)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t);function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}M.EventQueue=n,(o=l=M.EventType||(M.EventType={}))[o.start=0]="start",o[o.interrupt=1]="interrupt",o[o.end=2]="end",o[o.dispose=3]="dispose",o[o.complete=4]="complete",o[o.event=5]="event";var o=(s.prototype.start=function(t){},s.prototype.interrupt=function(t){},s.prototype.end=function(t){},s.prototype.dispose=function(t){},s.prototype.complete=function(t){},s.prototype.event=function(t,e){},s);function s(){}M.AnimationStateAdapter2=o}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){function n(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}t=t.core||(t.core={}),n.prototype.setMix=function(t,e,i){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);t=this.skeletonData.findAnimation(e);if(null==t)throw new Error("Animation not found: "+e);this.setMixWith(n,t,i)},n.prototype.setMixByName=function(t,e,i){n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,i)},n.prototype.setMixWith=function(t,e,i){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");e=t.name+"."+e.name;this.animationToMixTime[e]=i},n.prototype.getMix=function(t,e){e=t.name+"."+e.name,e=this.animationToMixTime[e];return void 0===e?this.defaultMix:e},n.deprecatedWarning1=!1,t.AnimationStateData=n}(pixi_spine=pixi_spine||{}),function(t){var o;function e(t){this.atlas=t}o=t.core||(t.core={}),e.prototype.newRegionAttachment=function(t,e,i){var n=this.atlas.findRegion(i);if(null==n)throw new Error("Region not found in atlas: "+i+" (region attachment: "+e+")");e=new o.RegionAttachment(e);return e.region=n,e},e.prototype.newMeshAttachment=function(t,e,i){var n=this.atlas.findRegion(i);if(null==n)throw new Error("Region not found in atlas: "+i+" (mesh attachment: "+e+")");e=new o.MeshAttachment(e);return e.region=n,e},e.prototype.newBoundingBoxAttachment=function(t,e){return new o.BoundingBoxAttachment(e)},e.prototype.newPathAttachment=function(t,e){return new o.PathAttachment(e)},e.prototype.newPointAttachment=function(t,e){return new o.PointAttachment(e)},e.prototype.newClippingAttachment=function(t,e){return new o.ClippingAttachment(e)},o.AtlasAttachmentLoader=e}(pixi_spine=pixi_spine||{}),function(t){(t=(t=t.core||(t.core={})).BlendMode||(t.BlendMode={}))[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(pixi_spine=pixi_spine||{}),function(t){var A;function L(t,e,i){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}A=t.core||(t.core={}),Object.defineProperty(L.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),L.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},L.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},L.prototype.updateWorldTransformWith=function(t,e,i,n,o,s,r){this.ax=t,this.ay=e,this.arotation=i,this.ascaleX=n,this.ascaleY=o,this.ashearX=s,this.ashearY=r,this.appliedValid=!0;var a=this.parent,l=this.matrix;if(null==a){var u=i+90+r,h=A.MathUtils.cosDeg(i+s)*n,c=A.MathUtils.cosDeg(u)*o,p=A.MathUtils.sinDeg(i+s)*n,d=A.MathUtils.sinDeg(u)*o,m=this.skeleton;return m.flipX&&(t=-t,h=-h,c=-c),m.flipY!==L.yDown&&(e=-e,p=-p,d=-d),l.a=h,l.c=c,l.b=p,l.d=d,l.tx=t+m.x,void(l.ty=e+m.y)}var S=a.matrix.a,g=a.matrix.c,y=a.matrix.b,T=a.matrix.d;switch(l.tx=S*t+g*e+a.matrix.tx,l.ty=y*t+T*e+a.matrix.ty,this.data.transformMode){case A.TransformMode.Normal:u=i+90+r,h=A.MathUtils.cosDeg(i+s)*n,c=A.MathUtils.cosDeg(u)*o,p=A.MathUtils.sinDeg(i+s)*n,d=A.MathUtils.sinDeg(u)*o;return l.a=S*h+g*p,l.c=S*c+g*d,l.b=y*h+T*p,void(l.d=y*c+T*d);case A.TransformMode.OnlyTranslation:u=i+90+r;l.a=A.MathUtils.cosDeg(i+s)*n,l.c=A.MathUtils.cosDeg(u)*o,l.b=A.MathUtils.sinDeg(i+s)*n,l.d=A.MathUtils.sinDeg(u)*o;break;case A.TransformMode.NoRotationOrReflection:var f=0,b=i+s-(f=1e-4<(M=S*S+y*y)?(g=y*(M=Math.abs(S*T-g*y)/M),T=S*M,Math.atan2(y,S)*A.MathUtils.radDeg):(y=S=0,90-Math.atan2(T,g)*A.MathUtils.radDeg)),C=i+r-f+90,h=A.MathUtils.cosDeg(b)*n,c=A.MathUtils.cosDeg(C)*o,p=A.MathUtils.sinDeg(b)*n,d=A.MathUtils.sinDeg(C)*o;l.a=S*h-g*p,l.c=S*c-g*d,l.b=y*h+T*p,l.d=y*c+T*d;break;case A.TransformMode.NoScale:case A.TransformMode.NoScaleOrReflection:var v=A.MathUtils.cosDeg(i),f=A.MathUtils.sinDeg(i),b=S*v+g*f,C=y*v+T*f;b*=M=1e-5<(M=Math.sqrt(b*b+C*C))?1/M:M,C*=M,M=Math.sqrt(b*b+C*C);var v=Math.PI/2+Math.atan2(C,b),f=Math.cos(v)*M,M=Math.sin(v)*M,h=A.MathUtils.cosDeg(s)*n,c=A.MathUtils.cosDeg(90+r)*o,p=A.MathUtils.sinDeg(s)*n,d=A.MathUtils.sinDeg(90+r)*o;return l.a=b*h+f*p,l.c=b*c+f*d,l.b=C*h+M*p,l.d=C*c+M*d,void((this.data.transformMode!=A.TransformMode.NoScaleOrReflection?S*T-g*y<0:this.skeleton.flipX!=this.skeleton.flipY!=L.yDown)&&(l.c=-l.c,l.d=-l.d))}this.skeleton.flipX&&(l.a=-l.a,l.c=-l.c),this.skeleton.flipY!=L.yDown&&(l.b=-l.b,l.d=-l.d)},L.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},L.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*A.MathUtils.radDeg},L.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*A.MathUtils.radDeg},L.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},L.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},L.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*A.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*A.MathUtils.radDeg);var i=t.matrix,n=1/(i.a*i.d-i.b*i.c),o=e.tx-i.tx,s=e.ty-i.ty;this.ax=o*i.d*n-s*i.c*n,this.ay=s*i.a*n-o*i.b*n;t=n*i.d,s=n*i.a,o=n*i.c,n*=i.b,i=t*e.a-o*e.b,t=t*e.c-o*e.d,o=s*e.b-n*e.a,n=s*e.d-n*e.c;this.ashearX=0,this.ascaleX=Math.sqrt(i*i+o*o),1e-4<this.ascaleX?(this.ascaleY=(e=i*n-t*o)/this.ascaleX,this.ashearY=Math.atan2(i*t+o*n,e)*A.MathUtils.radDeg,this.arotation=Math.atan2(o,i)*A.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(t*t+n*n),this.ashearY=0,this.arotation=90-Math.atan2(n,t)*A.MathUtils.radDeg)},L.prototype.worldToLocal=function(t){var e=this.matrix,i=e.a,n=e.c,o=e.b,s=e.d,r=1/(i*s-n*o),a=t.x-e.tx,e=t.y-e.ty;return t.x=a*s*r-e*n*r,t.y=e*i*r-a*o*r,t},L.prototype.localToWorld=function(t){var e=this.matrix,i=t.x,n=t.y;return t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty,t},L.prototype.worldToLocalRotation=function(t){var e=A.MathUtils.sinDeg(t),i=A.MathUtils.cosDeg(t),t=this.matrix;return Math.atan2(t.a*e-t.b*i,t.d*i-t.c*e)*A.MathUtils.radDeg},L.prototype.localToWorldRotation=function(t){var e=A.MathUtils.sinDeg(t),i=A.MathUtils.cosDeg(t),t=this.matrix;return Math.atan2(i*t.b+e*t.d,i*t.a+e*t.c)*A.MathUtils.radDeg},L.prototype.rotateWorld=function(t){var e=this.matrix,i=e.a,n=e.c,o=e.b,s=e.d,r=A.MathUtils.cosDeg(t),t=A.MathUtils.sinDeg(t);e.a=r*i-t*o,e.c=r*n-t*s,e.b=t*i+r*o,e.d=t*n+r*s,this.appliedValid=!1},L.yDown=!1,A.Bone=L}(pixi_spine=pixi_spine||{}),function(t){var n;function e(t,e,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=n.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i}(t=t.core||(t.core={})).BoneData=e,(t=n=t.TransformMode||(t.TransformMode={}))[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(pixi_spine=pixi_spine||{}),function(t){(t.core||(t.core={})).Event=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}}(pixi_spine=pixi_spine||{}),function(t){(t.core||(t.core={})).EventData=function(t){this.name=t}}(pixi_spine=pixi_spine||{}),function(t){var H;function e(t,e){if(this.mix=1,this.bendDirection=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}H=t.core||(t.core={}),e.prototype.getOrder=function(){return this.data.order},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},e.prototype.apply1=function(t,e,i,n){t.appliedValid||t.updateAppliedTransform();var o=t.parent.matrix,s=1/(o.a*o.d-o.b*o.c),r=e-o.tx,e=i-o.ty,i=(r*o.d-e*o.c)*s-t.ax,s=(e*o.a-r*o.b)*s-t.ay,i=Math.atan2(s,i)*H.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(i+=180),180<i?i-=360:i<-180&&(i+=360),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+i*n,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,i,n,o,s){if(0!=s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var r=t.ax,a=t.ay,l=t.ascaleX,u=t.ascaleY,h=e.ascaleX,c=t.matrix,p=0,d=0,m=0,m=l<0?(l=-l,p=180,-1):(p=0,1);u<0&&(u=-u,m=-m);var d=h<0?(h=-h,180):0,S=e.ax,g=0,y=0,T=0,f=c.a,b=c.c,C=c.b,v=c.d,M=Math.abs(l-u)<=1e-4,T=M?(y=f*S+b*(g=e.ay)+c.tx,C*S+v*g+c.ty):(g=0,y=f*S+c.tx,C*S+c.ty),A=t.parent.matrix;f=A.a,b=A.c,C=A.b;var c=1/(f*(v=A.d)-b*C),L=i-A.tx,I=n-A.ty,R=(L*v-I*b)*c-r,P=(I*f-L*C)*c-a,A=((L=y-A.tx)*v-(I=T-A.ty)*b)*c-r,c=(I*f-L*C)*c-a,_=Math.sqrt(A*A+c*c),E=e.data.length*h,D=0,w=0;t:if(M){var O=(R*R+P*P-_*_-(E*=l)*E)/(2*_*E);O<-1?O=-1:1<O&&(O=1),w=Math.acos(O)*o,f=_+E*O,b=E*Math.sin(w),D=Math.atan2(P*f-R*b,R*f+P*b)}else{var x=(f=l*E)*f,B=(b=u*E)*b,V=R*R+P*P,G=Math.atan2(P,R),F=-2*B*_,k=B-x;if(0<=(v=F*F-4*k*(C=B*_*_+x*V-x*B))){var j=Math.sqrt(v),U=(j=-(F+(j=F<0?-j:j))/2)/k,N=C/j,W=Math.abs(U)<Math.abs(N)?U:N;if(W*W<=V){I=Math.sqrt(V-W*W)*o,D=G-Math.atan2(I,W),w=Math.atan2(I/u,(W-_)/l);break t}}var X=H.MathUtils.PI,O=_-f,F=O*O,k=0,j=0,U=_+f,N=U*U,W=0;-1<=(C=-f*_/(x-B))&&C<=1&&(C=Math.acos(C),(v=(L=f*Math.cos(C)+_)*L+(I=b*Math.sin(C))*I)<F&&(X=C,F=v,O=L,k=I),N<v&&(j=C,N=v,U=L,W=I)),w=V<=(F+N)/2?(D=G-Math.atan2(k*o,O),X*o):(D=G-Math.atan2(W*o,U),j*o)}c=Math.atan2(g,S)*m,h=t.arotation;180<(D=(D-c)*H.MathUtils.radDeg+p-h)?D-=360:D<-180&&(D+=360),t.updateWorldTransformWith(r,a,h+D*s,t.ascaleX,t.ascaleY,0,0),h=e.arotation,180<(w=((w+c)*H.MathUtils.radDeg-e.ashearX)*m+d-h)?w-=360:w<-180&&(w+=360),e.updateWorldTransformWith(S,g,h+w*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},H.IkConstraint=e}(pixi_spine=pixi_spine||{}),function(t){(t.core||(t.core={})).IkConstraintData=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t}}(pixi_spine=pixi_spine||{}),function(t){var Y;function Q(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var i=0,n=t.bones.length;i<n;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}Y=t.core||(t.core={}),Q.prototype.apply=function(){this.update()},Q.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof Y.PathAttachment){var e=this.rotateMix,i=this.translateMix,n=0<e;if(0<i||n){var o=this.data,s=o.spacingMode,r=s==Y.SpacingMode.Length,a=o.rotateMode,l=a==Y.RotateMode.Tangent,u=a==Y.RotateMode.ChainScale,h=this.bones.length,c=l?h:h+1,p=this.bones,d=Y.Utils.setArraySize(this.spaces,c),m=null,S=this.spacing;if(u||r){u&&(m=Y.Utils.setArraySize(this.lengths,h));for(var g=0,y=c-1;g<y;){var T,f=(I=p[g]).data.length;f<Q.epsilon?(u&&(m[g]=0),d[++g]=0):(P=f*I.matrix.a,_=f*I.matrix.b,T=Math.sqrt(P*P+_*_),u&&(m[g]=T),d[++g]=(r?f+S:S)*T/f)}}else for(g=1;g<c;g++)d[g]=S;var b=this.computeWorldPositions(t,c,l,o.positionMode==Y.PositionMode.Percent,s==Y.SpacingMode.Percent),C=b[0],v=b[1],M=o.offsetRotation,A=!1;0==M?A=a==Y.RotateMode.Chain:(A=!1,M*=0<(L=this.target.bone.matrix).a*L.d-L.b*L.c?Y.MathUtils.degRad:-Y.MathUtils.degRad);for(var g=0,L=3;g<h;g++,L+=3){var I,R=(I=p[g]).matrix;R.tx+=(C-R.tx)*i,R.ty+=(v-R.ty)*i;var P,_,E,D,w,O,x,B,V,G,F=(P=b[L])-C,k=(_=b[L+1])-v;!u||0!=(B=m[g])&&(V=(Math.sqrt(F*F+k*k)/B-1)*e+1,R.a*=V,R.b*=V),C=P,v=_,n&&(E=R.a,D=R.c,w=R.b,O=R.d,B=x=G=0,G=l?b[L-1]:0==d[g+1]?b[L+2]:Math.atan2(k,F),G-=Math.atan2(w,E),A?(x=Math.cos(G),B=Math.sin(G),C+=((V=I.data.length)*(x*E-B*w)-F)*e,v+=(V*(B*E+x*w)-k)*e):G+=M,G>Y.MathUtils.PI?G-=Y.MathUtils.PI2:G<-Y.MathUtils.PI&&(G+=Y.MathUtils.PI2),G*=e,x=Math.cos(G),B=Math.sin(G),R.a=x*E-B*w,R.c=x*D-B*O,R.b=B*E+x*w,R.d=B*D+x*O),I.appliedValid=!1}}}},Q.prototype.computeWorldPositions=function(t,e,i,n,o){var s=this.target,r=this.position,a=this.spaces,l=Y.Utils.setArraySize(this.positions,3*e+2),u=null,h=t.closed,c=t.worldVerticesLength,p=c/6,d=Q.NONE;if(!t.constantSpeed){var m=t.lengths,S=m[p-=h?1:2];if(n&&(r*=S),o)for(var g=0;g<e;g++)a[g]*=S;for(var u=Y.Utils.setArraySize(this.world,8),g=0,y=0,T=0;g<e;g++,y+=3){var f=r+=W=a[g];if(h)(f%=S)<0&&(f+=S),T=0;else{if(f<0){d!=Q.BEFORE&&(d=Q.BEFORE,t.computeWorldVertices(s,2,4,u,0,2)),this.addBeforePosition(f,u,0,l,y);continue}if(S<f){d!=Q.AFTER&&(d=Q.AFTER,t.computeWorldVertices(s,c-6,4,u,0,2)),this.addAfterPosition(f-S,u,0,l,y);continue}}for(;;T++){var b=m[T];if(!(b<f)){0==T?f/=b:f=(f-(z=m[T-1]))/(b-z);break}}T!=d&&(d=T,h&&T==p?(t.computeWorldVertices(s,c-4,4,u,0,2),t.computeWorldVertices(s,0,4,u,4,2)):t.computeWorldVertices(s,6*T+2,8,u,0,2)),this.addCurvePosition(f,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,y,i||0<g&&0==W)}return l}h?(u=Y.Utils.setArraySize(this.world,c+=2),t.computeWorldVertices(s,2,c-4,u,0,2),t.computeWorldVertices(s,0,2,u,c-4,2),u[c-2]=u[0],u[c-1]=u[1]):(p--,u=Y.Utils.setArraySize(this.world,c-=4),t.computeWorldVertices(s,2,c,u,0,2));for(var C=Y.Utils.setArraySize(this.curves,p),v=0,M=u[0],A=u[1],L=0,I=0,R=0,P=0,_=0,E=0,D=0,w=0,O=0,x=0,B=0,V=0,G=0,F=0,g=0,k=2;g<p;g++,k+=6)L=u[k],I=u[k+1],R=u[k+2],P=u[k+3],B=2*(D=.1875*(M-2*L+R))+(O=.09375*(3*(L-R)-M+(_=u[k+4]))),V=2*(w=.1875*(A-2*I+P))+(x=.09375*(3*(I-P)-A+(E=u[k+5]))),G=.75*(L-M)+D+.16666667*O,F=.75*(I-A)+w+.16666667*x,v+=Math.sqrt(G*G+F*F),G+=B,F+=V,B+=O,V+=x,v+=Math.sqrt(G*G+F*F),G+=B,F+=V,v+=Math.sqrt(G*G+F*F),G+=B+O,F+=V+x,v+=Math.sqrt(G*G+F*F),C[g]=v,M=_,A=E;if(n&&(r*=v),o)for(g=0;g<e;g++)a[g]*=v;for(var j=this.segments,U=0,g=0,y=0,T=0,N=0;g<e;g++,y+=3){var W,f=r+=W=a[g];if(h)(f%=v)<0&&(f+=v),T=0;else{if(f<0){this.addBeforePosition(f,u,0,l,y);continue}if(v<f){this.addAfterPosition(f-v,u,c-4,l,y);continue}}for(;;T++){var X=C[T];if(!(X<f)){0==T?f/=X:f=(f-(z=C[T-1]))/(X-z);break}}if(T!=d){var d=T,H=6*T,M=u[H],A=u[H+1],L=u[H+2],I=u[H+3],R=u[H+4],P=u[H+5],B=2*(D=.03*(M-2*L+R))+(O=.006*(3*(L-R)-M+(_=u[H+6]))),V=2*(w=.03*(A-2*I+P))+(x=.006*(3*(I-P)-A+(E=u[H+7]))),G=.3*(L-M)+D+.16666667*O,F=.3*(I-A)+w+.16666667*x,U=Math.sqrt(G*G+F*F);for(j[0]=U,H=1;H<8;H++)G+=B,F+=V,B+=O,V+=x,U+=Math.sqrt(G*G+F*F),j[H]=U;G+=B,F+=V,U+=Math.sqrt(G*G+F*F),j[8]=U,G+=B+O,F+=V+x,U+=Math.sqrt(G*G+F*F),j[9]=U,N=0}for(f*=U;;N++){var z,q=j[N];if(!(q<f)){0==N?f/=q:f=N+(f-(z=j[N-1]))/(q-z);break}}this.addCurvePosition(.1*f,M,A,L,I,R,P,_,E,l,y,i||0<g&&0==W)}return l},Q.prototype.addBeforePosition=function(t,e,i,n,o){var s=e[i],r=e[i+1],a=e[i+2]-s,i=e[i+3]-r,a=Math.atan2(i,a);n[o]=s+t*Math.cos(a),n[o+1]=r+t*Math.sin(a),n[o+2]=a},Q.prototype.addAfterPosition=function(t,e,i,n,o){var s=e[i+2],r=e[i+3],a=s-e[i],i=r-e[i+1],a=Math.atan2(i,a);n[o]=s+t*Math.cos(a),n[o+1]=r+t*Math.sin(a),n[o+2]=a},Q.prototype.addCurvePosition=function(t,e,i,n,o,s,r,a,l,u,h,c){var p=(t=0==t||isNaN(t)?1e-4:t)*t,d=p*t,m=1-t,S=m*m,g=S*m,y=m*t,T=3*y,m=m*T,t=T*t,a=e*g+n*m+s*t+a*d,d=i*g+o*m+r*t+l*d;u[h]=a,u[h+1]=d,c&&(u[h+2]=Math.atan2(d-(i*S+o*y*2+r*p),a-(e*S+n*y*2+s*p)))},Q.prototype.getOrder=function(){return this.data.order},Q.NONE=-1,Q.BEFORE=-2,Q.AFTER=-3,Q.epsilon=1e-5,Y.PathConstraint=Q}(pixi_spine=pixi_spine||{}),function(t){var e;(e=t.core||(t.core={})).PathConstraintData=function(t){this.order=0,this.bones=new Array,this.name=t},(t=e.PositionMode||(e.PositionMode={}))[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent",(t=e.SpacingMode||(e.SpacingMode={}))[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",(e=e.RotateMode||(e.RotateMode={}))[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale"}(pixi_spine=pixi_spine||{}),function(t){var T;function e(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var i,n=t.bones[e],o=void 0;null==n.parent?o=new T.Bone(n,this,null):(i=this.bones[n.parent.index],o=new T.Bone(n,this,i),i.children.push(o)),this.bones.push(o)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var s=t.slots[e],o=this.bones[s.boneData.index],s=new T.Slot(s,o);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var r=t.ikConstraints[e];this.ikConstraints.push(new T.IkConstraint(r,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var a=t.transformConstraints[e];this.transformConstraints.push(new T.TransformConstraint(a,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var l=t.pathConstraints[e];this.pathConstraints.push(new T.PathConstraint(l,this))}this.color=new T.Color(1,1,1,1),this.updateCache()}T=t.core||(t.core={}),e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].sorted=!1;var n=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,r=n.length,a=o.length,l=s.length,u=r+a+l;t:for(e=0;e<u;e++){for(var h=0;h<r;h++)if((c=n[h]).data.order==e){this.sortIkConstraint(c);continue t}for(h=0;h<a;h++)if((c=o[h]).data.order==e){this.sortTransformConstraint(c);continue t}for(var c,h=0;h<l;h++)if((c=s[h]).data.order==e){this.sortPathConstraint(c);continue t}}for(e=0,i=t.length;e<i;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var i=t.bones,n=i[0];this.sortBone(n),1<i.length&&(e=i[i.length-1],-1<this._updateCache.indexOf(e)||this.updateCacheReset.push(e)),this._updateCache.push(t),this.sortReset(n.children),i[i.length-1].sorted=!0},e.prototype.sortPathConstraint=function(t){var e=t.target,i=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,i,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,n);for(var o=0,s=this.data.skins.length;o<s;o++)this.sortPathConstraintAttachment(this.data.skins[o],i,n);e=e.getAttachment();e instanceof T.PathAttachment&&this.sortPathConstraintAttachmentWith(e,n);for(var r=t.bones,a=r.length,o=0;o<a;o++)this.sortBone(r[o]);this._updateCache.push(t);for(o=0;o<a;o++)this.sortReset(r[o].children);for(o=0;o<a;o++)r[o].sorted=!0},e.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,i=e.length;if(t.data.local)for(var n=0;n<i;n++){var o=e[n];this.sortBone(o.parent),-1<this._updateCache.indexOf(o)||this.updateCacheReset.push(o)}else for(n=0;n<i;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var s=0;s<i;s++)this.sortReset(e[s].children);for(s=0;s<i;s++)e[s].sorted=!0},e.prototype.sortPathConstraintAttachment=function(t,e,i){var n=t.attachments[e];if(n)for(var o in n)this.sortPathConstraintAttachmentWith(n[o],i)},e.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof T.PathAttachment){var i=t.bones;if(null==i)this.sortBone(e);else for(var n=this.bones,o=0;o<i.length;)for(var s=i[o++],r=o+s;o<r;o++){var a=i[o];this.sortBone(n[a])}}},e.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},e.prototype.sortReset=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,i=t.length;e<i;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var o=this._updateCache,e=0,i=o.length;e<i;e++)o[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,e=0,i=n.length;e<i;e++)(a=n[e]).bendDirection=a.data.bendDirection,a.mix=a.data.mix;for(var o=this.transformConstraints,e=0,i=o.length;e<i;e++){var s=(a=o[e]).data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var r=this.pathConstraints,e=0,i=r.length;e<i;e++){var a,s=(a=r[e]).data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},e.prototype.setSlotsToSetupPose=function(){var t=this.slots;T.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,i=t.length;e<i;e++)t[e].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var o=e[i];if(o.data.name==t)return o}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var o=e[i];if(o.data.name==t)return o}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,i=0,n=e.length;i<n;i++){var o=e[i],s=o.data.attachmentName;null==s||null!=(s=t.getAttachment(i,s))&&o.setAttachment(s)}this.skin=t},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var i=this.skin.getAttachment(t,e);if(null!=i)return i}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var i=this.slots,n=0,o=i.length;n<o;n++){var s=i[n];if(s.data.name==t){var r=null;if(null!=e&&null==(r=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void s.setAttachment(r)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var o=e[i];if(o.data.name==t)return o}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var o=e[i];if(o.data.name==t)return o}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var o=e[i];if(o.data.name==t)return o}return null},e.prototype.getBounds=function(t,e,i){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=0,u=n.length;l<u;l++){var h=n[l],c=0,p=null,d=h.getAttachment();if(d instanceof T.RegionAttachment?(p=T.Utils.setArraySize(i,c=8,0),d.computeWorldVertices(h.bone,p,0,2)):d instanceof T.MeshAttachment&&(c=(d=d).worldVerticesLength,p=T.Utils.setArraySize(i,c,0),d.computeWorldVertices(h,0,c,p,0,2)),null!=p)for(var m=0,S=p.length;m<S;m+=2)var g=p[m],y=p[m+1],o=Math.min(o,g),s=Math.min(s,y),r=Math.max(r,g),a=Math.max(a,y)}t.set(o,s),e.set(r-o,a-s)},e.prototype.update=function(t){this.time+=t},T.Skeleton=e}(pixi_spine=pixi_spine||{}),function(t){var c;function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new c.Pool(function(){return c.Utils.newFloatArray(16)})}c=t.core||(t.core={}),e.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var i=this.boundingBoxes,n=this.polygons,o=this.polygonPool,s=t.slots,r=s.length;i.length=0,o.freeAll(n);for(var a=n.length=0;a<r;a++){var l,u=s[a],h=u.getAttachment();h instanceof c.BoundingBoxAttachment&&(i.push(l=h),(h=o.obtain()).length!=l.worldVerticesLength&&(h=c.Utils.newFloatArray(l.worldVerticesLength)),n.push(h),l.computeWorldVertices(u,0,l.worldVerticesLength,h,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=this.polygons,s=0,r=o.length;s<r;s++)for(var a=o[s],l=a,u=0,h=a.length;u<h;u+=2)var c=l[u],p=l[u+1],t=Math.min(t,c),e=Math.min(e,p),i=Math.max(i,c),n=Math.max(n,p);this.minX=t,this.minY=e,this.maxX=i,this.maxY=n},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,i,n){var o=this.minX,s=this.minY,r=this.maxX,a=this.maxY;if(t<=o&&i<=o||e<=s&&n<=s||r<=t&&r<=i||a<=e&&a<=n)return!1;n=(n-e)/(i-t),i=n*(o-t)+e;if(s<i&&i<a)return!0;if(s<(i=n*(r-t)+e)&&i<a)return!0;s=(s-e)/n+t;return o<s&&s<r||o<(s=(a-e)/n+t)&&s<r},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var i=this.polygons,n=0,o=i.length;n<o;n++)if(this.containsPointPolygon(i[n],t,e))return this.boundingBoxes[n];return null},e.prototype.containsPointPolygon=function(t,e,i){for(var n=t,o=t.length,s=o-2,r=!1,a=0;a<o;a+=2){var l,u=n[a+1],h=n[s+1];!(u<i&&i<=h||h<i&&i<=u)||(l=n[a])+(i-u)/(h-u)*(n[s]-l)<e&&(r=!r),s=a}return r},e.prototype.intersectsSegment=function(t,e,i,n){for(var o=this.polygons,s=0,r=o.length;s<r;s++)if(this.intersectsSegmentPolygon(o[s],t,e,i,n))return this.boundingBoxes[s];return null},e.prototype.intersectsSegmentPolygon=function(t,e,i,n,o){for(var s=t,r=t.length,a=e-n,l=i-o,u=e*o-i*n,h=s[r-2],c=s[r-1],p=0;p<r;p+=2){var d=s[p],m=s[p+1],S=h*m-c*d,g=h-d,y=c-m,T=a*y-l*g,g=(u*g-a*S)/T;if((h<=g&&g<=d||d<=g&&g<=h)&&(e<=g&&g<=n||n<=g&&g<=e)){T=(u*y-l*S)/T;if((c<=T&&T<=m||m<=T&&T<=c)&&(i<=T&&T<=o||o<=T&&T<=i))return!0}h=d,c=m}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");t=this.boundingBoxes.indexOf(t);return-1==t?null:this.polygons[t]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},c.SkeletonBounds=e}(pixi_spine=pixi_spine||{}),function(t){var H;function l(){this.triangulator=new H.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}H=t.core||(t.core={}),l.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var i=(this.clipAttachment=e).worldVerticesLength,n=H.Utils.setArraySize(this.clippingPolygon,i);e.computeWorldVertices(t,0,i,n,0,2);n=this.clippingPolygon;l.makeClockwise(n);for(var o=this.clippingPolygons=this.triangulator.decompose(n,this.triangulator.triangulate(n)),s=0,r=o.length;s<r;s++){var a=o[s];l.makeClockwise(a),a.push(a[0]),a.push(a[1])}return o.length},l.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},l.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},l.prototype.isClipping=function(){return null!=this.clipAttachment},l.prototype.clipTriangles=function(t,e,i,n,o,s,r,a){var l=this.clipOutput,u=this.clippedVertices,h=this.clippedTriangles,c=this.clippingPolygons,p=this.clippingPolygons.length,d=a?12:8,m=0;u.length=0;t:for(var S=h.length=0;S<n;S+=3)for(var g=i[S]<<1,y=t[g],T=t[1+g],f=o[g],b=o[1+g],C=t[g=i[S+1]<<1],v=t[1+g],M=o[g],A=o[1+g],L=t[g=i[S+2]<<1],I=t[1+g],R=o[g],P=o[1+g],_=0;_<p;_++){var E=u.length;if(!this.clip(y,T,C,v,L,I,c[_],l)){(k=H.Utils.setArraySize(u,E+3*d))[E]=y,k[E+1]=T,k[E+2]=s.r,k[E+3]=s.g,k[E+4]=s.b,k[E+5]=s.a,a?(k[E+6]=f,k[E+7]=b,k[E+8]=r.r,k[E+9]=r.g,k[E+10]=r.b,k[E+11]=r.a,k[E+12]=C,k[E+13]=v,k[E+14]=s.r,k[E+15]=s.g,k[E+16]=s.b,k[E+17]=s.a,k[E+18]=M,k[E+19]=A,k[E+20]=r.r,k[E+21]=r.g,k[E+22]=r.b,k[E+23]=r.a,k[E+24]=L,k[E+25]=I,k[E+26]=s.r,k[E+27]=s.g,k[E+28]=s.b,k[E+29]=s.a,k[E+30]=R,k[E+31]=P,k[E+32]=r.r,k[E+33]=r.g,k[E+34]=r.b,k[E+35]=r.a):(k[E+6]=f,k[E+7]=b,k[E+8]=C,k[E+9]=v,k[E+10]=s.r,k[E+11]=s.g,k[E+12]=s.b,k[E+13]=s.a,k[E+14]=M,k[E+15]=A,k[E+16]=L,k[E+17]=I,k[E+18]=s.r,k[E+19]=s.g,k[E+20]=s.b,k[E+21]=s.a,k[E+22]=R,k[E+23]=P),E=h.length,(X=H.Utils.setArraySize(h,E+3))[E]=m,X[E+1]=m+1,X[E+2]=m+2,m+=3;continue t}var D=l.length;if(0!=D){for(var w=v-I,O=L-C,x=y-L,B=I-T,V=1/(w*x+O*(T-I)),G=D>>1,F=this.clipOutput,k=H.Utils.setArraySize(u,E+G*d),j=0;j<D;j+=2){var U=F[j],N=F[j+1];k[E]=U,k[E+1]=N,k[E+2]=s.r,k[E+3]=s.g,k[E+4]=s.b,k[E+5]=s.a;var W=U-L,U=N-I,N=(w*W+O*U)*V,W=(B*W+x*U)*V,U=1-N-W;k[E+6]=f*N+M*W+R*U,k[E+7]=b*N+A*W+P*U,a&&(k[E+8]=r.r,k[E+9]=r.g,k[E+10]=r.b,k[E+11]=r.a),E+=d}var E=h.length,X=H.Utils.setArraySize(h,E+3*(G-2));G--;for(j=1;j<G;j++)X[E]=m,X[E+1]=m+j,X[E+2]=m+j+1,E+=3;m+=1+G}}},l.prototype.clip=function(t,e,i,n,o,s,r,a){var l=a,u=!1,h=null;2<=r.length%4?(h=a,a=this.scratch):h=this.scratch,h.length=0,h.push(t),h.push(e),h.push(i),h.push(n),h.push(o),h.push(s),h.push(t),h.push(e),a.length=0;for(var c=r,p=r.length-4,d=0;;d+=2){for(var m=c[d],S=c[d+1],g=c[d+2],y=c[d+3],T=m-g,f=S-y,b=h,C=h.length-2,v=a.length,M=0;M<C;M+=2){var A=b[M],L=b[M+1],I=b[M+2],R=b[M+3],P=0<T*(R-y)-f*(I-g);if(0<T*(L-y)-f*(A-g)){if(P){a.push(I),a.push(R);continue}var _,E,D=((E=I-A)*(S-L)-(_=R-L)*(m-A))/(_*(g-m)-E*(y-S));a.push(m+(g-m)*D),a.push(S+(y-S)*D)}else P&&(D=((E=I-A)*(S-L)-(_=R-L)*(m-A))/(_*(g-m)-E*(y-S)),a.push(m+(g-m)*D),a.push(S+(y-S)*D),a.push(I),a.push(R));u=!0}if(v==a.length)return!(l.length=0);if(a.push(a[0]),a.push(a[1]),d==p)break;v=a;(a=h).length=0,h=v}if(l!=a)for(var d=l.length=0,w=a.length-2;d<w;d++)l[d]=a[d];else l.length=l.length-2;return u},l.makeClockwise=function(t){for(var e,i,n,o=t,t=t.length,s=o[t-2]*o[1]-o[0]*o[t-1],r=0,a=t-3;r<a;r+=2)e=o[r],i=o[r+1],n=o[r+2],s+=e*o[r+3]-n*i;if(!(s<0))for(var r=0,l=t-2,a=t>>1;r<a;r+=2){var u=o[r],h=o[r+1],c=l-r;o[r]=o[c],o[r+1]=o[1+c],o[c]=u,o[1+c]=h}},H.SkeletonClipping=l}(pixi_spine=pixi_spine||{}),function(t){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}t=t.core||(t.core={}),e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},e.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var o=e[i];if(o.name==t)return o}return null},e.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t.SkeletonData=e}(pixi_spine=pixi_spine||{}),function(t){!function($){var t=(E.prototype.readSkeletonData=function(t){var e=this.scale,i=new $.SkeletonData,n="string"==typeof t?JSON.parse(t):t,t=n.skeleton;if(null!=t&&(i.hash=t.hash,i.version=t.spine,i.width=t.width,i.height=t.height,i.fps=t.fps,i.imagesPath=t.images),n.bones)for(var o=0;o<n.bones.length;o++){var s=n.bones[o],r=null,a=this.getValue(s,"parent",null);if(null!=a&&null==(r=i.findBone(a)))throw new Error("Parent bone not found: "+a);(c=new $.BoneData(i.bones.length,s.name,r)).length=this.getValue(s,"length",0)*e,c.x=this.getValue(s,"x",0)*e,c.y=this.getValue(s,"y",0)*e,c.rotation=this.getValue(s,"rotation",0),c.scaleX=this.getValue(s,"scaleX",1),c.scaleY=this.getValue(s,"scaleY",1),c.shearX=this.getValue(s,"shearX",0),c.shearY=this.getValue(s,"shearY",0),c.transformMode=E.transformModeFromString(this.getValue(s,"transform","normal")),i.bones.push(c)}if(n.slots)for(o=0;o<n.slots.length;o++){var l=(f=n.slots[o]).name,u=f.bone,h=i.findBone(u);if(null==h)throw new Error("Slot bone not found: "+u);var c=new $.SlotData(i.slots.length,l,h),h=this.getValue(f,"color",null);null!=h&&c.color.setFromString(h);h=this.getValue(f,"dark",null);null!=h&&(c.darkColor=new $.Color(1,1,1,1),c.darkColor.setFromString(h)),c.attachmentName=this.getValue(f,"attachment",null),c.blendMode=E.blendModeFromString(this.getValue(f,"blend","normal")),i.slots.push(c)}if(n.ik)for(o=0;o<n.ik.length;o++){var p=n.ik[o];(c=new $.IkConstraintData(p.name)).order=this.getValue(p,"order",0);for(var d=0;d<p.bones.length;d++){u=p.bones[d];if(null==(S=i.findBone(u)))throw new Error("IK bone not found: "+u);c.bones.push(S)}var m=p.target;if(c.target=i.findBone(m),null==c.target)throw new Error("IK target bone not found: "+m);c.bendDirection=this.getValue(p,"bendPositive",!0)?1:-1,c.mix=this.getValue(p,"mix",1),i.ikConstraints.push(c)}if(n.transform)for(o=0;o<n.transform.length;o++){p=n.transform[o];(c=new $.TransformConstraintData(p.name)).order=this.getValue(p,"order",0);for(d=0;d<p.bones.length;d++){u=p.bones[d];if(null==(S=i.findBone(u)))throw new Error("Transform constraint bone not found: "+u);c.bones.push(S)}m=p.target;if(c.target=i.findBone(m),null==c.target)throw new Error("Transform constraint target bone not found: "+m);c.local=this.getValue(p,"local",!1),c.relative=this.getValue(p,"relative",!1),c.offsetRotation=this.getValue(p,"rotation",0),c.offsetX=this.getValue(p,"x",0)*e,c.offsetY=this.getValue(p,"y",0)*e,c.offsetScaleX=this.getValue(p,"scaleX",0),c.offsetScaleY=this.getValue(p,"scaleY",0),c.offsetShearY=this.getValue(p,"shearY",0),c.rotateMix=this.getValue(p,"rotateMix",1),c.translateMix=this.getValue(p,"translateMix",1),c.scaleMix=this.getValue(p,"scaleMix",1),c.shearMix=this.getValue(p,"shearMix",1),i.transformConstraints.push(c)}if(n.path)for(o=0;o<n.path.length;o++){p=n.path[o];(c=new $.PathConstraintData(p.name)).order=this.getValue(p,"order",0);for(d=0;d<p.bones.length;d++){var S,u=p.bones[d];if(null==(S=i.findBone(u)))throw new Error("Transform constraint bone not found: "+u);c.bones.push(S)}m=p.target;if(c.target=i.findSlot(m),null==c.target)throw new Error("Path target slot not found: "+m);c.positionMode=E.positionModeFromString(this.getValue(p,"positionMode","percent")),c.spacingMode=E.spacingModeFromString(this.getValue(p,"spacingMode","length")),c.rotateMode=E.rotateModeFromString(this.getValue(p,"rotateMode","tangent")),c.offsetRotation=this.getValue(p,"rotation",0),c.position=this.getValue(p,"position",0),c.positionMode==$.PositionMode.Fixed&&(c.position*=e),c.spacing=this.getValue(p,"spacing",0),c.spacingMode!=$.SpacingMode.Length&&c.spacingMode!=$.SpacingMode.Fixed||(c.spacing*=e),c.rotateMix=this.getValue(p,"rotateMix",1),c.translateMix=this.getValue(p,"translateMix",1),i.pathConstraints.push(c)}if(n.skins)for(var g in n.skins){var y=n.skins[g],T=new $.Skin(g);for(l in y){var f,b,C=i.findSlotIndex(l);if(-1==C)throw new Error("Slot not found: "+l);for(b in f=y[l]){var v=this.readAttachment(f[b],T,C,b,i);null!=v&&T.addAttachment(C,b,v)}}i.skins.push(T),"default"==T.name&&(i.defaultSkin=T)}for(var o=0,M=this.linkedMeshes.length;o<M;o++){var A=this.linkedMeshes[o];if(null==(T=null==A.skin?i.defaultSkin:i.findSkin(A.skin)))throw new Error("Skin not found: "+A.skin);var L=T.getAttachment(A.slotIndex,A.parent);if(null==L)throw new Error("Parent mesh not found: "+A.parent);A.mesh.setParentMesh(L)}if(this.linkedMeshes.length=0,n.events)for(var I in n.events){var R=n.events[I];(c=new $.EventData(I)).intValue=this.getValue(R,"int",0),c.floatValue=this.getValue(R,"float",0),c.stringValue=this.getValue(R,"string",""),c.audio=this.getValue(R,"audio",null),i.events.push(c)}if(n.animations)for(var P in n.animations){var _=n.animations[P];this.readAnimation(_,P,i)}return i},E.prototype.readAttachment=function(t,e,i,n,o){var s=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var r=this.getValue(t,"path",n),a=this.attachmentLoader.newRegionAttachment(e,n,r);return null==a?null:(a.path=r,a.x=this.getValue(t,"x",0)*s,a.y=this.getValue(t,"y",0)*s,a.scaleX=this.getValue(t,"scaleX",1),a.scaleY=this.getValue(t,"scaleY",1),a.rotation=this.getValue(t,"rotation",0),a.width=t.width*s,a.height=t.height*s,null!=(m=this.getValue(t,"color",null))&&a.color.setFromString(m),a);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,n);return null==l?null:(this.readVertices(t,l,t.vertexCount<<1),null!=(m=this.getValue(t,"color",null))&&l.color.setFromString(m),l);case"mesh":case"linkedmesh":var r=this.getValue(t,"path",n),u=this.attachmentLoader.newMeshAttachment(e,n,r);if(null==u)return null;u.path=r,null!=(m=this.getValue(t,"color",null))&&u.color.setFromString(m);l=this.getValue(t,"parent",null);if(null!=l)return u.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new S(u,this.getValue(t,"skin",null),i,l)),u;l=t.uvs;return this.readVertices(t,u,l.length),u.triangles=t.triangles,u.regionUVs=l,u.hullLength=2*this.getValue(t,"hull",0),u;case"path":if(null==(r=this.attachmentLoader.newPathAttachment(e,n)))return null;r.closed=this.getValue(t,"closed",!1),r.constantSpeed=this.getValue(t,"constantSpeed",!0);var h=t.vertexCount;this.readVertices(t,r,h<<1);for(var c=$.Utils.newArray(h/3,0),p=0;p<t.lengths.length;p++)c[p]=t.lengths[p]*s;return r.lengths=c,null!=(m=this.getValue(t,"color",null))&&r.color.setFromString(m),r;case"point":var d=this.attachmentLoader.newPointAttachment(e,n);return null==d?null:(d.x=this.getValue(t,"x",0)*s,d.y=this.getValue(t,"y",0)*s,d.rotation=this.getValue(t,"rotation",0),null!=(m=this.getValue(t,"color",null))&&d.color.setFromString(m),d);case"clipping":u=this.attachmentLoader.newClippingAttachment(e,n);if(null==u)return null;r=this.getValue(t,"end",null);if(null!=r){d=o.findSlot(r);if(null==d)throw new Error("Clipping end slot not found: "+r);u.endSlot=d}var m,h=t.vertexCount;return this.readVertices(t,u,h<<1),null!=(m=this.getValue(t,"color",null))&&u.color.setFromString(m),u}return null},E.prototype.readVertices=function(t,e,i){var n=this.scale;e.worldVerticesLength=i;var o=t.vertices;if(i!=o.length){for(var s=new Array,r=new Array,a=0,l=o.length;a<l;){var u=o[a++];r.push(u);for(var h=a+4*u;a<h;a+=4)r.push(o[a]),s.push(o[a+1]*n),s.push(o[a+2]*n),s.push(o[a+3])}e.bones=r,e.vertices=$.Utils.toFloatArray(s)}else{var c=$.Utils.toFloatArray(o);if(1!=n)for(var a=0,l=o.length;a<l;a++)c[a]*=n;e.vertices=c}},E.prototype.readAnimation=function(t,e,i){var n=this.scale,o=new Array,s=0;if(t.slots)for(var r in t.slots){var a=t.slots[r];if(-1==(Y=i.findSlotIndex(r)))throw new Error("Slot not found: "+r);for(E in a){var l=a[E];if("attachment"==E){(T=new $.AttachmentTimeline(l.length)).slotIndex=Y;for(var u=0,h=0;h<l.length;h++){var c=l[h];T.setFrame(u++,c.time,c.name)}o.push(T),s=Math.max(s,T.frames[T.getFrameCount()-1])}else if("color"==E){(T=new $.ColorTimeline(l.length)).slotIndex=Y;for(u=0,h=0;h<l.length;h++){var c=l[h],p=new $.Color;p.setFromString(c.color||"ffffffff"),T.setFrame(u,c.time,p.r,p.g,p.b,p.a),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.ColorTimeline.ENTRIES])}else{if("twoColor"!=E)throw new Error("Invalid timeline type for a slot: "+E+" ("+r+")");(T=new $.TwoColorTimeline(l.length)).slotIndex=Y;for(u=0,h=0;h<l.length;h++){var c=l[h],d=new $.Color,m=new $.Color;d.setFromString(c.light),m.setFromString(c.dark),T.setFrame(u,c.time,d.r,d.g,d.b,d.a,m.r,m.g,m.b),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var S in t.bones){var g=t.bones[S],y=i.findBoneIndex(S);if(-1==y)throw new Error("Bone not found: "+S);for(E in g){l=g[E];if("rotate"===E){(T=new $.RotateTimeline(l.length)).boneIndex=y;for(u=0,h=0;h<l.length;h++){c=l[h];T.setFrame(u,c.time,c.angle),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.RotateTimeline.ENTRIES])}else{if("translate"!==E&&"scale"!==E&&"shear"!==E)throw new Error("Invalid timeline type for a bone: "+E+" ("+S+")");var T=null,f=1;"scale"===E?T=new $.ScaleTimeline(l.length):"shear"===E?T=new $.ShearTimeline(l.length):(T=new $.TranslateTimeline(l.length),f=n),T.boneIndex=y;for(u=0,h=0;h<l.length;h++){var c=l[h],b=this.getValue(c,"x",0),C=this.getValue(c,"y",0);T.setFrame(u,c.time,b*f,C*f),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var v in t.ik){var M=t.ik[v],A=i.findIkConstraint(v);(T=new $.IkConstraintTimeline(M.length)).ikConstraintIndex=i.ikConstraints.indexOf(A);for(u=0,h=0;h<M.length;h++){c=M[h];T.setFrame(u,c.time,this.getValue(c,"mix",1),this.getValue(c,"bendPositive",!0)?1:-1),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var v in t.transform){M=t.transform[v],A=i.findTransformConstraint(v);(T=new $.TransformConstraintTimeline(M.length)).transformConstraintIndex=i.transformConstraints.indexOf(A);for(u=0,h=0;h<M.length;h++){c=M[h];T.setFrame(u,c.time,this.getValue(c,"rotateMix",1),this.getValue(c,"translateMix",1),this.getValue(c,"scaleMix",1),this.getValue(c,"shearMix",1)),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(var v in t.paths){var M=t.paths[v],L=i.findPathConstraintIndex(v);if(-1==L)throw new Error("Path constraint not found: "+v);var I=i.pathConstraints[L];for(E in M){l=M[E];if("position"===E||"spacing"===E){var T=null,f=1;"spacing"===E?(T=new $.PathConstraintSpacingTimeline(l.length),I.spacingMode!=$.SpacingMode.Length&&I.spacingMode!=$.SpacingMode.Fixed||(f=n)):(T=new $.PathConstraintPositionTimeline(l.length),I.positionMode==$.PositionMode.Fixed&&(f=n)),T.pathConstraintIndex=L;for(u=0,h=0;h<l.length;h++){c=l[h];T.setFrame(u,c.time,this.getValue(c,E,0)*f),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===E){(T=new $.PathConstraintMixTimeline(l.length)).pathConstraintIndex=L;for(u=0,h=0;h<l.length;h++){c=l[h];T.setFrame(u,c.time,this.getValue(c,"rotateMix",1),this.getValue(c,"translateMix",1)),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[(T.getFrameCount()-1)*$.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var R in t.deform){var P=t.deform[R],_=i.findSkin(R);if(null==_)throw new Error("Skin not found: "+R);for(r in P){var E,a=P[r];if(-1==(Y=i.findSlotIndex(r)))throw new Error("Slot not found: "+a.name);for(E in a){var l=a[E],D=_.getAttachment(Y,E);if(null==D)throw new Error("Deform attachment not found: "+l.name);var w=null!=D.bones,O=D.vertices,x=w?O.length/3*2:O.length;(T=new $.DeformTimeline(l.length)).slotIndex=Y,T.attachment=D;for(var u=0,B=0;B<l.length;B++){var c=l[B],V=void 0,G=this.getValue(c,"vertices",null);if(null==G)V=w?$.Utils.newFloatArray(x):O;else{var V=$.Utils.newFloatArray(x),F=this.getValue(c,"offset",0);if($.Utils.arrayCopy(G,0,V,F,G.length),1!=n)for(var k=(h=F)+G.length;h<k;h++)V[h]*=n;if(!w)for(h=0;h<x;h++)V[h]+=O[h]}T.setFrame(u,c.time,V),this.readCurve(c,T,u),u++}o.push(T),s=Math.max(s,T.frames[T.getFrameCount()-1])}}}var j=t.drawOrder;if(null!=(j=null==j?t.draworder:j)){for(var T=new $.DrawOrderTimeline(j.length),U=i.slots.length,u=0,B=0;B<j.length;B++){var N=j[B],W=null,X=this.getValue(N,"offsets",null);if(null!=X){for(var W=$.Utils.newArray(U,-1),H=$.Utils.newArray(U-X.length,0),z=0,q=0,h=0;h<X.length;h++){var Y,Q=X[h];if(-1==(Y=i.findSlotIndex(Q.slot)))throw new Error("Slot not found: "+Q.slot);for(;z!=Y;)H[q++]=z++;W[z+Q.offset]=z++}for(;z<U;)H[q++]=z++;for(h=U-1;0<=h;h--)-1==W[h]&&(W[h]=H[--q])}T.setFrame(u++,N.time,W)}o.push(T),s=Math.max(s,T.frames[T.getFrameCount()-1])}if(t.events){for(T=new $.EventTimeline(t.events.length),u=0,h=0;h<t.events.length;h++){var J=t.events[h],Z=i.findEvent(J.name);if(null==Z)throw new Error("Event not found: "+J.name);var K=new $.Event($.Utils.toSinglePrecision(J.time),Z);K.intValue=this.getValue(J,"int",Z.intValue),K.floatValue=this.getValue(J,"float",Z.floatValue),K.stringValue=this.getValue(J,"string",Z.stringValue),T.setFrame(u++,K)}o.push(T),s=Math.max(s,T.frames[T.getFrameCount()-1])}if(isNaN(s))throw new Error("Error while parsing animation, duration is NaN");i.animations.push(new $.Animation(e,o,s))},E.prototype.readCurve=function(t,e,i){t.curve&&("stepped"===t.curve?e.setStepped(i):"[object Array]"===Object.prototype.toString.call(t.curve)&&(t=t.curve,e.setCurve(i,t[0],t[1],t[2],t[3])))},E.prototype.getValue=function(t,e,i){return void 0!==t[e]?t[e]:i},E.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return $.BlendMode.Normal;if("additive"==t)return $.BlendMode.Additive;if("multiply"==t)return $.BlendMode.Multiply;if("screen"==t)return $.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},E.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return $.PositionMode.Fixed;if("percent"==t)return $.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},E.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return $.SpacingMode.Length;if("fixed"==t)return $.SpacingMode.Fixed;if("percent"==t)return $.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},E.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return $.RotateMode.Tangent;if("chain"==t)return $.RotateMode.Chain;if("chainscale"==t)return $.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},E.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return $.TransformMode.Normal;if("onlytranslation"==t)return $.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return $.TransformMode.NoRotationOrReflection;if("noscale"==t)return $.TransformMode.NoScale;if("noscaleorreflection"==t)return $.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},E);function E(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}$.SkeletonJson=t;var S=function(t,e,i,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=n}}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){function e(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}t=t.core||(t.core={}),e.prototype.addAttachment=function(t,e,i){if(null==i)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=i},e.prototype.getAttachment=function(t,e){t=this.attachments[t];return t?t[e]:null},e.prototype.attachAll=function(t,e){for(var i=0,n=0;n<t.slots.length;n++){var o=t.slots[n],s=o.getAttachment();if(s&&i<e.attachments.length){var r,a=e.attachments[i];for(r in a)if(s==a[r]){var l=this.getAttachment(i,r);null!=l&&o.setAttachment(l);break}}i++}},t.Skin=e}(pixi_spine=pixi_spine||{}),function(t){var i;function e(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new i.Color,this.darkColor=null==t.darkColor?null:new i.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}i=t.core||(t.core={}),e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},i.Slot=e}(pixi_spine=pixi_spine||{}),function(t){var n;function e(t,e,i){if(this.color=new n.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}(n=t.core||(t.core={})).SlotData=e}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e,i,n=(o.prototype.getImage=function(){return this._image},o.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},o.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return i.MirroredRepeat;case"clamptoedge":return i.ClampToEdge;case"repeat":return i.Repeat;default:throw new Error("Unknown texture wrap "+t)}},o);function o(t){this._image=t}t.Texture=n,(n=e=t.TextureFilter||(t.TextureFilter={}))[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear",(n=i=t.TextureWrap||(t.TextureWrap={}))[n.MirroredRepeat=33648]="MirroredRepeat",n[n.ClampToEdge=33071]="ClampToEdge",n[n.Repeat=10497]="Repeat";Object.defineProperty(s.prototype,"width",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.crop:t.trim||t.orig).width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.crop:t.trim||t.orig).height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"originalWidth",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.trim||t.crop:t.orig).width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"originalHeight",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.trim||t.crop:t.orig).height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),n=s;function s(){this.size=null}t.TextureRegion=n}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(f){var t=(e.prototype.addTexture=function(t,e){for(var i=this.pages,n=null,o=0;o<i.length;o++)if(i[o].baseTexture===e.baseTexture){n=i[o];break}null===n&&((n=new b).name="texturePage",s=e.baseTexture,n.width=s.realWidth,n.height=s.realHeight,n.baseTexture=s,n.minFilter=n.magFilter=f.TextureFilter.Nearest,n.uWrap=f.TextureWrap.ClampToEdge,n.vWrap=f.TextureWrap.ClampToEdge,i.push(n));var s=new C;return s.name=t,s.page=n,s.texture=e,s.index=-1,this.regions.push(s),s},e.prototype.addTextureHash=function(t,e){for(var i in t)t.hasOwnProperty(i)&&this.addTexture(e&&-1!==i.indexOf(".")?i.substr(0,i.lastIndexOf(".")):i,t[i])},e.prototype.addSpineAtlas=function(t,e,i){return this.load(t,e,i)},e.prototype.load=function(t,d,m){var S=this;if(null==d)throw new Error("textureLoader cannot be null.");var g=new i(t),y=new Array(4),T=null;(function e(){for(;;){var t=g.readLine();if(null==t)return m&&m(S);if(0==(t=t.trim()).length)T=null;else{if(!T){(T=new b).name=t,2==g.readTuple(y)&&(T.width=parseInt(y[0]),T.height=parseInt(y[1]),g.readTuple(y)),g.readTuple(y),T.minFilter=f.Texture.filterFromString(y[0]),T.magFilter=f.Texture.filterFromString(y[1]);var i=g.readValue();T.uWrap=f.TextureWrap.ClampToEdge,T.vWrap=f.TextureWrap.ClampToEdge,"x"==i?T.uWrap=f.TextureWrap.Repeat:"y"==i?T.vWrap=f.TextureWrap.Repeat:"xy"==i&&(T.uWrap=T.vWrap=f.TextureWrap.Repeat),d(t,function(t){(T.baseTexture=t).hasLoaded||(t.width=T.width,t.height=T.height),S.pages.push(T),T.setFilters(),T.width&&T.height||(T.width=t.realWidth,T.height=t.realHeight,T.width&&T.height||console.log("ERROR spine atlas page "+T.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),e()}),S.pages.push(T);break}var n=new C;n.name=t,n.page=T;var o="true"==g.readValue()?6:0;g.readTuple(y);var s=parseInt(y[0]),r=parseInt(y[1]);g.readTuple(y);var a=parseInt(y[0]),l=parseInt(y[1]),u=T.baseTexture.resolution;s/=u,r/=u,a/=u,l/=u;var h=new PIXI.Rectangle(s,r,o?l:a,o?a:l);4==g.readTuple(y)&&4==g.readTuple(y)&&g.readTuple(y);var c=parseInt(y[0])/u,p=parseInt(y[1])/u;g.readTuple(y);i=parseInt(y[0])/u,t=parseInt(y[1])/u,u=new PIXI.Rectangle(0,0,c,p),t=new PIXI.Rectangle(i,p-l-t,a,l);"3"!=PIXI.VERSION[0]?n.texture=new PIXI.Texture(n.page.baseTexture,h,u,t,o):(l=(a=new PIXI.Rectangle(s,r,a,l)).clone(),t.width=c,t.height=p,n.texture=new PIXI.Texture(n.page.baseTexture,a,l,t,o)),n.index=parseInt(g.readValue()),n.texture._updateUvs(),S.regions.push(n)}}})()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e);function e(t,e,i){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,i)}f.TextureAtlas=t;var i=(n.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},n.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},n.prototype.readTuple=function(t){var e=this.readLine(),i=e.indexOf(":");if(-1==i)throw new Error("Invalid line: "+e);for(var n=0,o=i+1;n<3;n++){var s=e.indexOf(",",o);if(-1==s)break;t[n]=e.substr(o,s-o).trim(),o=s+1}return t[n]=e.substring(o).trim(),n+1},n);function n(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var b=(o.prototype.setFilters=function(){var t=this.baseTexture;t.premultipliedAlpha=!1;var e=this.minFilter;e==f.TextureFilter.Linear?t.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==f.TextureFilter.Nearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:(t.mipmap=!0,e==f.TextureFilter.MipMapNearestNearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR)},o);function o(){}f.TextureAtlasPage=b;var s,C=(s=f.TextureRegion,__extends(r,s),r);function r(){return null!==s&&s.apply(this,arguments)||this}f.TextureAtlasRegion=C}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var R;function e(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new R.Vector2,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}R=t.core||(t.core={}),e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,o=this.target,s=o.matrix,r=s.a,a=s.c,l=s.b,u=s.d,s=0<r*u-a*l?R.MathUtils.degRad:-R.MathUtils.degRad,h=this.data.offsetRotation*s,c=this.data.offsetShearY*s,p=this.bones,d=0,m=p.length;d<m;d++){var S,g,y,T,f,b,C,v,M,A=p[d],L=!1,I=A.matrix;0!=t&&(S=I.a,f=I.c,g=I.b,b=I.d,(v=Math.atan2(l,r)-Math.atan2(g,S)+h)>R.MathUtils.PI?v-=R.MathUtils.PI2:v<-R.MathUtils.PI&&(v+=R.MathUtils.PI2),v*=t,T=Math.cos(v),y=Math.sin(v),I.a=T*S-y*g,I.c=T*f-y*b,I.b=y*S+T*g,I.d=y*f+T*b,L=!0),0!=e&&(T=this.temp,o.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),I.tx+=(T.x-I.tx)*e,I.ty+=(T.y-I.ty)*e,L=!0),0<i&&(M=Math.sqrt(I.a*I.a+I.b*I.b),C=Math.sqrt(r*r+l*l),1e-5<M&&(M=(M+(C-M+this.data.offsetScaleX)*i)/M),I.a*=M,I.b*=M,M=Math.sqrt(I.c*I.c+I.d*I.d),C=Math.sqrt(a*a+u*u),1e-5<M&&(M=(M+(C-M+this.data.offsetScaleY)*i)/M),I.c*=M,I.d*=M,L=!0),0<n&&(f=I.c,b=I.d,C=Math.atan2(b,f),(v=Math.atan2(u,a)-Math.atan2(l,r)-(C-Math.atan2(I.b,I.a)))>R.MathUtils.PI?v-=R.MathUtils.PI2:v<-R.MathUtils.PI&&(v+=R.MathUtils.PI2),v=C+(v+c)*n,M=Math.sqrt(f*f+b*b),I.c=Math.cos(v)*M,I.d=Math.sin(v)*M,L=!0),L&&(A.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,o=this.target,s=o.matrix,r=s.a,a=s.c,l=s.b,u=s.d,s=0<r*u-a*l?R.MathUtils.degRad:-R.MathUtils.degRad,h=this.data.offsetRotation*s,c=this.data.offsetShearY*s,p=this.bones,d=0,m=p.length;d<m;d++){var S,g,y,T,f,b,C,v,M=p[d],A=!1,L=M.matrix;0!=t&&(S=L.a,b=L.c,g=L.b,C=L.d,(f=Math.atan2(l,r)+h)>R.MathUtils.PI?f-=R.MathUtils.PI2:f<-R.MathUtils.PI&&(f+=R.MathUtils.PI2),f*=t,T=Math.cos(f),y=Math.sin(f),L.a=T*S-y*g,L.c=T*b-y*C,L.b=y*S+T*g,L.d=y*b+T*C,A=!0),0!=e&&(T=this.temp,o.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),L.tx+=T.x*e,L.ty+=T.y*e,A=!0),0<i&&(v=(Math.sqrt(r*r+l*l)-1+this.data.offsetScaleX)*i+1,L.a*=v,L.b*=v,v=(Math.sqrt(a*a+u*u)-1+this.data.offsetScaleY)*i+1,L.c*=v,L.d*=v,A=!0),0<n&&((f=Math.atan2(u,a)-Math.atan2(l,r))>R.MathUtils.PI?f-=R.MathUtils.PI2:f<-R.MathUtils.PI&&(f+=R.MathUtils.PI2),b=L.c,C=L.d,f=Math.atan2(C,b)+(f-R.MathUtils.PI/2+c)*n,v=Math.sqrt(b*b+C*C),L.c=Math.cos(f)*v,L.d=Math.sin(f)*v,A=!0),A&&(M.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var s=this.bones,r=0,a=s.length;r<a;r++){var l=s[r];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;0!=t&&(m=o.arotation-u+this.data.offsetRotation,u+=(m-=360*(16384-(16384.499999999996-m/360|0)))*t);var h=l.ax,c=l.ay;0!=e&&(h+=(o.ax-h+this.data.offsetX)*e,c+=(o.ay-c+this.data.offsetY)*e);var p=l.ascaleX,d=l.ascaleY;0<i&&(1e-5<p&&(p=(p+(o.ascaleX-p+this.data.offsetScaleX)*i)/p),1e-5<d&&(d=(d+(o.ascaleY-d+this.data.offsetScaleY)*i)/d));var m,S=l.ashearY;0<n&&(m=o.ashearY-S+this.data.offsetShearY,m-=360*(16384-(16384.499999999996-m/360|0)),l.shearY+=m*n),l.updateWorldTransformWith(h,c,u,p,d,l.ashearX,S)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var s=this.bones,r=0,a=s.length;r<a;r++){var l=s[r];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;0!=t&&(u+=(o.arotation+this.data.offsetRotation)*t);var h=l.ax,c=l.ay;0!=e&&(h+=(o.ax+this.data.offsetX)*e,c+=(o.ay+this.data.offsetY)*e);var p=l.ascaleX,d=l.ascaleY;0<i&&(1e-5<p&&(p*=(o.ascaleX-1+this.data.offsetScaleX)*i+1),1e-5<d&&(d*=(o.ascaleY-1+this.data.offsetScaleY)*i+1));var m=l.ashearY;0<n&&(m+=(o.ashearY+this.data.offsetShearY)*n),l.updateWorldTransformWith(h,c,u,p,d,l.ashearX,m)}},e.prototype.getOrder=function(){return this.data.order},R.TransformConstraint=e}(pixi_spine=pixi_spine||{}),function(t){(t.core||(t.core={})).TransformConstraintData=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t}}(pixi_spine=pixi_spine||{}),function(t){var e;function U(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool(function(){return new Array}),this.polygonIndicesPool=new e.Pool(function(){return new Array})}e=t.core||(t.core={}),U.prototype.triangulate=function(t){for(var e=t,i=t.length>>1,n=this.indicesArray,o=n.length=0;o<i;o++)n[o]=o;for(var s=this.isConcaveArray,o=s.length=0,r=i;o<r;++o)s[o]=U.isConcave(o,i,e,n);var a=this.triangles;for(a.length=0;3<i;){for(var l=i-1,o=0,u=1;;){t:if(!s[o]){for(var h=n[l]<<1,c=n[o]<<1,p=n[u]<<1,d=e[h],m=e[1+h],S=e[c],g=e[1+c],y=e[p],T=e[1+p],f=(u+1)%i;f!=l;f=(f+1)%i)if(s[f]){var b=n[f]<<1,C=e[b],b=e[1+b];if(U.positiveArea(y,T,d,m,C,b)&&U.positiveArea(d,m,S,g,C,b)&&U.positiveArea(S,g,y,T,C,b))break t}break}if(0==u){for(;s[o]&&0<--o;);break}l=o,u=((o=u)+1)%i}a.push(n[(i+o-1)%i]),a.push(n[o]),a.push(n[(o+1)%i]),n.splice(o,1),s.splice(o,1);var v=(--i+o-1)%i,M=o==i?0:o;s[v]=U.isConcave(v,i,e,n),s[M]=U.isConcave(M,i,e,n)}return 3==i&&(a.push(n[2]),a.push(n[0]),a.push(n[1])),a},U.prototype.decompose=function(t,e){var i=t,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;var o=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(o),o.length=0;var s=this.polygonIndicesPool.obtain();s.length=0;for(var r=this.polygonPool.obtain(),a=-1,l=r.length=0,u=0,h=e.length;u<h;u+=3){var c=e[u]<<1,p=e[u+1]<<1,d=e[u+2]<<1,m=i[c],S=i[1+c],g=i[p],y=i[1+p],T=i[d],f=i[1+d],b=!1;a==c&&(C=r.length-4,R=U.winding(r[C],r[C+1],r[C+2],r[C+3],T,f),P=U.winding(T,f,r[0],r[1],r[2],r[3]),R==l&&P==l&&(r.push(T),r.push(f),s.push(d),b=!0)),b||(0<r.length?(n.push(r),o.push(s)):(this.polygonPool.free(r),this.polygonIndicesPool.free(s)),(r=this.polygonPool.obtain()).length=0,r.push(m),r.push(S),r.push(g),r.push(y),r.push(T),r.push(f),(s=this.polygonIndicesPool.obtain()).length=0,s.push(c),s.push(p),s.push(d),l=U.winding(m,S,g,y,T,f),a=c)}0<r.length&&(n.push(r),o.push(s));for(u=0,h=n.length;u<h;u++)if(0!=(s=o[u]).length)for(var C,v,M,A,L,I,R,P,_=s[0],E=s[s.length-1],D=(r=n[u])[C=r.length-4],w=r[C+1],O=r[C+2],x=r[C+3],B=r[0],V=r[1],G=r[2],F=r[3],k=U.winding(D,w,O,x,B,V),j=0;j<h;j++)j!=u&&(3==(v=o[j]).length&&(M=v[0],A=v[1],L=v[2],T=(I=n[j])[I.length-2],f=I[I.length-1],M==_&&A==E&&(R=U.winding(D,w,O,x,T,f),P=U.winding(T,f,B,V,G,F),R==k&&P==k&&(I.length=0,v.length=0,r.push(T),r.push(f),s.push(L),D=O,w=x,O=T,x=f,j=0))));for(u=n.length-1;0<=u;u--)0==(r=n[u]).length&&(n.splice(u,1),this.polygonPool.free(r),s=o[u],o.splice(u,1),this.polygonIndicesPool.free(s));return n},U.isConcave=function(t,e,i,n){var o=n[(e+t-1)%e]<<1,s=n[t]<<1,e=n[(t+1)%e]<<1;return!this.positiveArea(i[o],i[1+o],i[s],i[1+s],i[e],i[1+e])},U.positiveArea=function(t,e,i,n,o,s){return 0<=t*(s-n)+i*(e-s)+o*(n-e)},U.winding=function(t,e,i,n,o,s){i-=t,n-=e;return 0<=o*n-s*i+i*e-t*n?1:-1},e.Triangulator=U}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e=(i.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},i.prototype.contains=function(t){return null!=this.array[0|t]},i.prototype.remove=function(t){this.array[0|t]=void 0},i.prototype.clear=function(){this.array.length=0},i);function i(){this.array=new Array}t.IntSet=e;n.prototype.set=function(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this.clamp(),this},n.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},n.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},n.prototype.add=function(t,e,i,n){return this.r+=t,this.g+=e,this.b+=i,this.a+=n,this.clamp(),this},n.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},n.WHITE=new n(1,1,1,1),n.RED=new n(1,0,0,1),n.GREEN=new n(0,1,0,1),n.BLUE=new n(0,0,1,1),n.MAGENTA=new n(1,0,1,1),e=n;function n(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.r=t=void 0===t?0:t,this.g=e,this.b=i,this.a=n}t.Color=e;o.clamp=function(t,e,i){return t<e?e:i<t?i:t},o.cosDeg=function(t){return Math.cos(t*o.degRad)},o.sinDeg=function(t){return Math.sin(t*o.degRad)},o.signum=function(t){return 0<t?1:t<0?-1:0},o.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},o.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},o.randomTriangular=function(t,e){return o.randomTriangularWith(t,e,.5*(t+e))},o.randomTriangularWith=function(t,e,i){var n=Math.random(),o=e-t;return n<=(i-t)/o?t+Math.sqrt(n*o*(i-t)):e-Math.sqrt((1-n)*o*(e-i))},o.PI2=2*(o.PI=3.1415927),o.radDeg=o.radiansToDegrees=180/o.PI,o.degRad=o.degreesToRadians=o.PI/180,e=o;function o(){}t.MathUtils=e;s.prototype.apply=function(t,e,i){return t+(e-t)*this.applyInternal(i)},e=s;function s(){}t.Interpolation=e;var r,e=(__extends(a,r=e),a.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},a);function a(t){var e=r.call(this)||this;return e.power=2,e.power=t,e}t.Pow=e;var l,e=(__extends(u,l=e),u.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},u);function u(t){return l.call(this,t)||this}t.PowOut=e;h.arrayCopy=function(t,e,i,n,o){for(var s=e,r=n;s<e+o;s++,r++)i[r]=t[s]},h.setArraySize=function(t,e,i){void 0===i&&(i=0);var n=t.length;if(n==e)return t;if(n<(t.length=e))for(var o=n;o<e;o++)t[o]=i;return t},h.ensureArrayCapacity=function(t,e,i){return void 0===i&&(i=0),t.length>=e?t:h.setArraySize(t,e,i)},h.newArray=function(t,e){for(var i=new Array(t),n=0;n<t;n++)i[n]=e;return i},h.newFloatArray=function(t){if(h.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),i=0;i<e.length;i++)e[i]=0;return e},h.newShortArray=function(t){if(h.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),i=0;i<e.length;i++)e[i]=0;return e},h.toFloatArray=function(t){return h.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},h.toSinglePrecision=function(t){return h.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},h.webkit602BugfixHelper=function(t,e){},h.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,e=h;function h(){}t.Utils=e;c.logBones=function(t){for(var e=0;e<t.bones.length;e++){var i=t.bones[e],n=i.matrix;console.log(i.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}},e=c;function c(){}t.DebugUtils=e;p.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},p.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},p.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},p.prototype.clear=function(){this.items.length=0},e=p;function p(t){this.items=new Array,this.instantiator=t}t.Pool=e;d.prototype.set=function(t,e){return this.x=t,this.y=e,this},d.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},d.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},e=d;function d(t,e){void 0===e&&(e=0),this.x=t=void 0===t?0:t,this.y=e}t.Vector2=e;m.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},e=m;function m(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.TimeKeeper=e;S.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},S.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},S.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},e=S;function S(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.WindowedMean=e}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t};t.Attachment=e;var i,e=(__extends(n,i=e),n.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},n.prototype.computeWorldVertices=function(t,e,i,n,o,s){i=o+(i>>1)*s;var r=t.bone.skeleton,a=t.attachmentVertices,l=this.vertices,u=this.bones;if(null!=u){for(var h=0,c=0,p=0;p<e;p+=2)h+=(g=u[h])+1,c+=g;var d=r.bones;if(0==a.length)for(v=o,M=3*c;v<i;v+=s){var m=0,S=0,g=u[h++];for(g+=h;h<g;h++,M+=3){var y=d[u[h]].matrix,T=l[M],f=l[M+1],b=l[M+2];m+=(T*y.a+f*y.c+y.tx)*b,S+=(T*y.b+f*y.d+y.ty)*b}n[v]=m,n[v+1]=S}else for(var C=a,v=o,M=3*c,A=c<<1;v<i;v+=s){m=0,S=0,g=u[h++];for(g+=h;h<g;h++,M+=3,A+=2){y=d[u[h]].matrix,T=l[M]+C[A],f=l[M+1]+C[A+1],b=l[M+2];m+=(T*y.a+f*y.c+y.tx)*b,S+=(T*y.b+f*y.d+y.ty)*b}n[v]=m,n[v+1]=S}}else{0<a.length&&(l=a);for(var y,L=(y=t.bone.matrix).tx,I=y.ty,R=y.a,M=y.c,P=y.b,_=y.d,E=e,v=o;v<i;E+=2,v+=s){var T=l[E],f=l[E+1];n[v]=T*R+f*M+L,n[v+1]=T*P+f*_+I}}},n.prototype.applyDeform=function(t){return this==t},n.nextID=0,n);function n(t){t=i.call(this,t)||this;return t.id=(65535&n.nextID++)<<11,t.worldVerticesLength=0,t}t.VertexAttachment=e}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){(t=(t=t.core||(t.core={})).AttachmentType||(t.AttachmentType={}))[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point"}(pixi_spine=pixi_spine||{}),function(t){var e,i;function n(t){t=i.call(this,t)||this;return t.color=new e.Color(1,1,1,1),t}e=t.core||(t.core={}),i=e.VertexAttachment,__extends(n,i),e.BoundingBoxAttachment=n}(pixi_spine=pixi_spine||{}),function(t){var e,i;function n(t){t=i.call(this,t)||this;return t.color=new e.Color(.2275,.2275,.8078,1),t}e=t.core||(t.core={}),i=e.VertexAttachment,__extends(n,i),e.ClippingAttachment=n}(pixi_spine=pixi_spine||{}),function(t){var d,e;function i(t){t=e.call(this,t)||this;return t.color=new d.Color(1,1,1,1),t.inheritDeform=!1,t.tempColor=new d.Color(0,0,0,0),t}d=t.core||(t.core={}),e=d.VertexAttachment,__extends(i,e),i.prototype.updateUVs=function(t,e){var i=this.regionUVs.length;if(e&&e.length==i||(e=d.Utils.newFloatArray(i)),null!=t){for(var n=t.texture._uvs,o=t.width,s=t.height,r=t.originalWidth,a=t.originalHeight,l=t.offsetX,u=t.pixiOffsetY,h=0;h<i;h+=2){var c=this.regionUVs[h],p=this.regionUVs[h+1];e[h]=(n.x0*(1-(c=(c*r-l)/o))+n.x1*c)*(1-(p=(p*a-u)/s))+(n.x3*(1-c)+n.x2*c)*p,e[h+1]=(n.y0*(1-c)+n.y1*c)*(1-p)+(n.y3*(1-c)+n.y2*c)*p}return e}},i.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},i.prototype.getParentMesh=function(){return this.parentMesh},i.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},d.MeshAttachment=i}(pixi_spine=pixi_spine||{}),function(t){var e,i;function n(t){t=i.call(this,t)||this;return t.closed=!1,t.constantSpeed=!1,t.color=new e.Color(1,1,1,1),t}e=t.core||(t.core={}),i=e.VertexAttachment,__extends(n,i),e.PathAttachment=n}(pixi_spine=pixi_spine||{}),function(t){var o,e;function i(t){t=e.call(this,t)||this;return t.color=new o.Color(.38,.94,0,1),t}o=t.core||(t.core={}),e=o.VertexAttachment,__extends(i,e),i.prototype.computeWorldPosition=function(t,e){var i=t.matrix;return e.x=this.x*i.a+this.y*i.c+t.worldX,e.y=this.x*i.b+this.y*i.d+t.worldY,e},i.prototype.computeWorldRotation=function(t){var e=t.matrix,i=o.MathUtils.cosDeg(this.rotation),n=o.MathUtils.sinDeg(this.rotation),t=i*e.a+n*e.c,e=i*e.b+n*e.d;return Math.atan2(e,t)*o.MathUtils.radDeg},o.PointAttachment=i}(pixi_spine=pixi_spine||{}),function(t){var e,i;function p(t){t=i.call(this,t)||this;return t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new e.Color(1,1,1,1),t.offset=e.Utils.newFloatArray(8),t.uvs=e.Utils.newFloatArray(8),t.tempColor=new e.Color(1,1,1,1),t}e=t.core||(t.core={}),i=e.Attachment,__extends(p,i),p.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*e,o=i+this.region.width*t,s=n+this.region.height*e,r=this.rotation*Math.PI/180,a=Math.cos(r),l=Math.sin(r),t=i*a+this.x,e=i*l,r=n*a+this.y,i=n*l,n=o*a+this.x,o=o*l,a=s*a+this.y,s=s*l,l=this.offset;l[p.OX1]=t-i,l[p.OY1]=r+e,l[p.OX2]=t-s,l[p.OY2]=a+e,l[p.OX3]=n-s,l[p.OY3]=a+o,l[p.OX4]=n-i,l[p.OY4]=r+o},p.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},p.prototype.computeWorldVertices=function(t,e,i,n){var o=this.offset,s=t.matrix,r=s.tx,a=s.ty,l=s.a,u=s.c,h=s.b,c=s.d,t=0,t=o[p.OX1],s=o[p.OY1];e[i]=t*l+s*u+r,e[i+1]=t*h+s*c+a,t=o[p.OX2],s=o[p.OY2],e[i+=n]=t*l+s*u+r,e[i+1]=t*h+s*c+a,t=o[p.OX3],s=o[p.OY3],e[i+=n]=t*l+s*u+r,e[i+1]=t*h+s*c+a,t=o[p.OX4],s=o[p.OY4],e[i+=n]=t*l+s*u+r,e[i+1]=t*h+s*c+a},p.OX1=0,p.OY1=1,p.OX2=2,p.OY2=3,p.OX3=4,p.OY3=5,p.OX4=6,p.OY4=7,p.X1=0,p.Y1=1,p.C1R=2,p.C1G=3,p.C1B=4,p.C1A=5,p.U1=6,p.V1=7,p.X2=8,p.Y2=9,p.C2R=10,p.C2G=11,p.C2B=12,p.C2A=13,p.U2=14,p.V2=15,p.X3=16,p.Y3=17,p.C3R=18,p.C3G=19,p.C3B=20,p.C3A=21,p.U3=22,p.V3=23,p.X4=24,p.Y4=25,p.C4R=26,p.C4G=27,p.C4B=28,p.C4A=29,p.U4=30,p.V4=31,e.RegionAttachment=p}(pixi_spine=pixi_spine||{}),function(t){var o;function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}o=t.core||(t.core={}),e.prototype.begin=function(t){},e.prototype.transform=function(t,e,i,n){t.x+=o.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=o.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},o.JitterEffect=e}(pixi_spine=pixi_spine||{}),function(t){var l;function u(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}l=t.core||(t.core={}),u.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},u.prototype.transform=function(t,e,i,n){var o=this.angle*l.MathUtils.degreesToRadians,s=t.x-this.worldX,r=t.y-this.worldY,a=Math.sqrt(s*s+r*r);a<this.radius&&(o=u.interpolation.apply(0,o,(this.radius-a)/this.radius),a=Math.cos(o),o=Math.sin(o),t.x=a*s-o*r+this.worldX,t.y=o*s+a*r+this.worldY)},u.prototype.end=function(){},u.interpolation=new l.PowOut(2),l.SwirlEffect=u}(pixi_spine=pixi_spine||{}),function(){var e;Math.fround||(Math.fround=Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(v){v.core.Bone.yDown=!0;var e,M=[0,0,0],i=(e=PIXI.Sprite,__extends(t,e),t);function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.region=null,t}v.SpineSprite=i;var s,r=(s=PIXI.mesh.Mesh,__extends(n,s),n);function n(t,e,i,n,o){return s.call(this,t,e,i,n,o)||this}v.SpineMesh=r;var u,o=(u=PIXI.Container,__extends(a,u),Object.defineProperty(a.prototype,"autoUpdate",{get:function(){return this.updateTransform===a.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?a.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),a.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();var e=this.skeleton.slots,t=this.color,i=null,n=null;t?(i=t.light,n=t.dark):i=this.tintRgb;for(var o=PIXI.TransformBase&&1==this.transformHack(),s=0,r=e.length;s<r;s++){var a=(C=e[s]).attachment,l=this.slotContainers[s];if(a){var u,h=null,c=a.color;if(a instanceof v.core.RegionAttachment){var p,d,m,S,g=a.region;g&&(C.currentMesh&&(C.currentMesh.visible=!1,C.currentMesh=null,C.currentMeshName=void 0),C.currentSpriteName&&C.currentSpriteName===g.name||(p=g.name,C.currentSprite&&(C.currentSprite.visible=!1),C.sprites=C.sprites||{},void 0!==C.sprites[p]?C.sprites[p].visible=!0:(g=this.createSprite(C,a,p),l.addChild(g)),C.currentSprite=C.sprites[p],C.currentSpriteName=p)),l.transform?(S=null,(m=d=l.transform).matrix2d?(S=m.matrix2d,m._dirtyVersion++,m.version=m._dirtyVersion,m.isStatic=!0,m.operMode=0):o?(m.position&&((d=new PIXI.TransformBase)._parentID=-1,d._worldID=l.transform._worldID,l.transform=d),S=d.localTransform):m.setFromMatrix(C.bone.matrix),S&&C.bone.matrix.copy(S)):(S=l.localTransform||new PIXI.Matrix,C.bone.matrix.copy(S),l.localTransform=S,l.displayObjectUpdateTransform=A),C.currentSprite.color?h=C.currentSprite.color:(M[0]=i[0]*C.color.r*c.r,M[1]=i[1]*C.color.g*c.g,M[2]=i[2]*C.color.b*c.b,C.currentSprite.tint=PIXI.utils.rgb2hex(M)),C.currentSprite.blendMode=C.blendMode}else if(a instanceof v.core.MeshAttachment)C.currentSprite&&(C.currentSprite.visible=!1,C.currentSprite=null,C.currentSpriteName=void 0,l.transform?((d=new PIXI.TransformStatic)._parentID=-1,d._worldID=l.transform._worldID,l.transform=d):(l.localTransform=new PIXI.Matrix,l.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),C.currentMeshName&&C.currentMeshName===a.name||(p=a.name,C.currentMesh&&(C.currentMesh.visible=!1),C.meshes=C.meshes||{},void 0!==C.meshes[p]?C.meshes[p].visible=!0:(m=this.createMesh(C,a),l.addChild(m)),C.currentMesh=C.meshes[p],C.currentMeshName=p),a.computeWorldVerticesOld(C,C.currentMesh.vertices),C.currentMesh.lightColor=C.color,C.currentMesh.darkColor=C.darkColor,C.currentMesh.color?h=C.currentMesh.color:"3"!==PIXI.VERSION[0]&&((u=C.currentMesh.tintRgb)[0]=i[0]*C.color.r*c.r,u[1]=i[1]*C.color.g*c.g,u[2]=i[2]*C.color.b*c.b),C.currentMesh.blendMode=C.blendMode;else{if(!(a instanceof v.core.ClippingAttachment)){l.visible=!1;continue}C.currentGraphics||(this.createGraphics(C,a),l.addChild(C.clippingContainer),l.addChild(C.currentGraphics)),this.updateGraphics(C,a)}l.visible=!0,h&&(u=C.color.r*c.r,a=C.color.g*c.g,c=C.color.b*c.b,h.setLight(i[0]*u+n[0]*(1-u),i[1]*a+n[1]*(1-a),i[2]*c+n[2]*(1-c)),c=C.darkColor?(u=C.darkColor.r,a=C.darkColor.g,C.darkColor.b):a=u=0,h.setDark(i[0]*u+n[0]*(1-u),i[1]*a+n[1]*(1-a),i[2]*c+n[2]*(1-c))),l.alpha=C.color.a}else l.visible=!1}for(var y=this.skeleton.drawOrder,T=null,f=null,s=0,r=y.length;s<r;s++){var b,C=e[y[s].data.index],l=this.slotContainers[y[s].data.index];f||l.parent!==this&&(l.parent.removeChild(l),l.parent=this),C.currentGraphics&&C.attachment?(f=C.clippingContainer,T=C.attachment,f.children.length=0,this.children[s]=l,T.endSlot==C.data&&(T.endSlot=null)):f?((b=this.tempClipContainers[s])||((b=this.tempClipContainers[s]=this.newContainer()).visible=!1),this.children[s]=b,l.parent=null,f.addChild(l),T.endSlot==C.data&&(f.renderable=!0,T=f=null)):this.children[s]=l}},a.prototype.setSpriteRegion=function(t,e,i){e.region=i,e.texture=i.texture,i.size?(e.scale.x=i.size.width/i.originalWidth,e.scale.y=-i.size.height/i.originalHeight):(e.scale.x=t.scaleX*t.width/i.originalWidth,e.scale.y=-t.scaleY*t.height/i.originalHeight)},a.prototype.setMeshRegion=function(t,e,i){e.region=i,e.texture=i.texture,i.texture._updateUvs(),t.updateUVs(i,e.uvs),e.dirty++},a.prototype.autoUpdateTransform=function(){a.globalAutoUpdate?(this.lastTime=this.lastTime||Date.now(),Date.now(),this.lastTime,this.lastTime=Date.now(),this.update(Time.deltaTime)):this.lastTime=0,PIXI.Container.prototype.updateTransform.call(this)},a.prototype.createSprite=function(t,e,i){var n=e.region;t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);n=n.texture,n=this.newSprite(n);return n.rotation=e.rotation*v.core.MathUtils.degRad,n.anchor.x=.5,n.anchor.y=.5,n.position.x=e.x,n.position.y=e.y,n.alpha=e.color.a,n.region=e.region,this.setSpriteRegion(e,n,e.region),t.sprites=t.sprites||{},t.sprites[i]=n},a.prototype.createMesh=function(t,e){var i=e.region;t.tempAttachment===e&&(i=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var n=this.newMesh(i.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return n.canvasPadding=1.5,n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,i),t.meshes=t.meshes||{},t.meshes[e.name]=n},a.prototype.createGraphics=function(t,e){var i=this.newGraphics(),n=new PIXI.Polygon([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(n),i.renderable=!1,t.currentGraphics=i,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,i},a.prototype.updateGraphics=function(t,e){var i=t.currentGraphics.graphicsData[0].shape.points;t.currentGraphics.graphicsData[0].shape.closed=!1;var n=e.worldVerticesLength;i.length=n,e.computeWorldVertices(t,0,n,i,0,2),t.currentGraphics.dirty++,t.currentGraphics.clearDirty++},a.prototype.hackTextureBySlotIndex=function(t,e,i){void 0===i&&(i=null);var n=this.skeleton.slots[t];if(!n)return!1;var o=n.attachment,t=o.region;return(e=void 0===e?null:e)&&((t=new v.core.TextureRegion).texture=e,t.size=i),n.currentSprite&&n.currentSprite.region!=t?(this.setSpriteRegion(o,n.currentSprite,t),n.currentSprite.region=t):n.currentMesh&&n.currentMesh.region!=t?this.setMeshRegion(o,n.currentMesh,t):(n.tempRegion=t,n.tempAttachment=o),!0},a.prototype.hackTextureBySlotName=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);t=this.skeleton.findSlotIndex(t);return-1!=t&&this.hackTextureBySlotIndex(t,e,i)},a.prototype.newContainer=function(){return new PIXI.Container},a.prototype.newSprite=function(t){return new i(t)},a.prototype.newGraphics=function(){return new PIXI.Graphics},a.prototype.newMesh=function(t,e,i,n,o){return new r(t,e,i,n,o)},a.prototype.transformHack=function(){return 1},a.prototype.hackAttachmentGroups=function(t,e,i){if(t){for(var n=[],o=[],s=0,r=this.skeleton.slots.length;s<r;s++){var a=this.skeleton.slots[s],l=a.currentSpriteName||a.currentMeshName||"",a=a.currentSprite||a.currentMesh;l.endsWith(t)?(a.parentGroup=e,o.push(a)):i&&a&&(a.parentGroup=i,n.push(a))}return[n,o]}},a.prototype.destroy=function(t){for(var e=0,i=this.skeleton.slots.length;e<i;e++){var n,o,s=this.skeleton.slots[e];for(n in s.meshes)s.meshes[n].destroy(t);for(o in s.meshes=null,s.sprites)s.sprites[o].destroy(t);s.sprites=null}for(e=0,i=this.slotContainers.length;e<i;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,u.prototype.destroy.call(this,t)},a.globalAutoUpdate=!0,a.clippingPolygon=[],a);function a(t){var e=u.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');e.spineData=t,e.skeleton=new v.core.Skeleton(t),e.skeleton.updateWorldTransform(),e.stateData=new v.core.AnimationStateData(t),e.state=new v.core.AnimationState(e.stateData),e.slotContainers=[],e.tempClipContainers=[];for(var i=0,n=e.skeleton.slots.length;i<n;i++){var o,s,r=e.skeleton.slots[i],a=r.attachment,l=e.newContainer();e.slotContainers.push(l),e.addChild(l),e.tempClipContainers.push(null),a instanceof v.core.RegionAttachment?(o=a.region.name,s=e.createSprite(r,a,o),r.currentSprite=s,r.currentSpriteName=o,l.addChild(s)):a instanceof v.core.MeshAttachment?(s=e.createMesh(r,a),r.currentMesh=s,r.currentMeshName=a.name,l.addChild(s)):a instanceof v.core.ClippingAttachment&&(e.createGraphics(r,a),l.addChild(r.clippingContainer),l.addChild(r.currentGraphics))}return e.autoUpdate=!0,e.tintRgb=new Float32Array([1,1,1]),e}function A(){var t=this.parent.worldTransform,e=this.worldTransform,i=this.localTransform;e.a=i.a*t.a+i.b*t.c,e.b=i.a*t.b+i.b*t.d,e.c=i.c*t.a+i.d*t.c,e.d=i.c*t.b+i.d*t.d,e.tx=i.tx*t.a+i.ty*t.c+t.tx,e.ty=i.tx*t.b+i.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}v.Spine=o}(pixi_spine=pixi_spine||{}),function(t){PIXI.spine=t;t=PIXI.Texture.prototype;t._updateUvs||(t._updateUvs=t.updateUvs)}(pixi_spine=pixi_spine||{}),function(h){function t(){return function(i,n){if(!i.data||!i.data.bones)return n();var t=i.metadata||{},o=t?i.metadata.spineSkeletonScale:null,e=t?i.metadata.spineAtlas:null;if(!1===e)return n();if(e&&e.pages){var s=new h.core.SkeletonJson(new h.core.AtlasAttachmentLoader(e)).readSkeletonData(i.data);return i.spineData=s,i.spineAtlas=e,n()}function r(t){new h.core.TextureAtlas(t,u,function(t){var e=new h.core.SkeletonJson(new h.core.AtlasAttachmentLoader(t));o&&(e.scale=o),i.spineData=e.readSkeletonData(i.data),i.spineAtlas=t,n()})}var a=t.spineAtlasSuffix||".atlas",l=i.url.substr(0,i.url.lastIndexOf("."))+a,l=(l=i.metadata&&i.metadata.spineAtlasFile?i.metadata.spineAtlasFile:l).replace(this.baseUrl,""),s={crossOrigin:i.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:t.spineMetadata||null,parentResource:i},e={crossOrigin:i.crossOrigin,metadata:t.imageMetadata||null,parentResource:i},a=(a=i.url.substr(0,i.url.lastIndexOf("/")+1)).replace(this.baseUrl,""),u=t.images?p(t.images):t.image?p({default:t.image}):t.imageLoader?t.imageLoader(this,i.name+"_atlas_page_",a,e):c(this,i.name+"_atlas_page_",a,e);i.metadata&&i.metadata.atlasRawData?r(i.metadata.atlasRawData):this.add(i.name+"_atlas",l,s,function(t){r(t.xhr.responseText)})}}function c(n,o,s,r){return s&&s.lastIndexOf("/")!==s.length-1&&(s+="/"),function(t,e){var i=s+t;n.add(o+t,i,r,function(t){e(t.texture.baseTexture)})}}function p(i){return function(t,e){t=i[t]||i.default;t&&t.baseTexture?e(t.baseTexture):e(t)}}h.atlasParser=t,h.imageLoaderAdapter=c,h.syncImageLoaderAdapter=function(t,i){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,e){e(PIXI.BaseTexture.fromImage(t,i))}},h.staticImageLoader=p,PIXI.loaders.Loader.addPixiMiddleware(t),PIXI.loader.use(t())}(pixi_spine=pixi_spine||{}),(void 0).createjs=(void 0).createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="NEXT",t.buildDate="Thu, 08 Oct 2015 16:30:58 GMT"}(),(void 0).createjs=(void 0).createjs||{},createjs.extend=function(t,e){function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},(void 0).createjs=(void 0).createjs||{},createjs.promote=function(t,e){var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n)for(var o in i[(e+="_")+"constructor"]=n.constructor,n)i.hasOwnProperty(o)&&"function"==typeof n[o]&&(i[e+o]=n[o]);return t},(void 0).createjs=(void 0).createjs||{},createjs.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(e===t[i])return i;return-1},(void 0).createjs=(void 0).createjs||{},createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}},(void 0).createjs=(void 0).createjs||{},function(){function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=-1<e.indexOf("IEMobile")||-1<e.indexOf("Windows Phone"),t.isFirefox=-1<e.indexOf("Firefox"),t.isOpera=null!=window.opera,t.isChrome=-1<e.indexOf("Chrome"),t.isIOS=(-1<e.indexOf("iPod")||-1<e.indexOf("iPhone")||-1<e.indexOf("iPad"))&&!t.isWindowPhone,t.isAndroid=-1<e.indexOf("Android")&&!t.isWindowPhone,t.isBlackberry=-1<e.indexOf("Blackberry"),createjs.BrowserDetect=t}(),(void 0).createjs=(void 0).createjs||{},function(){function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},o=n[t];return o&&this.removeEventListener(t,e,i),(o=n[t])?o.push(e):n[t]=[e],e},e.on=function(t,e,i,n,o,s){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,o),n&&t.remove()},s)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var o=n[t];if(o)for(var s=0,r=o.length;s<r;s++)if(o[s]==e){1==r?delete n[t]:o.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t){if("string"==typeof t){var e=this._listeners;if(!e||!e[t])return!1;t=new createjs.Event(t)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var i=this,n=[i];i.parent;)n.push(i=i.parent);for(var o=n.length,s=o-1;0<=s&&!t.propagationStopped;s--)n[s]._dispatchEvent(t,1+(0==s));for(s=1;s<o&&!t.propagationStopped;s++)n[s]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n&&((o=n[t.type])&&(i=o.length))){try{t.currentTarget=this}catch(t){}try{t.eventPhase=e}catch(t){}t.removed=!1;for(var o=o.slice(),s=0;s<i&&!t.immediatePropagationStopped;s++){var r=o[s];r.handleEvent?r.handleEvent(t):r(t),t.removed&&(this.off(t.type,r,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i){this.Event_constructor("error"),this.title=t,this.message=e,this.data=i}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),(void 0).createjs=(void 0).createjs||{},function(){function i(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var t=i.prototype={},n=i;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(t){if("string"==typeof t){var e=new i;return e.src=t,e}if(t instanceof n)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=n}(),function(){var n={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(t){var e={absolute:!1,relative:!1};if(null==t)return e;var i=t.indexOf("?");return-1<i&&(t=t.substr(0,i)),n.ABSOLUTE_PATT.test(t)?e.absolute=!0:n.RELATIVE_PATT.test(t)&&(e.relative=!0),(t=t.match(n.EXTENSION_PATT))&&(e.extension=t[1].toLowerCase()),e},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var i,n=[];for(i in t)n.push(i+"="+escape(t[i]));return(n=e?n.concat(e):n).join("&")},buildPath:function(t,e){if(null==e)return t;var i,n=[],o=t.indexOf("?");return-1!=o&&(i=t.slice(o+1),n=n.concat(i.split("&"))),-1!=o?t.slice(0,o)+"?"+this._formatQueryString(e,n):t+"?"+this._formatQueryString(e,n)},isCrossDomain:function(t){var e=document.createElement("a");e.href=t.src;t=document.createElement("a");return t.href=location.href,""!=e.hostname&&(e.port!=t.port||e.protocol!=t.protocol||e.hostname!=t.hostname)},isLocal:function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},isBinary:function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement},isText:function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=n}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),i=t;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){var e;this._isCanceled()||(e=null,"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(this.progress=(e=t).loaded/t.total,e.progress=this.progress,!isNaN(this.progress)&&this.progress!=1/0||(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e))},e._sendComplete=function(){var t;this._isCanceled()||(this.loaded=!0,(t=new createjs.Event("complete")).rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t))},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this),i=this;e instanceof Function?e(function(t){i._result=t,i._sendComplete()}):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(t.type)}},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i){this.AbstractLoader_constructor(t,e,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._formatResult=function(t){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(t.getTag().src=t.getResult(!0)),t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t){this._item=t}var e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){!t||0<t.loaded&&0==t.total||(t=new createjs.ProgressEvent(t.loaded,t.total),this.dispatchEvent(t))},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){!t||0<t.loaded&&0==t.total||(t=new createjs.ProgressEvent(t.loaded,t.total),this.dispatchEvent(t))},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){var e;this.loaded||(this.loaded=!0,(e=this._checkError())?this._handleError(e):(this._response=this._getResponse(),this._clean(),this.dispatchEvent(new createjs.Event("complete"))))},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,e&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var o=0,r=s.ACTIVEX_VERSIONS.length;o<r;o++){s.ACTIVEX_VERSIONS[o];try{n=new ActiveXObject(axVersions);break}catch(t){}}if(null==n)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var a=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src;if(n.open(t.method||createjs.AbstractLoader.GET,a,!0),e&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),e||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)i[l]=t.headers[l];for(l in i)n.setRequestHeader(l,i[l]);return n instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),this._request=n,!0},e._clean=function(){clearTimeout(this._loadTimeout),this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)||createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null}var e=t.prototype={},i=t;i.create=function(t){if(t instanceof i||t instanceof Object){var e=new createjs.PlayPropsConfig;return e.set(t),e}throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=i}(),(void 0).createjs=(void 0).createjs||{},function(){function r(){throw"Sound cannot be instantiated"}function a(t,e){this.init(t,e)}var u=r;u.INTERRUPT_ANY="any",u.INTERRUPT_EARLY="early",u.INTERRUPT_LATE="late",u.INTERRUPT_NONE="none",u.PLAY_INITED="playInited",u.PLAY_SUCCEEDED="playSucceeded",u.PLAY_INTERRUPTED="playInterrupted",u.PLAY_FINISHED="playFinished",u.PLAY_FAILED="playFailed",u.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],u.EXTENSION_MAP={m4a:"mp4"},u.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,u.defaultInterruptBehavior=u.INTERRUPT_NONE,u.alternateExtensions=[],u.activePlugin=null,u._masterVolume=1,Object.defineProperty(u,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),u._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,n=e.length;i<n;i++)e[i].setMasterVolume(t)}}),u._masterMute=!1,Object.defineProperty(u,"muted",{get:function(){return this._masterMute},set:function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,i=0,n=e.length;i<n;i++)e[i].setMasterMute(t);return!0}}),Object.defineProperty(u,"capabilities",{get:function(){return null==u.activePlugin?null:u.activePlugin._capabilities},set:function(t){return!1}}),u._pluginsRegistered=!1,u._lastID=0,u._instances=[],u._idHash={},u._preloadHash={},u._defaultPlayPropsHash={},u.addEventListener=null,u.removeEventListener=null,u.removeAllEventListeners=null,u.dispatchEvent=null,u.hasEventListener=null,u._listeners=null,createjs.EventDispatcher.initialize(u),u.getPreloadHandlers=function(){return{callback:createjs.proxy(u.initLoad,u),types:["sound"],extensions:u.SUPPORTED_EXTENSIONS}},u._handleLoadComplete=function(t){var e=t.target.getItem().src;if(u._preloadHash[e])for(var i=0,n=u._preloadHash[e].length;i<n;i++){var o=u._preloadHash[e][i];u._preloadHash[e][i]=!0,u.hasEventListener("fileload")&&((t=new createjs.Event("fileload")).src=o.src,t.id=o.id,t.data=o.data,t.sprite=o.sprite,u.dispatchEvent(t))}},u._handleLoadError=function(t){var e=t.target.getItem().src;if(u._preloadHash[e])for(var i=0,n=u._preloadHash[e].length;i<n;i++){var o=u._preloadHash[e][i];u._preloadHash[e][i]=!1,u.hasEventListener("fileerror")&&((t=new createjs.Event("fileerror")).src=o.src,t.id=o.id,t.data=o.data,t.sprite=o.sprite,u.dispatchEvent(t))}},u._registerPlugin=function(t){return!!t.isSupported()&&(u.activePlugin=new t,!0)},u.registerPlugins=function(t){u._pluginsRegistered=!0;for(var e=0,i=t.length;e<i;e++)if(u._registerPlugin(t[e]))return!0;return!1},u.initializeDefaultPlugins=function(){return null!=u.activePlugin||!u._pluginsRegistered&&!!u.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},u.isReady=function(){return null!=u.activePlugin},u.getCapabilities=function(){return null==u.activePlugin?null:u.activePlugin._capabilities},u.getCapability=function(t){return null==u.activePlugin?null:u.activePlugin._capabilities[t]},u.initLoad=function(t){return u._registerSound(t)},u._registerSound=function(t){if(!u.initializeDefaultPlugins())return!1;if(t.src instanceof Object?(s=u._parseSrc(t.src)).src=t.path+s.src:s=u._parsePath(t.src),null==s)return!1;t.src=s.src,t.type="sound";var e=t.data,i=null;if(null!=e&&(isNaN(e.channels)?isNaN(e)||(i=parseInt(e)):i=parseInt(e.channels),e.audioSprite))for(var n,o=e.audioSprite.length;o--;)n=e.audioSprite[o],u._idHash[n.id]={src:t.src,startTime:parseInt(n.startTime),duration:parseInt(n.duration)},n.defaultPlayProps&&(u._defaultPlayPropsHash[n.id]=createjs.PlayPropsConfig.create(n.defaultPlayProps));null!=t.id&&(u._idHash[t.id]={src:t.src});var s=u.activePlugin.register(t);return a.create(t.src,i),null!=e&&isNaN(e)?t.data.channels=i||a.maxPerChannel():t.data=i||a.maxPerChannel(),s.type&&(t.type=s.type),t.defaultPlayProps&&(u._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),s},u.registerSound=function(t,e,i,n,o){o={src:t,id:e,data:i,defaultPlayProps:o};t instanceof Object&&t.src&&(n=e,o=t),null==((o=createjs.LoadItem.create(o)).path=n)||o.src instanceof Object||(o.src=n+t);t=u._registerSound(o);if(!t)return!1;if(u._preloadHash[o.src]||(u._preloadHash[o.src]=[]),u._preloadHash[o.src].push(o),1==u._preloadHash[o.src].length)t.on("complete",createjs.proxy(this._handleLoadComplete,this)),t.on("error",createjs.proxy(this._handleLoadError,this)),u.activePlugin.preload(t);else if(1==u._preloadHash[o.src][0])return!0;return o},u.registerSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,o=t.length;n<o;n++)i[n]=createjs.Sound.registerSound(t[n].src,t[n].id,t[n].data,e,t[n].defaultPlayProps);return i},u.removeSound=function(t,e){if(null==u.activePlugin)return!1;var i,n;if(null==(i=(t=t instanceof Object&&t.src?t.src:t)instanceof Object?u._parseSrc(t):(t=u._getSrcById(t).src,u._parsePath(t))))return!1;for(n in t=i.src,null!=e&&(t=e+t),u._idHash)u._idHash[n].src==t&&delete u._idHash[n];return a.removeSrc(t),delete u._preloadHash[t],u.activePlugin.removeSound(t),!0},u.removeSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,o=t.length;n<o;n++)i[n]=createjs.Sound.removeSound(t[n].src,e);return i},u.removeAllSounds=function(){u._idHash={},u._preloadHash={},a.removeAll(),u.activePlugin&&u.activePlugin.removeAllSounds()},u.loadComplete=function(t){if(!u.isReady())return!1;var e=u._parsePath(t);return t=(e?u._getSrcById(e.src):u._getSrcById(t)).src,null!=u._preloadHash[t]&&1==u._preloadHash[t][0]},u._parsePath=function(t){var e=(t="string"!=typeof t?t.toString():t).match(u.FILE_PATTERN);if(null==e)return!1;for(var i=e[4],n=e[5],o=u.capabilities,s=0;!o[n];)if(n=u.alternateExtensions[s++],s>u.alternateExtensions.length)return null;return{name:i,src:t=t.replace("."+e[5],"."+n),extension:n}},u._parseSrc=function(t){var e,i={name:void 0,src:void 0,extension:void 0},n=u.capabilities;for(e in t)if(t.hasOwnProperty(e)&&n[e]){i.src=t[e],i.extension=e;break}if(!i.src)return!1;var o=i.src.lastIndexOf("/");return i.name=-1!=o?i.src.slice(o+1):i.src,i},u.play=function(t,e,i,n,o,s,r,a,l){l=e instanceof Object||e instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(e):createjs.PlayPropsConfig.create({interrupt:e,delay:i,offset:n,loop:o,volume:s,pan:r,startTime:a,duration:l}),t=u.createInstance(t,l.startTime,l.duration);return u._playInstance(t,l)||t._playFailed(),t},u.createInstance=function(t,e,i){if(!u.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,e,i);var n=u._defaultPlayPropsHash[t];t=u._getSrcById(t);var o=u._parsePath(t.src),s=null;return null!=o&&null!=o.src?(a.create(o.src),null==e&&(e=t.startTime),s=u.activePlugin.create(o.src,e,i||t.duration),(n=n||u._defaultPlayPropsHash[o.src])&&s.applyPlayProps(n)):s=new createjs.DefaultSoundInstance(t,e,i),s.uniqueId=u._lastID++,s},u.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},u.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),u._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,n=e.length;i<n;i++)e[i].setMasterVolume(t)},u.getVolume=function(){return this._masterVolume},u.setMute=function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,i=0,n=e.length;i<n;i++)e[i].setMasterMute(t);return!0},u.getMute=function(){return this._masterMute},u.setDefaultPlayProps=function(t,e){t=u._getSrcById(t),u._defaultPlayPropsHash[u._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},u.getDefaultPlayProps=function(t){return t=u._getSrcById(t),u._defaultPlayPropsHash[u._parsePath(t.src).src]},u._playInstance=function(t,e){var i=u._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=i.interrupt||u.defaultInterruptBehavior),null==e.delay&&(e.delay=i.delay||0),null==e.offset&&(e.offset=t.getPosition()),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){if(!u._beginPlaying(t,e))return!1}else{i=setTimeout(function(){u._beginPlaying(t,e)},e.delay);t.delayTimeoutId=i}return this._instances.push(t),!0},u._beginPlaying=function(t,e){if(!a.add(t,e.interrupt))return!1;if(t._beginPlaying(e))return!0;t=createjs.indexOf(this._instances,t);return-1<t&&this._instances.splice(t,1),!1},u._getSrcById=function(t){return u._idHash[t]||{src:t}},u._playFinished=function(t){a.remove(t);t=createjs.indexOf(this._instances,t);-1<t&&this._instances.splice(t,1)},createjs.Sound=r,a.channels={},a.create=function(t,e){return null==a.get(t)&&(a.channels[t]=new a(t,e),!0)},a.removeSrc=function(t){var e=a.get(t);return null!=e&&(e._removeAll(),delete a.channels[t],!0)},a.removeAll=function(){for(var t in a.channels)a.channels[t]._removeAll();a.channels={}},a.add=function(t,e){var i=a.get(t.src);return null!=i&&i._add(t,e)},a.remove=function(t){var e=a.get(t.src);return null!=e&&(e._remove(t),!0)},a.maxPerChannel=function(){return t.maxDefault},a.get=function(t){return a.channels[t]};var t=a.prototype;t.constructor=a,t.src=null,t.max=null,t.maxDefault=100,t.length=0,t.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},t._get=function(t){return this._instances[t]},t._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},t._remove=function(t){t=createjs.indexOf(this._instances,t);return-1!=t&&(this._instances.splice(t,1),this.length--,!0)},t._removeAll=function(){for(var t=this.length-1;0<=t;t--)this._instances[t].stop()},t._getSlot=function(t,e){var i,n;if(t!=r.INTERRUPT_NONE&&null==(n=this._get(0)))return!0;for(var o=0,s=this.max;o<s;o++){if(null==(i=this._get(o)))return!0;if(i.playState==r.PLAY_FINISHED||i.playState==r.PLAY_INTERRUPTED||i.playState==r.PLAY_FAILED){n=i;break}t!=r.INTERRUPT_NONE&&(t==r.INTERRUPT_EARLY&&i.getPosition()<n.getPosition()||t==r.INTERRUPT_LATE&&i.getPosition()>n.getPosition())&&(n=i)}return null!=n&&(n._interrupt(),this._remove(n),!0)},t.toString=function(){return"[Sound SoundChannel]"}}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i,n){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==n&&!0!==n&&this.setPlaybackResource(n),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})}var e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t,e,i,n,o,s){s=t instanceof Object||t instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(t):createjs.PlayPropsConfig.create({interrupt:t,delay:e,offset:i,loop:n,volume:o,pan:s});return this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(s),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,s),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this.setPosition(t.offset),null!=t.loop&&this.setLoop(t.loop),null!=t.volume&&this.setVolume(t.volume),null!=t.pan&&this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e.getPaused=function(){return this._paused},e.setPaused=function(t){return!0!==t&&!1!==t||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:((this._paused=t)?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},e.setVolume=function(t){return t==this._volume||(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume()),this},e.getVolume=function(){return this._volume},e.setMuted=function(t){return!0===t||!1===t?(this._muted=t,this._updateVolume(),this):void 0},e.getMuted=function(){return this._muted},e.setPan=function(t){return t==this._pan||(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan()),this},e.getPan=function(){return this._pan},e.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e.setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e.getStartTime=function(){return this._startTime},e.setStartTime=function(t){return t==this._startTime||(this._startTime=Math.max(0,t||0),this._updateStartTime()),this},e.getDuration=function(){return this._duration},e.setDuration=function(t){return t==this._duration||(this._duration=Math.max(0,t||0),this._updateDuration()),this},e.setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._setDurationFromSource(),this},e.getPlaybackResource=function(){return this._playbackResource},e.getLoop=function(){return this._loop},e.setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){t=new createjs.Event(t);this.dispatchEvent(t)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){return(this._position=0)!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),(void 0).createjs=(void 0).createjs||{},function(){function t(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass}var e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],(e=new this._loaderClass(t)).on("complete",createjs.proxy(this._handlePreloadComplete,this)),this._loaders[t.src]=e)},e.preload=function(t){t.on("error",createjs.proxy(this._handlePreloadError,this)),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;)this._soundInstances[t][e].destroy();delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,i){this.isPreloadStarted(t)||this.preload(this.register(t));i=new this._soundInstanceClass(t,e,i,this._audioSources[t]);return null==this._soundInstances[t]&&(this._soundInstances[t]=[]),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var i=0,n=this._soundInstances[e].length;i<n;i++)this._soundInstances[e][i].setPlaybackResource(this._audioSources[e])},e._handlePreloadError=function(t){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),(void 0).createjs=(void 0).createjs||{},function(){function e(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},t._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,"AbstractLoader")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i,n){this.AbstractSoundInstance_constructor(t,e,i,n),this.gainNode=o.context.createGain(),this.panNode=o.context.createPanner(),this.panNode.panningModel=o._panningModel,this.panNode.connect(this.gainNode),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),o=t;o.context=null,o.destinationNode=null,o._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){try{t.stop(0)}catch(t){}t.disconnect(0),t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(o.destinationNode);var e=.001*this._duration,i=.001*this._position;this.sourceNode=this._createAndPlayAudioNode(o.context.currentTime-e,i=e<i?e:i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=o.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var n=.001*this._duration;return i.startTime=t+n,i.start(i.startTime,e+.001*this._startTime,n-e),i},e._pause=function(){this._position=1e3*(o.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(o.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(){this.AbstractPlugin_constructor(),this._panningModel=a._panningModel,this.context=a.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=a._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),a=t;a._capabilities=null,a._panningModel="equalpower",a.context=null,a.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(a._generateCapabilities(),null!=a.context)},a.playEmptySound=function(){var t;null!=a.context&&((t=a.context.createBufferSource()).buffer=a.context.createBuffer(1,1,22050),t.connect(a.context.destination),t.start(0,0,0))},a._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(t){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(t){e=!1}return e},a._generateCapabilities=function(){if(null==a._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==a.context)if(window.AudioContext)a.context=new AudioContext;else{if(!window.webkitAudioContext)return null;a.context=new webkitAudioContext}a._compatibilitySetUp(),a.playEmptySound(),a._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,o=e.length;n<o;n++){var s=e[n],r=i[s]||s;a._capabilities[s]="no"!=t.canPlayType("audio/"+s)&&""!=t.canPlayType("audio/"+s)||"no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)}a.context.destination.numberOfChannels<2&&(a._capabilities.panning=!1)}},a._compatibilitySetUp=function(){var t;a._panningModel="equalpower",a.context.createGain||(a.context.createGain=a.context.createGainNode,(t=a.context.createBufferSource()).__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,a._panningModel=0)},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(){throw"HTMLAudioTagPool cannot be instantiated"}function e(t){this._tags=[]}var i=t;i._tags={},i._tagPool=new e,i._tagUsed={},i.get=function(t){var e=i._tags[t];return null==e?(e=i._tags[t]=i._tagPool.get()).src=t:i._tagUsed[t]?(e=i._tagPool.get()).src=t:i._tagUsed[t]=!0,e},i.set=function(t,e){e==i._tags[t]?i._tagUsed[t]=!1:i._tagPool.set(e)},i.remove=function(t){var e=i._tags[t];return null!=e&&(i._tagPool.set(e),delete i._tags[t],delete i._tagUsed[t],!0)},i.getDuration=function(t){t=i._tags[t];return null==t?0:1e3*t.duration},createjs.HTMLAudioTagPool=t;var n=e.prototype;n.constructor=e,n.get=function(){var t=0==this._tags.length?this._createTag():this._tags.pop();return null==t.parentNode&&document.body.appendChild(t),t},n.set=function(t){-1==createjs.indexOf(this._tags,t)&&(this._tags.src=null,this._tags.push(t))},n.toString=function(){return"[TagPool]"},n._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),(void 0).createjs=(void 0).createjs||{},function(){function t(t,e,i,n){this.AbstractSoundInstance_constructor(t,e,i,n),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=.001*(e+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){var t;null==this._playbackResource||(t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume)!=this._playbackResource.volume&&(this._playbackResource.volume=t)},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),(void 0).createjs=(void 0).createjs||{},function(){function t(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=a._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),a=t;a.MAX_INSTANCES=30,a._AUDIO_READY="canplaythrough",a._AUDIO_ENDED="ended",a._AUDIO_SEEKED="seeked",a._AUDIO_STALLED="stalled",a._TIME_UPDATE="timeupdate",a._capabilities=null,a.isSupported=function(){return a._generateCapabilities(),null!=a._capabilities},a._generateCapabilities=function(){if(null==a._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;a._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,o=e.length;n<o;n++){var s=e[n],r=i[s]||s;a._capabilities[s]="no"!=t.canPlayType("audio/"+s)&&""!=t.canPlayType("audio/"+s)||"no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),t=this.AbstractPlugin_register(t);return t.setTag(e),t},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,i){i=this.AbstractPlugin_create(t,e,i);return i.setPlaybackResource(null),i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof3(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.JSON5=e()}(void 0,function(){function t(t,e){return t(e={exports:{}},e.exports),e.exports}function n(t){if(!o(t))throw TypeError(t+" is not an object!");return t}function a(t,e){return c.call(t,e)}function m(n,o,t){if(function(){if("function"!=typeof n)throw TypeError(n+" is not a function!")}(),void 0===o)return n;switch(t){case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,i){return n.call(o,t,e,i)}}return function(){return n.apply(o,arguments)}}var S=t(function(t){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),g=t(function(t){t=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)}),o=(g.version,function(t){return"object"==(void 0===t?"undefined":_typeof3(t))?null!==t:"function"==typeof t}),e=function(t){try{return!!t()}catch(t){return!0}},i=!e(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),s=S.document,r=o(s)&&o(s.createElement),l=!i&&!e(function(){return 7!=Object.defineProperty(r?s.createElement("div"):{},"a",{get:function(){return 7}}).a}),u=Object.defineProperty,h={f:i?Object.defineProperty:function(t,e,i){if(n(t),e=function(t){if(!o(t))return t;var e,i;if("function"==typeof(e=t.toString)&&!o(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!o(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e),n(i),l)try{return u(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},y=i?function(t,e,i){return h.f(t,e,{enumerable:!1,configurable:!0,writable:!0,value:i})}:function(t,e,i){return t[e]=i,t},c={}.hasOwnProperty,p=0,d=Math.random(),T=t(function(t){var s="Symbol(".concat("src",")_",(++p+d).toString(36)),e=Function.toString,r=(""+e).split("toString");g.inspectSource=function(t){return e.call(t)},(t.exports=function(t,e,i,n){var o="function"==typeof i;o&&(a(i,"name")||y(i,"name",e)),t[e]!==i&&(o&&(a(i,s)||y(i,s,t[e]?""+t[e]:r.join(String(e)))),t===S?t[e]=i:n?t[e]?t[e]=i:y(t,e,i):(delete t[e],y(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||e.call(this)})}),e=function t(e,i,n){var o,s,r,a=e&t.F,l=e&t.G,u=e&t.P,h=e&t.B,c=l?S:e&t.S?S[i]||(S[i]={}):(S[i]||{}).prototype,p=l?g:g[i]||(g[i]={}),d=p.prototype||(p.prototype={});for(o in n=l?i:n)s=((r=!a&&c&&void 0!==c[o])?c:n)[o],r=h&&r?m(s,S):u&&"function"==typeof s?m(Function.call,s):s,c&&T(c,o,s,e&t.U),p[o]!=s&&y(p,o,r),u&&d[o]!=s&&(d[o]=s)};S.core=g,e.F=1,e.G=2,e.S=4,e.P=8,e.B=16,e.W=32,e.U=64,e.R=128;function f(t){return isNaN(t=+t)?0:(0<t?v:C)(t)}function b(t,e){var i,n=String(function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}(t)),o=f(e),t=n.length;return o<0||t<=o?void 0:(e=n.charCodeAt(o))<55296||56319<e||o+1===t||(i=n.charCodeAt(o+1))<56320||57343<i?e:i-56320+(e-55296<<10)+65536}var i=e,C=Math.ceil,v=Math.floor;i(i.P,"String",{codePointAt:function(t){return b(this,t)}}),g.String.codePointAt;var M=Math.max,A=Math.min,L=String.fromCharCode,e=String.fromCodePoint;i(i.S+i.F*(!!e&&1!=e.length),"String",{fromCodePoint:function(t){for(var e,i,n=arguments,o=[],s=arguments.length,r=0;r<s;){if(e=+n[r++],((i=f(e))<0?M(i+1114111,0):A(i,1114111))!==e)throw RangeError(e+" is not a valid code point");o.push(e<65536?L(e):L(55296+((e-=65536)>>10),e%1024+56320))}return o.join("")}}),g.String.fromCodePoint;var I,R,P,_,E,D,w,O,x,B,V,G,F,k,j={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},U=function(t){return j.Space_Separator.test(t)},N=function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"$"===t||"_"===t||j.ID_Start.test(t)},W=function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||"$"===t||"_"===t||"‌"===t||"‍"===t||j.ID_Continue.test(t)},X=function(t){return/[0-9]/.test(t)},H=function(t){return/[0-9A-Fa-f]/.test(t)};function z(){if(I[_])return String.fromCodePoint(I.codePointAt(_))}function q(){var t=z();return"\n"===t?(E++,D=0):t?D+=t.length:D++,t&&(_+=t.length),t}var Y={default:function(){switch(k){case"\t":case"\v":case"\f":case" ":case" ":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void q();case"/":return q(),void(B="comment");case void 0:return q(),Q("eof")}if(!U(k))return Y[R]();q()},comment:function(){switch(k){case"*":return q(),void(B="multiLineComment");case"/":return q(),void(B="singleLineComment")}throw et(q())},multiLineComment:function(){switch(k){case"*":return q(),void(B="multiLineCommentAsterisk");case void 0:throw et(q())}q()},multiLineCommentAsterisk:function(){switch(k){case"*":return void q();case"/":return q(),void(B="default");case void 0:throw et(q())}q(),B="multiLineComment"},singleLineComment:function(){switch(k){case"\n":case"\r":case"\u2028":case"\u2029":return q(),void(B="default");case void 0:return q(),Q("eof")}q()},value:function(){switch(k){case"{":case"[":return Q("punctuator",q());case"n":return q(),J("ull"),Q("null",null);case"t":return q(),J("rue"),Q("boolean",!0);case"f":return q(),J("alse"),Q("boolean",!1);case"-":case"+":return"-"===q()&&(F=-1),void(B="sign");case".":return V=q(),void(B="decimalPointLeading");case"0":return V=q(),void(B="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return V=q(),void(B="decimalInteger");case"I":return q(),J("nfinity"),Q("numeric",1/0);case"N":return q(),J("aN"),Q("numeric",NaN);case'"':case"'":return G='"'===q(),V="",void(B="string")}throw et(q())},identifierNameStartEscape:function(){if("u"!==k)throw et(q());q();var t=Z();switch(t){case"$":case"_":break;default:if(!N(t))throw nt()}V+=t,B="identifierName"},identifierName:function(){switch(k){case"$":case"_":case"‌":case"‍":return void(V+=q());case"\\":return q(),void(B="identifierNameEscape")}if(!W(k))return Q("identifier",V);V+=q()},identifierNameEscape:function(){if("u"!==k)throw et(q());q();var t=Z();switch(t){case"$":case"_":case"‌":case"‍":break;default:if(!W(t))throw nt()}V+=t,B="identifierName"},sign:function(){switch(k){case".":return V=q(),void(B="decimalPointLeading");case"0":return V=q(),void(B="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return V=q(),void(B="decimalInteger");case"I":return q(),J("nfinity"),Q("numeric",F*(1/0));case"N":return q(),J("aN"),Q("numeric",NaN)}throw et(q())},zero:function(){switch(k){case".":return V+=q(),void(B="decimalPoint");case"e":case"E":return V+=q(),void(B="decimalExponent");case"x":case"X":return V+=q(),void(B="hexadecimal")}return Q("numeric",0*F)},decimalInteger:function(){switch(k){case".":return V+=q(),void(B="decimalPoint");case"e":case"E":return V+=q(),void(B="decimalExponent")}if(!X(k))return Q("numeric",F*Number(V));V+=q()},decimalPointLeading:function(){if(X(k))return V+=q(),void(B="decimalFraction");throw et(q())},decimalPoint:function(){switch(k){case"e":case"E":return V+=q(),void(B="decimalExponent")}return X(k)?(V+=q(),void(B="decimalFraction")):Q("numeric",F*Number(V))},decimalFraction:function(){switch(k){case"e":case"E":return V+=q(),void(B="decimalExponent")}if(!X(k))return Q("numeric",F*Number(V));V+=q()},decimalExponent:function(){switch(k){case"+":case"-":return V+=q(),void(B="decimalExponentSign")}if(X(k))return V+=q(),void(B="decimalExponentInteger");throw et(q())},decimalExponentSign:function(){if(X(k))return V+=q(),void(B="decimalExponentInteger");throw et(q())},decimalExponentInteger:function(){if(!X(k))return Q("numeric",F*Number(V));V+=q()},hexadecimal:function(){if(H(k))return V+=q(),void(B="hexadecimalInteger");throw et(q())},hexadecimalInteger:function(){if(!H(k))return Q("numeric",F*Number(V));V+=q()},string:function(){switch(k){case"\\":return q(),void(V+=function(){switch(z()){case"b":return q(),"\b";case"f":return q(),"\f";case"n":return q(),"\n";case"r":return q(),"\r";case"t":return q(),"\t";case"v":return q(),"\v";case"0":if(q(),X(z()))throw et(q());return"\0";case"x":return q(),function(){var t="",e=z();if(!H(e))throw et(q());if(t+=q(),e=z(),!H(e))throw et(q());return t+=q(),String.fromCodePoint(parseInt(t,16))}();case"u":return q(),Z();case"\n":case"\u2028":case"\u2029":return q(),"";case"\r":return q(),"\n"===z()&&q(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw et(q())}return q()}());case'"':return G?(q(),Q("string",V)):void(V+=q());case"'":return G?void(V+=q()):(q(),Q("string",V));case"\n":case"\r":throw et(q());case"\u2028":case"\u2029":t=k,console.warn("JSON5: '"+ot(t)+"' in strings is not valid ECMAScript; consider escaping");break;case void 0:throw et(q())}var t;V+=q()},start:function(){switch(k){case"{":case"[":return Q("punctuator",q())}B="value"},beforePropertyName:function(){switch(k){case"$":case"_":return V=q(),void(B="identifierName");case"\\":return q(),void(B="identifierNameStartEscape");case"}":return Q("punctuator",q());case'"':case"'":return G='"'===q(),void(B="string")}if(N(k))return V+=q(),void(B="identifierName");throw et(q())},afterPropertyName:function(){if(":"===k)return Q("punctuator",q());throw et(q())},beforePropertyValue:function(){B="value"},afterPropertyValue:function(){switch(k){case",":case"}":return Q("punctuator",q())}throw et(q())},beforeArrayValue:function(){if("]"===k)return Q("punctuator",q());B="value"},afterArrayValue:function(){switch(k){case",":case"]":return Q("punctuator",q())}throw et(q())},end:function(){throw et(q())}};function Q(t,e){return{type:t,value:e,line:E,column:D}}function J(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(z()!==n)throw et(q());q()}}function Z(){for(var t="",e=4;0<e--;){var i=z();if(!H(i))throw et(q());t+=q()}return String.fromCodePoint(parseInt(t,16))}var K={start:function(){if("eof"===w.type)throw it();$()},beforePropertyName:function(){switch(w.type){case"identifier":case"string":return O=w.value,void(R="afterPropertyName");case"punctuator":return void tt();case"eof":throw it()}},afterPropertyName:function(){if("eof"===w.type)throw it();R="beforePropertyValue"},beforePropertyValue:function(){if("eof"===w.type)throw it();$()},beforeArrayValue:function(){if("eof"===w.type)throw it();("punctuator"!==w.type||"]"!==w.value?$:tt)()},afterPropertyValue:function(){if("eof"===w.type)throw it();switch(w.value){case",":return void(R="beforePropertyName");case"}":tt()}},afterArrayValue:function(){if("eof"===w.type)throw it();switch(w.value){case",":return void(R="beforeArrayValue");case"]":tt()}},end:function(){}};function $(){var t,e;switch(w.type){case"punctuator":switch(w.value){case"{":t={};break;case"[":t=[]}break;case"null":case"boolean":case"numeric":case"string":t=w.value}void 0===x?x=t:(e=P[P.length-1],Array.isArray(e)?e.push(t):e[O]=t),R=null!==t&&"object"==(void 0===t?"undefined":_typeof3(t))?(P.push(t),Array.isArray(t)?"beforeArrayValue":"beforePropertyName"):null==(e=P[P.length-1])?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function tt(){P.pop();var t=P[P.length-1];R=null==t?"end":Array.isArray(t)?"afterArrayValue":"afterPropertyValue"}function et(t){return st(void 0===t?"JSON5: invalid end of input at "+E+":"+D:"JSON5: invalid character '"+ot(t)+"' at "+E+":"+D)}function it(){return st("JSON5: invalid end of input at "+E+":"+D)}function nt(){return st("JSON5: invalid identifier character at "+E+":"+(D-=5))}function ot(t){var e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){e=t.charCodeAt(0).toString(16);return"\\x"+("00"+e).substring(e.length)}return t}function st(t){t=new SyntaxError(t);return t.lineNumber=E,t.columnNumber=D,t}return{parse:function(t,e){for(I=String(t),R="start",P=[],E=1,x=O=w=void(D=_=0);w=function(){for(V="",G=!(B="default"),F=1;;){k=z();var t=Y[B]();if(t)return t}}(),K[R](),"eof"!==w.type;);return"function"==typeof e?function t(e,i,n){var o=e[i];if(null!=o&&"object"==(void 0===o?"undefined":_typeof3(o)))for(var s in o){var r=t(o,s,n);void 0===r?delete o[s]:o[s]=r}return n.call(e,i,o)}({"":x},"",e):x},stringify:function(t,e,i){var n,l,h=[],c="",p="";if(null==e||"object"!=(void 0===e?"undefined":_typeof3(e))||Array.isArray(e)||(i=e.space,l=e.quote,e=e.replacer),"function"==typeof e)n=e;else if(Array.isArray(e))for(var d=[],o=0,s=e;o<s.length;o+=1){var r=s[o],a=void 0;"string"==typeof r?a=r:("number"==typeof r||r instanceof String||r instanceof Number)&&(a=String(r)),void 0!==a&&d.indexOf(a)<0&&d.push(a)}return i instanceof Number?i=Number(i):i instanceof String&&(i=String(i)),"number"==typeof i?0<i&&(i=Math.min(10,Math.floor(i)),p="          ".substr(0,i)):"string"==typeof i&&(p=i.substr(0,10)),function u(t,e){var i=e[t];switch(null!=i&&("function"==typeof i.toJSON5?i=i.toJSON5(t):"function"==typeof i.toJSON&&(i=i.toJSON(t))),n&&(i=n.call(e,t,i)),i instanceof Number?i=Number(i):i instanceof String?i=String(i):i instanceof Boolean&&(i=i.valueOf()),i){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof i?m(i):"number"==typeof i?String(i):"object"==(void 0===i?"undefined":_typeof3(i))?(Array.isArray(i)?function(t){if(0<=h.indexOf(t))throw TypeError("Converting circular structure to JSON5");h.push(t);var e=c;c+=p;for(var i,n=[],o=0;o<t.length;o++){var s=u(String(o),t);n.push(void 0!==s?s:"null")}return i=0===n.length?"[]":""===p?"["+n.join(",")+"]":(i=",\n"+c,i=n.join(i),"[\n"+c+i+",\n"+e+"]"),h.pop(),c=e,i}:function(t){if(0<=h.indexOf(t))throw TypeError("Converting circular structure to JSON5");h.push(t);var e=c;c+=p;for(var i,n=d||Object.keys(t),o=[],s=0,r=n;s<r.length;s+=1){var a=r[s],l=u(a,t);void 0!==l&&(a=S(a)+":",""!==p&&(a+=" "),a+=l,o.push(a))}return i=0===o.length?"{}":""===p?"{"+(i=o.join(","))+"}":(n=",\n"+c,i=o.join(n),"{\n"+c+i+",\n"+e+"}"),h.pop(),c=e,i})(i):void 0}("",{"":t});function m(t){for(var i={"'":.1,'"':.2},e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},n="",o=0,s=t;o<s.length;o+=1){var r,a=s[o];switch(a){case"'":case'"':i[a]++,n+=a;continue}n+=e[a]||(a<" "?"\\x"+("00"+(r=a.charCodeAt(0).toString(16))).substring(r.length):a)}t=l||Object.keys(i).reduce(function(t,e){return i[t]<i[e]?t:e});return t+(n=n.replace(new RegExp(t,"g"),e[t]))+t}function S(t){if(0===t.length)return m(t);var e=String.fromCodePoint(t.codePointAt(0));if(!N(e))return m(t);for(var i=e.length;i<t.length;i++)if(!W(String.fromCodePoint(t.codePointAt(i))))return m(t);return t}}}}),goog.provide("UHT.AnimationCurve"),Keyframe.prototype.__type_name_hack__="Keyframe",AnimationCurve.prototype.clearKeys=function(){this.keys=[]},AnimationCurve.prototype.addKeys=function(t){for(var e=t.length;e--;)this.addKey(t[e]);this.sortKeys()},AnimationCurve.prototype.addKey=function(t){this.keys.push(t)},AnimationCurve.prototype.sortKeys=function(){this.keys.sort(function(t,e){return t.time-e.time})},AnimationCurve.prototype.deserialize=function(t,e,i){var n=0,o=[];if(null!=t.times.timesCount)for(n=0;n<t.times.timesCount;n++)o.push(n*t.times.increase);else for(n=0;n<t.times.length;n++)o.push(t.times[n]);for(var s,r=[],n=0;n<t.values.length;n++)r.push(t.values[n]);for(s=r[r.length-1];r.length<o.length;)r.push(s);var a=[];for(n=0;n<t.inTangents.length;n++)a.push(t.inTangents[n]);for(s=a[a.length-1];a.length<o.length;)a.push(s);var l=[];if("copy"==t.outTangents)for(n=0;n<a.length;n++)l.push(a[n]);else{for(n=0;n<t.outTangents.length;n++)l.push(t.outTangents[n]);for(s=l[l.length-1];l.length<o.length;)l.push(s)}for(n=0;n<o.length;n++){var u=new Keyframe(o[n],r[n],a[n],l[n]);this.addKey(u)}},AnimationCurve.prototype.Evaluate=function(t){var e,i,n=t,o=this.keys.length;if(1===o)return this.keys[0].value;if(this._lastKey=Math.min(this._lastKey,o-1),n<=this.keys[0].time)return this.keys[0].value;if(n>=this.keys[o-1].time)return this.keys[o-1].value;for(var s=this.keys[this._lastKey].time<=n?this._lastKey:0;s<o-1;s++)if(this.keys[s].time<=n&&this.keys[s+1].time>n){e=this.keys[s],i=this.keys[s+1],this._lastKey=s;break}if(!isFinite(e.outTangent)||!isFinite(i.inTangent))return e.value;var r=UHTMath.inverseLerp(e.time,i.time,n),a=i.time-e.time,l=e.outTangent*a,u=i.inTangent*a,t=r*r,a=t*r;return(2*a-3*t+1)*e.value+(a-2*t+r)*l+(a-t)*u+(-2*a+3*t)*i.value},AnimationCurve.linear=function(t,e,i,n){return new AnimationCurve([new Keyframe(t,e,0,0),new Keyframe(i,n,0,0)])},goog.provide("UHT.AnimationUtils");var AnimationUtils={},WrapMode={Default:0,Once:1,Clamp:1,Loop:2,PingPong:4,ClampForever:8};function AudioClip(t,e){this.name=t,this.path=e,this.soundjsObject=null}goog.provide("UHT.AudioClip"),AudioClip.prototype.length=0,Object.defineProperties(AudioClip.prototype,{length:{get:function(){return null!=this.soundjsObject?this.soundjsObject.duration/1e3:0}}}),goog.provide("UHT.Component");var __component_ctor_just_called=!1;function Component(){this.gameObject=null,this.enabled=!0,this._rawData=null,this.transform=null,this.flags=ComponentStateFlags.onDisable_called,__component_ctor_just_called=!0}Component.prototype.scriptUpdatePriority=5,Component.prototype.canReceiveMessage=!0;var ComponentStateFlags={awake_called:1,start_called:2,onEnable_called:4,onDisable_called:8};Component.prototype.deserialize=function(t,e,i){deserializeComponentRec(t,this,e,i)},Component.prototype.copyFromSource=function(t,e,i){copyComponentHelper(t,this,e,i)},Component.prototype.Awake=function(){},Component.prototype.Start=function(){},Component.prototype.OnEnable=function(){},Component.prototype.OnDisable=function(){},Component.prototype.GetComponent=function(t){return this.gameObject.GetComponent(t)},Component.prototype.GetComponentsInChildren=function(t,e){return this.gameObject.GetComponentsInChildren(t,e)},Component.prototype.GetComponentInChildren=function(t){return this.gameObject.GetComponentInChildren(t)},Component.FindObjectOfType=function(t){for(var e=globalRuntime.sceneRoots,i=0;i<e.length;++i){var n=e[i].GetComponentInChildren(t);if(null!=n&&n.gameObject.activeInHierarchy)return n}return null},goog.require("UHT.Component");var AudioVelocityUpdateMode={Auto:0,Fixed:1,Dynamic:2};function UHTAudioListener(){Component.call(this)}function Animation(){Component.call(this),this._clip=null,this.playAutomatically=!1,this.clips=[],this._isPlaying=!1,this.animStates=[],this.currentAnimState=null,this.isInited=!1,this._runtime_cache=null}function AudioSource(){Component.call(this),(this.audio=this).clip=null,this.playOnAwake=!1,this._volume=1,this._loop=!1,this._MustPlayClipWhenSoundsAreLoaded=!1,this.oneShotInstances=[]}function Camera(){Component.call(this),this.cullingMask=0,this.depth=0,this.orthographicSize=1,this.container=new PIXI.Container,this.clipMaskContainer=new PIXI.Container,this.oldSW=0,this.oldSH=0,this.cachedWTSP=new UHTMath.Vector3,this.mask=new PIXI.Graphics,this.scale=UHTScreen.height/2/this.orthographicSize,this.extraCameraSettings=void 0,this.ignoreInputBlocked=!1,this.clipMaskLayer=0}function Collider(){Component.call(this),this.center=new UHTMath.Vector3,this.size=new UHTMath.Vector3,this.isSphere=!1,this.cachedTransformedCenter=new UHTMath.Vector3,this.cachedTransformedSize=new UHTMath.Vector3}function ClampVelocityModule(t){this.dampen=0,this.magnitude=null,this.x=null,this.y=null,this.z=null,this.separateAxis=!1,this.inWorldSpace=!1,this.dampPos=0,this.particleSystem=t}function ParticleSystemEvaluator(){this.minMaxState=0,this.scalar=0,this.minCurve=new AnimationCurve,this.maxCurve=new AnimationCurve,this.random=0}function ParticleSystemEvaluatorBySpeed(t){this.evaluator=t,this.intervalMin=0,this.intervalMax=0,this.evaluator.scalar=1}function GradientColor(){this.r=1,this.g=1,this.b=1,this.a=1}function GradientNEW(){this.numColorKeys=0,this.numAlphaKeys=0,this.keysColor=[],this.keysTimeAlpha=[],this.keysTimeColor=[],this._lastKeyColor=0,this._lastKeyAlpha=0}function ParticleSystemEvaluatorColor(){this.minMaxState=0,this.minGradient=new GradientNEW,this.maxGradient=new GradientNEW,this.random=0,this.minColor=new GradientColor,this.maxColor=new GradientColor}UHTAudioListener.prototype=Object.create(Component.prototype),(UHTAudioListener.prototype.constructor=UHTAudioListener).volume=1,goog.provide("UHT.Animation"),goog.require("UHT.Component"),Animation.prototype=Object.create(Component.prototype),Animation.prototype.constructor=Animation,Object.defineProperties(Animation.prototype,{isPlaying:{set:function(t){},get:function(){return this._isPlaying}},clip:{set:function(t){for(var e=!1,i=0;i<this.clips.length;i++)if(this.clips[i]==t){e=!0;break}e&&null!=t?this._clip=t:(this._clip=null,console.log("Animation: Tried to set an invalid clip for animation"))},get:function(){return this._clip}}}),Animation.prototype.canReceiveMessage=!1,Animation.prototype.Start=function(){this.Init()},Animation.prototype.OnEnable=function(){this.playAutomatically&&this.Play()},Animation.prototype.OnDisable=function(){this.Stop()},Animation.prototype.UpdateAnimation=function(){this._isPlaying&&0==this.currentAnimState.Update()&&this.Stop()},Animation.prototype.Init=function(){if(0==this.isInited){for(var t=0;t<this.clips.length;t++){var e=this.clips[t];this.AddAnimStateForClip(e)}this.isInited=!0}},Animation.prototype.GetAnimationState=function(t){0==this.isInited&&this.Init();for(var e=0;e<this.animStates.length;e++)if(this.animStates[e].name==t)return this.animStates[e];return null},Animation.prototype.Play=function(t){this.gameObject.activeInHierarchy||console.error("Trying to start an animation on an inactive object ("+this.gameObject.name+"). This is undefined behaviour!"),this.Stop();var e="";if(void 0===t){if(null==this.clip)return!1;e=this.clip.name}else e=t;return this.currentAnimState=this.GetAnimationState(e),this.currentAnimState.enabled=!0,this._isPlaying=!0,globalRuntime.RegisterAnimation(this),!0},Animation.prototype.IsPlaying=function(t){if(this._isPlaying){t=this.GetAnimationState(t);if(null!=t&&t.enabled)return!0}return!1},Animation.prototype.Stop=function(){this._isPlaying&&null!=this.currentAnimState&&(this.currentAnimState.Stop(),this.currentAnimState.enabled=!1,this.currentAnimState=null,this._isPlaying=!1,globalRuntime.UnregisterAnimation(this))},Animation.prototype.Sample=function(){for(var t=0;t<this.animStates.length;t++)this.animStates[t].enabled&&this.animStates[t].Sample()},Animation.prototype.AddClip=function(t,e){0<=this.clips.indexOf(t)||(this.clips.push(t),this.AddAnimStateForClip(t))},Animation.prototype.GetClip=function(t){for(var e=0;e<this.clips.length;e++)if(this.clips[e].name==t)return this.clips[e];return null},Animation.prototype.AddAnimStateForClip=function(t){null!=t&&((t=new AnimationState(t)).Init(this.gameObject),this.animStates.push(t))},goog.provide("UHT.AudioSource"),goog.require("UHT.Component"),goog.require("UHT.AudioClip"),AudioSource.prototype=Object.create(Component.prototype),AudioSource.prototype.constructor=AudioSource,Object.defineProperties(AudioSource.prototype,{volume:{set:function(t){this._volume=UHTMath.clamp(t,1e-5,1),null!=this.clip&&null!=this.clip.soundjsObject&&(this.clip.soundjsObject.volume=this._volume);for(var e=0;e<this.oneShotInstances.length;++e)this.oneShotInstances[e].volume=this._volume},get:function(){return this._volume}},loop:{set:function(t){this._loop=t,null!=this.clip&&null!=this.clip.soundjsObject&&(this.clip.soundjsObject.loop=this._loop?-1:0)},get:function(){return this._loop}}}),AudioSource.prototype.canReceiveMessage=!1,AudioSource.prototype.Play=function(){0==UHTEngine.SoundsAreLoaded()&&this.loop?this._MustPlayClipWhenSoundsAreLoaded=!0:null!=this.clip&&null!=this.clip.soundjsObject&&(this.clip.soundjsObject.volume=this.volume,this.clip.soundjsObject.loop=this.loop?-1:0,this.clip.soundjsObject.stop(),this.clip.soundjsObject.play())},AudioSource.prototype.Update=function(){this._MustPlayClipWhenSoundsAreLoaded&&UHTEngine.SoundsAreLoaded()&&(this._MustPlayClipWhenSoundsAreLoaded=!1,this.Play())},AudioSource.prototype.PlayOneShot=function(t,e){var i,n;null!=t&&null!=t.soundjsObject&&(n={interrupt:createjs.Sound.INTERRUPT_ANY,loop:0},null!=e&&(n.volume=e),t=createjs.Sound.play(t.name,n),i=this,t.on("complete",n=function(){i.OnOneShotComplete.apply(i,arguments)}),t.on("failed",n),t.on("interrupted",n),this.oneShotInstances.push(t))},AudioSource.prototype.Stop=function(){this._MustPlayClipWhenSoundsAreLoaded=!1,null!=this.clip&&null!=this.clip.soundjsObject&&this.clip.soundjsObject.stop()},AudioSource.prototype.OnOneShotComplete=function(t){t=this.oneShotInstances.indexOf(t.target);this.oneShotInstances.splice(t,1)},goog.require("UHT.Component"),goog.provide("UHT.Camera"),Camera.prototype=Object.create(Component.prototype),(Camera.prototype.constructor=Camera).prototype.canReceiveMessage=!1,Camera.prototype.ComputeClipMask=function(){var t=new UHTMath.Vector3(-this.extraCameraSettings.clipLeft,this.extraCameraSettings.clipUp,0),e=new UHTMath.Vector3(this.extraCameraSettings.clipRight,-this.extraCameraSettings.clipDown,0),i=this.gameObject.transform.transformPoint(t),n=this.gameObject.transform.transformPoint(e),o=this.WorldToScreenPoint(i),t=this.WorldToScreenPoint(n),e=o.x,i=o.y,n=t.x-o.x,o=t.y-o.y,e=Math.max(e,0),i=Math.max(i,0),n=Math.min(n,UHTScreen.width),o=Math.min(o,UHTScreen.height);this.mask.clear(),this.mask.beginFill(16777215),this.mask.drawRect(e,i,n,o),this.mask.endFill()},Camera.allCameras=[],Camera.prototype.Update=function(){this.scale=UHTScreen.height/2/this.orthographicSize},Camera.prototype.OnEnable=function(){this.Update()},Camera.prototype.OnWillRenderObject=function(){var t=this.container,e=this.clipMaskContainer,i=this.IsClipping();(this.gameObject.transform.IsDirtyUserFlag(Transform._DirtyFlagCamera)||UHTScreen.width!=this.oldSW||UHTScreen.height!=this.oldSH||i&&this.extraCameraSettings.dirtyFlag)&&(this.cachedWTSP=this.WorldToScreenPoint(new UHTMath.Vector3),this.gameObject.transform.ClearDirtyUserFlag(Transform._DirtyFlagCamera),this.oldSW=UHTScreen.width,this.oldSH=UHTScreen.height,i&&(0==this.clipMaskLayer&&this.ComputeClipMask(),this.extraCameraSettings.dirtyFlag=!1),t.dirtyWT=!0,e.dirtyWT=!0),t.x=this.cachedWTSP.x,t.y=this.cachedWTSP.y,t.scale.x=this.scale,t.scale.y=this.scale,t.mask=i?this.mask:null,0!=this.clipMaskLayer&&(e.x=this.cachedWTSP.x,e.y=this.cachedWTSP.y,e.scale.x=this.scale,e.scale.y=this.scale)},Camera.prototype.ScreenToWorldPoint=function(t){t=new UHTMath.Vector3(t);return t.x-=UHTScreen.width/2,t.y-=UHTScreen.height/2,t.x*=1/this.scale,t.y*=-1/this.scale,t.add(this.gameObject.transform.position()),t},Camera.prototype.WorldToScreenPoint=function(t){t=UHTMath.Vector3.sub(t,this.gameObject.transform.position());return t.x*=this.scale,t.y*=-this.scale,t.x+=UHTScreen.width/2,t.y+=UHTScreen.height/2,t},Camera.prototype.IsClipping=function(){return void 0===this.extraCameraSettings&&(this.extraCameraSettings=this.gameObject.GetComponent(ExtraCameraSettings)),null!=this.extraCameraSettings&&(this.clipMaskLayer=this.extraCameraSettings.clipMaskLayer.mask),null!=this.extraCameraSettings&&this.extraCameraSettings.enabled&&0==this.clipMaskLayer},Camera.prototype.HasClippingMask=function(){return 0!=this.clipMaskLayer},Camera.prototype.IsClippingInput=function(){return this.IsClipping()&&this.extraCameraSettings.clipInput},goog.provide("UHT.Collider"),goog.require("UHT.Component"),Collider.prototype=Object.create(Component.prototype),(Collider.prototype.constructor=Collider).prototype.canReceiveMessage=!1,Collider.prototype.Start=function(){globalColliderInputManager.registerCollider(this)},Collider.prototype.GetTransformedCenterAndSize=function(){return this.gameObject.transform.IsDirtyUserFlag(Transform._DirtyFlagCollider)&&(this.UpdateCachedMembers(),this.gameObject.transform.ClearDirtyUserFlag(Transform._DirtyFlagCollider)),{center:new UHTMath.Vector3(this.cachedTransformedCenter),size:new UHTMath.Vector3(this.cachedTransformedSize)}},Collider.prototype.UpdateCachedMembers=function(){this.cachedTransformedCenter=this.gameObject.transform.transformPoint(this.center),this.cachedTransformedSize=this.gameObject.transform.transformVector(this.size)},goog.provide("UHT.ClampVelocityModule"),ClampVelocityModule.prototype.deserialize=function(t){this.reset(),this.inWorldSpace="True"===t.inWorldSpace,this.separateAxis="True"===t.separateAxis,this.dampen=UHTMath.clamp(Number(t.dampen),0,1),this.separateAxis?(this.x=new ParticleSystemEvaluator,this.y=new ParticleSystemEvaluator,this.z=new ParticleSystemEvaluator,this.x.deserialize(t.x),this.y.deserialize(t.y),this.z.deserialize(t.z)):(this.magnitude=new ParticleSystemEvaluator,this.magnitude.deserialize(t.magnitude))},ClampVelocityModule.prototype.Evaluate=function(t,e){var i=new UHTMath.Vector3;if(!0===this.separateAxis){for(var n=["x","y","z"],o=n.length,s=new UHTMath.Vector3;o--;)s[n[o]]=Math.max(0,this[n[o]].Evaluate(t));if(!this.inWorldSpace)for(s=this.particleSystem.gameObject.transform.transformDirection(s),o=n.length;o--;)s[r=n[o]]<0&&(s[r]=0);for(o=n.length;o--;){var r=n[o],a=Math.abs(e[r]),l=e[r]/a;a>s[r]?i[r]=UHTMath.lerp(a,s[r],this.dampPos)*l:i[r]=e[r]}}else{var u,h=e.magnitude();1e-5<Math.abs(h)&&(u=UHTMath.Vector3.scale(e,1/h),s=this.magnitude.Evaluate(t),h=UHTMath.lerp(h,s,this.dampPos),i.set(UHTMath.Vector3.scale(u,h)))}return this.dampPos+=this.dampen,i},ClampVelocityModule.prototype.reset=function(){null!=this.magnitude&&this.magnitude.reset(),null!=this.x&&this.x.reset(),null!=this.y&&this.y.reset(),null!=this.z&&this.z.reset(),this.dampPos=0},goog.provide("UHT.ParticleSystemEvaluator"),ParticleSystemEvaluator.prototype.Evaluate=function(t){switch(this.minMaxState){case 3:case 2:var e=this.minCurve.Evaluate(t),i=this.maxCurve.Evaluate(t);return this.scalar*(e+(i-e)*this.random);case 1:return this.maxCurve.Evaluate(t)*this.scalar;default:return this.scalar}},ParticleSystemEvaluator.prototype.deserialize=function(t){this.random=Math.random(),this.minMaxState=Number(t.minMaxState),this.scalar=Number(t.scalar),this.fillFrom(this.minCurve,t.minCurve),this.fillFrom(this.maxCurve,t.maxCurve)},ParticleSystemEvaluator.prototype.ReRandomize=function(){this.random=Math.random()},ParticleSystemEvaluator.prototype.fillFrom=function(t,e){if(void 0===e.cachedKeys){t.clearKeys();for(var i=e.m_Curve.Array.size;i--;){var n=e.m_Curve.Array["data["+i.toString()+"]"],n=new Keyframe(Number(n.time),Number(n.value),Number(n.inSlope),Number(n.outSlope));t.addKey(n)}t.sortKeys(),e.cachedKeys=t.keys}else t.keys=e.cachedKeys},ParticleSystemEvaluator.prototype.reset=function(){this.minCurve.clearKeys(),this.maxCurve.clearKeys()},goog.provide("UHT.ParticleSystemEvaluatorBySpeed"),ParticleSystemEvaluatorBySpeed.prototype.Evaluate=function(t){t=UHTMath.inverseLerp(this.intervalMin,this.intervalMax,t);return this.evaluator.Evaluate(t)},ParticleSystemEvaluatorBySpeed.prototype.deserialize=function(t){this.evaluator.deserialize(void 0!==t.curve?t.curve:t.gradient),this.intervalMin=Number(t.range.x),this.intervalMax=Number(t.range.y)},ParticleSystemEvaluatorBySpeed.prototype.reset=function(){this.evaluator.reset()},goog.provide("UHT.ParticleSystemEvaluatorColor"),GradientColor.prototype.fromString=function(t){t=0|Number(t);this.r=255&t,this.g=t>>8&255,this.b=t>>16&255,this.a=t>>24&255},GradientColor.prototype.toRGBHex=function(){return Math.floor((this.r<<16)+(this.g<<8)+this.b)},GradientColor.prototype.toARGBHex=function(){return Math.floor((this.a<<24)+(this.r<<16)+(this.g<<8)+this.b)},GradientNEW.prototype.fromString=function(t){this.reset(),this.numAlphaKeys=Number(t.m_NumAlphaKeys),this.numColorKeys=Number(t.m_NumColorKeys);for(var e=0;e<8;e++){var i=new GradientColor;i.fromString(t["key"+e].rgba),this.keysColor.push(i),this.keysTimeAlpha.push(Number(t["atime"+e])/65535),this.keysTimeColor.push(Number(t["ctime"+e])/65535)}},GradientNEW.prototype.searchNearestKey=function(t,e,i,n){for(var n=n||0,o=i-1,s=n=!(t[n]<=e&&t[n+1]>e)?0:n;s<o;s++)if(t[s]<e&&t[s+1]>e)return s;return Math.max(0,o-1)},GradientNEW.prototype.Evaluate=function(t){var e,i,n,o=new GradientColor;return t<this.keysTimeColor[0]?(o.r=this.keysColor[0].r,o.g=this.keysColor[0].g,o.b=this.keysColor[0].b):t>this.keysTimeColor[this.numColorKeys-1]?(n=this.numColorKeys-1,o.r=this.keysColor[n].r,o.g=this.keysColor[n].g,o.b=this.keysColor[n].b):(e=this.searchNearestKey(this.keysTimeColor,t,this.numColorKeys,this._lastKeyColor),this._lastKeyColor=e,i=UHTMath.inverseLerp(this.keysTimeColor[e],this.keysTimeColor[e+1],t),o.r=UHTMath.lerp(this.keysColor[e].r,this.keysColor[e+1].r,i),o.g=UHTMath.lerp(this.keysColor[e].g,this.keysColor[e+1].g,i),o.b=UHTMath.lerp(this.keysColor[e].b,this.keysColor[e+1].b,i)),t<this.keysTimeAlpha[0]?o.a=this.keysColor[0].a:t>this.keysTimeAlpha[this.numAlphaKeys-1]?(n=this.numAlphaKeys-1,o.a=this.keysColor[n].a):(n=this.searchNearestKey(this.keysTimeAlpha,t,this.numAlphaKeys,this._lastKeyAlpha),this._lastKeyAlpha=n,t=UHTMath.inverseLerp(this.keysTimeAlpha[n],this.keysTimeAlpha[n+1],t),o.a=UHTMath.lerp(this.keysColor[n].a,this.keysColor[n+1].a,t)),o},GradientNEW.prototype.reset=function(){this.numColorKeys=0,this.numAlphaKeys=0,this.keysColor=[],this.keysTimeAlpha=[],this.keysTimeColor=[],this._lastKeyColor=0,this._lastKeyAlpha=0},ParticleSystemEvaluatorColor.prototype.Evaluate=function(t){switch(this.minMaxState){case 3:var e=this.minGradient.Evaluate(t),i=this.maxGradient.Evaluate(t);return(n=new GradientColor).r=e.r+(i.r-e.r)*this.random,n.g=e.g+(i.g-e.g)*this.random,n.b=e.b+(i.b-e.b)*this.random,n.a=e.a+(i.a-e.a)*this.random,n;case 2:var n,e=this.minColor,i=this.maxColor;return(n=new GradientColor).r=e.r+(i.r-e.r)*this.random,n.g=e.g+(i.g-e.g)*this.random,n.b=e.b+(i.b-e.b)*this.random,n.a=e.a+(i.a-e.a)*this.random,n;case 1:return this.maxGradient.Evaluate(t);case 0:return this.maxColor;default:return new GradientColor}},ParticleSystemEvaluatorColor.prototype.deserialize=function(t){this.random=Math.random(),this.minMaxState=Number(t.minMaxState),this.minGradient.fromString(t.minGradient),this.maxGradient.fromString(t.maxGradient),this.maxColor.fromString(t.maxColor.rgba),this.minColor.fromString(t.minColor.rgba)},goog.provide("UHT.ParticleSystemShape"),goog.provide("UHT.ParticleSystemShapeType");var ParticleSystemShapeType={sphere:0,sphereShell:1,hemisphere:2,mesh:3,cone:4,box:5,coneBaseShell:7};function ParticleSystemShape(){}function ParticleSystemShapeBox(){this.boxX=1,this.boxY=1,this.boxZ=1}function ParticleSystemShapeCone(){this.angle=0,this.radius=1,this.type=7}function ParticleSystemShapeSphere(){this.radius=1,this.type=7}ParticleSystemShape.prototype.generateNewPosition=function(){return new UHTMath.Vector3},ParticleSystemShape.prototype.getEmissionDirection=function(){return new UHTMath.Vector3},goog.provide("UHT.ParticleSystemShapeBox"),ParticleSystemShapeBox.prototype=Object.create(ParticleSystemShape.prototype),ParticleSystemShapeBox.prototype.constructor=ParticleSystemShape,ParticleSystemShapeBox.prototype.generateNewPosition=function(){return new UHTMath.Vector3(this.boxX*(Math.random()-.5),this.boxY*(Math.random()-.5),this.boxZ*(Math.random()-.5))},ParticleSystemShapeBox.prototype.deserialize=function(t){this.boxX=Number(t.boxX),this.boxY=Number(t.boxY),this.boxZ=Number(t.boxZ)},ParticleSystemShapeBox.prototype.getEmissionDirection=function(t){if(void 0!==t)return new UHTMath.Vector3(0,0,1);t=new UHTMath.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1);return t.normalize(),t},goog.provide("UHT.ParticleSystemShapeCone"),ParticleSystemShapeCone.prototype=Object.create(ParticleSystemShape.prototype),ParticleSystemShapeCone.prototype.constructor=ParticleSystemShape,ParticleSystemShapeCone.prototype.generateNewPosition=function(){var t=2*Math.random()*UHTMath.PI,e=this.type==ParticleSystemShapeType.coneBaseShell?1:Math.random(),i=this.type==ParticleSystemShapeType.coneBaseShell?1:Math.random();return new UHTMath.Vector3(e*this.radius*Math.cos(t),i*this.radius*Math.sin(t),0)},ParticleSystemShapeCone.prototype.deserialize=function(t){this.angle=Number(t.angle),this.radius=Number(t.radius)/2,this.type=Number(t.type)},ParticleSystemShapeCone.prototype.getEmissionDirection=function(t){var e,i=1;t=void 0!==t?((n=new UHTMath.Vector3(t)).z=0,i=n.magnitude()/this.radius,e=n.x,n.y):(e=2*Math.random()-1,2*Math.random()-1);var n=Math.cos(UHTMath.toRad(this.angle*i)),i=Math.sqrt((1-n*n)/(e*e+t*t)),n=new UHTMath.Vector3(e*=i,t*=i,n);return n.normalize(),n},goog.provide("UHT.ParticleSystemShapeSphere"),ParticleSystemShapeSphere.prototype=Object.create(ParticleSystemShape.prototype),ParticleSystemShapeSphere.prototype.constructor=ParticleSystemShape,ParticleSystemShapeSphere.prototype.generateNewPosition=function(){var t=2*Math.random()*UHTMath.PI,e=2*Math.random()-1,i=this.type==ParticleSystemShapeType.sphereShell?1:Math.random(),e=Math.acos(e),i=this.radius*Math.pow(i,1/3);return new UHTMath.Vector3(i*Math.sin(e)*Math.cos(t),i*Math.sin(e)*Math.sin(t),i*Math.cos(e))},ParticleSystemShapeSphere.prototype.deserialize=function(t){this.radius=Number(t.radius),this.type=Number(t.type)},ParticleSystemShapeSphere.prototype.getEmissionDirection=function(t){if(void 0!==t)return(e=new UHTMath.Vector3(t)).normalize(),e;var e,i=2*Math.random()-1,n=2*Math.random()-1,t=2*Math.random()-1;return(e=new UHTMath.Vector3(i,n,t)).normalize(),e},goog.provide("UHT.FontLoader");var FontDetect=function(){var u=!1,s=["serif","sans-serif","monospace","cursive","fantasy"],r=null,a=null;function h(){var t,e,i;u||(u=!0,t=document.body,e=document.body.firstChild,(i=document.createElement("div")).id="fontdetectHelper",(r=document.createElement("span")).innerText="0123456789",i.appendChild(r),(a=document.createElement("span_dots")).innerText="..........",i.appendChild(a),t.insertBefore(i,e),i.style.position="absolute",i.style.visibility="hidden",i.style.top="-200px",i.style.left="-100000px",i.style.width="100000px",i.style.height="200px",i.style.fontSize="100px")}return{onFontLoaded:function(e,i,n,o){var t,s,r,a,l;e&&(t=o&&o.msInterval?o.msInterval:100,s=o&&o.msTimeout?o.msTimeout:1e4,(i||n)&&(u||h(),this.isFontLoaded(e,o)?i&&i(e):(r=this,a=(new Date).getTime(),l=setInterval(function(){var t;r.isFontLoaded(e,o)?(clearInterval(l),i(e)):(t=(new Date).getTime(),s<t-a&&(clearInterval(l),n&&n(e)))},t))))},isFontLoaded:function(t,e){var i,n=0;r.innerText=e&&e.text?e.text:"0123456789",u||h();for(var o=0;o<s.length;++o){if(r.style.fontFamily=t+","+s[o],a.style.fontFamily=t+","+s[o],r.offsetWidth==a.offsetWidth)return!1;if(i=r.offsetWidth,0<o&&i!=n)return!1;n=i}return!0}}}(),FontLoader=function(){var o={Loading:0,Loaded:1,Failed:2},s={},n={};function r(t){t=l(t);s[t]=o.Failed,e(t,o.Failed)}function a(t){t=l(t);s[t]=o.Loaded,e(t,o.Loaded)}function e(t,e){if(null!=n[t]){for(var i=0;i<n[t].length;++i)n[t][i].func.call(n[t][i].obj,e);delete n[t]}}function l(t){return t.replace(/\s/g,"_")}return{LoadFont:function(t,e,i){var n=l(t);(!i||!i.force||!i.force)&&null!=s[n]||(s[n]=o.Loading,null!=e&&(n=e,(e=document.createElement("style")).styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(e)),FontDetect.onFontLoaded(t,a,r,i))},AddHandler:function(t,e,i){t=l(t),s[t]!=o.Loaded&&s[t]!=o.Failed?(null==n[t]&&(n[t]=[]),n[t].push({obj:i,func:e})):e.call(i,s[t])},IsLoaded:function(t){return t=l(t),s[t]==o.Loaded}}}();function GameObject(){this.name="",this.activeSelf=!1,this.layer=0,this.activeInHierarchy=!1,this.components=[],this.transform=null,this.collider=null,this.animation=null}function AnimationState(t){this.name=t.name,this.enabled=!1,this.weight=0,this.length=t.length,this.speed=1,this.normalizedTime=0,this.time=0,this.wrapMode=t.wrapMode,this.clip=t,this.applyData=[],this._rootGameObject=null,this.extraTime=0,this.sortedEvents=[]}function deserializeComponentRec(t,e,i,n){for(var o=Object.keys(t),s=0;s<o.length;s++){var r=o[s],a=t[r];if(internalRawDataIsReference(a))e[r]=i[n](t[r]);else if(!internalProcessAsNestedClass(a,e,r,i,n))if(Array.isArray(a)){e[r]=new Array(a.length);for(var l=0;l<a.length;l++)null==a[l]?e[r][l]=null:a[l]instanceof Object?deserializeComponentRec(a[l],e[r][l],i,n):e[r][l]=a[l]}else a instanceof Object?e[r]=JSON.parse(JSON.stringify(a)):e[r]=a}}function internalRawDataIsReference(t){if(Array.isArray(t)&&0<t.length){for(var e=0;e<t.length;e++)if(t[e]instanceof Object&&t[e].hasOwnProperty("fileID"))return!0;return!1}return!!(t instanceof Object&&t.hasOwnProperty("fileID"))}function internalProcessAsNestedClass(t,e,i,n,o){var s="nestedFieldType";if(Array.isArray(t)&&0<t.length&&t[0]instanceof Object&&t[0].hasOwnProperty(s)){e[i]=new Array(t.length);for(var r=0;r<t.length;r++){var a=t[r][s];e[i][r]=createNestedObject(a),null!=e[i][r].deserialize?e[i][r].deserialize(t[r].serializableData,n,o):null!=e[i][r]&&deserializeComponentRec(t[r].serializableData,e[i][r],n,o)}return!0}return!!(t instanceof Object&&t.hasOwnProperty(s))&&(e[i]=createNestedObject(t[s]),null!=e[i].deserialize?e[i].deserialize(t.serializableData,n,o):null!=e[i]&&deserializeComponentRec(t.serializableData,e[i],n,o),!0)}function isReference(t){return t instanceof GameObject||t instanceof Component||t instanceof TextAsset||t instanceof AudioClip||t instanceof AnimationClip||t instanceof UHTSpine}goog.provide("UHT.GameObject"),goog.require("UHT.Collider"),goog.require("UHT.Animation"),GameObject.prototype.GetComponent=function(t){var e=t;"string"==typeof t&&(e=window[t]);for(var i=0;i<this.components.length;i++)if(this.components[i]instanceof e)return this.components[i];return null},GameObject.prototype.GetComponents=function(t){var e=[],i=t;"string"==typeof t&&(i=window[t]);for(var n=0;n<this.components.length;n++)this.components[n]instanceof i&&e.push(this.components[n]);return e},GameObject.prototype.GetComponentsInChildren=function(t,e){var i=[];if(this.activeInHierarchy||e){for(var n=0;n<this.components.length;n++)this.components[n]instanceof t&&i.push(this.components[n]);for(var o=0;o<this.transform.children.length;o++)i=i.concat(this.transform.children[o].gameObject.GetComponentsInChildren(t,e))}return i},GameObject.prototype.GetComponentInChildren=function(t){if(this.activeInHierarchy){for(var e=0;e<this.components.length;e++)if(this.components[e]instanceof t)return this.components[e];for(var i=0;i<this.transform.children.length;i++){var n=this.transform.children[i].gameObject.GetComponentInChildren(t);if(null!=n)return n}}return null},GameObject.prototype.SetActive=function(t){this.activeSelf!=t&&(this.activeSelf=t,this.internalUpdateActive(!0,!0))},GameObject.prototype.SendMessage=function(t,e){if(this.activeInHierarchy)for(var i=0;i<this.components.length;i++){var n=this.components[i];n.canReceiveMessage&&null!=n[t]&&n[t](e)}},GameObject.prototype.AddComponent=function(t){t=createComponent(t,!0);return null!=t&&(this.components.push(t),(t.gameObject=this).activeInHierarchy&&(t.Awake(),callOnEnable(t),t.Start(),t.flags|=ComponentStateFlags.awake_called|ComponentStateFlags.start_called),this.internalCacheComponent(t),t.transform=this.transform),t},GameObject.prototype.internalUpdateActive=function(t,e){computeActiveState(this),callComponentCallback(this,"Awake",ComponentStateFlags.awake_called),t&&callComponentOnEnable(this),callComponentCallback(this,"Start",ComponentStateFlags.start_called),e&&callComponentOnDisable(this)},GameObject.prototype.internalCopyFromOther=function(t){this.name=t.name,this.activeSelf=t.activeSelf,this.layer=t.layer},GameObject.prototype.internalCacheComponent=function(t){t instanceof Transform?this.transform=t:t instanceof Collider?this.collider=t:t instanceof Animation&&(this.animation=t)},goog.require("UHT.Component"),goog.require("UHT.GameObject"),AnimationState.CurveApplyData=function(t,e){this.type=t,this.obj=e,this.comp=null,this.propertyName="",this.curve1=null,this.curve2=null,this.curve3=null,this.curve4=null},AnimationState.CurveApplyType={Invalid:0,TransformPosition:1,TransformRotation:2,TransformScale:3,GameObjectActive:4,Custom:5},AnimationState.prototype.Init=function(t){this._rootGameObject=t;for(var e=_array.create(this.clip.curves.length,!1),i=0;i<this.clip.curves.length;i++)if(!e[i]){var n=this.clip.curves[i],o=t.transform.Find(n.path);if(null!=o){e[i]=!0;var s=this.ComputeApplyType(n.propertyName),r=new AnimationState.CurveApplyData(s.type,o.gameObject);if(r["curve"+s.index]=n.curve,s.type!=AnimationState.CurveApplyType.Custom){for(var a,l,u=i+1;u<this.clip.curves.length;u++)e[u]||(a=this.clip.curves[u],n.path==a.path&&(null==(l=t.transform.Find(a.path))||l!=o||(l=this.ComputeApplyType(a.propertyName)).type==s.type&&(r["curve"+l.index]=a.curve,e[u]=!0)));this.applyData.push(r)}else r.propertyName=n.propertyName,r.comp=o.gameObject.GetComponent(n.type),this.applyData.push(r)}}this.SortEvents()},AnimationState.prototype.Sample=function(){for(var t=0;t<this.applyData.length;t++)this.Apply(this.applyData[t])},AnimationState.prototype.Update=function(){if(this.Sample(),0==this.speed)return!0;for(var t=0;t<this.sortedEvents.length;t++){var e=this.sortedEvents[t];Math.abs(e.time-this.time)<1e-6&&this._rootGameObject.SendMessage(e.functionName,e.param)}var i=this.speed,n=0<=i;if(n&&this.time>this.length||!n&&this.time<0)return this.wrapMode==WrapMode.Loop&&(this.time+=n?-this.length:this.length,!0);var o=(Time.deltaTime+this.extraTime)*i,s=Math.abs(this.ComputeTimeToNextEvent(n)/i);return s<Math.abs(o)?(this.extraTime+=Math.abs(o/i)-Math.abs(s*i),this.time+=n?s:-s):(this.extraTime=0,this.time+=o),!0},AnimationState.prototype.ComputeTimeToNextEvent=function(t){if(t)for(var e=0;e<this.sortedEvents.length;e++){var i=this.sortedEvents[e].time-this.time;if(0<i)return i}else for(var n=this.sortedEvents.length-1;0<=n;n--){var o=this.time-this.sortedEvents[n].time;if(0<o)return o}return Number.MAX_VALUE},AnimationState.prototype.SortEvents=function(){this.sortedEvents=[];for(var t=0;t<this.clip.events.length;t++)this.sortedEvents.push(this.clip.events[t]);this.sortedEvents.sort(function(t,e){return t.time-e.time})},AnimationState.prototype.Stop=function(){this.time=0},AnimationState.prototype.Apply=function(t){var e,i,n,o;switch(t.type){case AnimationState.CurveApplyType.TransformPosition:e=t.curve1.Evaluate(this.time),i=t.curve2.Evaluate(this.time),n=t.curve3.Evaluate(this.time),t.obj.transform.fastSetLocalPosition(e,i,n);break;case AnimationState.CurveApplyType.TransformRotation:e=t.curve1.Evaluate(this.time),i=t.curve2.Evaluate(this.time),n=t.curve3.Evaluate(this.time),o=t.curve4.Evaluate(this.time),t.obj.transform.fastSetLocalRotation(e,i,n,o);break;case AnimationState.CurveApplyType.TransformScale:e=t.curve1.Evaluate(this.time),i=t.curve2.Evaluate(this.time),n=t.curve3.Evaluate(this.time),t.obj.transform.fastSetLocalScale(e,i,n);break;case AnimationState.CurveApplyType.GameObjectActive:null!=t.curve1&&(s=t.curve1.Evaluate(this.time),t.obj.SetActive(.5<s));break;case AnimationState.CurveApplyType.Custom:if(null!=t.curve1&&null!=t.comp&&""!=t.propertyName){for(var s=t.curve1.Evaluate(this.time),r=t.propertyName.split("."),a=t.comp,l=0;l<r.length-1;l++){if(null==a[r[l]])return void console.error("Animation: Property path '"+t.propertyName+"' is invalid!");a=a[r[l]]}if(null==a[r[r.length-1]])return void console.error("Animation: Property path '"+t.propertyName+"' is invalid!");a[r[r.length-1]]=s}}},AnimationState.prototype.ComputeApplyType=function(t){switch(t){case"m_LocalPosition.x":return{type:AnimationState.CurveApplyType.TransformPosition,index:1};case"m_LocalPosition.y":return{type:AnimationState.CurveApplyType.TransformPosition,index:2};case"m_LocalPosition.z":return{type:AnimationState.CurveApplyType.TransformPosition,index:3};case"m_LocalRotation.x":return{type:AnimationState.CurveApplyType.TransformRotation,index:1};case"m_LocalRotation.y":return{type:AnimationState.CurveApplyType.TransformRotation,index:2};case"m_LocalRotation.z":return{type:AnimationState.CurveApplyType.TransformRotation,index:3};case"m_LocalRotation.w":return{type:AnimationState.CurveApplyType.TransformRotation,index:4};case"m_LocalScale.x":return{type:AnimationState.CurveApplyType.TransformScale,index:1};case"m_LocalScale.y":return{type:AnimationState.CurveApplyType.TransformScale,index:2};case"m_LocalScale.z":return{type:AnimationState.CurveApplyType.TransformScale,index:3};case"m_IsActive":return{type:AnimationState.CurveApplyType.GameObjectActive,index:1};default:return{type:AnimationState.CurveApplyType.Custom,index:1}}},goog.provide("UHT.KeyboardManager");var KeyCode={Space:32,Return:13,Backspace:8,Alpha0:48,Alpha1:49,Alpha2:50,Alpha3:51,Alpha4:52,Alpha5:53,Alpha6:54,Alpha7:55,Alpha8:56,Alpha9:57,Keypad0:96,Keypad1:97,Keypad2:98,Keypad3:99,Keypad4:100,Keypad5:101,Keypad6:102,Keypad7:103,Keypad8:104,Keypad9:105,DecimalPoint:110,Comma:188,Period:190},KeyboardManager={_internalStates:{},_states:{},_keyboardReceiver:{}};function Color(){this._r=0,this._g=0,this._b=0,this.a=0,this.rgbAsHex=0}function EventHandler(t,e){this.object=t,this.callback=e,this.isEnabled=!0}function GradientColorKey(t,e){this.color=null==t?null:t,this.time=null==e?0:e}function GradientAlphaKey(){this.alpha=0,this.time=0}function Gradient(){this.colorKeys=[],this.alphaKeys=[]}function LayerMask(){this.mask=0}KeyboardManager.KeyState={Up:0,JustDown:1,Down:2},KeyboardManager.focus=!0,KeyboardManager.Init=function(){UHT_DEVICE_TYPE.MOBILE||(window.addEventListener("keyup",function(t){KeyboardManager.onKeyUp(t)},!1),window.addEventListener("keydown",function(t){KeyboardManager.onKeyDown(t)},!1),UHT_FRAME&&document.body.addEventListener("mousedown",function(){window.focus()},!0),window.addEventListener("blur",function(t){KeyboardManager.SetFocus(!1)},!0),window.addEventListener("focus",function(t){KeyboardManager.SetFocus(!0)},!0))},KeyboardManager.SetFocus=function(t){KeyboardManager.focus=t},KeyboardManager.Update=function(){if(!UHT_DEVICE_TYPE.MOBILE)for(var t in KeyboardManager._states=JSON.parse(JSON.stringify(KeyboardManager._internalStates)),KeyboardManager._internalStates)KeyboardManager._internalStates.hasOwnProperty(t)&&(KeyboardManager._internalStates[t]==KeyboardManager.KeyState.JustDown&&(KeyboardManager._internalStates[t]=KeyboardManager.KeyState.Down),KeyboardManager.focus||(KeyboardManager._internalStates[t]=KeyboardManager.KeyState.Up))},KeyboardManager.onKeyUp=function(t){KeyboardManager._internalStates[t.keyCode]=KeyboardManager.KeyState.Up,UHTEngine.RegisterUserInteraction()},KeyboardManager.onKeyDown=function(t){var e=KeyboardManager._internalStates[t.keyCode];e==KeyboardManager.KeyState.Up||null==e?KeyboardManager._internalStates[t.keyCode]=KeyboardManager.KeyState.JustDown:KeyboardManager._internalStates[t.keyCode]=KeyboardManager.KeyState.Down,null!=KeyboardManager._keyboardReceiver.OnKeyDown&&KeyboardManager._keyboardReceiver.OnKeyDown(t.key),UHTEngine.RegisterUserInteraction()},KeyboardManager.IsKeyDown=function(t){return!(!KeyboardManager._states.hasOwnProperty(t)||null!=KeyboardManager._keyboardReceiver.OnKeyDown||Globals.WatchingReplay)&&KeyboardManager._states[t]==KeyboardManager.KeyState.JustDown},KeyboardManager.IsKey=function(t){return!(!KeyboardManager._states.hasOwnProperty(t)||null!=KeyboardManager._keyboardReceiver.OnKeyDown||Globals.WatchingReplay)&&KeyboardManager._states[t]==KeyboardManager.KeyState.Down},goog.provide("UHT.Color"),Object.defineProperties(Color.prototype,{r:{get:function(){return this._r},set:function(t){this._r=t,this.compute_rgbAsHex()}},g:{get:function(){return this._g},set:function(t){this._g=t,this.compute_rgbAsHex()}},b:{get:function(){return this._b},set:function(t){this._b=t,this.compute_rgbAsHex()}}}),Color.prototype.deserialize=function(t,e,i){var n=t.c,t=n.length;if(1==t)switch(n){case"w":this._r=1,this._g=1,this._b=1,this.a=1;break;case"k":this._r=0,this._g=0,this._b=0,this.a=1;break;case"r":this._r=1,this._g=0,this._b=0,this.a=1;break;case"g":this._r=0,this._g=1,this._b=0,this.a=1;break;case"b":this._r=0,this._g=0,this._b=1,this.a=1}else 6<=t&&(this._r=UHTMath.lerp(0,1,parseInt(n.substring(0,2),16)/255),this._g=UHTMath.lerp(0,1,parseInt(n.substring(2,4),16)/255),this._b=UHTMath.lerp(0,1,parseInt(n.substring(4,6),16)/255),this.a=6==t?1:UHTMath.lerp(0,1,parseInt(n.substring(6,8),16)/255));this.compute_rgbAsHex()},Color.prototype.rgbAsString=function(){return"RGB("+Math.floor(255*this._r)+", "+Math.floor(255*this._g)+", "+Math.floor(255*this._b)+")"},Color.prototype.rgbaAsString=function(){return"RGBA("+Math.floor(255*this._r)+", "+Math.floor(255*this._g)+", "+Math.floor(255*this._b)+", "+this.a+")"},Color.prototype.compute_rgbAsHex=function(){this.rgbAsHex=Math.floor((255*this._r<<16)+(255*this._g<<8)+255*this._b)},Color.prototype.argbAsHex=function(){return Math.floor((255*this.a<<24)+(255*this._r<<16)+(255*this._g<<8)+255*this._b)},Color.Lerp=function(t,e,i){var n=new Color,i=UHTMath.clamp(i,0,1);return n.r=t.r+(e.r-t.r)*i,n.g=t.g+(e.g-t.g)*i,n.b=t.b+(e.b-t.b)*i,n.a=t.a+(e.a-t.a)*i,n},Color.qLerp=function(t,e,i,n){n=UHTMath.clamp(n,0,1);t.r=e.r+(i.r-e.r)*n,t.g=e.g+(i.g-e.g)*n,t.b=e.b+(i.b-e.b)*n,t.a=e.a+(i.a-e.a)*n},goog.provide("UHT.EventHandler"),EventHandler.prototype.equals=function(t,e){return t==this.object&&e==this.callback},EventHandler.prototype.call=function(){this.isEnabled&&this.callback.apply(this.object,arguments)},goog.provide("UHT.Gradient"),goog.require("UHT.Color"),LayerMask.prototype.value=function(){for(var t=-1,e=this.mask;0!=e;)t++,e/=2,e=Math.floor(e);return t},goog.provide("UHT.Random");var Random={Range:function(t,e){var i=Math.random()*(e-t)+t;return _number.isFloat(t)||_number.isFloat(e)?i:Math.floor(i)}};function TextAsset(t){this.text=t}goog.provide("UHT.TextAsset");var Time={deltaTime:0,time:0,frameCount:0,deltaTimeInRealTime:0};goog.provide("UHT.System.Misc.Utils");var _string={IsNullOrEmpty:function(t){return!("string"==typeof t&&0<_string.Trim(t).length)},Trim:function(t,e){return null==e&&(e="\\s"),String(t).replace(new RegExp("^["+e+"]+|["+e+"]+$","g"),"")},PadLeft:function(t,e,i){for(var n=String(t),o=i-n.length,s=0;s<o;++s)n=e+n;return n}},_number={otod:function(t){t=(t=String(t)).replace(/,/g,""),t=parseFloat(t);return t=isFinite(t)&&!isNaN(t)?t:0},otoi:function(t){t=parseInt(t,10);return t=isFinite(t)&&!isNaN(t)?t:0},otoui:function(t){return _number.otoi(t)},isFloat:function(t){return t===+t&&t!==(0|t)},isInt:function(t){return t===+t&&t===(0|t)}},_bool={Parse:function(t){t=_string.Trim(t);return"true"==t||"True"==t}},_window={OnLoad:function(t){window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent&&window.attachEvent("onload",t)}},_MonoBehaviour={StartCoroutine:function(t,e,i,n){setTimeout(function(){t.call(e,n)},1e3*i)}},_array={create:function(t,e){var i=[];if(i.length=t,null!=e)for(var n=0;n<t;++n)i[n]=e;return i},indexOf:function(t,e){for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1},ConvertAll:function(t,e){for(var i=[],n=0;n<t.length;++n)_string.IsNullOrEmpty(t[n])||i.push(e(t[n]));return i},InsertRange:function(t,e,i){for(var n=i.length-1;0<=n;--n)t.splice(e,0,i[n])},AddRange:function(t,e){for(var i=0;i<e.length;++i)t.push(e[i])}};function TimeSpan(t,e,i){this.Hours=t,this.Minutes=e,this.Seconds=i}TimeSpan.prototype.ToString=function(){var t=[];return t.push(_string.PadLeft(this.Hours,"0",2)),t.push(_string.PadLeft(this.Minutes,"0",2)),t.push(_string.PadLeft(this.Seconds,"0",2)),t.join(":")},TimeSpan.FromSeconds=function(t){var e=Math.floor(t/3600);return t%=3600,new TimeSpan(e,Math.floor(t/60),t%60)};var DateTime={ToString:function(t,e){return e.replace("dd",_string.PadLeft(t.getDate(),"0",2)).replace("MM",_string.PadLeft(t.getMonth()+1,"0",2)).replace("yyyy",_string.PadLeft(t.getFullYear(),"0",4)).replace("HH",_string.PadLeft(t.getHours(),"0",2)).replace("mm",_string.PadLeft(t.getMinutes(),"0",2)).replace("ss",_string.PadLeft(t.getSeconds(),"0",2))}},jsonParse=function(){var h=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),c=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function p(t,e,i){return e?n[e]:String.fromCharCode(parseInt(i,16))}var d=new String(""),m=Object.hasOwnProperty;return function(t,a){var e=(t=t.match(h))[0],i=!1;"{"===e?s={}:"["===e?s=[]:(s=[],i=!0);for(var n,o,s,r=[s],l=1-i,u=t.length;l<u;++l)switch((e=t[l]).charCodeAt(0)){default:(o=r[0])[n||o.length]=+e,n=void 0;break;case 34:if(-1!==(e=e.substring(1,e.length-1)).indexOf("\\")&&(e=e.replace(c,p)),o=r[0],!n){if(!(o instanceof Array)){n=e||d;break}n=o.length}o[n]=e,n=void 0;break;case 91:o=r[0],r.unshift(o[n||o.length]=[]),n=void 0;break;case 93:r.shift();break;case 102:(o=r[0])[n||o.length]=!1,n=void 0;break;case 110:(o=r[0])[n||o.length]=null,n=void 0;break;case 116:(o=r[0])[n||o.length]=!0,n=void 0;break;case 123:o=r[0],r.unshift(o[n||o.length]={}),n=void 0;break;case 125:r.shift()}if(i){if(1!==r.length)throw new Error;s=s[0]}else if(r.length)throw new Error;return s=a?function t(e,i){var n=e[i];if(n&&"object"===(void 0===n?"undefined":_typeof3(n))){var o,s,r=null;for(o in n)m.call(n,o)&&n!==e&&(void 0!==(s=t(n,o))?n[o]=s:(r=r||[]).push(o));if(r)for(o=r.length;0<=--o;)delete n[r[o]]}return a.call(e,i,n)}({"":s},""):s}}(),UID={};function ListOfInts(){this.list=[]}function ListOfFloats(){this.list=[]}UID.generated=[],UID.Generate=function(){for(var t=null;t=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36),-1<UID.generated.indexOf(t););return UID.generated.push(t),t};var _JSON={TryParse:function(t){var e=null;try{e=JSON.parse(t)}catch(t){}return e}},_PIXI={Texture:{}};_PIXI.Texture.white=null,_PIXI.Texture.WHITE=function(){var t=_PIXI.Texture;if(null!=t.white)return t.white;var e=new PIXI.Graphics;e.beginFill(16777215),e.drawRect(0,0,16,16),e.endFill();var i=new PIXI.RenderTexture(globalRenderer.renderer,16,16);return i.render(e),t.white=i},_PIXI.Sprite={},_PIXI.Sprite.white=null,_PIXI.Sprite.WHITE=function(){var t=_PIXI.Sprite;if(null!=t.white)return t.white;var e=_PIXI.Texture,e=new PIXI.Sprite(e.WHITE());return t.white=e};var _Color={};function _Available(){this.all=[],this.available=[]}_Color.white=null,_Color.WHITE=function(){var t=_Color;if(null!=t.white)return t.white;var e=new Color;return e.r=e.g=e.b=e.a=1,t.white=e},_Available.prototype.Create=function(){},_Available.prototype.Reset=function(t){},_Available.prototype.Get=function(){var t;return this.available.length<1&&(t=this.Create(),this.all.push(t),this.available.push(t)),this.available.pop()},_Available.prototype.Set=function(t){this.Reset(t),this.available.push(t)},_PIXI.Text={},_PIXI.Text.Create=function(){return new PIXI.Text("")},_PIXI.Text.Reset=function(t){t.canvas.width=1,t.canvas.height=1,t.context.scale(1,1),t.updateTexture()},_PIXI.Text.available=null,_PIXI.Text.GetAvailable=function(){var t,e=_PIXI.Text.available;return null==e&&(t=_PIXI.Text,(e=new _Available).Create=t.Create,e.Reset=t.Reset,_PIXI.Text.available=e),e.Get()};var LML_renderOptions={view:null,resolution:1,antialias:!(_PIXI.Text.SetAvailable=function(t){var e=_PIXI.Text.available;null!=e&&e.Set(t)}),forceFXAA:!1,autoResize:!1,transparent:!0,backgroundColor:0,clearBeforeRender:!1,preserveDrawingBuffer:!1},LML_renderer=PIXI.autoDetectRenderer(100,100,LML_renderOptions,!0);_PIXI.RenderTexture={},_PIXI.RenderTexture.Create=function(){return new PIXI.RenderTexture(LML_renderer)},_PIXI.RenderTexture.Reset=function(t){t.resolution=1,t.resize(1,1,!0)},_PIXI.RenderTexture.available=null,_PIXI.RenderTexture.GetAvailable=function(){var t,e=_PIXI.RenderTexture.available;return null==e&&(t=_PIXI.RenderTexture,(e=new _Available).Create=t.Create,e.Reset=t.Reset,_PIXI.RenderTexture.available=e),e.Get()},_PIXI.RenderTexture.SetAvailable=function(t){var e=_PIXI.RenderTexture.available;null!=e&&e.Set(t)};var _Clipboard={CopyText:function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();t=!1;try{t=document.execCommand("copy")}catch(t){}return document.body.removeChild(e),t}},_HTML={};function Runtime(){this.sceneRoots=[],this.animComponentList=null,this.updateList=[];for(var t=0;t<10;t++)this.updateList.push({components:[],availableIndices:[],activeItems:0});this.lateUpdateList={components:[],availableIndices:[],activeItems:0},this.onWillRenderList={components:[],availableIndices:[],activeItems:0}}function AnimListNode(t){this.data=t,this.prev=null,this.next=null}_HTML.CreateElement=function(t,e,i){var n,o=document.createElement(t);for(n in e)o.setAttribute(n,e[n]);return i&&document.body.appendChild(o),o},_HTML.RemoveClass=function(t,e){e=String(t.className).replace(new RegExp(e,"g"),"").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"");t.className=e},_HTML.AddClass=function(t,e){_HTML.RemoveClass(t,e);e=[String(t.className),e].join(" ");t.className=e},goog.provide("UHT.Runtime"),Runtime.prototype.addNewSceneRoot=function(t){this.sceneRoots.push(t),t.internalUpdateActive(!0,!1)},Runtime.prototype.doFrame=function(){for(var t=0;t<10;t++)this.CallOnGameObjectList(this.updateList[t],"Update","internalUpdateIdx");this.UpdateAnimations(),this.CallOnGameObjectList(this.lateUpdateList,"LateUpdate","internalLateUpdateIdx"),this.CallOnGameObjectList(this.onWillRenderList,"OnWillRenderObject","internalOnWillRenderIdx")},Runtime.prototype.RegisterAnimation=function(t){var e=new AnimListNode(t);(t._runtime_cache=e).next=this.animComponentList,null!=this.animComponentList&&(this.animComponentList.prev=e),this.animComponentList=e},Runtime.prototype.UnregisterAnimation=function(t){var e=t._runtime_cache,i=e.prev,e=e.next;null==i?this.animComponentList=e:i.next=e,null!=e&&(e.prev=i),t._runtime_cache=null},Runtime.prototype.UpdateAnimations=function(){for(var t=this.animComponentList;null!=t;)t.data.UpdateAnimation(),t=t.next},Runtime.prototype.CallOnGameObjectList=function(t,e,i){this.DefragmentList(t,i);for(var n=t.components,o=n.length,s=0;s<o;s++){var r=n[s];null!=r&&r[e]()}},Runtime.prototype.DefragmentList=function(t,e){if(t.activeItems<.75*t.components.length){var i=t.components;t.components=[];for(var n=0;n<i.length;n++)null!=i[n]&&(i[n][e]=t.components.length,t.components.push(i[n]));t.availableIndices=[]}},Runtime.prototype.InternalAddToList=function(t,e,i){null!=t[i]&&console.log("Bataie si mai mare de joc!");var n=-1;0<e.availableIndices.length?(n=e.availableIndices.pop(),e.components[n]=t):(n=e.components.length,e.components.push(t)),t[i]=n,e.activeItems++},Runtime.prototype.InternalRemoveFromList=function(t,e,i){var n=t[i];null==n&&console.log("Bataie de joc!"),e.components[n]=null,e.availableIndices.push(n),delete t[i],e.activeItems--},Runtime.prototype.AddToUpdateList=function(t){var e=t.scriptUpdatePriority;9<e&&console.log("Bad script priority "+e),this.InternalAddToList(t,this.updateList[e],"internalUpdateIdx")},Runtime.prototype.AddToLateUpdateList=function(t){this.InternalAddToList(t,this.lateUpdateList,"internalLateUpdateIdx")},Runtime.prototype.AddToOnWillRenderList=function(t){this.InternalAddToList(t,this.onWillRenderList,"internalOnWillRenderIdx")},Runtime.prototype.RemoveFromUpdateList=function(t){var e=t.scriptUpdatePriority;this.InternalRemoveFromList(t,this.updateList[e],"internalUpdateIdx")},Runtime.prototype.RemoveFromLateUpdateList=function(t){this.InternalRemoveFromList(t,this.lateUpdateList,"internalLateUpdateIdx")},Runtime.prototype.RemoveFromOnWillRenderList=function(t){this.InternalRemoveFromList(t,this.onWillRenderList,"internalOnWillRenderIdx")},goog.provide("UHT.UHTScreen");var UHTScreen={width:-1,height:-1};function Tracking(){this.trackedTimers={},this.QueuedTimers=[],this.QueuedEvents=[],this.PauseTime=0}goog.provide("UHT.Tracking"),Tracking.prototype.PauseTimers=function(){this.PauseTime=(new Date).getTime()},Tracking.prototype.ResumeTimers=function(){if(0!=this.PauseTime){var t,e=(new Date).getTime()-this.PauseTime;for(t in this.trackedTimers)this.trackedTimers[t]+=e}},Tracking.prototype._internalUseStartTime=function(t,e,i,n){this.trackedTimers[n+"____"+t+"____"+e]=i},Tracking.prototype.StartTimer=function(t,e,i){this.trackedTimers[i+"____"+t+"____"+e]=(new Date).getTime()},Tracking.prototype.StopTimerAndSend=function(t,e,i){var n=this.GetTimerValue(t,e,i);0<n&&n<36e5&&globalTracking.QueuedTimers.push({category:t,variable:e,time:n,type:i})},Tracking.prototype.GetTimerValue=function(t,e,i){return void 0===this.trackedTimers[i+"____"+t+"____"+e]?(console.log("[Tracking] Tried to stop timer "+i+"____"+t+"____"+e+" before starting it"),0):(new Date).getTime()-this.trackedTimers[i+"____"+t+"____"+e]},Tracking.prototype.SendEvent=function(t,e,i,n){globalTracking.QueuedEvents.push({category:t,action:e,value:i,type:n})},Tracking.prototype.SendTimer=function(t,e,i,n){globalTracking.QueuedTimers.push({category:t,variable:e,time:i,type:n})};var globalTracking=new Tracking,SendTrackingIfQueued=function t(){var e;0<globalTracking.QueuedTimers.length&&(e=globalTracking.QueuedTimers[0],globalTracking.QueuedTimers.splice(0,1),ga(e.type+".send","timing",e.category,e.variable,e.time,ServerOptions.gameSymbol),UHT_LOCAL&&console.log("GA (timer): C["+e.type+"."+e.category+"] V["+e.variable+"] T["+e.time/1e3+"s] - "+ServerOptions.gameSymbol)),0<globalTracking.QueuedEvents.length&&(e=globalTracking.QueuedEvents[0],globalTracking.QueuedEvents.splice(0,1),ga(e.type+".send","event",e.category,e.action,ServerOptions.gameSymbol,e.value),UHT_LOCAL&&console.log("GA          (event): C["+e.type+"."+e.category+"] A["+e.action+"] V["+e.value+"] - "+ServerOptions.gameSymbol)),setTimeout(t,1250)};SendTrackingIfQueued(),goog.provide("UHT.UHTEngine");var UHTEngine={StartDownloadingMainGame:function(t,e,i){downloadMainGame(t,e,i)},StartImportingMainGame:function(){importMainGame()},HideLoader:function(){loaderController[loaderCallbackHide]()},SignalLoaderIsHidden:function(){loaderIsVisible=!1},LoadAssetBundle:function(t,e){if(globalImporter.state!=Importer.State.Idle)return console.error("Importer not ready!"),null;globalImporter.StartImport(0,t);e=globalImporter.Advance(t,e);return globalImporter.clear(),e.objects[0]},StartLoadingSounds:function(){SoundLoader.LoadSounds()},SoundsAreLoaded:function(){return SoundLoader.soundsAreLoaded},SoundsAreLoading:function(){return!SoundLoader.soundsAreLoaded&&SoundLoader.soundsAreBeingLoaded},WaitingForSounds:function(){return!1},IsFullscreen:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return IsFullscreen()}),RequestFullscreen:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return RequestFullscreen()}),ExitFullscreen:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return ExitFullscreen()}),CheckUserAgent:function(t,e,i){var n=window.SystemMessageManager||null;null!=n?n.CheckUserAgent(t,e,i):setTimeout(function(){UHTEngine.CheckUserAgent(t,e,i)},200)},HideFirstLoader:function(){document.getElementById("wheelofpatience").style.display="none"},RegisterUserInteraction:function(){null!=(window.SystemMessageManager||null)&&window.SystemMessageManager.UserInteraction(),UHTInterfaceBOSS.UserInteraction()},SetBatterySaverState:function(t){batterySaverIsOff=!t},SignalCanStartPrefetchingUnusedAtlasses:function(){timerToStartPrefetching=5}},UHTInterfaceBOSS={};UHTInterfaceBOSS.enabled=UHT_GAME_CONFIG.extend_events,UHTInterfaceBOSS.currentRoundID="0",UHTInterfaceBOSS.listener=window[UHT_GAME_CONFIG_SRC.extend_events_listener]||null,UHTInterfaceBOSS.inGameRound=!1,UHTInterfaceBOSS.PostMessage=function(t){var e,i;"gameRoundEnded"==t&&(GameConnection.I.requestState==RequestState.Collect||null!=GameConnection.I.srvResponse.NextGameActions&&-1<GameConnection.I.srvResponse.NextGameActions.indexOf(NextGameAction.Collect))?GameConnection.I.mustPostGameRoundEndedOnCollect=!0:"resultShown"==t&&UHTInterfaceBOSS.inGameRound||(e={},UHTInterfaceBOSS.enabled&&window.top!=window&&(e.sender=URLGameSymbol,e.lang=UHT_GAME_CONFIG.LANGUAGE.toUpperCase(),e.success=!0,/gameLoading/.test(t)||"post_updateBalance"==t||(i=XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived),e.winAmount=XT.GetDouble(Vars.SpinCycleWinReceived),e.balanceAfter=i,e.betAmount=CoinManager.GetNextTotalBet(),e.balanceBefore=i,e.amount=i),"gameRoundStarted"==t&&(e.name="gameRoundStart",UHTInterfaceBOSS.PostMessageRec(window.parent,e),UHTInterfaceBOSS.inGameRound=!0),e.name=t,UHTInterfaceBOSS.PostMessageRec(window.parent,e),"gameRoundEnded"==t&&(UHTInterfaceBOSS.inGameRound=!1,0==XT.GetDouble(Vars.SpinCycleWinReceived)&&(e.name="resultShown",UHTInterfaceBOSS.PostMessageRec(window.parent,e)),e.name="balanceChanged",UHTInterfaceBOSS.PostMessageRec(window.parent,e))),UHTInterfaceBOSS.enabled&&window.top!=window&&("gameLoadingStarted"==t&&(e.event="loaded",UHTInterfaceBOSS.PostMessageRec(window.parent,e)),"gameRoundEnded"!=t&&"post_updateBalance"!=t||(e.event="updateBalance",e.params={total:{currency:ServerOptions.currency,amount:100*(XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived))+.5|0}},UHTInterfaceBOSS.PostMessageRec(window.parent,e))))},UHTInterfaceBOSS.PostMessageRec=function(t,e){null==UHTInterfaceBOSS.listener?(t.postMessage(e,"*"),t!=window.top&&UHTInterfaceBOSS.PostMessageRec(t.parent,e)):UHTInterfaceBOSS.listener.postMessage(e,"*")},UHTInterfaceBOSS.ReceiveMessage=function(t){UHTInterfaceBOSS.enabled&&("updateBalance"==t.data&&EventManager.Trigger(BalanceEvents.evtUpdateBalanceForced,null),"refreshBalance"==t.data.event&&EventManager.Trigger(BalanceEvents.evtUpdateBalanceForced,null),"setVolume"==t.data.event&&null!=t.data.params&&(1==t.data.params.muted?(XT.GetObject(Vars.SoundState).gameSoundIsOn&&XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn),SoundManager.forcedMute=!0):(SoundManager.forcedMute=!1,XT.GetObject(Vars.SoundState).gameSoundIsOn||XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn))),"game.resize"==t.data.action&&(window.innerWidth=parseInt(t.data.actionData.width,10),window.innerHeight=parseInt(t.data.actionData.height,10)))},UHTInterfaceBOSS.HandleGameHistory=function(){return!1},UHTInterfaceBOSS.UserInteraction=function(){},UHTInterfaceBOSS.Init=function(){window.addEventListener("message",UHTInterfaceBOSS.ReceiveMessage,!1)},UHTInterfaceBOSS.Init(),goog.provide("UHTMath");var UHTMath={PI:3.1415926,numberError:1e-6,angularError:1};function Particle(){this.parent=null,this._angularVelocity=null,this._angularVelocityBySpeed=null,this.startColor=new GradientColor,this._color=null,this._colorBySpeed=null,this._lifetime=-1,this.position=new UHTMath.Vector3,this.randomSeed=0,this.startSize=1,this._size=null,this._sizeBySpeed=null,this.startLifetime=-1,this.rotation=0,this.startSpeed=0,this.speed=new UHTMath.Vector3,this._velocity=new UHTMath.Vector3,this._velocityX=null,this._velocityY=null,this._velocityZ=null,this._forceX=null,this._forceY=null,this._forceZ=null,this.velocityDirection=new UHTMath.Vector3(0,1,0),this.isOld=!1,this.clampVelocity=null,this.sprite}function ParticleSystemExtraData(){Component.call(this),this.SubEmitterBirth0=null,this.SubEmitterBirth1=null,this.SubEmitterCollision0=null,this.SubEmitterCollision1=null,this.SubEmitterDeath0=null,this.SubEmitterDeath1=null}UHTMath.toDeg=function(t){return 180*t/UHTMath.PI},UHTMath.toRad=function(t){return t/180*UHTMath.PI},UHTMath.clamp=function(t,e,i){return Math.min(Math.max(t,e),i)},UHTMath.lerp=function(t,e,i){return t+(e-t)*UHTMath.clamp(i,0,1)},UHTMath.inverseLerp=function(t,e,i){if(t===e)return 0;UHTMath.clamp(i,t,e);return(i-t)/(e-t)},UHTMath.lerpUnclamped=function(t,e,i){return t+(e-t)*i},goog.provide("UHTMath.Vector3"),UHTMath.Vector3=function(t,e,i){this.set(t,e,i)},UHTMath.Vector3.prototype={constructor:UHTMath.Vector3,set:function(t,e,i){if(void 0===t)i=e=t=0;else if(void 0===e){if(void 0===t.x)return;e=t.y,i=t.z,t=t.x}this.x=t,this.y=e,this.z=i},equals:function(t,e,i){i=new UHTMath.Vector3(t,e,i);return Math.abs(this.x-i.x)<UHTMath.numberError&&Math.abs(this.y-i.y)<UHTMath.numberError&&Math.abs(this.z-i.z)<UHTMath.numberError},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},sqrMagnitude:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){var t=this.magnitude();t<UHTMath.numberError?this.set(0,0,0):this.set(this.x*(t=1/t),this.y*t,this.z*t)},normalized:function(){var t=this.magnitude(),e=new UHTMath.Vector3;return 0!==t&&(e.x=this.x*(t=1/t),e.y=this.y*t,e.z=this.z*t),e},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},toString:function(){return JSON.stringify(this)}},UHTMath.Vector3.dot=function(t,e){return void 0===e||void 0===t?0:t.x*e.x+t.y*e.y+t.z*e.z},UHTMath.Vector3.angle=function(t,e){e=UHTMath.Vector3.dot(t.normalized(),e.normalized()),e=UHTMath.clamp(e,-1,1);return UHTMath.toDeg(Math.acos(e))},UHTMath.Vector3.cross=function(t,e){return new UHTMath.Vector3(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x)},UHTMath.Vector3.distance=function(t,e){return new UHTMath.Vector3(t.x-e.x,t.y-e.y,t.z-e.z).magnitude()},UHTMath.Vector3.lerp=function(t,e,i){i=UHTMath.clamp(i,0,1);return new UHTMath.Vector3(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i,t.z+(e.z-t.z)*i)},UHTMath.Vector3.nlerp=function(t,e,i){i=UHTMath.clamp(i,0,1),i=UHTMath.Vector3.lerp(t,e,i);return i.normalize(),i},UHTMath.Vector3.slerp=function(t,e,i){var n=t.magnitude(),o=e.magnitude(),t=0<Math.abs(n)?UHTMath.Vector3.scale(t,1/n):UHTMath.Vector3.up,e=0<Math.abs(o)?UHTMath.Vector3.scale(e,1/o):UHTMath.Vector3.up,i=UHTMath.clamp(i,0,1),e=UHTMath.Quaternion.fromToRotation(t,e),e=UHTMath.Quaternion.slerp(UHTMath.Quaternion.identity,e,i),t=UHTMath.Quaternion.multiplyVec(e,t),i=UHTMath.lerp(n,o,i);return UHTMath.Vector3.scale(t,i)},UHTMath.Vector3.min=function(t,e){return new UHTMath.Vector3(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.min(t.z,e.z))},UHTMath.Vector3.max=function(t,e){return new UHTMath.Vector3(Math.max(t.x,e.x),Math.max(t.y,e.y),Math.max(t.z,e.z))},UHTMath.Vector3.moveTowards=function(t,e,i){var n=new UHTMath.Vector3(e.x-t.x,e.y-t.y,e.z-t.z).magnitude();if(n<UHTMath.numberError)return e;n=Math.min(i,n)/n;return UHTMath.Vector3.lerp(t,e,n)},UHTMath.Vector3.orthoNormalize=function(t,e,i){t.normalize(),i.set(UHTMath.Vector3.cross(t,e)),i.normalize(),e.set(UHTMath.Vector3.cross(i,t)),e.normalize()},UHTMath.Vector3.scale=function(t,e){var i,n,e=void 0===e.x?n=i=e:(i=e.x,n=e.y,e.z);return new UHTMath.Vector3(t.x*i,t.y*n,t.z*e)},UHTMath.Vector3.add=function(t,e){return new UHTMath.Vector3(t.x+e.x,t.y+e.y,t.z+e.z)},UHTMath.Vector3.sub=function(t,e){return new UHTMath.Vector3(t.x-e.x,t.y-e.y,t.z-e.z)},UHTMath.Vector3.equal=function(t,e){return null==t?null==e:null==e?null==t:Math.abs(t.x-e.x)<UHTMath.numberError&&Math.abs(t.y-e.y)<UHTMath.numberError&&Math.abs(t.z-e.z)<UHTMath.numberError},UHTMath.Vector3.back=new UHTMath.Vector3(0,0,-1),UHTMath.Vector3.down=new UHTMath.Vector3(0,-1,0),UHTMath.Vector3.forward=new UHTMath.Vector3(0,0,1),UHTMath.Vector3.left=new UHTMath.Vector3(-1,0,0),UHTMath.Vector3.one=new UHTMath.Vector3(1,1,1),UHTMath.Vector3.right=new UHTMath.Vector3(1,0,0),UHTMath.Vector3.up=new UHTMath.Vector3(0,1,0),UHTMath.Vector3.zero=new UHTMath.Vector3(0,0,0),goog.require("UHTMath.Vector3"),goog.require("UHT.Component"),goog.require("UHT.ParticleSystemEvaluator"),goog.require("UHT.ParticleSystemEvaluatorBySpeed"),goog.require("UHT.ParticleSystemEvaluatorColor"),goog.require("UHT.ClampVelocityModule"),Particle.prototype.velocityX=0,Particle.prototype.velocityY=0,Particle.prototype.velocityZ=0,Particle.prototype.forceX=0,Particle.prototype.forceY=0,Particle.prototype.forceZ=0,Particle.prototype.angularVelocity=0,Particle.prototype.angularVelocityBySpeed=0,Particle.prototype.sizeBySpeed=0,Object.defineProperties(Particle.prototype,{lifetime:{set:function(t){var e=!1;t<=0&&0<this._lifetime&&(e=!0),this._lifetime=t,e&&(this.parent.particleCount--,this.parent.killParticle(this))},get:function(){return this._lifetime}},color:{set:function(t){null===this._color&&(this._color=new ParticleSystemEvaluatorColor),this._color.deserialize(t)},get:function(){if(null===this._color)return new GradientColor;var t=this.lifetime/this.startLifetime,t=this._color.Evaluate(1-t);return t.r/=255,t.g/=255,t.b/=255,t.a/=255,t}},colorBySpeed:{set:function(t){null===this._colorBySpeed&&(this._colorBySpeed=new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluatorColor)),this._colorBySpeed.deserialize(t)},get:function(t){if(null===this._colorBySpeed)return new GradientColor;var e=this._colorBySpeed.Evaluate(this.speed.magnitude());return e.r/=255,e.g/=255,e.b/=255,e.a/=255,e}},isDead:{set:function(t){t?this.lifetime=0:this.lifetime<=0&&(this.lifetime=this.startLifetime)},get:function(){return this.lifetime<=0}},velocityX:{set:function(t){this._velocityX=t},get:function(){var t=this.lifetime/this.startLifetime;return this._velocityX.Evaluate(1-t)}},velocityY:{set:function(t){this._velocityY=t},get:function(){var t=this.lifetime/this.startLifetime;return this._velocityY.Evaluate(1-t)}},velocityZ:{set:function(t){this._velocityZ=t},get:function(){var t=this.lifetime/this.startLifetime;return this._velocityZ.Evaluate(1-t)}},forceX:{set:function(t){this._forceX=t},get:function(){var t=this.lifetime/this.startLifetime;return this._forceX.Evaluate(1-t)}},forceY:{set:function(t){this._forceY=t},get:function(){var t=this.lifetime/this.startLifetime;return this._forceY.Evaluate(1-t)}},forceZ:{set:function(t){this._forceZ=t},get:function(){var t=this.lifetime/this.startLifetime;return this._forceZ.Evaluate(1-t)}},size:{set:function(t){null===this._size&&(this._size=new ParticleSystemEvaluator),t instanceof Number?(this._size.minMaxState=0,this._size.scalar=t):this._size.deserialize(t)},get:function(){return this._size.Evaluate(1-this.lifetime/this.startLifetime)}},sizeBySpeed:{set:function(t){null===this._sizeBySpeed&&(this._sizeBySpeed=new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)),t instanceof Number?(this._sizeBySpeed.minMaxState=0,this._sizeBySpeed.scalar=t):this._sizeBySpeed.deserialize(t)},get:function(){return null===this._sizeBySpeed?1:this._sizeBySpeed.Evaluate(this.speed.magnitude())}},angularVelocityBySpeed:{set:function(t){null===this._angularVelocityBySpeed&&(this._angularVelocityBySpeed=new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)),t instanceof Number?(this._angularVelocityBySpeed.minMaxState=0,this._angularVelocityBySpeed.scalar=t):this._angularVelocityBySpeed.deserialize(t)},get:function(t){return null===this._angularVelocityBySpeed?0:this._angularVelocityBySpeed.Evaluate(this.speed.magnitude())}},angularVelocity:{set:function(t){t instanceof ParticleSystemEvaluator?this._angularVelocity=t:t instanceof Number?(this._angularVelocity.minMaxState=0,this._angularVelocity.scalar=t):this._angularVelocity.deserialize(t)},get:function(t){if(null===this._angularVelocity)return 0;var e=this.lifetime/this.startLifetime;return this._angularVelocity.Evaluate(1-e)}}}),Particle.prototype.Spawn=function(){this.lifetime=this.startLifetime,this.isDead=!1,this._velocity.set(0,0,0),this.speed.set(0,0,0)},Particle.prototype.Update=function(t){var e,i,n=Particle.velocity,o=Particle.force,s=this.parent.ParticleSystemComponent,r=this.parent.gameObject.transform;this.lifetime-=t,this.lifetime<0||(e=this.parent.gravityModifier,this._velocity.y-=e*t,null!==this._velocityX?n.set(this.velocityX,this.velocityY,this.velocityZ):n.set(0,0,0),"True"===s.VelocityModule.enabled&&"True"!==s.VelocityModule.inWorldSpace&&n.set(r.transformDirection(n)),null!==this._forceX?o.set(this.forceX,this.forceY,this.forceZ):o.set(0,0,0),"True"===s.ForceModule.enabled&&"True"!==s.ForceModule.inWorldSpace&&o.set(r.transformDirection(o)),this.speed.set(this._velocity.x+n.x+o.x,this._velocity.y+n.y+o.y,this._velocity.z+n.z+o.z),null!=this.clampVelocity&&(i=1-this.lifetime/this.startLifetime,i=UHTMath.Vector3.scale(this.clampVelocity.Evaluate(i,this.speed),1),this.speed.set(i)),i=UHTMath.Vector3.scale(this.speed,t*this.parent.goodScale),this.position.add(i),this.rotation+=(this.angularVelocityBySpeed+this.angularVelocity)*t)},Particle.prototype.setupSpritePosition=function(t){var e=this.sprite,i=this.startColor,n=this.color,o=this.colorBySpeed,s=Particle.gradientColor;s.r=i.r*n.r*o.r,s.g=i.g*n.g*o.g,s.b=i.b*n.b*o.b,s.a=i.a*n.a*o.a,e.tint=s.toRGBHex(),e.alpha=s.a/255,e.x=this.position.x,e.y=-this.position.y,e.width=this.size*this.sizeBySpeed*this.startSize*this.parent.goodScale,e.height=e.width,e.rotation=this.rotation},Particle.velocity=new UHTMath.Vector3,Particle.force=new UHTMath.Vector3,Particle.gradientColor=new GradientColor,goog.provide("UHT.ParticleSystemExtraData"),goog.require("UHT.Component"),goog.require("UHTMath.Vector3"),ParticleSystemExtraData.prototype=Object.create(Component.prototype),(ParticleSystemExtraData.prototype.constructor=ParticleSystemExtraData).prototype.deserialize=function(t,e,i){deserializeComponentRec(t,this,e,i)},ParticleSystemExtraData.prototype.Awake=function(){null!=this.SubEmitterBirth0&&(this.SubEmitterBirth0.playOnAwake=!1,this.SubEmitterBirth0.emissionRate=0),null!=this.SubEmitterBirth1&&(this.SubEmitterBirth1.playOnAwake=!1,this.SubEmitterBirth1.emissionRate=0),null!=this.SubEmitterCollision0&&(this.SubEmitterCollision0.playOnAwake=!1,this.SubEmitterCollision0.emissionRate=0),null!=this.SubEmitterCollision1&&(this.SubEmitterCollision1.playOnAwake=!1,this.SubEmitterCollision1.emissionRate=0),null!=this.SubEmitterDeath0&&(this.SubEmitterDeath0.playOnAwake=!1,this.SubEmitterDeath0.emissionRate=0),null!=this.SubEmitterDeath1&&(this.SubEmitterDeath1.playOnAwake=!1,this.SubEmitterDeath1.emissionRate=0)},goog.require("UHT.Component"),goog.require("UHT.ParticleSystemEvaluator"),goog.require("UHT.ParticleSystemEvaluatorBySpeed"),goog.require("UHT.ParticleSystemEvaluatorColor"),goog.require("UHT.ParticleSystemShape"),goog.require("UHT.ParticleSystemShapeBox"),goog.require("UHT.ParticleSystemShapeCone"),goog.require("UHT.ParticleSystemShapeSphere"),goog.require("UHT.ParticleSystemShapeType"),goog.require("UHT.ParticleSystemExtraData"),goog.require("UHT.ClampVelocityModule");var ParticleSystemSimulationSpace={Local:0,World:1},ParticleSystemState={isStopped:0,isPaused:1,isPlaying:2};function ParticleSystem(){Component.call(this),this.depth=1e4,this.goodScale=1,this._emissionRate=new ParticleSystemEvaluator,this._enableEmission=!0,this._gravityModifier=0,this._loop=!1,this._maxParticles=new ParticleSystemEvaluator,this._playbackSpeed=new ParticleSystemEvaluator,this._playOnAwake=new ParticleSystemEvaluator,this._randomSeed=new ParticleSystemEvaluator,this._simulationSpace=new ParticleSystemEvaluator,this._startColor=new ParticleSystemEvaluatorColor,this._startDelay=0,this._startLifetime=new ParticleSystemEvaluator,this._startRotation=new ParticleSystemEvaluator,this._startSize=new ParticleSystemEvaluator,this._startSpeed=new ParticleSystemEvaluator,this.duration=0,this._prewarm=!1,this._shape=null,this.bursts=[],this.particles=[],this.particleCount=0,this._state=ParticleSystemState.isStopped,this.time=0,this._deadParticles=[],this._lest=0,this.texturica=null,this.subEmitors=null,this.textureContent,this.ParticleSystemComponent,this.fastContainer=!0,this.epm=[]}ParticleSystem.prototype=Object.create(Component.prototype),(ParticleSystem.prototype.constructor=ParticleSystem).prototype.startColor=null,Object.defineProperties(ParticleSystem.prototype,{emissionRate:{set:function(t){"number"==typeof t?(this._emissionRate.minMaxState=0,this._emissionRate.scalar=t):this._emissionRate=t},get:function(){return this._emissionRate.Evaluate((this.time-this.startDelay)/this.duration)}},enableEmission:{set:function(t){this._enableEmission=t},get:function(){return this._enableEmission}},gravityModifier:{set:function(t){this._gravityModifier=t},get:function(){return this._gravityModifier}},state:{set:function(t){this._state=t},get:function(){return this._state}},loop:{set:function(t){this._loop=t},get:function(){return this._loop}},maxParticles:{set:function(t){this._maxParticles=t},get:function(){return this._maxParticles.Evaluate((this.time-this.startDelay)/this.duration)}},playbackSpeed:{set:function(t){this._playbackSpeed=t},get:function(){return this._playbackSpeed.Evaluate((this.time-this.startDelay)/this.duration)}},playOnAwake:{set:function(t){"boolean"==typeof t?(this._playOnAwake.scalar=t?1:0,this._playOnAwake.minMaxState=0):this._playOnAwake=t},get:function(){return this._playOnAwake.Evaluate((this.time-this.startDelay)/this.duration)}},randomSeed:{set:function(t){this._randomSeed=t},get:function(){return this._randomSeed.Evaluate((this.time-this.startDelay)/this.duration)}},simulationSpace:{set:function(t){this._simulationSpace=t},get:function(){return this._simulationSpace.Evaluate((this.time-this.startDelay)/this.duration)}},startColor:{set:function(t){this._startColor=t},get:function(){return this._startColor.Evaluate((this.time-this.startDelay)/this.duration)}},startDelay:{set:function(t){this._startDelay=t},get:function(){return this._startDelay}},startLifetime:{set:function(t){this._startLifetime=t},get:function(){return this._startLifetime.Evaluate((this.time-this.startDelay)/this.duration)}},startRotation:{set:function(t){this._startRotation=t},get:function(){return this._startRotation.Evaluate((this.time-this.startDelay)/this.duration)}},startSize:{set:function(t){this._startSize=t},get:function(){return this._startSize.Evaluate((this.time-this.startDelay)/this.duration)}},startSpeed:{set:function(t){this._startSpeed=t},get:function(){return this._startSpeed.Evaluate((this.time-this.startDelay)/this.duration)}},prewarm:{set:function(t){this._prewarm=t},get:function(){return this._prewarm}}}),ParticleSystem.prototype.deserialize=function(t,e,i){deserializeComponentRec(t,this,e,i),this.fromSource(t,e,i)},ParticleSystem.prototype.copyFromSource=function(t,e,i){copyComponentHelper(t,this,e,i),this.fromSource(t,e,i)},ParticleSystem.prototype.fromSource=function(t,e,i){null!==this.textureContent&&(this.texturica=PIXI.Texture.fromImage(this.textureContent,void 0,void 0,!0),this.textureContent={src:""}),this.blendMode=t.blendMode;var n=t.ParticleSystemComponent.EmissionModule;this._burstCnt=n.m_BurstCount;for(var o=this._burstCnt;o--;){var s="time"+o.toString(),r="cnt"+o.toString();this.bursts.push({time:Number(n[s]),cnt:Number(n[r]),emited:!1})}this._startColor=new ParticleSystemEvaluatorColor,this._startColor.deserialize(t.ParticleSystemComponent.InitialModule.startColor),this._enableEmission=this.valueFromString(n.enabled),this.gravityModifier=9.81*this.valueFromString(t.ParticleSystemComponent.InitialModule.gravityModifier)||0,this.prewarm=this.valueFromString(t.ParticleSystemComponent.prewarm)||!1,this.startDelay=this.valueFromString(t.ParticleSystemComponent.startDelay)||0,this.duration=this.valueFromString(t.ParticleSystemComponent.lengthInSec)||0,this.loop=this.valueFromString(t.ParticleSystemComponent.looping)||0,this.emissionRate=this.CreateParticleSystemComponent(t.ParticleSystemComponent.EmissionModule.rate||0),this.playOnAwake=this.CreateParticleSystemComponent(t.ParticleSystemComponent.playOnAwake||0),this.startLifetime=this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startLifetime||0),this.startRotation=this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startRotation||0),this.startSize=this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startSize||0),this.startSpeed=this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startSpeed||0),this.maxParticles=this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.maxNumParticles||0),this.InitializeEmissionShape(t.ParticleSystemComponent.ShapeModule),void 0!==this.ParticleSystemComponent.ColorModule.enabled&&"False"!==this.ParticleSystemComponent.ColorModule.enabled||(this.fastContainer=!1),Renderer.IsWebGL||(this.fastContainer=!1)},ParticleSystem.prototype.InitializeEmissionShape=function(t){if(void 0!==t)if(void 0!==t.enabled&&"False"!==t.enabled)switch(Number(t.type)){case ParticleSystemShapeType.box:this._shape=new ParticleSystemShapeBox,this._shape.deserialize(t);break;case ParticleSystemShapeType.cone:case ParticleSystemShapeType.coneBaseShell:this._shape=new ParticleSystemShapeCone,this._shape.deserialize(t);break;case ParticleSystemShapeType.sphere:case ParticleSystemShapeType.sphereShell:this._shape=new ParticleSystemShapeSphere,this._shape.deserialize(t);break;default:this._shape=new ParticleSystemShape}else this._shape=new ParticleSystemShape;else this._shape=new ParticleSystemShape},ParticleSystem.prototype.valueFromString=function(t){var e=Number(t);return 0==isNaN(e)?e:"True"===t},ParticleSystem.prototype.CreateParticleSystemComponent=function(t){var e=new ParticleSystemEvaluator;return void 0!==t.minMaxState?e.deserialize(t):(e.minMaxState=0,e.scalar=this.valueFromString(t)),e},ParticleSystem.prototype.OnEnable=function(){if(this.playOnAwake&&(this.time=0,this.Clear(!1),this.resetBursts()),this.subEmitors=this.gameObject.GetComponent("ParticleSystemExtraData"),this.playOnAwake&&this.Play(),this.prewarm)for(var t=0;t<this.duration;)this.internalUpdate(1/15),t+=1/15},ParticleSystem.prototype.Start=function(){},ParticleSystem.prototype.Awake=function(){this.epm=this.gameObject.GetComponents(ExtraParticleModule);for(var t=0;t<this.epm.length;t++)this.epm[t].SupportsFastParticleContainer()||(this.fastContainer=!1);this.fastContainer?(this.pixiZOrderedContainer=new PIXI.ParticleContainer(500,{scale:!0,position:!0,rotation:!0,uvs:!1,alpha:!0},500),this.pixiZOrderedContainer.blendMode=this.blendMode):this.pixiZOrderedContainer=new PIXI.Container},ParticleSystem.prototype.OnDisable=function(){},ParticleSystem.prototype.Play=function(t){this.state=ParticleSystemState.isPlaying,void 0!==t&&!1!==t&&this.callOnChildren("Play")},ParticleSystem.prototype.callOnChildren=function(t){for(var e=this.gameObject.GetComponentsInChildren(ParticleSystem,!0),i=e.length;i--;)e[i][t](!1)},ParticleSystem.prototype.Stop=function(t){this.state=ParticleSystemState.isStopped,void(this.time=0)!==t&&!1!==t&&this.callOnChildren("Stop")},ParticleSystem.prototype.Pause=function(t){this.state=ParticleSystemState.isPaused,void 0!==t&&!1!==t&&this.callOnChildren("Pause")},ParticleSystem.prototype.isPaused=function(){return this.state===ParticleSystemState.isPaused},ParticleSystem.prototype.isPlaying=function(){return this.state===ParticleSystemState.isPlaying},ParticleSystem.prototype.isStopped=function(){return this.state===ParticleSystemState.isStopped},ParticleSystem.prototype.spawnNewParticles=function(t){var e=this.emissionRate*t+this._lest,i=Math.floor(e);this._lest=e-i;for(var n=this._burstCnt;n--;){var o=this.bursts[n];if(!1===o.emited&&o.time>=this.time-this.startDelay-t&&o.time<=this.time-this.startDelay+t){o.emited=!0,i+=o.cnt;break}}this.Emit(Math.min(i,Math.max(0,this.maxParticles-Math.max(0,this.particleCount))))},ParticleSystem.prototype.Update=function(){},ParticleSystem.prototype.OnWillRenderObject=function(){var t;null!==this.texturica&&(t=Time.deltaTime,this.state===ParticleSystemState.isPlaying&&(this.time<this.startDelay&&!this.prewarm||this.time-this.startDelay>this.duration&&!this.loop||(this.time-this.startDelay>this.duration&&(this.time-=this.duration+this.startDelay,this.resetBursts()),this.internalUpdate(t))))},ParticleSystem.prototype.resetBursts=function(){for(var t=this._burstCnt;t--;)this.bursts[t].emited=!1},ParticleSystem.prototype.killParticle=function(t){t instanceof Particle&&(t.isDead=!0,this.pixiZOrderedContainer.removeChild(t.sprite),this._deadParticles.push(t),null!=this.subEmitors&&(null!=this.subEmitors.SubEmitterDeath0&&(this.subEmitors.SubEmitterDeath0.Play(!1),this.subEmitors.SubEmitterDeath0.time=0,this.subEmitors.SubEmitterDeath0.resetBursts()),null!=this.subEmitors.SubEmitterDeath1&&(this.subEmitors.SubEmitterDeath1.Play(!1),this.subEmitors.SubEmitterDeath1.time=0,this.subEmitors.SubEmitterDeath1.resetBursts())))},ParticleSystem.prototype.internalUpdate=function(t){this.time+=t,this.spawnNewParticles(t);var e=this.particles.length,i=Math.min(UHTScreen.width/UHTScreen.height,1.44544);for(this.goodScale=i/1.44544,this.pixiZOrderedContainer.scale.x=1,this.pixiZOrderedContainer.scale.y=1,"True"===this.ParticleSystemComponent.moveWithTransform&&(this.pixiZOrderedContainer.position.x=this.gameObject.transform.position().x,this.pixiZOrderedContainer.position.y=-this.gameObject.transform.position().y),this.particleCount=0;e--;){var n=this.particles[e];if(!n.isDead){if(this.particleCount++,n.Update(t),!n.isDead)for(var o=0;o<this.epm.length;o++)this.epm[o].OnUpdateParticle(n);if(n.setupSpritePosition(this.gameObject),null!=this.subEmitors)for(var s,r=["SubEmitterBirth0","SubEmitterBirth1","SubEmitterCollision0","SubEmitterCollision1","SubEmitterDeath0","SubEmitterDeath1"],a=r.length;a--;)null!=this.subEmitors[r[a]]&&((s=this.subEmitors[r[a]]).gameObject.transform.position(n.position),s.Update(t))}}},ParticleSystem.prototype.GetParticles=function(){return this.particles},ParticleSystem.prototype.SetParticles=function(t,e){this.particles=t.splice(1,e)},ParticleSystem.prototype.Clear=function(t){for(var e=this.particles.length;e--;)this.particles[e].isDead||this.killParticle(this.particles[e]);void 0!==t&&!0===t&&this.GetComponentsInChildren(ParticleSystem,!0).forEach(function(t){t.Clear(!1)})},ParticleSystem.prototype.setupParticleVelocity=function(t){var e;"False"==this.ParticleSystemComponent.ShapeModule.randomDirection?(e="True"===this.ParticleSystemComponent.moveWithTransform?t.position:UHTMath.Vector3.sub(t.position,this.gameObject.transform.position()),t.velocityDirection.set(this.gameObject.transform.transformDirection(this._shape.getEmissionDirection(e)))):((e=new UHTMath.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1)).normalize(),t.velocityDirection.set(e)),t.startSpeed=this.startSpeed,t._velocity.set(UHTMath.Vector3.scale(t.velocityDirection,this.startSpeed))},ParticleSystem.prototype.generateNewParticlePosition=function(){var t=this.gameObject.transform.transformVector(this._shape.generateNewPosition());return"True"===this.ParticleSystemComponent.moveWithTransform?t:UHTMath.Vector3.add(this.gameObject.transform.position(),t)},ParticleSystem.prototype.generatePositionAndVelocityForParticle=function(t){var e=this._shape.generateNewPosition(),i=this.gameObject.transform.transformVector(e);"True"!==this.ParticleSystemComponent.moveWithTransform&&i.set(UHTMath.Vector3.add(this.gameObject.transform.position(),i)),t.position.set(i),"False"===this.ParticleSystemComponent.ShapeModule.randomDirection?t.velocityDirection.set(this.gameObject.transform.transformDirection(this._shape.getEmissionDirection(e)).normalized()):t.velocityDirection.set(this.gameObject.transform.transformDirection(this._shape.getEmissionDirection()).normalized()),t.startSpeed=this.startSpeed,t._velocity.set(UHTMath.Vector3.scale(t.velocityDirection,this.startSpeed))},ParticleSystem.prototype.Emit=function(t,e,i,n,o){var s;if(!0===this.enableEmission)if("number"==typeof t&&isFinite(t)&&Math.floor(t)===t)for(var r=t;r--;){var a=this.getNewParticle();this.Emit(a),a.lifetime=this.startLifetime,a.startLifetime=this.startLifetime,a.startSize=this.startSize,null===a._size&&(a._size=new ParticleSystemEvaluator),this.ParticleSystemComponent.SizeModule.enabled!==s?a._size.deserialize(this.ParticleSystemComponent.SizeModule.curve):(a._size.scalar=1,a._size.minMaxState=0),this.ParticleSystemComponent.SizeBySpeedModule.enabled!==s&&(null===a._sizeBySpeed&&(a._sizeBySpeed=new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)),a.sizeBySpeed=this.ParticleSystemComponent.SizeBySpeedModule),this.ParticleSystemComponent.ColorBySpeedModule.enabled!==s&&(null===a._colorBySpeed&&(a._colorBySpeed=new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluatorColor)),a.colorBySpeed=this.ParticleSystemComponent.ColorBySpeedModule),this.ParticleSystemComponent.ClampVelocityModule.enabled!==s&&(null==a.clampVelocity&&(a.clampVelocity=new ClampVelocityModule(this)),a.clampVelocity.deserialize(this.ParticleSystemComponent.ClampVelocityModule)),"True"==this.ParticleSystemComponent.ForceModule.enabled&&(null===a._forceX&&(a._forceX=new ParticleSystemEvaluator),null===a._forceY&&(a._forceY=new ParticleSystemEvaluator),null===a._forceZ&&(a._forceZ=new ParticleSystemEvaluator),a._forceX.deserialize(this.ParticleSystemComponent.ForceModule.x),a._forceY.deserialize(this.ParticleSystemComponent.ForceModule.y),a._forceZ.deserialize(this.ParticleSystemComponent.ForceModule.z)),"True"==this.ParticleSystemComponent.VelocityModule.enabled&&(null===a._velocityX&&(a._velocityX=new ParticleSystemEvaluator),null===a._velocityY&&(a._velocityY=new ParticleSystemEvaluator),null===a._velocityZ&&(a._velocityZ=new ParticleSystemEvaluator),a._velocityX.deserialize(this.ParticleSystemComponent.VelocityModule.x),a._velocityY.deserialize(this.ParticleSystemComponent.VelocityModule.y),a._velocityZ.deserialize(this.ParticleSystemComponent.VelocityModule.z)),this._startRotation.ReRandomize(),this._startSize.ReRandomize(),a.rotation=this.startRotation,null!=this.ParticleSystemComponent.RotationModule.enabled&&(null===a._angularVelocity&&(a._angularVelocity=new ParticleSystemEvaluator),a.angularVelocity=this.ParticleSystemComponent.RotationModule.curve),null!=this.ParticleSystemComponent.RotationBySpeedModule.enabled&&(null===this._angularVelocityBySpeed&&(a._angularVelocityBySpeed=new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)),a.angularVelocityBySpeed=this.ParticleSystemComponent.RotationBySpeedModule),a.startColor=this.startColor,null!=this.ParticleSystemComponent.ColorModule.enabled&&(a.color=this.ParticleSystemComponent.ColorModule.gradient),this.generatePositionAndVelocityForParticle(a)}else t instanceof Particle?((a=t).isOld||(this.particles.push(a),a.isOld=!0),this.pixiZOrderedContainer.addChild(a.sprite),a.parent=this,a.Spawn(),null!=this.subEmitors&&(null!=this.subEmitors.SubEmitterBirth0&&(this.subEmitors.SubEmitterBirth0.Play(!1),this.subEmitors.SubEmitterBirth0.time=0,this.subEmitors.SubEmitterBirth0.resetBursts()),null!=this.subEmitors.SubEmitterBirth1&&(this.subEmitors.SubEmitterBirth1.Play(!1),this.subEmitors.SubEmitterBirth1.time=0,this.subEmitors.SubEmitterBirth1.resetBursts()))):t instanceof UHTMath.Vector3&&(a=this.getNewParticle(),this.Emit(a),a.position.set(t),a._velocity.set(e),i!==s&&(a.size=i),n!==s&&(a.startLifetime=n),o!==s&&(a.color=o))},ParticleSystem.prototype.getNewParticle=function(){var t=this._deadParticles.pop();if(void 0===t){(t=new Particle).sprite=null;for(var e=0;e<this.epm.length;e++)this.epm[e].OnNewParticle(t);null==t.sprite&&(t.sprite=new PIXI.Sprite(this.texturica)),this.fastContainer||(t.sprite.blendMode=this.blendMode),t.sprite.anchor.x=.5,t.sprite.anchor.y=.5}return t},ParticleSystem.prototype.removeDuplicateParticles=function(){this.uniqueArray(this.particles),this.uniqueArray(this._deadParticles)},ParticleSystem.prototype.uniqueArray=function(t){var e={};t.filter(function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)})},goog.provide("UHT.Input"),goog.require("UHTMath"),goog.require("UHTMath.Vector3");var Input={mousePosition:new UHTMath.Vector3(0,0,0),lastUsedInputDeviceIsTouch:!0,_mousePressed:!1,_mouseStateChangedThisFrame:!1,GetMouseButton:function(t){return Input._mousePressed},GetMouseButtonDown:function(t){return Input._mousePressed&&Input._mouseStateChangedThisFrame},GetKeyDown:function(t){return KeyboardManager.IsKeyDown(t)},GetKey:function(t){return KeyboardManager.IsKey(t)}};goog.provide("UHT.ColliderInputManager"),goog.require("UHT.Input"),goog.require("UHTMath"),goog.require("UHTMath.Vector3");var ColliderEvent={ButtonDown:"ButtonDown",ButtonUp:"ButtonUp",MouseMove:"MouseMove"},MOUSE_EVENT_TYPE={DOWN:0,MOVE:1,UP:2};function QueuedMouseEvent(t,e){this.m_type=t,this.m_event=e}function ColliderInputManager(){this.pixiObject=null,this.mouseIsInScreen=!1,this.colliders=[],this.mousePosition=new UHTMath.Vector3(0,0,0),this._mousePressed=!1,this._mouseStateChanged=!1,this.handlers={},this.queuedEvents=[]}function onCIMButtonDown(t){globalColliderInputManager.queuedEvents.push(new QueuedMouseEvent(MOUSE_EVENT_TYPE.DOWN,t)),globalColliderInputManager.notifyListeners(ColliderEvent.ButtonDown,t),UHTEngine.RegisterUserInteraction()}function onCIMButtonUp(t){globalColliderInputManager.queuedEvents.push(new QueuedMouseEvent(MOUSE_EVENT_TYPE.UP,t)),globalColliderInputManager.notifyListeners(ColliderEvent.ButtonUp,t),UHTEngine.RegisterUserInteraction()}function onCIMMouseMove(t){0<globalColliderInputManager.queuedEvents.length&&globalColliderInputManager.queuedEvents[globalColliderInputManager.queuedEvents.length-1].m_type==MOUSE_EVENT_TYPE.MOVE&&globalColliderInputManager.queuedEvents.splice(globalColliderInputManager.queuedEvents.length-1,1),globalColliderInputManager.queuedEvents.push(new QueuedMouseEvent(MOUSE_EVENT_TYPE.MOVE,t)),globalColliderInputManager.notifyListeners(ColliderEvent.MouseMove,t)}function Transform(){Component.call(this),this.parent=null}function createComponent(t,e){var i=null;if(__component_ctor_just_called=!1,t instanceof Component)i=createComponent(t.__type_name_hack__,t.enabled);else{if(null==window[t])return console.warn("Unknown component type: "+t+"!"),alert("Unknown component type: "+t+"!"),null;(i=new window[t])._model=globalImporter.getSerializedFields(t),i.enabled=e,Object.getPrototypeOf(i).__type_name_hack__=t}return 0==__component_ctor_just_called&&console.error("Component ctor not called for type "+t),i}function createNestedObject(t){var e=null;if("string"!=typeof t)return t instanceof Array?[]:e=createNestedObject(t.__type_name_hack__);for(var i=t.split("."),n=window,o=0;o<i.length;o++){var s=n[i[o]];if(null==s)return console.warn("Unknown type name: "+t+"!"),null;o==i.length-1?(e=new s,Object.getPrototypeOf(e).__type_name_hack__=t):n=s}return e}function instantiate(t){return null==t?null:(new ObjectInstantiator).doIt(t)}function ObjectInstantiator(){this.sourceGOArray=[],this.newGOArray=[],this.componentNewToOldMap=[]}function copyComponentHelper(t,e,i,n){if(t instanceof Array)for(var o=0;o<t.length;o++)null==t[o]?e.push(null):isReference(t[o])?e.push(i[n](t[o])):t[o]instanceof Object?(e.push(createNestedObject(t[o])),copyComponentHelper(t[o],e[o],i,n)):e.push(t[o]);else if(t instanceof Object){var s=null;if(t instanceof Component){if(null==t._model)return void console.error("Tried to instantiate a component with an invalid serializable data!");s=Object.keys(t._model)}else s=Object.keys(t);for(var r=0;r<s.length;r++){var a=s[r];t[a];null==t[a]?e[a]=null:isReference(t[a])?e[a]=i[n](t[a]):t[a]instanceof Object?null!=t[a].__type_name_hack__||t[a]instanceof Array?(e[a]=createNestedObject(t[a]),copyComponentHelper(t[a],e[a],i,n)):e[a]=JSON.parse(JSON.stringify(t[a])):e[a]=t[a]}}}function computeActiveState(t){var e=t.activeInHierarchy;if(null==t.transform.parent?t.activeInHierarchy=t.activeSelf:t.activeInHierarchy=t.transform.parent.gameObject.activeInHierarchy&&t.activeSelf,e!=t.activeInHierarchy)for(var i=0;i<t.transform.children.length;i++)computeActiveState(t.transform.children[i].gameObject)}function callComponentCallback(t,e,i){if(0!=t.activeInHierarchy){for(var n=0;n<t.components.length;n++){var o=t.components[n];0==(o.flags&i)&&(o.flags=o.flags|i,o[e]())}for(var s=0;s<t.transform.children.length;s++)callComponentCallback(t.transform.children[s].gameObject,e,i)}}function callComponentOnEnable(t){if(0!=t.activeInHierarchy){for(var e=0;e<t.components.length;e++){var i=t.components[e];0==(i.flags&ComponentStateFlags.onEnable_called)&&callOnEnable(i)}for(var n=0;n<t.transform.children.length;n++)callComponentOnEnable(t.transform.children[n].gameObject)}}function callComponentOnDisable(t){if(!t.activeInHierarchy){for(var e=0;e<t.components.length;e++){var i=t.components[e];0==(i.flags&ComponentStateFlags.onDisable_called)&&callOnDisable(i)}for(var n=0;n<t.transform.children.length;n++)callComponentOnDisable(t.transform.children[n].gameObject)}}function callOnEnable(t){t.OnEnable(),t.flags|=ComponentStateFlags.onEnable_called,t.flags&=~ComponentStateFlags.onDisable_called,null!=t.Update&&globalRuntime.AddToUpdateList(t),null!=t.LateUpdate&&globalRuntime.AddToLateUpdateList(t),null!=t.OnWillRenderObject&&globalRuntime.AddToOnWillRenderList(t)}function callOnDisable(t){t.OnDisable(),t.flags|=ComponentStateFlags.onDisable_called,t.flags&=~ComponentStateFlags.onEnable_called,null!=t.Update&&globalRuntime.RemoveFromUpdateList(t),null!=t.LateUpdate&&globalRuntime.RemoveFromLateUpdateList(t),null!=t.OnWillRenderObject&&globalRuntime.RemoveFromOnWillRenderList(t)}function ResourceRequest(t){this.url=t.url,this.postData=t.postData||null,this.method=this.postData?"POST":t.method||"GET",this.callbackArg=t.callbackArg||null,this.complete=t.complete||null,this.onprogress=t.onprogress||null,this.Done=!1,this.Data="",this.statusCode=0,this.progress=0,this.progressLoaded=0,this.error=null,this.forceNoCache=t.forceNoCache||!1,this.contentType=t.contentType||"application/x-www-form-urlencoded",this.overrideMimeType=t.overrideMimeType||null,this.SendRequest()}function SimpleWebRequest(t){ResourceRequest.call(this,t)}function OfflineRequest(t){SimpleWebRequest.call(this,t)}function UHTXDomainRequest(){this.id="",this.method="",this.url="",this.postData=null,this.onreadystatechange=null,this.onprogress=null,this.readyState=0,this.status=0,this.responseText=""}ColliderInputManager.prototype.initInput=function(){this.colliders=[],this.pixiObject=new PIXI.Sprite(null),this.pixiObject.x=0,this.pixiObject.y=0,this.pixiObject.width=UHTScreen.width,this.pixiObject.height=UHTScreen.height,this.pixiObject.alpha=0,this.pixiObject.worldAlpha=0,this.pixiObject.interactive=!0,this.pixiObject.on("mousedown",onCIMButtonDown),this.pixiObject.on("touchstart",onCIMButtonDown),this.pixiObject.on("mouseup",onCIMButtonUp),this.pixiObject.on("mouseupoutside",onCIMButtonUp),this.pixiObject.on("touchend",onCIMButtonUp),this.pixiObject.on("touchendoutside",onCIMButtonUp),this.pixiObject.on("mousemove",onCIMMouseMove),this.pixiObject.on("touchmove",onCIMMouseMove)},ColliderInputManager.prototype.HandleNextQueuedEvent=function(){if(0!=this.queuedEvents.length){var t=this.queuedEvents[0];switch(this.queuedEvents.splice(0,1),t.m_type){case MOUSE_EVENT_TYPE.DOWN:0==globalColliderInputManager._mousePressed&&(globalColliderInputManager._mouseStateChanged=!0),globalColliderInputManager._mousePressed=!0,globalColliderInputManager.mousePosition=new UHTMath.Vector3(t.m_event.data.global.x,t.m_event.data.global.y,0),Input.lastUsedInputDeviceIsTouch=-1!=t.m_event.type.search("touch")||-1!=t.m_event.type.search("tap");break;case MOUSE_EVENT_TYPE.MOVE:globalColliderInputManager.mousePosition=new UHTMath.Vector3(t.m_event.data.global.x,t.m_event.data.global.y,0),Input.lastUsedInputDeviceIsTouch=-1!=t.m_event.type.search("touch")||-1!=t.m_event.type.search("tap");break;case MOUSE_EVENT_TYPE.UP:globalColliderInputManager._mousePressed=!1,globalColliderInputManager.mousePosition=new UHTMath.Vector3(t.m_event.data.global.x,t.m_event.data.global.y,0),Input.lastUsedInputDeviceIsTouch=-1!=t.m_event.type.search("touch")||-1!=t.m_event.type.search("tap")}}},ColliderInputManager.prototype.notifyListeners=function(t,e){if(null!=this.handlers[t])for(var i=0;i<this.handlers[t].length;++i)this.handlers[t][i].call(e)},ColliderInputManager.prototype.updateInput=function(){this.HandleNextQueuedEvent(),this.pixiObject.width=UHTScreen.width,this.pixiObject.height=UHTScreen.height,Input.mousePosition=this.mousePosition,Input._mousePressed=this._mousePressed,Input._mouseStateChangedThisFrame=this._mouseStateChanged,this._mouseStateChanged=!1},ColliderInputManager.prototype.registerCollider=function(t){this.colliders.push(t)},ColliderInputManager.prototype.getHoveredCollider=function(t,e){for(var i=Number.MAX_VALUE,n=null,o=0;o<this.colliders.length;o++){var s,r,a,l,u,h=this.colliders[o];0!=h.enabled&&0!=h.gameObject.activeInHierarchy&&0!=(1<<h.gameObject.layer&e.mask)&&(s=(u=h.GetTransformedCenterAndSize()).center,a=u.size,0==h.isSphere&&(a=UHTMath.Vector3.scale(a,.5)),r=Math.abs(a.x),l=Math.abs(a.y),u=Math.abs(a.z),a=s.z,!(h.isSphere?(s.z=t.z,UHTMath.Vector3.distance(t,s)<=r):Math.abs(h.transform._internal_get_rotation()._internalEulerAngles.z)<.001?t.x<=s.x+r&&t.x>=s.x-r&&t.y<=s.y+l&&t.y>=s.y-l:(l=h.transform.inverseTransformPoint(t)).x<=h.center.x+.5*h.size.x&&l.x>=h.center.x-.5*h.size.x&&l.y<=h.center.y+.5*h.size.y&&l.y>=h.center.y-.5*h.size.y)||(u=a-u)<i&&(i=u,n=h))}return n},ColliderInputManager.prototype.addEventHandler=function(t,e){null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e)},ColliderInputManager.prototype.removeEventHandler=function(t,e){if(null!=this.handlers[t]){for(var i=-1,n=0;n<this.handlers[t].length;++n)if(this.handlers[t][n]==e){i=n;break}0<=i&&this.handlers[t].splice(i,1)}},goog.provide("UHTMath.Quaternion"),goog.require("UHTMath"),goog.require("UHTMath.Vector3"),UHTMath.Quaternion=function(t,e,i,n){this.set(t,e,i,n),this._internalEulerAngles=new UHTMath.Vector3},UHTMath.Quaternion.euler=function(t,e,i){if(void 0===e){if(void 0===t.x)return;e=t.y,i=t.z,t=t.x}var n=new UHTMath.Quaternion,o=UHTMath.toRad(t/2),s=UHTMath.toRad(e/2),r=UHTMath.toRad(i/2),t=Math.cos(o),e=Math.cos(s),i=Math.cos(r),o=Math.sin(o),s=Math.sin(s),r=Math.sin(r);return n.x=o*e*i+t*s*r,n.y=t*s*i-o*e*r,n.z=t*e*r-o*s*i,n.w=t*e*i+o*s*r,n.eulerAnglesAreDirty=!0,n},UHTMath.Quaternion.angleAxis=function(t,e){var i=UHTMath.toRad(t)/2,t=Math.sin(i);return new UHTMath.Quaternion(e.x*t,e.y*t,e.z*t,Math.cos(i))},UHTMath.Quaternion.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},UHTMath.Quaternion.fromToRotation=function(t,e){var i=new UHTMath.Quaternion;return i.setFromToRotation(t,e),i},UHTMath.Quaternion.inverse=function(t){return UHTMath.Quaternion.conjugate(t).normalize()},UHTMath.Quaternion.conjugate=function(t){var e=new UHTMath.Quaternion;return e.set(-t.x,-t.y,-t.z,t.w),e},UHTMath.Quaternion.lerp=function(t,e,i){i=UHTMath.clamp(i,0,1),i=new UHTMath.Quaternion(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i,t.z+(e.z-t.z)*i,t.w+(e.w-t.w)*i);return i.normalize(),i},UHTMath.Quaternion.slerp=function(t,e,i){var n=new UHTMath.Quaternion;if(i<=0)return n.set(t),n;if(1<=i)return n.set(e),n;var o=t.x,s=t.y,r=t.z,a=t.w,l=UHTMath.Quaternion.dot(t,e),u=new UHTMath.Quaternion;if(l<0?(u.set(-e.x,-e.y,-e.z,-e.w),l=-l):u.set(e),1<=l)return n.set(o,s,r,a),n;t=Math.acos(l),e=Math.sqrt(1-l*l);if(Math.abs(e)<.001)return n.set(.5*(o+u.x),.5*(s+u.y),.5*(r+u.z),.5*(a+u.w)),n;l=Math.sin((1-i)*t)/e,e=Math.sin(i*t)/e;return n.set(o*l+u.x*e,s*l+u.y*e,r*l+u.z*e,a*l+u.w*e),n},UHTMath.Quaternion.lookRotation=function(t,e){var i=new UHTMath.Quaternion;return i.setLookRotation(t,e),i.normalize(),i},UHTMath.Quaternion.multiply=function(t,e){return new UHTMath.Quaternion(t.w*e.x+t.x*e.w+t.y*e.z-t.z*e.y,t.w*e.y+t.y*e.w+t.z*e.x-t.x*e.z,t.w*e.z+t.z*e.w+t.x*e.y-t.y*e.x,t.w*e.w-t.x*e.x-t.y*e.y-t.z*e.z).normalize()},UHTMath.Quaternion.multiplyVec=function(t,e){var i=e.x,n=e.y,o=e.z,s=t.x,r=t.y,a=t.z,l=t.w,u=l*i+r*o-a*n,e=l*n+a*i-s*o,t=l*o+s*n-r*i,o=-s*i-r*n-a*o;return new UHTMath.Vector3(u*l+o*-s+e*-a-t*-r,e*l+o*-r+t*-s-u*-a,t*l+o*-a+u*-r-e*-s)},UHTMath.Quaternion.prototype={constructor:UHTMath.Quaternion,set:function(t,e,i,n){void 0===e&&(void 0===t?(i=e=t=0,n=1):(e=t.y||0,i=t.z||0,n=t.w||0,t=t.x||0)),this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0,this.eulerAnglesAreDirty=!0},equals:function(t,e,i,n){n=new UHTMath.Quaternion(t,e,i,n);return Math.abs(this.x-n.x)<UHTMath.numberError&&Math.abs(this.y-n.y)<UHTMath.numberError&&Math.abs(this.z-n.z)<UHTMath.numberError&&Math.abs(this.w-n.w)<UHTMath.numberError},eulerAngles:function(){var t=180/UHTMath.PI;return UHTMath.Vector3.scale(this.eulerAnglesRad(),t)},eulerAnglesRad:function(){return this.eulerAnglesAreDirty&&(this._internalEulerAngles.x=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),this._internalEulerAngles.y=Math.asin(2*(this.w*this.y-this.x*this.y)),this._internalEulerAngles.z=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z)),this.eulerAnglesAreDirty=!1),new UHTMath.Vector3(this._internalEulerAngles)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},setFromToRotation:function(t,e){var i=new UHTMath.Vector3,n=UHTMath.Vector3.dot(t,e)+1;return n<UHTMath.numberError?(n=0,Math.abs(t.x)>Math.abs(t.z)?i.set(-t.y,t.x,0):i.set(0,-t.z,t.y)):i.set(UHTMath.Vector3.cross(t,e)),this.x=i.x,this.y=i.y,this.z=i.z,this.w=n,this.normalize(),this.eulerAnglesAreDirty=!0,this},setLookRotation:function(t,e){var i=t.normalized();void 0===e&&(e=UHTMath.Vector3.up);var n=new UHTMath.Vector3;UHTMath.Vector3.orthoNormalize(e,i,n),this.w=.5*Math.sqrt(1+n.x+e.y+i.z);t=.25/this.w;return this.x=(i.y-e.z)*t,this.y=(n.z-i.x)*t,this.z=(e.x-n.y)*t,this.eulerAnglesAreDirty=!0,this},toAngleAxis:function(t,e){var i=this.normalize();UHTMath.toDeg(2*Math.acos(i.w));var n=1/Math.sqrt(1-i.w*i.w);e.set(i.x*n,i.y*n,i.z*n)},normalize:function(){var t=this.length();return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(this.x*=t=1/t,this.y*=t,this.z*=t,this.w*=t),this.eulerAnglesAreDirty=!0,this},toString:function(){return JSON.stringify(this)}},UHTMath.Quaternion.identity=new UHTMath.Quaternion,goog.require("UHT.Component"),goog.provide("UHT.Transform"),goog.require("UHTMath"),goog.require("UHTMath.Vector3"),goog.require("UHTMath.Quaternion"),Transform.prototype=Object.create(Component.prototype),(Transform.prototype.constructor=Transform).prototype.canReceiveMessage=!1,Transform._positionDirtyFlag=2,Transform._rotationDirtyFlag=4,Transform._scaleDirtyFlag=8,Transform._PRSDirtyFlag=Transform._positionDirtyFlag|Transform._rotationDirtyFlag|Transform._scaleDirtyFlag,Transform._DirtyFlagSprite=1,Transform._DirtyFlagLabel=2,Transform._DirtyFlagCollider=4,Transform._DirtyFlagCamera=8,Transform._DirtyFlagPanel=16,Transform._DirtyFlagPerspective=32,Transform._DirtyFlagSpine=64,Transform.prototype.SetParent=function(t,e){if(this.parent!==t){if(null!=this.parent)for(var i=this.parent.children.length;i--;)if(this.parent.children[i]==this){this.parent.children.splice(i,1);break}var n,o,s;e&&(n=this.position(),o=this.rotation(),s=this.scale()),this.parent=t,null!=this.parent&&(this.parent.children.push(this),this.gameObject.internalUpdateActive(!0,!0)),this.addDirtyFlag(Transform._PRSDirtyFlag),e&&(this.scale(s),this.rotation(o),this.position(n))}},Transform.prototype.childCount=function(){return this.children.length},Transform.prototype.Find=function(t){if(""==t)return this;for(var t=t.split("/"),e=t.shift(),i=null,n=this.children.length;n--;)if(this.children[n].gameObject.name===e){i=this.children[n];break}return null!=i&&0<t.length?i.Find(t.join("/")):i},Transform.prototype.IsDirtyUserFlag=function(t){return null==this._dirtyUserFlags||0!=(this._dirtyUserFlags&t)},Transform.prototype.ClearDirtyUserFlag=function(t){null==this._dirtyUserFlags&&(this._dirtyUserFlags=65535),this._dirtyUserFlags&=~t},Transform.prototype.SetAllDirtyUserFlags=function(){null!=this._dirtyUserFlags&&(this._dirtyUserFlags=65535)},Transform.prototype.addDirtyFlag=function(t){null!=this._dirty&&(this._dirty&t)!=t&&(this._dirty|=t,this.SetAllDirtyUserFlags(),this.markChildrenDirty(t|Transform._positionDirtyFlag))},Transform.prototype.removeDirtyFlag=function(t){null==this._dirty&&(this._dirty=Transform._PRSDirtyFlag),this._dirty&=~t},Transform.prototype.hasDirtyFlag=function(t){return null==this._dirty||0!=(this._dirty&t)},Transform.prototype.markChildrenDirty=function(t){for(var e=this.children.length;e--;)this.children[e].addDirtyFlag(t)},Transform.prototype.deserialize=function(t,e,i){var n,o,s,r;this.parent=e[i](t.parent),this.children=e[i](t.children),null!=t.psr?"d"==t.psr?(n=UHTMath.Vector3.zero,r=UHTMath.Vector3.one,o=UHTMath.Quaternion.identity):"s"==t.psr&&(n=UHTMath.Vector3.zero,r=new UHTMath.Vector3(99.89999,99.89999,99.89999),o=UHTMath.Quaternion.identity):(null!=t.p?3==(s=t.p.split(",")).length?n=new UHTMath.Vector3(""!=s[0]?parseFloat(s[0]):0,""!=s[1]?parseFloat(s[1]):0,""!=s[2]?parseFloat(s[2]):0):console.log("deserialization error (p) - transform"):n=UHTMath.Vector3.zero,null!=t.s?"ssd"==t.s?r=new UHTMath.Vector3(99.89999,99.89999,99.89999):1==(i=t.s.split(",")).length?(s=parseFloat(i[0]),r=new UHTMath.Vector3(s,s,s)):3==i.length?r=new UHTMath.Vector3(""!=i[0]?parseFloat(i[0]):1,""!=i[1]?parseFloat(i[1]):1,""!=i[2]?parseFloat(i[2]):1):console.log("deserialization error (s) - transform"):r=UHTMath.Vector3.one,null!=t.r?4==(t=t.r.split(",")).length?o=new UHTMath.Quaternion(""!=t[0]?parseFloat(t[0]):0,""!=t[1]?parseFloat(t[1]):0,""!=t[2]?parseFloat(t[2]):0,""!=t[3]?parseFloat(t[3]):1):console.log("deserialization error (r) - transform"):o=UHTMath.Quaternion.identity),this._LocalPosition=n,this._LocalScale=r,this._LocalRotation=o},Transform.prototype.copyFromSource=function(t,e,i){this.parent=e[i](t.parent),this.children=e[i](t.children);e=t._LocalPosition,i=t._LocalScale,t=t._LocalRotation;e==UHTMath.Vector3.zero?this._LocalPosition=e:this._LocalPosition=new UHTMath.Vector3(e.x,e.y,e.z),i==UHTMath.Vector3.one?this._LocalScale=i:this._LocalScale=new UHTMath.Vector3(i.x,i.y,i.z),t==UHTMath.Quaternion.identity?this._LocalRotation=t:this._LocalRotation=new UHTMath.Quaternion(t.x,t.y,t.z,t.w)},Transform.prototype.hasChanged=function(){return 0!==this._dirty},Transform.prototype._internal_localPosition=function(t,e,i){return void 0!==t&&(i=new UHTMath.Vector3(t,e,i),this._LocalPosition.equals(i)||(this._LocalPosition===UHTMath.Vector3.zero&&(this._LocalPosition=new UHTMath.Vector3),this._LocalPosition.set(i),this.addDirtyFlag(Transform._positionDirtyFlag))),this._LocalPosition},Transform.prototype.localPosition=function(t,e,i){return new UHTMath.Vector3(this._internal_localPosition(t,e,i))},Transform.prototype.fastSetLocalPosition=function(t,e,i){Math.abs(this._LocalPosition.x-t)<UHTMath.numberError&&Math.abs(this._LocalPosition.y-e)<UHTMath.numberError&&Math.abs(this._LocalPosition.z-i)<UHTMath.numberError||(this._LocalPosition===UHTMath.Vector3.zero?this.localPosition(t,e,i):(this._LocalPosition.x=t,this._LocalPosition.y=e,this._LocalPosition.z=i),this.addDirtyFlag(Transform._positionDirtyFlag))},Transform.prototype.position=function(t,e,i){return void 0!==t&&(null===this.parent||void 0===this.parent?this._internal_localPosition(t,e,i):this._internal_localPosition(this.parent.inverseTransformPoint(t,e,i))),new UHTMath.Vector3(this._internal_get_position())},Transform.prototype._internal_get_position=function(){var t;return this.hasDirtyFlag(Transform._positionDirtyFlag)&&(null==this._position&&(this._position=new UHTMath.Vector3),t=UHTMath.Quaternion.multiplyVec(this._getParentRotation(),UHTMath.Vector3.scale(this._LocalPosition,this._getParentScale())),this._position.set(UHTMath.Vector3.add(t,this._getParentPosition())),this.removeDirtyFlag(Transform._positionDirtyFlag)),this._position},Transform.prototype._getParentPosition=function(){return this.parent&&void 0!==this.parent?this.parent._internal_get_position():new UHTMath.Vector3},Transform.prototype._internal_localScale=function(t,e,i){return void 0!==t&&(i=new UHTMath.Vector3(t,e,i),this._LocalScale.equals(i)||(this._LocalScale===UHTMath.Vector3.one&&(this._LocalScale=new UHTMath.Vector3),this._LocalScale.set(i),this.addDirtyFlag(Transform._scaleDirtyFlag))),this._LocalScale},Transform.prototype.localScale=function(t,e,i){return new UHTMath.Vector3(this._internal_localScale(t,e,i))},Transform.prototype.fastSetLocalScale=function(t,e,i){Math.abs(this._LocalScale.x-t)<UHTMath.numberError&&Math.abs(this._LocalScale.y-e)<UHTMath.numberError&&Math.abs(this._LocalScale.z-i)<UHTMath.numberError||(this._LocalScale===UHTMath.Vector3.one?this.localScale(t,e,i):(this._LocalScale.x=t,this._LocalScale.y=e,this._LocalScale.z=i),this.addDirtyFlag(Transform._scaleDirtyFlag))},Transform.prototype.scale=function(t,e,i){return void 0===t?new UHTMath.Vector3(this._internal_get_scale()):(null===this.parent||void 0===this.parent?this._internal_localScale(t,e,i):(new UHTMath.Vector3(t,e,i),this._getParentScale(),this._internal_localScale(this.parent.inverseTransformVector(t,e,i))),this.scale())},Transform.prototype._internal_get_scale=function(){return this.hasDirtyFlag(Transform._scaleDirtyFlag)&&(null==this._scale&&(this._scale=new UHTMath.Vector3(1,1,1)),this._scale.set(UHTMath.Vector3.scale(this._LocalScale,this._getParentScale())),this.removeDirtyFlag(Transform._scaleDirtyFlag)),this._scale},Transform.prototype._getParentScale=function(){return this.parent&&void 0!==this.parent?this.parent._internal_get_scale():new UHTMath.Vector3(1,1,1)},Transform.prototype._internal_localRotation=function(t,e,i,n){return void 0!==t&&(n=new UHTMath.Quaternion(t,e,i,n),this._LocalRotation.equals(n)||(this._LocalRotation==UHTMath.Quaternion.identity&&(this._LocalRotation=new UHTMath.Quaternion),this._LocalRotation.set(n),this.addDirtyFlag(Transform._rotationDirtyFlag))),this._LocalRotation},Transform.prototype.localRotation=function(t,e,i,n){return new UHTMath.Quaternion(this._internal_localRotation(t,e,i,n))},Transform.prototype.fastSetLocalRotation=function(t,e,i,n){Math.abs(this._LocalRotation.x-t)<UHTMath.numberError&&Math.abs(this._LocalRotation.y-e)<UHTMath.numberError&&Math.abs(this._LocalRotation.z-i)<UHTMath.numberError&&Math.abs(this._LocalRotation.w-n)<UHTMath.numberError||(this._LocalRotation===UHTMath.Quaternion.identity?this.localRotation(t,e,i,n):(this._LocalRotation.x=t,this._LocalRotation.y=e,this._LocalRotation.z=i,this._LocalRotation.w=n),this._LocalRotation.eulerAnglesAreDirty=!0,this.addDirtyFlag(Transform._rotationDirtyFlag))},Transform.prototype.rotation=function(t,e,i,n){return void 0!==t&&(null===this.parent||void 0===this.parent?this._internal_localRotation(t,e,i,n):(i=new UHTMath.Quaternion(t,e,i,n),n=UHTMath.Quaternion.inverse(this.parent._internal_get_rotation()),this._internal_localRotation(UHTMath.Quaternion.multiply(n,i)))),new UHTMath.Quaternion(this._internal_get_rotation())},Transform.prototype._internal_get_rotation=function(){var t;return this.hasDirtyFlag(Transform._rotationDirtyFlag)&&(null==this._rotation&&(this._rotation=new UHTMath.Quaternion),t=!1,(t=null!==this.parent&&void 0!==this.parent?this.parent.scale().x*this.parent.scale().y<0:t)?this._rotation.set(UHTMath.Quaternion.multiply(this._getParentRotation(),UHTMath.Quaternion.inverse(this._LocalRotation))):this._rotation.set(UHTMath.Quaternion.multiply(this._getParentRotation(),this._LocalRotation)),this.removeDirtyFlag(Transform._rotationDirtyFlag)),this._rotation},Transform.prototype._getParentRotation=function(){return this.parent&&void 0!==this.parent?this.parent._internal_get_rotation():new UHTMath.Quaternion},Transform.prototype.eulerAngles=function(){return this._internal_get_rotation().eulerAngles()},Transform.prototype.transformDirection=function(t,e,i){i=new UHTMath.Vector3(t,e,i);return UHTMath.Quaternion.multiplyVec(this.rotation(),i)},Transform.prototype.inverseTransformDirection=function(t,e,i){e=new UHTMath.Vector3(t,e,i),i=UHTMath.Quaternion.inverse(this.rotation());return UHTMath.Quaternion.multiplyVec(i,e)},Transform.prototype.transformVector=function(t,e,i){i=new UHTMath.Vector3(t,e,i);return UHTMath.Quaternion.multiplyVec(this.rotation(),UHTMath.Vector3.scale(i,this._internal_get_scale()))},Transform.prototype.inverseTransformVector=function(t,e,i){e=new UHTMath.Vector3(t,e,i),i=this.inverseTransformDirection(e),e=this._internal_get_scale(),e=new UHTMath.Vector3(1/e.x,1/e.y,1/e.z);return UHTMath.Vector3.scale(i,e)},Transform.prototype.transformPoint=function(t,e,i){i=new UHTMath.Vector3(t,e,i),i=UHTMath.Quaternion.multiplyVec(this.rotation(),UHTMath.Vector3.scale(i,this._internal_get_scale()));return UHTMath.Vector3.add(i,this.position())},Transform.prototype.inverseTransformPoint=function(t,e,i){i=new UHTMath.Vector3(t,e,i),i=UHTMath.Vector3.sub(i,this.position());return this.inverseTransformVector(i)},Transform.prototype.forward=function(){return this.transformDirection(UHTMath.Vector3.forward)},Transform.prototype.right=function(){return this.transformDirection(UHTMath.Vector3.right)},Transform.prototype.up=function(){return this.transformDirection(UHTMath.Vector3.up)},Transform.prototype.translate=function(t){this._LocalPosition.add(t)},Transform.prototype.localEulerAngles=function(){return this._internal_localRotation().eulerAngles()},Transform.prototype.LookAt=function(t,e){var i=this.position(),t=new UHTMath.Vector3(t instanceof UHTMath.Vector3?t:t.position());this.forward().normalize();i=UHTMath.Vector3.sub(t,i);i.normalize(),this.rotation(UHTMath.Quaternion.lookRotation(i,e))},Transform.prototype._dangerous_get_position=function(){return this.hasDirtyFlag(Transform._positionDirtyFlag)?this._internal_get_position():this._position},Transform.prototype._dangerous_get_localPosition=function(){return this._LocalPosition},Transform.prototype._dangerous_get_rotation=function(){return this.hasDirtyFlag(Transform._rotationDirtyFlag)?this._internal_get_rotation():this._rotation},Transform.prototype._dangerous_get_localRotation=function(){return this._LocalRotation},Transform.prototype._dangerous_get_scale=function(){return this.hasDirtyFlag(Transform._scaleDirtyFlag)?this._internal_get_scale():this._scale},Transform.prototype._dangerous_get_localScale=function(){return this._LocalScale},goog.require("UHT.Transform"),ObjectInstantiator.prototype.doIt=function(t){this.getAllGameObjectsAsArray(t);for(var e=0;e<this.sourceGOArray.length;e++){var i=this.sourceGOArray[e],n=new GameObject;n.internalCopyFromOther(i);for(var o=0;o<i.components.length;o++){var s=i.components[o],r=createComponent(s);(r.gameObject=n).components.push(r),n.internalCacheComponent(r),this.componentNewToOldMap.push({newComp:r,oldComp:s})}for(var a=0;a<n.components.length;a++)n.components[a].transform=n.transform;this.newGOArray.push(n)}for(var l=0;l<this.componentNewToOldMap.length;l++)this.componentNewToOldMap[l].newComp.copyFromSource(this.componentNewToOldMap[l].oldComp,this,"resolveReference");return this.newGOArray[0].name=this.newGOArray[0].name+"(Clone)",this.newGOArray[0].transform.parent=null,this.newGOArray[0].internalUpdateActive(!0,!1),this.newGOArray[0]},ObjectInstantiator.prototype.resolveReference=function(t){if(Array.isArray(t)){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=this.resolveReference(t[i]);return e}if(t instanceof GameObject){for(var n=0;n<this.sourceGOArray.length;n++)if(t==this.sourceGOArray[n])return this.newGOArray[n]}else if(t instanceof Component)for(var o=0;o<this.componentNewToOldMap.length;o++)if(t==this.componentNewToOldMap[o].oldComp)return this.componentNewToOldMap[o].newComp;return t},ObjectInstantiator.prototype.getAllGameObjectsAsArray=function(t){this.sourceGOArray.push(t);for(var e=0;e<t.transform.children.length;e++)this.getAllGameObjectsAsArray(t.transform.children[e].gameObject)},goog.provide("UHT.ResourceRequest"),ResourceRequest.prototype.GetHttpRequest=function(){return new XMLHttpRequest},ResourceRequest.prototype.SendRequest=function(){var t=this.GetHttpRequest();t.open(this.method,this.url,!0),this.postData&&t.setRequestHeader("Content-type",this.contentType),null!=this.overrideMimeType&&t.overrideMimeType(this.overrideMimeType),this.forceNoCache&&t.setRequestHeader("Cache-Control","no-cache");var e=this;t.onreadystatechange=function(){4==t.readyState&&(e.statusCode=t.status,e.Data=t.responseText,e.Done=!0,e.progress=1,200!=e.statusCode&&(e.error="ERROR_"+t.statusText,window.currentDatapathRetries>=window.retriesBeforeAlternativeDatapath?(globalGamePath=globalGamePath.replace(UHT_CONFIG.GAME_URL,UHT_CONFIG.GAME_URL_ALTERNATIVE),globalClientPath=globalClientPath.replace(UHT_CONFIG.GAME_URL,UHT_CONFIG.GAME_URL_ALTERNATIVE),UHT_CONFIG.GAME_URL=UHT_CONFIG.GAME_URL_ALTERNATIVE):window.currentDatapathRetries++),null!=e.complete&&e.complete.call(e,e.callbackArg))},t.onprogress=function(t){e.progress=t.loaded/t.total,e.progressLoaded=t.loaded,null!=e.onprogress&&e.onprogress.call(t,e,e.callbackArg)},t.send(this.postData)},goog.provide("UHT.SimpleWebRequest"),goog.require("UHT.ResourceRequest"),SimpleWebRequest.prototype=Object.create(ResourceRequest.prototype),(SimpleWebRequest.prototype.constructor=SimpleWebRequest).prototype.GetHttpRequest=function(){return new(UHT_LOCAL&&UHT_ONLINE?UHTXDomainRequest:XMLHttpRequest)},goog.require("UHT.SimpleWebRequest"),goog.provide("UHT.OfflineRequest"),OfflineRequest.prototype=Object.create(SimpleWebRequest.prototype),(OfflineRequest.prototype.constructor=OfflineRequest).prototype.SendRequest=function(){RequestProvider.Instance.OfflineRequest(this.url,this.postData,this)},OfflineRequest.prototype.OnRequestDone=function(t){this.statusCode=200,this.Data=t,this.Done=!0,this.progress=1,console.warn(this),null!=this.complete&&this.complete.call(this,this.callbackArg)},UHTXDomainRequest.prototype.open=function(t,e,i){this.method=t,this.url=e},UHTXDomainRequest.prototype.send=function(t){this.postData=t,XDomainRequestProvider.Send(this)};var XDomainRequestProvider={initialized:!(UHTXDomainRequest.prototype.setRequestHeader=function(t,e){}),windows:{},requests:{},GetOrigin:function(t){if(/^http/.test(t)){t=t.split("/");return t[0]+"//"+t[2]}return location.host},Send:function(t){var e=XDomainRequestProvider;e.initialized||e.Init();var i=e.GetOrigin(t.url),n=e.windows[i],o=!1;void 0===n&&(e.LoadWindow(i),o=!0),(o=null===n||o)?setTimeout(function(){e.Send(t)},200):(o="r"+(new Date).getTime(),t.id=o,e.requests[o]=t,/index\.jsp/.test(t.url)?e.OnCookieRequest(t):/login\.do/.test(t.url)?e.OnLoginRequest(t):n.postMessage(JSON.stringify(t),i))},OnMessage:function(t){var e=XDomainRequestProvider;null==e.windows[t.origin]?e.windows[t.origin]=t.source:(t=JSON.parse(t.data),null!=(e=e.requests[t.id])&&null!=e.onreadystatechange&&(e.readyState=Number(t.readyState),e.status=Number(t.status),e.responseText=t.responseText,e.onreadystatechange()))},OnCookieRequest:function(t){t.readyState=4,t.status=200,t.responseText="",null!=t.onreadystatechange&&t.onreadystatechange()},OnLoginRequest:function(t){var e=document.createElement("a");e.setAttribute("style","display:block;font-family:Tahoma,sans-serif;font-size:20px;color:#000;background:#fcea9c;position:absolute;z-index:500;top:0;left:0;right:0;padding:8px;"),e.innerHTML="Open game in emulator. Then click to proceed.";e.addEventListener("click",function(){t.readyState=4,t.status=200,t.responseText="log=1",null!=t.onreadystatechange&&t.onreadystatechange(),document.body.removeChild(e)},!1),document.body.appendChild(e)},LoadWindow:function(t){var e=document.createElement("a");e.setAttribute("style","display:block;font-family:Tahoma,sans-serif;font-size:20px;color:#000;background:#fcea9c;position:absolute;z-index:500;top:0;left:0;right:0;padding:8px;"),e.innerHTML="Proceed to "+t;e.addEventListener("click",function(){window.open(t+"/gs2c/x-domain/XDomainRequestProviderRemote.html",encodeURIComponent(t));document.body.removeChild(e)},!1),document.body.appendChild(e),XDomainRequestProvider.windows[t]=null},Init:function(){var t=XDomainRequestProvider;window.addEventListener("load",t.OnLoad,!1),window.addEventListener("message",t.OnMessage,!1),t.initialized=!0}};goog.require("UHT.Component");var LabelLayerOutlinePosition={Outside:0,Center:1,Inside:2};function LabelLayer(){this.FillCenter=!0,this.FillColor=null,this.FillColorUseAlpha=!1,this.FillUseGradient=!1,this.FillGradient=null,this.FillGradientUseAlpha=!1,this.FillGradientAngle=0,this.Outline=!1,this.OutlineThickness=0,this.OutlineColor=null,this.OutlineColorUseAlpha=!1,this.OutlineUseGradient=!1,this.OutlineGradient=null,this.OutlineGradientUseAlpha=!1,this.OutlineGradientAngle=0,this.OutlinePosition=LabelLayerOutlinePosition.Outside,this.BlurShadow=!1,this.BlurShadowSize=0,this.BlurShadowOffset=null,this.BlurShadowColor=null,this.BlurShadowColorUseAlpha=!1,this.Offset=null,this.alphaUpdated=!1}function LabelMultipleLayers(){Component.call(this),this.backgroundColor=null,this.layers=null,this.label=null,this.styles=null,this.effectWidth=0,this.effectHeight=0,this.effectPlusLeft=0,this.effectPlusRight=0,this.effectPlusTop=0,this.effectPlusBottom=0,this.currentFontSize=-1,this.updateTextHandler=this.GetUpdateTextHandler(this),this.renderSprite=null}function SpringPosition(){Component.call(this),this.target=null,this.strength=10,this.worldSpace=!1,this.eventReceiver=null,this.callWhenFinished="",this.mTrans=null,this.mThreshold=0}LabelLayer.prototype.Scale=function(t){this.alphaUpdated||(this.alphaUpdated=!0,this.FillColorUseAlpha||(this.FillColor.a=1),this.OutlineColorUseAlpha||(this.OutlineColor.a=1),this.BlurShadowColorUseAlpha||(this.BlurShadowColor.a=1),this.UpdateGradient(this.FillGradient,this.FillGradientUseAlpha),this.UpdateGradient(this.OutlineGradient,this.OutlineGradientUseAlpha));var e=new LabelLayer;return e.BlurShadow=this.BlurShadow,e.BlurShadowSize=this.BlurShadowSize*t,e.BlurShadowOffset=UHTMath.Vector3.scale(this.BlurShadowOffset,t),e.BlurShadowColor=this.BlurShadowColor,e.Outline=this.Outline,e.OutlineThickness=this.OutlineThickness*t,e.OutlineColor=this.OutlineColor,e.FillCenter=this.FillCenter,e.FillColor=this.FillColor,e.FillUseGradient=this.FillUseGradient,e.FillGradient=this.FillGradient,e.FillGradientAngle=this.FillGradientAngle,e.OutlineUseGradient=this.OutlineUseGradient,e.OutlineGradient=this.OutlineGradient,e.OutlineGradientAngle=this.OutlineGradientAngle,e.OutlinePosition=this.OutlinePosition,e.Offset=UHTMath.Vector3.scale(this.Offset,t),e},LabelLayer.prototype.UpdateGradient=function(t,e){for(var i=[],n=[],o=t.colorKeys,s=t.alphaKeys,r=0;r<o.length;++r){var a=o[r].time,l=o[r].color;l.a=this.GetAlpha(s,a,e),i.push(this.IntTime(a)),n.push(new GradientColorKey(l,a))}if(e)for(r=0;r<s.length;++r){a=s[r].time;-1<i.indexOf(this.IntTime(a))||(i.push(this.IntTime(a)),n.push(new GradientColorKey(this.GetColor(o,a),a)))}t.colorKeys=n},LabelLayer.prototype.IntTime=function(t){return Math.round(10*t)},LabelLayer.prototype.TimesEqual=function(t,e){return this.IntTime(t)==this.IntTime(e)},LabelLayer.prototype.GetAlpha=function(t,e,i){if(!i)return 1;for(var n=null,o=null,s=0;s<t.length;++s){if(this.TimesEqual(e,t[s].time))return t[s].alpha;if(e>t[s].time)n=t[s];else if(e<t[s].time){o=t[s];break}}return null!=n&&null!=o?UHTMath.lerp(n.alpha,o.alpha,UHTMath.inverseLerp(n.time,o.time,e)):null!=n?n.alpha:null!=o?o.alpha:1},LabelLayer.prototype.GetColor=function(t,e){var i=new Color;i.r=i.g=i.b=i.a=1;for(var n=null,o=null,s=0;s<t.length;++s){if(this.TimesEqual(e,t[s].time))return t[s].color;if(e>t[s].time)n=t[s];else if(e<t[s].time){o=t[s];break}}return null!=n&&null!=o?Color.Lerp(n.color,o.color,UHTMath.inverseLerp(n.time,o.time,e)):null!=n?n.color:null!=o?o.color:i},LabelMultipleLayers.prototype=Object.create(Component.prototype),(LabelMultipleLayers.prototype.constructor=LabelMultipleLayers).prototype.GetUpdateTextHandler=function(t){return function(){t.UpdateTextV2()}},LabelMultipleLayers.prototype.SetupEffects=function(t){this.label=t,this.label.pixiObjectContent.updateText=this.updateTextHandler},LabelMultipleLayers.prototype.ComputeStyles=function(){if(this.currentFontSize!=this.label.currentFontSize){this.currentFontSize=this.label.currentFontSize;for(var t=0,e=0,i=0,n=0,o=0,s=0,r=[],a=this.currentFontSize/this.label.fontSize*this.label.resize,l=0;l<this.layers.length;++l){var u=this.layers[l].Scale(a),h={};h.blurShadow=u.BlurShadow,h.blurShadowX=u.BlurShadowOffset.x,h.blurShadowY=u.BlurShadowOffset.y,h.dropShadowColor=u.BlurShadowColor.rgbaAsString(),h.dropShadowDistance=u.BlurShadowSize,h.fillCenter=u.FillCenter,h.fill=u.FillColor,h.stroke=u.Outline?u.OutlineColor.rgbaAsString():null,h.strokeThickness=u.Outline?u.OutlineThickness*(u.OutlinePosition==LabelLayerOutlinePosition.Center?1:2):0,h.mFillUseGradient=u.FillUseGradient,h.mFillGradient=u.FillGradient,h.mFillGradientAngle=Math.PI*u.FillGradientAngle/180,h.mOutlineUseGradient=u.OutlineUseGradient,h.mOutlineGradient=u.OutlineGradient,h.mOutlineGradientAngle=Math.PI*u.OutlineGradientAngle/180;var c,p=h.strokeThickness,d=h.strokeThickness;h.blurShadow&&(p+=Math.max(2*h.dropShadowDistance+Math.abs(h.blurShadowX),0),d+=Math.max(2*h.dropShadowDistance+Math.abs(h.blurShadowY),0)),t<p&&(t=p,u.Outline&&(o=u.OutlineThickness,s=-u.OutlineThickness),u.BlurShadow&&(o+=c=Math.max(u.BlurShadowSize-u.BlurShadowOffset.x,0),s-=Math.max(2*u.BlurShadowSize+Math.abs(u.BlurShadowOffset.x),0)-c)),e<d&&(e=d,u.Outline&&(i=u.OutlineThickness,n=-u.OutlineThickness),u.BlurShadow&&(i+=c=Math.max(u.BlurShadowSize-u.BlurShadowOffset.y,0),n-=Math.max(2*u.BlurShadowSize+Math.abs(u.BlurShadowOffset.y),0)-c)),h.effectWidth=p,h.effectHeight=d,r.push(h)}for(l=0;l<r.length;++l)r[l].offsetX=this.layers[l].Offset.x*a+.5*(t-r[l].effectWidth),r[l].offsetY=-this.layers[l].Offset.y*a+.5*(e-r[l].effectHeight);this.styles=r,this.effectWidth=t,this.effectHeight=e,this.effectPlusLeft=o,this.effectPlusRight=s,this.effectPlusTop=i,this.effectPlusBottom=n,this.isInit=!0}},LabelMultipleLayers.prototype.UpdateText=function(){this.ComputeStyles();var t=this.label.pixiObjectContent,e=t._style;t.context.font=e.font;for(var i=(e.wordWrap?t.wordWrap(t._text):t._text).split(/(?:\r\n|\r|\n)/),n=new Array(i.length),o=0,s=t.determineFontProperties(e.font),r=0;r<i.length;r++){var a=t.context.measureText(i[r]).width;n[r]=a,o=Math.max(o,a)}t.extraWidthDueToEffects=this.effectWidth+s.fontSize,t.extraHeightDueToEffects=this.effectHeight;var l=o+t.extraWidthDueToEffects;t.canvas.width=l*t.resolution;var u=t.style.lineHeight||s.fontSize,h=t.style.spacingY||0,l=u*i.length+h*(i.length-1)+s.extraSizeTop;if(l+=t.extraHeightDueToEffects,t.canvas.height=(l+2*t._style.padding)*t.resolution,t.context.scale(t.resolution,t.resolution),(null!=window.safari||0<=document.documentElement.className.indexOf("iOS")&&0<=document.documentElement.className.indexOf("MobileSafari"))&&t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.context.font=e.font,t.context.textBaseline=e.textBaseline,t.context.lineJoin=e.lineJoin,t.context.miterLimit=e.miterLimit,1!=t._skipUpdateTexture)for(r=0;r<this.styles.length;++r)this.DrawLayer(this.layers[r],this.styles[r],t,s,n,u,h,i,o);t._hack_extraOffsetTop=s.extraSizeTop,t._hack_extraOffsetBottom=h,t.updateTexture()},LabelMultipleLayers.prototype.DrawLayer=function(t,e,i,n,o,s,r,a,l){var u;i.context.strokeStyle=e.stroke,i.context.lineWidth=e.strokeThickness,i.context.shadowColor="RGBA(0, 0, 0, 0)",i.context.fillStyle=e.fill.rgbaAsString(),e.blurShadow&&(u=null!=window.safari||0<=document.documentElement.className.indexOf("iOS")&&0<=document.documentElement.className.indexOf("MobileSafari"),i.context.shadowBlur=e.dropShadowDistance*(u?.66:1),i.context.shadowOffsetX=e.blurShadowX,i.context.shadowOffsetY=e.blurShadowY);for(var h=0;h<a.length;h++){var c=.5*e.strokeThickness,p=e.offsetX+c+.5*n.fontSize,d=e.offsetY+(c+h*(s+r))+n.ascent+n.extraSizeTop;if(e.blurShadow&&(i.context.shadowColor=e.dropShadowColor,p+=Math.max(e.dropShadowDistance-e.blurShadowX,0),d+=Math.max(e.dropShadowDistance-e.blurShadowY,0)),e.mFillUseGradient||e.mOutlineUseGradient){var m=.5*s,S=p+.5*o[h],g=e.offsetY+(c+h*(s+r))+m+i._style.padding;e.blurShadow&&(g+=Math.max(e.dropShadowDistance-e.blurShadowY,0));var y=.5*Math.max(o[h],s),T=0,f=0,b=0,c=0;if(e.mFillUseGradient){for(var T=Math.cos(e.mFillGradientAngle+Math.PI)*y,b=0<=(b=Math.sin(e.mFillGradientAngle+Math.PI)*y)?Math.min(b,m):Math.max(b,-m),f=Math.cos(e.mFillGradientAngle)*y,c=0<=(c=Math.sin(e.mFillGradientAngle)*y)?Math.min(c,m):Math.max(c,-m),C=i.context.createLinearGradient(S+T,g+b,S+f,g+c),v=0;v<e.mFillGradient.colorKeys.length;v++)C.addColorStop(e.mFillGradient.colorKeys[v].time,e.mFillGradient.colorKeys[v].color.rgbaAsString());i.context.fillStyle=C}if(e.mOutlineUseGradient){T=Math.cos(e.mOutlineGradientAngle+Math.PI)*y,b=0<=(b=Math.sin(e.mOutlineGradientAngle+Math.PI)*y)?Math.min(b,m):Math.max(b,-m),f=Math.cos(e.mOutlineGradientAngle)*y,c=0<=(c=Math.sin(e.mOutlineGradientAngle)*y)?Math.min(c,m):Math.max(c,-m);for(var M=i.context.createLinearGradient(S+T,g+b,S+f,g+c),A=0;A<e.mOutlineGradient.colorKeys.length;A++)M.addColorStop(e.mOutlineGradient.colorKeys[A].time,e.mOutlineGradient.colorKeys[A].color.rgbaAsString());i.context.strokeStyle=M}}"right"===i._style.align?p+=l-o[h]:"center"===i._style.align&&(p+=(l-o[h])/2),e.stroke&&e.strokeThickness&&(!e.blurShadow&&t.OutlinePosition!=LabelLayerOutlinePosition.Center||0==e.fillCenter||i.context.fillText(a[h],p,d+i._style.padding),i.context.strokeText(a[h],p,d+i._style.padding),i.context.shadowColor="RGBA(0, 0, 0, 0)"),e.fill&&0!=e.fillCenter&&t.OutlinePosition!=LabelLayerOutlinePosition.Center&&i.context.fillText(a[h],p,d+i._style.padding)}},LabelMultipleLayers.prototype.UpdateTextV2=function(){var t=this.label.pixiObjectContent;if(1!=t._skipUpdateTexture){this.ComputeStyles();var e=t._style;t.context.font=e.font;for(var i=(e.wordWrap?t.wordWrap(t._text):t._text).split(/(?:\r\n|\r|\n)/),n=new Array(i.length),o=0,s=t.determineFontProperties(e.font),r=0;r<i.length;r++){var a=t.context.measureText(i[r]).width;n[r]=a,o=Math.max(o,a)}t.extraWidthDueToEffects=this.effectWidth+s.fontSize,t.extraHeightDueToEffects=this.effectHeight;var l=o+t.extraWidthDueToEffects;t.canvas.width=l*t.resolution;var u=t.style.lineHeight||s.fontSize,h=t.style.spacingY||0,l=u*i.length+h*(i.length-1)+s.extraSizeTop;l+=t.extraHeightDueToEffects,t.canvas.height=(l+2*t._style.padding)*t.resolution,t.context.scale(t.resolution,t.resolution),t.context.font=e.font,t.context.textBaseline=e.textBaseline,t.context.lineJoin=e.lineJoin,t.context.miterLimit=e.miterLimit,null==this.renderSprite&&(this.renderSprite=new PIXI.Sprite(t.texture));var c=_PIXI.RenderTexture.GetAvailable(),p=_PIXI.Text.GetAvailable(),d=this.renderSprite;this.ResetTextures(t,c,p);for(r=0;r<this.styles.length;++r){var m=this.styles[r],S=this.layers[r],g=m.fill&&!(0==m.fillCenter),y=m.stroke&&m.strokeThickness,T=S.OutlinePosition==LabelLayerOutlinePosition.Outside;t.context.shadowColor="RGBA(0, 0, 0, 0)",y&&(t.context.clearRect(0,0,t.canvas.width,t.canvas.height),this.DrawStroke(S,m,t,s,n,u,h,i,o,p)),t.context.clearRect(0,0,t.canvas.width,t.canvas.height),y&&T&&t.context.drawImage(p.canvas,0,0),g&&this.DrawFill(this.layers[r],m,t,s,n,u,h,i,o),y&&!T&&t.context.drawImage(p.canvas,0,0),y&&S.OutlinePosition==LabelLayerOutlinePosition.Inside&&(p.context.clearRect(0,0,t.canvas.width,t.canvas.height),p.context.globalCompositeOperation="source-over",p.context.drawImage(t.canvas,0,0),t.context.clearRect(0,0,t.canvas.width,t.canvas.height),this.DrawFillMask(this.layers[r],m,t,s,n,u,h,i,o),p.context.globalCompositeOperation="destination-in",p.context.drawImage(t.canvas,0,0),t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.context.drawImage(p.canvas,0,0)),m.blurShadow&&(p.context.clearRect(0,0,t.canvas.width,t.canvas.height),p.context.globalCompositeOperation="source-over",p.context.drawImage(t.canvas,0,0),t.context.shadowColor=m.dropShadowColor,t.context.shadowBlur=m.dropShadowDistance,t.context.shadowOffsetX=m.blurShadowX,t.context.shadowOffsetY=m.blurShadowY,t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.context.drawImage(p.canvas,0,0)),t.updateTexture(),c.render(d)}t._hack_extraOffsetTop=s.extraSizeTop-t.style.padding,t._hack_extraOffsetBottom=h-t.style.padding,t.context.shadowColor="RGBA(0, 0, 0, 0)",t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.context.drawImage(c.getCanvas(),0,0),t.updateTexture(),_PIXI.Text.SetAvailable(p),_PIXI.RenderTexture.SetAvailable(c)}else this.UpdateText()},LabelMultipleLayers.prototype.DrawFill=function(t,e,i,n,o,s,r,a,l){i.context.fillStyle=e.fill.rgbaAsString();for(var u=0;u<a.length;u++){var h=.5*e.strokeThickness,c=e.offsetX+h+.5*n.fontSize,p=e.offsetY+(h+u*(s+r))+n.ascent+n.extraSizeTop;if(e.blurShadow&&(c+=Math.max(e.dropShadowDistance-e.blurShadowX,0),p+=Math.max(e.dropShadowDistance-e.blurShadowY,0)),e.mFillUseGradient){var d=.5*s,m=c+.5*o[u],S=e.offsetY+(h+u*(s+r))+d+i._style.padding;e.blurShadow&&(S+=Math.max(e.dropShadowDistance-e.blurShadowY,0));var g=.5*Math.max(o[u],s),y=0,h=0,T=Math.cos(e.mFillGradientAngle+Math.PI)*g;y=0<=(y=Math.sin(e.mFillGradientAngle+Math.PI)*g)?Math.min(y,d):Math.max(y,-d);for(var f=Math.cos(e.mFillGradientAngle)*g,h=0<=(h=Math.sin(e.mFillGradientAngle)*g)?Math.min(h,d):Math.max(h,-d),b=i.context.createLinearGradient(m+T,S+y,m+f,S+h),C=0;C<e.mFillGradient.colorKeys.length;C++)b.addColorStop(e.mFillGradient.colorKeys[C].time,e.mFillGradient.colorKeys[C].color.rgbaAsString());i.context.fillStyle=b}"right"===i._style.align?c+=l-o[u]:"center"===i._style.align&&(c+=(l-o[u])/2),i.context.fillText(a[u],c,p+i._style.padding)}},LabelMultipleLayers.prototype.DrawFillMask=function(t,e,i,n,o,s,r,a,l){var u=e.fill,h=e.mFillUseGradient;e.fill=_Color.WHITE(),e.mFillUseGradient=!1,this.DrawFill(t,e,i,n,o,s,r,a,l),e.fill=u,e.mFillUseGradient=h},LabelMultipleLayers.prototype.DrawStroke=function(t,e,i,n,o,s,r,a,l,u){i.context.strokeStyle=_Color.WHITE().rgbaAsString(),i.context.lineWidth=e.strokeThickness,u.context.fillStyle=e.stroke;for(var h=0;h<a.length;h++){var c=.5*e.strokeThickness,p=e.offsetX+c+.5*n.fontSize,d=e.offsetY+(c+h*(s+r))+n.ascent+n.extraSizeTop;if(e.blurShadow&&(p+=Math.max(e.dropShadowDistance-e.blurShadowX,0),d+=Math.max(e.dropShadowDistance-e.blurShadowY,0)),e.mOutlineUseGradient){var m=.5*s,S=p+.5*o[h],g=e.offsetY+(c+h*(s+r))+m+i._style.padding;e.blurShadow&&(g+=Math.max(e.dropShadowDistance-e.blurShadowY,0));var y=.5*Math.max(o[h],s),T=0,f=0,b=Math.cos(e.mOutlineGradientAngle+Math.PI)*y;T=0<=(T=Math.sin(e.mOutlineGradientAngle+Math.PI)*y)?Math.min(T,m):Math.max(T,-m);for(var C=Math.cos(e.mOutlineGradientAngle)*y,f=0<=(f=Math.sin(e.mOutlineGradientAngle)*y)?Math.min(f,m):Math.max(f,-m),v=i.context.createLinearGradient(S+b,g+T,S+C,g+f),M=0;M<e.mOutlineGradient.colorKeys.length;M++)v.addColorStop(e.mOutlineGradient.colorKeys[M].time,e.mOutlineGradient.colorKeys[M].color.rgbaAsString());u.context.fillStyle=v}"right"===i._style.align?p+=l-o[h]:"center"===i._style.align&&(p+=(l-o[h])/2),i.context.strokeText(a[h],p,d+i._style.padding);f=p-c,p=d+i._style.padding-n.ascent-c,d=o[h]+e.strokeThickness,c=s+e.strokeThickness;u.context.globalCompositeOperation="source-over",u.context.fillRect(f,p,d,c),u.context.globalCompositeOperation="destination-in",u.context.drawImage(i.canvas,0,0)}},LabelMultipleLayers.prototype.ResetTextures=function(t,e,i){var n,o;e.resolution=t.resolution,e.resize(t.canvas.width,t.canvas.height,!0),e.clear(),e.renderer.type===PIXI.RENDERER_TYPE.WEBGL&&(n=this.backgroundColor,(o=e.renderer.gl).bindFramebuffer(o.FRAMEBUFFER,e.textureBuffer.frameBuffer),o.clearColor(n.r,n.g,n.b,0),o.clear(o.COLOR_BUFFER_BIT)),i.canvas.width=t.canvas.width,i.canvas.height=t.canvas.height,i.context.scale(t.resolution,t.resolution),this.renderSprite.texture=t.texture},SpringPosition.prototype=Object.create(Component.prototype),(SpringPosition.prototype.constructor=SpringPosition).prototype.deserialize=function(t,e,i){deserializeComponentRec(t,this,e,i)},SpringPosition.prototype.Start=function(){this.mTrans=this.gameObject.transform},SpringPosition.prototype.Update=function(){var t,e;this.enabled&&(e=Time.deltaTime,this.worldSpace?(0==this.mThreshold&&(this.mThreshold=.001*UHTMath.Vector3.sub(this.target,this.mTrans.position()).sqrMagnitude()),t=SpringPosition.SpringLerp(this.mTrans.position(),this.target,this.strength,e),this.mTrans.position(t.x,t.y,t.z),this.mThreshold>=UHTMath.Vector3.sub(this.target,this.mTrans.position()).sqrMagnitude()&&(this.mTrans.position(this.target.x,this.target.y,this.target.z),this.NotifyListeners(),this.enabled=!1)):(0==this.mThreshold&&(this.mThreshold=1e-5*UHTMath.Vector3.sub(this.target,this.mTrans.localPosition()).sqrMagnitude()),e=SpringPosition.SpringLerp(this.mTrans.localPosition(),this.target,this.strength,e),this.mTrans.localPosition(e.x,e.y,e.z),this.mThreshold>=UHTMath.Vector3.sub(this.target,this.mTrans.localPosition()).sqrMagnitude()&&(this.mTrans.localPosition(this.target.x,this.target.y,this.target.z),this.NotifyListeners(),this.enabled=!1)))},SpringPosition.prototype.NotifyListeners=function(){null!=(SpringPosition.current=this).eventReceiver&&null!=this.callWhenFinished&&""!=this.callWhenFinished&&this.eventReceiver[this.callWhenFinished](),SpringPosition.current=null},SpringPosition.Begin=function(t,e,i){var n=t.GetComponent(SpringPosition);return(n=null==n?t.AddComponent("SpringPosition"):n).target=e,n.strength=i,n.enabled||(n.mThreshold=0,n.enabled=!0),n},SpringPosition.current=null,SpringPosition.SpringLerp=function(t,e,i,n){1<n&&(n=1);var o=Math.round(1e3*n);n=.001*i;for(var s=0,r=0;r<o;++r)s=UHTMath.lerp(s,1,n);return UHTMath.Vector3.lerp(t,e,s)},goog.provide("UHT.UIAtlas"),goog.require("UHT.Component");var AtlasUsageID=0;function UIAtlas(){Component.call(this),this.textureContent=null,this.spriteList={},this.resourcePriority=0,this.isBlockingResource=!0,this.fallbackAtlas=null,this.fallbackSpriteName="",this.hasLowEndResource=!1,this.lowEndAtlas=null,this.lowEndSpriteName="",this.pixiTexture=null,this.isInit=!1,this.cachedSimpleSpriteInfo={},this.cachedSlicedSpriteInfo={},this.cachedFilledSpriteInfo={},this.cachedSpriteNames={},this.cachedSprites={},this.isDeferred=!1,this.usesLowEndResource=!1,this.spritesNeedingRefresh=[],this.PPLCAwidth=0,this.PPLCAheight=0,this.resize=100,this.blendMode=0,this.requested=!1,this.texPPLCA_Color="",this.texPPLCA_Alpha="",this.pixiTexPPLCA_Color=null,this.pixiTexPPLCA_Alpha=null,this.PPLCAStep=0,this.usageID="a"+AtlasUsageID,AtlasUsageID++}UIAtlas.prototype=Object.create(Component.prototype),(UIAtlas.prototype.constructor=UIAtlas).spriteListPrefix="s_",UIAtlas.prototype.deserialize=function(t,e,i){for(var n in t.spriteList)null==t.spriteList[n].index&&(t.spriteList[n].index=-1),null==t.spriteList[n].rotate?t.spriteList[n].rotate=!1:t.spriteList[n].rotate=!0,null==t.spriteList[n].x&&(t.spriteList[n].x=0),null==t.spriteList[n].y&&(t.spriteList[n].y=0),null==t.spriteList[n].paddingLeft&&(t.spriteList[n].paddingLeft=0),null==t.spriteList[n].paddingTop&&(t.spriteList[n].paddingTop=0),null==t.spriteList[n].paddingRight&&(t.spriteList[n].paddingRight=0),null==t.spriteList[n].paddingBottom&&(t.spriteList[n].paddingBottom=0),null==t.spriteList[n].borderLeft&&(t.spriteList[n].borderLeft=0),null==t.spriteList[n].borderTop&&(t.spriteList[n].borderTop=0),null==t.spriteList[n].borderRight&&(t.spriteList[n].borderRight=0),null==t.spriteList[n].borderBottom&&(t.spriteList[n].borderBottom=0);for(var o in null==t.resourcePriority&&(t.resourcePriority=0),null==t.isBlockingResource?t.isBlockingResource=!0:t.isBlockingResource=!1,null==t.fallbackAtlas&&(t.fallbackAtlas=null),null==t.fallbackSpriteName&&(t.fallbackSpriteName=""),null==t.hasLowEndResource?t.hasLowEndResource=!1:t.hasLowEndResource=!0,null==t.lowEndAtlas&&(t.lowEndAtlas=null),null==t.lowEndSpriteName&&(t.lowEndSpriteName=""),null==t.resize&&(t.resize=100),null==t.blendMode&&(t.blendMode=0),deserializeComponentRec(t,this,e,i),this.usesLowEndResource=UHT_LOW_END_DEVICE&&this.hasLowEndResource,0<this.resourcePriority&&!this.usesLowEndResource?registerAtlasForDeferredLoading(this):(this.initAtlas(),-1!=LoaderProgress.Import_Textures_Total&&(LoaderProgress.Import_Textures_Current++,console.log("TEX loaded for: "+this.gameObject.name+" "+LoaderProgress.Import_Textures_Current))),this.spriteList)this.cachedSpriteNames[o.replace("s_","")]=o,this.cachedSprites[o.replace("s_","")]=this.spriteList[o]},UIAtlas.prototype.loadAtlasTexture=function(){AtlasUsage[this.usageID]={frame:0,atlas:this,allocated:!1},null==this.pixiTexture&&(this.pixiTexture=PIXI.Texture.fromImage(this.textureContent),createjs.BrowserDetect.isIOS&&Renderer.IsWebGL&&this.pixiTexture.baseTexture.dispose(),this.textureContent="")};var AtlasUsage={};function PPLCAFilter(t){PIXI.AbstractFilter.call(this,null,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform sampler2D AlphaMap;void main(void){vec3 col = texture2D(uSampler, vTextureCoord).rgb;float alpha = texture2D(AlphaMap, vTextureCoord).r;gl_FragColor = vec4(col * alpha, alpha);} ",{AlphaMap:{type:"sampler2D",value:t}})}function UIButton(){Component.call(this),this.target=null,this.targetIsSprite=!1,this.normal="",this.hover="",this.pressed="",this.disabled="",this.color_normal=null,this.color_hover=null,this.color_pressed=null,this.color_disabled=null,this.onClick=[],this.curState=UIButton.State.None}function UIEventDelegate(){this.target=null,this.methodName=""}function UIButtonScale(){Component.call(this),this.tweenTarget=null,this.hover=null,this.pressed=null,this.normalScale=null,this.mStarted=!1}function UIFont(){Component.call(this),this.fontData="",this.hasFontLoaded=!1,this.texture="",this.name="",this.isLoading=!1,this.callback=[],this.object=[],this.chars=""}function UIInput(){Component.call(this),this.label=null,this.value="",this.activeTextColor=null,this.inactiveTextColor=null,this.caretColor=null,this.validation=UIInput.Validation.None,this.characterLimit=0,this.caretGameObject=null,this.clearValueOnSelect=!1,this.linkedUIInput=null,this.localizedDefaultValueLabel=null,this.mobilePromptMessage=null,this.userCanceledInput=null,this.onChange=[],this.caretCachedPosition=new UHTMath.Vector3(0,0,0),this.keysPressed=[],this.isSelected=!1,this.TextExtraHandler=null,this.setValueOnStart=!0}UIAtlas.prototype.UseNow=function(){var t=AtlasUsage[this.usageID];null!=t&&(t.allocated=!0,t.frame=Time.frameCount)},UIAtlas.CheckUsageAndClean=function(){if(createjs.BrowserDetect.isIOS&&Renderer.IsWebGL)for(var t in AtlasUsage){t=AtlasUsage[t];t.allocated&&t.frame<Time.frameCount-200&&t.atlas.pixiTexture.baseTexture.dispose()}},UIAtlas.prototype.initAtlas=function(){this.isInit||(this.isInit=!0,this.usesLowEndResource||(0<this.resourcePriority&&0==this.isLoaded()?this.isBlockingResource?(this.loadAtlasTexture(),signalNeedPauseForTexture(this)):this.isDeferred=!0:this.loadAtlasTexture()))},UIAtlas.prototype.isLoaded=function(){return null!=this.pixiTexture&&this.pixiTexture.valid},UIAtlas.prototype.internalTextureLoadedCallback=function(){if(this.isDeferred){this.isDeferred=!1;for(var t=0;t<this.spritesNeedingRefresh.length;t++){var e=this.spritesNeedingRefresh[t];null!=e&&e.SetSpriteName(e.spriteName)}this.spritesNeedingRefresh=[]}},UIAtlas.prototype.hasSprite=function(t){return null!=this.cachedSprites[t]},UIAtlas.prototype.getSpriteNames=function(){var t,e=[];for(t in this.spriteList){var i=t.slice(UIAtlas.spriteListPrefix.length,t.length);e.push(i)}return e},UIAtlas.prototype.getTextureInfoForSprite=function(t,e){if(this.initAtlas(),this.usesLowEndResource)return null!=this.lowEndAtlas?this.lowEndAtlas.getTextureInfoForSprite(t,this.lowEndSpriteName):new PIXI.Texture(new PIXI.BaseTexture);if(this.isDeferred)return this.spritesNeedingRefresh.push(t),null!=this.fallbackAtlas?this.fallbackAtlas.getTextureInfoForSprite(t,this.fallbackSpriteName):new PIXI.Texture(new PIXI.BaseTexture);switch(t.spriteType){case UISprite.Type.Simple:return this.getTextureForSimpleSprite(t,e);case UISprite.Type.Filled:return this.getTextureForFilledSprite(t,e);case UISprite.Type.Sliced:return this.getTexturesForSlicedSprite(t,e)}},UIAtlas.prototype.getTextureForSimpleSprite=function(t,e){if(null!=this.cachedSimpleSpriteInfo[this.cachedSpriteNames[e]])return this.cachedSimpleSpriteInfo[this.cachedSpriteNames[e]];var i=this.cachedSprites[e];if(null==i)return console.error("Invalid sprite name: "+e),null;var n=new PIXI.Rectangle(i.x,i.y,i.width,i.height),o=new PIXI.Rectangle(i.x,i.y,i.width,i.height),i=new PIXI.Rectangle(i.paddingLeft,i.paddingTop,i.width+i.paddingLeft+i.paddingRight,i.height+i.paddingTop+i.paddingBottom),i=new PIXI.Texture(this.pixiTexture,n,o,i);return this.cachedSimpleSpriteInfo[this.cachedSpriteNames[e]]=i},UIAtlas.prototype.getTextureForFilledSprite=function(t,e){var i=UIAtlas.spriteListPrefix+e+t.fillDirection+t.invert+t.fillAmount+t.fillAmountTop+t.fillAmountBottom+t.fillAmountLeft+t.fillAmountRight;if(null!=this.cachedFilledSpriteInfo[i])return this.cachedFilledSpriteInfo[i];var n=this.cachedSprites[e];if(null==n)return console.error("Invalid sprite name: "+e),null;var o,s,r,a,l=n.paddingLeft,u=n.paddingRight,h=n.paddingTop,c=n.paddingBottom,p=n.x,d=n.y,m=n.width,S=n.height,g=S+h+c,y=m+l+u,T=t.fillAmount;switch(t.fillDirection){case UISprite.FillDirection.Horizontal:T=(t.fillAmount*y-(t.invert?u:l))/m,t.invert?(p+=m*(1-T),l+=m*(1-T)):u+=m*(1-T),m*=T;break;case UISprite.FillDirection.Vertical:T=(t.fillAmount*g-(t.invert?h:c))/S,t.invert?c+=S*(1-T):(d+=S*(1-T),h+=S*(1-T)),S*=T;break;case UISprite.FillDirection.Custom:o=(t.fillAmountTop*g-c)/S,s=(t.fillAmountBottom*g-h)/S,r=(t.fillAmountLeft*y-u)/m,a=(t.fillAmountRight*y-l)/m,d+=S*(1-o),h+=S*(1-o),c+=S*(1-s),S*=o+s-1,p+=m*(1-r),l+=m*(1-r),u+=m*(1-a),m*=r+a-1;var f=0,b=0,C=0,v=0;p<n.x&&(f=n.x-p,p=n.x,m-=f),d<n.y&&(C=n.y-d,d=n.y,S-=C),m>n.width&&(b=m-n.width,m=n.width),S>n.height&&(v=S-n.height,S=n.height),l+=f,c+=v,u+=b,h+=C;break;default:console.error("this type of filled sprite is not supported! ",t.fillDirection," For sprite: ",t.spriteName)}var M=new PIXI.Rectangle(p,d,m,S),A=new PIXI.Rectangle(p,d,m,S),e=new PIXI.Rectangle(l,h,m+l+u,S+h+c),e=new PIXI.Texture(this.pixiTexture,M,A,e);return this.cachedFilledSpriteInfo[i]=e},UIAtlas.prototype.getTexturesForSlicedSprite=function(t,e){if(null!=this.cachedSlicedSpriteInfo[this.cachedSpriteNames[e]])return this.cachedSlicedSpriteInfo[this.cachedSpriteNames[e]];var i=this.cachedSprites[e];if(null==i)return console.error("Invalid sprite name: "+e),null;var n=new PIXI.Rectangle(i.x,i.y,i.width,i.height),o=(new PIXI.Rectangle(i.x,i.y,i.width,i.height),new PIXI.Rectangle(i.paddingLeft,i.paddingTop,i.width+i.paddingLeft+i.paddingRight,i.height+i.paddingTop+i.paddingBottom)),s=n.clone(),r=o.clone(),a=n.clone(),l=o.clone(),u=n.clone(),h=o.clone(),c=n.clone(),p=o.clone(),d=n.clone(),m=o.clone(),S=n.clone(),g=o.clone(),y=n.clone(),T=o.clone(),f=n.clone(),b=o.clone(),C=n.clone(),v=o.clone(),M=i.borderLeft,A=i.borderRight,L=i.borderTop,I=i.borderBottom,R=i.paddingLeft,P=i.paddingRight,_=i.paddingBottom,E=i.paddingTop,D=i.width,n=i.height;s.width=M,s.height=L,r.width=M+R,r.height=L+E;o=s.clone(),o=new PIXI.Texture(this.pixiTexture,s,o,r);a.x+=M,a.width=D-M-A||1,a.height=L,l.x=0,l.width=D-M-A||1,l.height=L+E;r=a.clone(),l=new PIXI.Texture(this.pixiTexture,a,r,l);u.x+=D-A,u.width=A,u.height=L,h.x=0,h.width=A+P,h.height=L+E;E=u.clone(),E=new PIXI.Texture(this.pixiTexture,u,E,h);c.y+=L,c.width=M,c.height=n-L-I||1,p.y=0,p.width=M+R,p.height=n-L-I||1;h=c.clone(),h=new PIXI.Texture(this.pixiTexture,c,h,p);d.x+=M,d.y+=L,d.width=D-M-A,d.height=n-L-I,m.x=0,m.y=0,m.width=D-M-A,m.height=n-L-I;p=d.clone(),m=new PIXI.Texture(this.pixiTexture,d,p,m);S.x+=D-A,S.y+=L,S.width=A,S.height=n-L-I||1,g.x=0,g.y=0,g.width=A+P,g.height=n-L-I||1;L=S.clone(),g=new PIXI.Texture(this.pixiTexture,S,L,g);y.y+=n-I,y.width=M,y.height=I,T.y=0,T.width=M+R,T.height=I+_;R=y.clone(),T=new PIXI.Texture(this.pixiTexture,y,R,T);f.x+=M,f.y+=n-I,f.width=D-M-A||1,f.height=I,b.x=0,b.y=0,b.width=D-M-A||1,b.height=I+_;M=f.clone(),b=new PIXI.Texture(this.pixiTexture,f,M,b);C.x+=D-A,C.y+=n-I,C.width=A,C.height=I,v.x=0,v.y=0,v.width=A+P,v.height=I+_;_=C.clone(),i={texture00:o,texture01:l,texture02:E,texture10:h,texture11:m,texture12:g,texture20:T,texture21:b,texture22:new PIXI.Texture(this.pixiTexture,C,_,v),borderLeft:i.borderLeft,borderRight:i.borderRight,borderBottom:i.borderBottom,borderTop:i.borderTop,paddingLeft:i.paddingLeft,paddingRight:i.paddingRight,paddingBottom:i.paddingBottom,paddingTop:i.paddingTop};return this.cachedSlicedSpriteInfo[this.cachedSpriteNames[e]]=i},PPLCAFilter.prototype=Object.create(PIXI.AbstractFilter.prototype),PPLCAFilter.prototype.constructor=PPLCAFilter,goog.provide("UHT.UIButton"),goog.require("UHT.Component"),UIButton.prototype=Object.create(Component.prototype),(UIButton.prototype.constructor=UIButton).State={Normal:0,Hover:1,Pressed:2,Disabled:3,None:4},UIButton.prototype.OnHover=function(t){null!=this.target&&(null!=this.gameObject.collider&&this.gameObject.collider.enabled?this.InternalChangeState(t?UIButton.State.Hover:UIButton.State.Normal):this.InternalChangeState(UIButton.State.Disabled))},UIButton.prototype.OnPress=function(t){null!=this.target&&this.InternalChangeState(t?UIButton.State.Pressed:UIButton.State.Normal)},UIButton.prototype.OnClick=function(){for(var t=0;t<this.onClick.length;t++){var e=this.onClick[t];null!=e.target&&e.target[e.methodName]()}},UIButton.prototype.SetEnabled=function(t){null!=this.gameObject.collider&&(this.gameObject.collider.enabled=t,this.InternalChangeState(t?UIButton.State.Normal:UIButton.State.Disabled))},UIButton.prototype.OnDisable=function(){var t=null!=this.gameObject.collider&&this.gameObject.collider.enabled;this.InternalChangeState(t?UIButton.State.Normal:UIButton.State.Disabled)},UIButton.prototype.InternalChangeState=function(t){if(null!=this.target){switch(t){case UIButton.State.Normal:this.targetIsSprite?(this.target.SetSpriteName(this.normal),this.target.color=this.color_normal):this.target.SetColor(this.color_normal);break;case UIButton.State.Hover:this.targetIsSprite?(this.target.SetSpriteName(""!=this.hover?this.hover:this.normal),this.target.color=this.color_hover):this.target.SetColor(this.color_hover);break;case UIButton.State.Pressed:this.targetIsSprite?(this.target.SetSpriteName(""!=this.pressed?this.pressed:this.normal),this.target.color=this.color_pressed):this.target.SetColor(this.color_pressed);break;case UIButton.State.Disabled:this.targetIsSprite?(this.target.SetSpriteName(""!=this.disabled?this.disabled:this.normal),this.target.color=this.color_disabled):this.target.SetColor(this.color_disabled)}this.curState=t}},goog.provide("UHT.UIButtonScale"),goog.require("UHT.Component"),UIButtonScale.prototype=Object.create(Component.prototype),(UIButtonScale.prototype.constructor=UIButtonScale).State={Normal:0,Hover:1,Pressed:2},UIButtonScale.prototype.Start=function(){this.mStarted||(this.mStarted=!0,null==this.tweenTarget&&(this.tweenTarget=this.gameObject.transform),this.normalScale=new UHTMath.Vector3(this.tweenTarget.localScale()),this.hover=new UHTMath.Vector3(this.hover.x*this.normalScale.x,this.hover.y*this.normalScale.y,this.hover.z*this.normalScale.z),this.pressed=new UHTMath.Vector3(this.pressed.x*this.normalScale.x,this.pressed.y*this.normalScale.y,this.pressed.z*this.normalScale.z))},UIButtonScale.prototype.OnEnable=function(){this.mStarted&&this.InternalChangeState(UIButton.State.Normal)},UIButtonScale.prototype.OnDisable=function(){this.mStarted&&null!=this.tweenTarget&&this.InternalChangeState(UIButton.State.Normal)},UIButtonScale.prototype.OnPress=function(t){this.enabled&&(this.mStarted||this.Start(),this.InternalChangeState(t?UIButton.State.Pressed:UIButton.State.Normal))},UIButtonScale.prototype.OnHover=function(t){this.enabled&&(this.mStarted||this.Start(),this.InternalChangeState(t?UIButton.State.Hover:UIButton.State.Normal))},UIButtonScale.prototype.InternalChangeState=function(t){if(null!=this.tweenTarget)switch(t){case UIButtonScale.State.Normal:this.tweenTarget.localScale(this.normalScale);break;case UIButtonScale.State.Hover:this.tweenTarget.localScale(this.hover);break;case UIButtonScale.State.Pressed:this.tweenTarget.localScale(this.pressed);break;default:this.tweenTarget.localScale(this.normalScale)}},goog.provide("UHT.UIFont"),goog.require("UHT.Component"),UIFont.prototype=Object.create(Component.prototype),(UIFont.prototype.constructor=UIFont).prototype.deserialize=function(t,e,i){deserializeComponentRec(t,this,e,i),this.SetBitmapFontName(),this.LoadFont()},UIFont.prototype.SetBitmapFontName=function(){var t=this.fontData.search("face=")+6,e=this.fontData.search("size=")-2;this.name=this.fontData.substring(t,e)},UIFont.prototype.AfterLoad=function(){if(0<this.callback.length)for(var t=0;t<this.callback.length;t++)this.callback[t].call(this.object[t]);this.hasFontLoaded=!0},UIFont.prototype.LoadFont=function(){this.isLoading=!0;var t=PIXI.Texture.fromImage(this.texture,void 0,void 0,!0);this.texture="";var e=(new DOMParser).parseFromString(this.fontData,"text/xml"),i=e.getElementsByTagName("char");this.chars="";for(var n=0;n<i.length;n++)this.chars+=String.fromCharCode(i[n].id);PIXI.extras.BitmapText.parse(e,t),this.AfterLoad()},goog.provide("UHT.UIInput"),goog.require("UHT.Component"),UIInput.prototype=Object.create(Component.prototype),(UIInput.prototype.constructor=UIInput).Validation={None:0,Integer:1,Float:2,Alphanumeric:3,Username:4,Name:5},UIInput.curSelectedUIInput=null,UIInput.prototype.Start=function(){this.setValueOnStart&&this.SetValue(this.value),this.label.SetColor(this.activeTextColor),this.caretCachedPosition=this.caretGameObject.transform.localPosition()},UIInput.prototype.OnDisable=function(){this.Select(!1)},UIInput.prototype.OnClick=function(){var t;this.Select(!0),Globals.isMobile&&null!=this.mobilePromptMessage&&(null==(t=prompt(this.mobilePromptMessage.text))?this.userCanceledInput.Start():(this.Insert(t),this.Select(!1)))},UIInput.prototype.Update=function(){var t;this.isSelected&&((Input.GetKeyDown(KeyCode.Alpha0)||Input.GetKeyDown(KeyCode.Keypad0))&&this.Insert("0"),(Input.GetKeyDown(KeyCode.Alpha1)||Input.GetKeyDown(KeyCode.Keypad1))&&this.Insert("1"),(Input.GetKeyDown(KeyCode.Alpha2)||Input.GetKeyDown(KeyCode.Keypad2))&&this.Insert("2"),(Input.GetKeyDown(KeyCode.Alpha3)||Input.GetKeyDown(KeyCode.Keypad3))&&this.Insert("3"),(Input.GetKeyDown(KeyCode.Alpha4)||Input.GetKeyDown(KeyCode.Keypad4))&&this.Insert("4"),(Input.GetKeyDown(KeyCode.Alpha5)||Input.GetKeyDown(KeyCode.Keypad5))&&this.Insert("5"),(Input.GetKeyDown(KeyCode.Alpha6)||Input.GetKeyDown(KeyCode.Keypad6))&&this.Insert("6"),(Input.GetKeyDown(KeyCode.Alpha7)||Input.GetKeyDown(KeyCode.Keypad7))&&this.Insert("7"),(Input.GetKeyDown(KeyCode.Alpha8)||Input.GetKeyDown(KeyCode.Keypad8))&&this.Insert("8"),(Input.GetKeyDown(KeyCode.Alpha9)||Input.GetKeyDown(KeyCode.Keypad9))&&this.Insert("9"),(Input.GetKeyDown(KeyCode.Comma)||Input.GetKeyDown(KeyCode.DecimalPoint)||Input.GetKeyDown(KeyCode.Period))&&this.Insert("."),Input.GetKeyDown(KeyCode.Backspace)&&this.DoBackspace(),this.OnKeyDownUpdate(),null!=this.label.pixiObjectContent&&((t=new UHTMath.Vector3(this.caretCachedPosition)).x+=0==this.label.text.length?0:(this.label.pixiObjectContent.canvas.width-this.label.pixiObjectContent.extraWidthDueToEffects)/this.label.resize,this.caretGameObject.transform.localPosition(t)))},UIInput.prototype.Select=function(t){this.isSelected!=t&&(KeyboardManager._keyboardReceiver=t?this:{},this.clearValueOnSelect&&!this.isSelected&&this.SetValue(""),this.isSelected=t,this.isSelected?(null!=UIInput.curSelectedUIInput&&UIInput.curSelectedUIInput.Select(!1),UIInput.curSelectedUIInput=this):UIInput.curSelectedUIInput=null,this.caretGameObject.SetActive(this.isSelected),this.InternalSetText())},UIInput.prototype.ValidateAndNotify=function(t){var e=this.value;if(this.Validate(t),e!=this.value){null!=this.linkedUIInput&&this.linkedUIInput.SetValue(this.value);for(var i=0;i<this.onChange.length;i++){var n=this.onChange[i];null!=n.target&&n.target[n.methodName]()}}},UIInput.prototype.Validate=function(t){if(this.value=t,0<this.characterLimit&&this.value.length>this.characterLimit&&(this.value=this.value.substring(0,this.characterLimit)),this.validation!=UIInput.Validation.Integer)this.validation==UIInput.Validation.Float||console.log("Invalid Validation for UIInput! Only Integer supported!");else{for(;0<this.value.length;){var e=parseInt(this.value,10);if(isFinite(e)&&!isNaN(e))return void(this.value=e.toString());this.value=this.value.substring(0,this.value.length-1)}this.value="0"}},UIInput.prototype.SetValue=function(t){this.ValidateAndNotify(t),this.InternalSetText()},UIInput.prototype.Insert=function(t){if("."==t){if(/\./.test(this.value))return;_string.IsNullOrEmpty(this.value)&&(this.value="0")}else"0"==this.value&&(this.value="");this.ValidateAndNotify(this.value+t),this.InternalSetText()},UIInput.prototype.DoBackspace=function(){this.ValidateAndNotify(this.value.substring(0,this.value.length-1)),this.InternalSetText()},UIInput.prototype.Clear=function(){this.ValidateAndNotify("0"),this.InternalSetText()},UIInput.prototype.InternalSetText=function(){this.label.text=null!=this.TextExtraHandler?this.TextExtraHandler(this.value):this.value},UIInput.prototype.OnKeyDown=function(t){this.isSelected&&this.keysPressed.push(t)},UIInput.prototype.OnKeyDownUpdate=function(){for(;0<this.keysPressed.length;){var t=this.keysPressed.shift();1==t.length?this.Insert(t):"backspace"==t.toLowerCase()?this.DoBackspace():"escape"==t.toLowerCase()&&this.userCanceledInput.Start()}},UIInput.prototype.Reset=function(){this.Select(!1),this.localizedDefaultValueLabel&&this.SetValue(this.localizedDefaultValueLabel.text)},goog.provide("UHT.UILabel"),goog.require("UHT.Component"),UILabel.prototype=Object.create(Component.prototype),UILabel.prototype.constructor=UILabel;var LabelUsageID=0;function UILabel(){Component.call(this),this.wasInitCalled=!1,this.fontName=null,this.fontSize=0,this.currentFontSize=0,this._text="",this.anchorX=0,this.anchorY=0,this.depth=0,this.color=null,this.overflow=UILabel.Overflow.ShrinkContent,this.alignment=UILabel.Alignment.Automatic,this.effectStyle=UILabel.Effect.Outline,this.effectColor=null,this.effectWidth=0,this.effectHeight=0,this.dropShadowDistance=1.5*this.effectWidth,this.maxLines=0,this.width=2,this.height=2,this.spacingY=0,this.multipleLayers=null,this.pixiObject=null,this.pixiObjectContent=null,this.panel=null,this.mask=null,this._pixiPosDirty=!0,this.oldColor=-1,this.textIsUnprocessed=!1,this.mBlurShadow=!1,this.mBlurShadowSize=1,this.mBlurShadowOffsetX=1,this.mBlurShadowOffsetY=1,this.mBlurShadowColor=null,this.mOutline=!1,this.mOutlineThickness=1,this.mOutlineColor=null,this.mFillCenter=!0,this.mArcRadius=0,this.circularChildren=[],this.circularChildrenWidth=[],this.fontNameExpectedFromCallback="",this.zeroScale=!1,this.isDOG=!1,this.DOGchars=null,this.DOGmonospaceDigits=!1,this.resize=1,this.dontIgnoreLocalScale=!1,this.useColorForBitmapFont=!1,this.keepInMemory=!1,this.IOSresized=!1,this.usageID="l"+LabelUsageID,LabelUsageID++}Object.defineProperties(UILabel.prototype,{text:{get:function(){return this._text},set:function(t){this.InternalSetText(t,!1)}},mColor:{get:function(){return this.color}}}),UILabel.Overflow={ShrinkContent:0,ClampContent:1,ResizeFreely:2,ResizeHeight:3},UILabel.Alignment={Automatic:0,Left:1,Center:2,Right:3,Justified:4},UILabel.Effect={None:0,Shadow:1,Outline:2,Outline8:3,Custom:4,Layered:5};var LabelUsage={};UILabel.prototype.UseNow=function(){var t=LabelUsage[this.usageID];null!=t&&(t.allocated=!0,t.frame=Time.frameCount)},UILabel.CheckUsageAndClean=function(){if(createjs.BrowserDetect.isIOS)for(var t in LabelUsage){t=LabelUsage[t];!t.allocated||t.label.isDOG||t.label.keepInMemory||t.frame<Time.frameCount-3600&&(t.label.pixiObjectContent.destroy({texture:!0,baseTexture:!0}),t.label.pixiObject=null,t.label.pixiObjectContent=null,t.label.textIsUnprocessed=!0,t.allocated=!1)}},UILabel.prototype.InternalSetText=function(t,e){t=String(t);if(this._text!=t||this.textIsUnprocessed)if(this._pixiPosDirty=!0,this._text=t,this.gameObject.activeInHierarchy||e){if(this.textIsUnprocessed=!1,""==t)return this.overflow==UILabel.Overflow.ResizeFreely&&(this.width=0),void(this.pixiObject=null);null==this.pixiObject?this.init(e):"object"!=_typeof3(this.fontName)&&(this.gameObject.activeInHierarchy||e)&&(this.isDOG?this.textIsUnprocessed=!0:(this.effectStyle==UILabel.Effect.Custom&&this.init(e),this.pixiObjectContent.text=this._text,this.processPixiText()))}else this.textIsUnprocessed=!0},UILabel.prototype.Prepare=function(){var t;Globals.isMobile&&"object"!=_typeof3(this.fontName)&&(this.IOSresized||(30<this.fontSize&&.9<this.resize&&(t=(this.fontSize-.75*(this.fontSize-30))/this.fontSize,this.resize*=t,this.fontSize*=t,this.fontSize=0|Math.max(this.fontSize,2),this.width*=t,this.width=0|Math.max(this.width,2),this.height*=t,this.height=0|Math.max(this.height,2),this.effectWidth*=t,this.effectHeight*=t,this.spacingY*=t,this.mBlurShadowSize*=t,this.mBlurShadowOffsetX*=t,this.mBlurShadowOffsetY*=t,this.mOutlineThickness*=t,this.mArcRadius*=t),this.IOSresized=!0)),this.fontNameExpectedFromCallback=this.fontName,"object"==_typeof3(this.fontName)?(this.fontName.callback.push(this.init),this.fontName.object.push(this)):FontLoader.AddHandler(this.fontName,this.init,this)},UILabel.prototype.Start=function(){this.Prepare(),this.panel=FindPanel(this.gameObject.transform)},UILabel.prototype.OnWillRenderObject=function(){if(this.textIsUnprocessed&&this.InternalSetText(this._text,!1),"object"==_typeof3(this.fontName)){if(!this.fontName.hasFontLoaded)return;if(this.fontName.isLoading&&!this.wasInitCalled&&this.init(),null==this.pixiObject)return;if(this.pixiObject.mask=this.mask,"string"==typeof(n=this.pixiObjectContent).text&&n.text==this._text||(n.text=this._text,n.updateText(),this.processPixiText(),this._pixiPosDirty=!0),this.pixiObject.visible=this.enabled,this.isDOG)for(var t=0;t<n.children.length;t++)(i=n.children[t]).alpha=this.color.a*this.panel.alpha,i.worldAlpha=i.alpha;else for(t=0;t<n.children.length;t++)i=n.children[t],this.useColorForBitmapFont?(i.alpha=this.color.a*this.panel.alpha,i.tint=this.color.rgbAsHex):i.alpha=+this.panel.alpha,i.worldAlpha=i.alpha}else{if(this.isDOG)return void this.init();if(this.wasInitCalled||this.init(),null==this.pixiObject)return;if(0!=this.mArcRadius)for(var e=0;e<this.circularChildren.length;e++)this.circularChildren[e].gameObject.GetComponent(UILabel).enabled=!0;this.pixiObject.mask=this.mask;var i,n=this.pixiObjectContent,o=this.color.a<.05;this.pixiObject.visible=this.enabled&&!o,IS_UCBROWSER&&this.mFillUseGradient&&(a=this.color.a,i=this.mFillGradient.colorKeys[0].color,this.color=Color.Lerp(i,i,0),this.color.a=a);var s=this.color.rgbAsHex;this.oldColor!=s&&(this.oldColor=s,n.style.fill=this.color.rgbAsString(),n.dirty=!0),n.alpha=this.color.a*this.panel.alpha,n.worldAlpha=n.alpha,n.text!=this._text?(n.text=this._text,this.processPixiText()):n.text=this._text}var r,a,l=this.gameObject.transform;this.pixiObject.visible&&(n.height,this.zeroScale?this.pixiObject.visible=!1:this.UseNow(),(this._pixiPosDirty||l.IsDirtyUserFlag(Transform._DirtyFlagLabel))&&(l._internal_get_position(),l._internal_get_rotation(),l._internal_get_scale(),l.ClearDirtyUserFlag(Transform._DirtyFlagLabel),this._pixiPosDirty=!1,null!=this.pixiObject&&(this.pixiObject.dirtyWT=!0,r=this.pixiObject,o=this.pixiObjectContent,a=l.parent.transform,r.x=a._dangerous_get_position().x,r.y=-a._dangerous_get_position().y,s=this.ComputeOffsets(o),o.x=l._dangerous_get_localPosition().x*this.resize-s.X,o.y=-l._dangerous_get_localPosition().y*this.resize-s.Y,r.rotation=-a._dangerous_get_rotation().eulerAnglesRad().z,o.rotation=-l._dangerous_get_localRotation().eulerAnglesRad().z,r.scale.x=a._dangerous_get_scale().x/this.resize,r.scale.y=a._dangerous_get_scale().y/this.resize,this.dontIgnoreLocalScale&&(o.scale.x=l._dangerous_get_localScale().x,o.scale.y=l._dangerous_get_localScale().y),this.zeroScale=Math.abs(r.scale.x*r.scale.y)<1e-16)))},UILabel.prototype.ComputeOffsets=function(t){var e,i=0,n=0,o=0,s=0,r=0;switch(this.effectStyle){case UILabel.Effect.Outline:case UILabel.Effect.Outline8:n=this.mOutlineThickness,o=-this.mOutlineThickness,s=this.mOutlineThickness,r=-this.mOutlineThickness;break;case UILabel.Effect.Shadow:o=-this.dropShadowDistance,r=-this.dropShadowDistance;break;case UILabel.Effect.Custom:this.mOutline&&(n=this.mOutlineThickness,o=-this.mOutlineThickness,s=this.mOutlineThickness,r=-this.mOutlineThickness),this.mBlurShadow&&(n+=e=Math.max(this.mBlurShadowSize-this.mBlurShadowOffsetY,0),o-=Math.max(2*this.mBlurShadowSize+Math.abs(this.mBlurShadowOffsetY),0)-e,s+=e=Math.max(this.mBlurShadowSize-this.mBlurShadowOffsetX,0),r-=Math.max(2*this.mBlurShadowSize+Math.abs(this.mBlurShadowOffsetX),0)-e);break;case UILabel.Effect.Layered:n=this.multipleLayers.effectPlusTop,o=this.multipleLayers.effectPlusBottom,s=this.multipleLayers.effectPlusLeft,r=this.multipleLayers.effectPlusRight}if("object"==_typeof3(this.fontName)){var a=0,l=0,u={textHeight:0,textWidth:0},u=this.pixiObjectContent,i=this.anchorY<.1?a+n:.9<this.anchorY?l+o+u.textHeight:(a+l+n+o)/2+u.textHeight/2;return{X:this.anchorX<.1?s:.9<this.anchorX?r+u.textWidth:(s+r)/2+u.textWidth/2,Y:i}}a=t._hack_extraOffsetTop,l=t._hack_extraOffsetBottom,t=.5*t.determineFontProperties(t._style.font).fontSize;return i=this.anchorY<.1?a+n:.9<this.anchorY?l+o:(a+l+n+o)/2,{X:this.anchorX<.1?t+s:.9<this.anchorX?-t+r:(s+r)/2,Y:i}};var DOG_Cache=[];function UIPanel(){Component.call(this),this.container=null,this.depth=0,this.alpha=0,this.mask=null,this.container=new PIXI.Container,this.container.worldAlpha=1}function UIRoot(){Component.call(this),this.scalingStyle=0,this.manualWidth=0,this.manualHeight=0,this.minimumHeight=0,this.maximumHeight=0,this.fitWidth=!0,this.fitHeight=!0,this.adjustByDPI=!1,this.shrinkPortraitUI=!1,this.oldscale=-1}function UISprite(){Component.call(this),this.spriteName="",this.spriteType=UISprite.Type.Simple,this.fillCenter=!0,this.depth=0,this.atlas=null,this.width=0,this.height=0,this.anchorX=0,this.anchorY=0,this.color=null,this.autoResizeBoxCollider=!1,this.pixiObject=null,this.pixiObjectContent=null,this.panel=null,this.mask=null,this._pixiPosDirty=!0,this.oWidth=-1,this.oHeight=-1,this.fillDirection=UISprite.FillDirection.Horizontal,this.fillAmount=1,this.fillAmountTop=1,this.fillAmountBottom=1,this.fillAmountLeft=1,this.fillAmountRight=1,this.invert=!1,this.isAtlasLoaded=!1,this.zeroScale=!1}function UIZoomSprite(){UISprite.call(this),this.zoomAmmount=.5,this.zoomPivot=new UHTMath.Vector3,this.rectFrameO=null,this.rectCropO=null,this.rectTrimO=null}UILabel.prototype.init=function(t){if(this.gameObject.activeInHierarchy||!0===t)if(""!=this._text){if(this.fontNameExpectedFromCallback==this.fontName){if(this._pixiPosDirty=!0,this.isDOG&&"object"!=_typeof3(this.fontName)){if(null==this.DOGchars||!FontLoader.IsLoaded(this.fontName))return;null!=this.pixiObjectContent&&this.pixiObjectContent.destroy({texture:!0,baseTexture:!0}),this.pixiObjectContent=new PIXI.Text(""),(M=this.pixiObjectContent)._hack_NoCutFix=!0,M.style.font=this.fontSize+"px "+this.fontName,M.style.lineHeight=this.fontSize,M.style.spacingY=this.spacingY,M.style.fill=this.color.rgbAsString(),M.alpha=1,M.text=" ",M.updateText();t=M._width;this.SetupEffects();for(var e,i,n=JSON.stringify(M.style)+this.DOGchars,o=!1,s=0;s<DOG_Cache.length;s++)DOG_Cache[s].key==n&&(this.fontName=DOG_Cache[s].uif,this.fontNameExpectedFromCallback=DOG_Cache[s].uif,this.pixiObjectContent=null,DOG_Cache[s].count++,o=!0);if(!o){this.effectStyle==UILabel.Effect.Layered?(e=this.multipleLayers.effectWidth,i=this.multipleLayers.effectHeight):(e=M.style.strokeThickness,i=M.style.strokeThickness,M.style.dropShadow&&(e+=M.style.dropShadowDistance,i+=M.style.dropShadowDistance),M.style.blurShadow&&(e+=Math.max(2*M.style.dropShadowDistance+Math.abs(M.style.blurShadowX),0),i+=Math.max(2*M.style.dropShadowDistance+Math.abs(M.style.blurShadowY),0)));var r=" ";if(0<e)for(var a=Math.ceil(e/t),l=0;l<a;++l)r+=" ";e*=this.anchorX,i*=this.anchorY,i+=M._hack_extraOffsetTop,this.effectStyle==UILabel.Effect.Layered&&(this.anchorY<.1?i-=this.multipleLayers.effectPlusTop:.9<this.anchorY?i-=this.multipleLayers.effectPlusBottom:i-=.5*(this.multipleLayers.effectPlusTop+this.multipleLayers.effectPlusBottom),this.anchorX<.1?e-=this.multipleLayers.effectPlusLeft:.9<this.anchorX?e-=this.multipleLayers.effectPlusRight:e-=.5*(this.multipleLayers.effectPlusLeft+this.multipleLayers.effectPlusRight));t=-1<(h=this.DOGchars).indexOf(" ");h.replace(" ","");for(var u=[],l=0;l<h.length;++l)u.push(h[l]);var h=(t?" ":"")+r+u.join(r)+r,c="",p=0,d=0,m=!1,S=-1,u=[],g="",y='<?xml version="1.0"?><font>';y+='<info face="{0}" size="{1}" bold="0" italic="0" charset="" unicode="1" stretchH="100" smooth="1" aa="1" padding="0,0,0,0" spacing="0,0" outline="0"/>',y+='<common lineHeight="{1}" base="{1}" scaleW="{2}" scaleH="{1}" pages="1" packed="0" alphaChnl="0" redChnl="4" greenChnl="4" blueChnl="4"/>',y+='<chars count="{3}">';for(var T,f,b,l=0;l<h.length;++l)(m=u.indexOf(h[l])<0)&&(M.text=h[l],M.updateText(),d=M._width),c+=h[l],M.text=c,M.updateText(),m&&(f=p+((T=M._width-p)-d),b=(b=(b=(b=(b=(b=(b='<char id="{0}" x="{1}" y="0" width="{2}" height="{3}" xoffset="{6}" yoffset="{4}" xadvance="{5}" page="0" chnl="15" />').replace(/\{0\}/g,String(h[l].charCodeAt(0)))).replace(/\{1\}/g,String(f))).replace(/\{2\}/g,String(d))).replace(/\{3\}/g,String(M._height))).replace(/\{4\}/g,String(-i))).replace(/\{6\}/g,String(-e)),this.DOGmonospaceDigits&&/\d/.test(h[l])?S<T&&(S=T):b=b.replace(/\{5\}/g,String(T)),y+=b,u.push(h[l]),0<T&&(g+=h[l])),p=M._width;if(Renderer.IsWebGL){var C=globalRenderer.renderer.gl,C=C.getParameter(C.MAX_TEXTURE_SIZE);if(C<p){var v=C/(p+1)*.95;return this.fontSize*=v,this.resize*=v,void this.init()}}y+="</chars></font>";C=UID.Generate();y=(y=(y=(y=(y=y.replace(/\{0\}/g,C)).replace(/\{1\}/g,String(this.fontSize))).replace(/\{2\}/g,String(M._width))).replace(/\{3\}/g,String(h.length))).replace(/\{5\}/g,String(S));v=(new DOMParser).parseFromString(y,"text/xml");PIXI.extras.BitmapText.parse(v,M._texture);v=new UIFont;v.name=C,v.isLoading=!0,v.hasFontLoaded=!0,v.chars=g,this.fontName=v,this.fontNameExpectedFromCallback=v,this.pixiObjectContent=null,DOG_Cache.push({key:n,uif:v,count:0})}}if(this.pixiObject=new PIXI.Container(null),"object"==_typeof3(this.fontName)){if(!this.fontName.hasFontLoaded)return;this.pixiObjectContent=new PIXI.extras.BitmapText(this._text,{font:this.fontSize+"px "+this.fontName.name}),this.pixiObject.addChild(this.pixiObjectContent);var M=this.pixiObjectContent;this.currentFontSize=this.fontSize}else{null!=this.pixiObjectContent&&this.pixiObjectContent.destroy({texture:!0,baseTexture:!0}),this.pixiObjectContent=new PIXI.Text(this._text),this.pixiObjectContent.style.padding=.25*this.fontSize,this.pixiObject.addChild(this.pixiObjectContent);M=this.pixiObjectContent;this.currentFontSize=this.fontSize,M.style.font=this.fontSize+"px "+this.fontName,M.style.lineHeight=this.fontSize,M.style.spacingY=this.spacingY,M.anchor.x=this.anchorX,M.anchor.y=this.anchorY,IS_UCBROWSER&&this.mFillUseGradient&&(C=this.color.a,v=this.mFillGradient.colorKeys[0].color,this.color=Color.Lerp(v,v,0),this.color.a=C),this.oldColor=this.color.rgbAsHex,M.style.fill=this.color.rgbAsString(),M.alpha=this.color.a,this.SetupAlignment(),this.SetupEffects(),this.overflow!=UILabel.Overflow.ShrinkContent&&this.overflow!=UILabel.Overflow.ResizeHeight||(M.style.wordWrap=!0,M.style.wordWrapWidth=this.width)}this.processPixiText(),this.wasInitCalled=!0}}else this.overflow==UILabel.Overflow.ResizeFreely&&(this.width=0);else this.textIsUnprocessed=!0},UILabel.prototype.SetColor=function(t){this.color=t},UILabel.prototype.GetColor=function(){return this.color},UILabel.prototype.SetupEffects=function(){switch(this.dropShadowDistance=1.5*this.effectWidth,this.effectStyle){case UILabel.Effect.Shadow:this.pixiObjectContent.style.dropShadow=!0,this.pixiObjectContent.style.dropShadowAngle=Math.PI/4,this.pixiObjectContent.style.dropShadowColor=this.effectColor.rgbAsString(),this.pixiObjectContent.style.dropShadowDistance=this.dropShadowDistance;break;case UILabel.Effect.Outline:case UILabel.Effect.Outline8:this.mOutlineThickness=this.effectWidth,this.pixiObjectContent.style.stroke=this.effectColor.rgbAsString(),this.pixiObjectContent.style.strokeThickness=2*this.mOutlineThickness;break;case UILabel.Effect.Custom:var t,e;this.pixiObjectContent.style.blurShadow=this.mBlurShadow,this.pixiObjectContent.style.blurShadowX=this.mBlurShadowOffsetX,this.pixiObjectContent.style.blurShadowY=this.mBlurShadowOffsetY,this.pixiObjectContent.style.dropShadowColor=this.mBlurShadowColor.rgbAsString(),this.pixiObjectContent.style.dropShadowDistance=this.mBlurShadowSize,this.pixiObjectContent.style.fillCenter=this.mFillCenter,this.pixiObjectContent.style.stroke=this.mOutline?this.mOutlineColor.rgbAsString():null,this.mOutline&&(this.pixiObjectContent.style.strokeThickness=2*this.mOutlineThickness),IS_UCBROWSER?(this.mFillUseGradient&&(t=this.color.a,e=this.mFillGradient.colorKeys[0].color,this.color=Color.Lerp(e,e,0),this.color.a=t),this.mOutlineUseGradient&&(this.pixiObjectContent.style.stroke=this.mOutlineGradient.colorKeys[0].color.rgbAsString())):(this.pixiObjectContent.style.mFillUseGradient=this.mFillUseGradient,this.pixiObjectContent.style.mFillGradient=this.mFillGradient,this.pixiObjectContent.style.mFillGradientAngle=Math.PI*this.mFillGradientAngle/180,this.pixiObjectContent.style.mOutlineUseGradient=this.mOutlineUseGradient,this.pixiObjectContent.style.mOutlineGradient=this.mOutlineGradient,this.pixiObjectContent.style.mOutlineGradientAngle=Math.PI*this.mOutlineGradientAngle/180);break;case UILabel.Effect.Layered:null==this.multipleLayers&&(this.multipleLayers=this.GetComponent(LabelMultipleLayers)),this.multipleLayers.SetupEffects(this)}},UILabel.prototype.SetupAlignment=function(){if(this.alignment==UILabel.Alignment.Automatic).5==this.anchorX?this.pixiObjectContent.style.align="center":1==this.anchorX&&(this.pixiObjectContent.style.align="right");else switch(this.alignment){case UILabel.Alignment.Center:this.pixiObjectContent.style.align="center";break;case UILabel.Alignment.Right:this.pixiObjectContent.style.align="right"}},UILabel.prototype.processPixiText=function(){var t=this.pixiObjectContent;t.dirty=!0;t.height;if(this.overflow==UILabel.Overflow.ShrinkContent)if("object"==_typeof3(this.fontName)){if(this.currentFontSize<this.fontSize)for(;t.textHeight<this.height;)t.dirty=!0,this.currentFontSize++,t=new PIXI.extras.BitmapText(this._text,{font:this.currentFontSize+"px "+this.fontName.name});for(;(t.textHeight>this.height||t.textWidth>this.width)&&1<this.currentFontSize;)t.dirty=!0,this.currentFontSize--,t=new PIXI.extras.BitmapText(this._text,{font:this.currentFontSize+"px "+this.fontName.name});this.pixiObjectContent.font.size=this.currentFontSize,this.pixiObjectContent.updateText()}else{var e=t.style;if(t.style={},t.style.lineHeight=this.currentFontSize,t.style.spacingY=this.spacingY*this.currentFontSize/this.fontSize,t.style.font=this.currentFontSize+"px "+this.fontName,t.style.wordWrap=!0,t.style.wordWrapWidth=e.wordWrapWidth,t._skipUpdateTexture=!0,this.currentFontSize<this.fontSize&&t.height<this.height)for(var i=!1,n=this.currentFontSize,o=this.fontSize;!i&&this.currentFontSize!=this.fontSize;)this.currentFontSize=0|Math.ceil((n+o)/2),t.dirty=!0,t.style.lineHeight=this.currentFontSize,t.style.spacingY=this.spacingY*this.currentFontSize/this.fontSize,t.style.font=this.currentFontSize+"px "+this.fontName,i=!(r=t.height<this.height)&&o-1<=n,r?n=this.currentFontSize:o=this.currentFontSize;if(0<this.maxLines){var s=this._text.split(/(?:\r\n|\r|\n)/);if(t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length-(s.length-1)>this.maxLines)for(i=!1,n=1,o=this.currentFontSize;!i;)this.currentFontSize=(n+o)/2|0,t.dirty=!0,t.style.lineHeight=this.currentFontSize,t.style.spacingY=this.spacingY*this.currentFontSize/this.fontSize,t.style.font=this.currentFontSize+"px "+this.fontName,t.height,i=(r=t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length-(s.length-1)<=this.maxLines)&&o-1<=n,r?n=this.currentFontSize:o=this.currentFontSize}if(t.height>this.height||t.width>this.width)for(var r,i=!1,n=1,o=this.currentFontSize;!i;){if(this.currentFontSize=(n+o)/2|0,t.dirty=!0,t.style.lineHeight=this.currentFontSize,t.style.spacingY=this.spacingY*this.currentFontSize/this.fontSize,t.style.font=this.currentFontSize+"px "+this.fontName,0<this.maxLines){s=this._text.split(/(?:\r\n|\r|\n)/);if(t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length-(s.length-1)>this.maxLines)for(var a=!1,l=1,u=this.currentFontSize;!a;){this.currentFontSize=(l+u)/2|0,t.dirty=!0,t.style.lineHeight=this.currentFontSize,t.style.spacingY=this.spacingY*this.currentFontSize/this.fontSize,t.style.font=this.currentFontSize+"px "+this.fontName;t.height;var h=t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length-(s.length-1)<=this.maxLines,a=h&&u-1<=l;h?l=this.currentFontSize:u=this.currentFontSize}}i=(r=!(t.height>this.height||t.width>this.width))&&o-1<=n,r?n=this.currentFontSize:o=this.currentFontSize}t._style=e,t.style.lineHeight=this.currentFontSize,t.style.spacingY=this.spacingY*this.currentFontSize/this.fontSize,t.style.font=this.currentFontSize+"px "+this.fontName,t.dirty=!0,t._skipUpdateTexture=!1,t.height}if(this.overflow==UILabel.Overflow.ResizeFreely&&("object"==_typeof3(this.fontName)?this.width=t.textWidth:this.width=t.width),0!=this.mArcRadius){for(var c=0;c<this.circularChildren.length;c++)this.circularChildren[c].gameObject.SetActive(!1),this.circularChildren[c].transform.SetParent(null,!1);this.circularChildren=[],this.circularChildrenWidth=[],this._model.mArcRadius=0,this._model.enabled=!1;var p=this.mArcRadius;this.mArcRadius=0;var d=this.resize;this.resize=1;e=this.gameObject.activeSelf;this.gameObject.SetActive(!1);for(var m=this._text.length,S=0;S<m;S++)(g=instantiate(this.gameObject).GetComponent(UILabel)).depth=this.depth+S/m,g.InternalSetText(this._text[S],!0),g.fontNameExpectedFromCallback=this.fontNameExpectedFromCallback,g.overflow=UILabel.Overflow.ResizeFreely,g.fontSize=this.currentFontSize,this.circularChildren.push(g),this.circularChildrenWidth.push(0);for(var g,y=0,T=0;T<m;T++)(g=this.circularChildren[T]).transform.SetParent(this.gameObject.transform,!1),g.transform.localPosition(0,0,0),g.transform.localScale(1,1,1),g.gameObject.SetActive(!0),g.anchorX=.5,g.anchorY=.5,g.init(!0),this.circularChildrenWidth[T]=this.circularChildren[T].width,y+=this.circularChildren[T].width;this.mArcRadius=p,this.resize=d,this.gameObject.SetActive(e),this.enabled=!1;for(var f=-this.mArcRadius,b=2*UHTMath.PI*f,C=0,v=0;v<m;v++){C+=.5*this.circularChildrenWidth[v];var M=this.circularChildren[v].gameObject.transform,A=(C-y/2)/b*2*UHTMath.PI-.5*UHTMath.PI,L=Math.cos(A)*f,I=Math.sin(A)*f;M.localPosition(L,I,0);A=180*(A+.5*UHTMath.PI)/UHTMath.PI;M.localRotation(UHTMath.Quaternion.euler(0,0,A)),C+=.5*this.circularChildrenWidth[v]}e=1/this.resize;this.transform.localScale(e,e,e)}else"object"!=_typeof3(this.fontName)&&(LabelUsage[this.usageID]={frame:Time.frameCount,label:this,allocated:!0})},UILabel.prototype.GetWidth=function(){return this.InternalSetText(this._text,!1),this.width/this.resize},UILabel.prototype.SetWidth=function(t){this.width=t*this.resize,this.textIsUnprocessed=!0,this.InternalSetText(this._text,!0)},UILabel.prototype.GetHeight=function(){return this.InternalSetText(this._text,!1),this.height/this.resize},UILabel.prototype.SetHeight=function(t){this.height=t*this.resize,this.textIsUnprocessed=!0,this.InternalSetText(this._text,!0)},UILabel.prototype.deserialize=function(t,e,i){if(t.dontIgnoreLocalScale=null!=t.dontIgnoreLocalScale&&t.dontIgnoreLocalScale,t.useColorForBitmapFont=null!=t.useColorForBitmapFont&&t.useColorForBitmapFont,t.keepInMemory=null!=t.keepInMemory&&t.keepInMemory,t.resize=null!=t.resize?t.resize:1,t.depth=null!=t.depth?t.depth:0,t.fontSize=null!=t.fontSize?t.fontSize:0,t.anchorX=null!=t.anchorX?t.anchorX:.5,t.anchorY=null!=t.anchorY?t.anchorY:.5,t.maxLines=null!=t.maxLines?t.maxLines:0,t.overflow=null!=t.overflow?t.overflow:UILabel.Overflow.ResizeFreely,t.alignment=null!=t.alignment?t.alignment:UILabel.Alignment.Automatic,null==t.color&&(t.color={},t.color.nestedFieldType="Color",t.color.serializableData={},t.color.serializableData.c="w"),t.effectStyle=null!=t.effectStyle?t.effectStyle:UILabel.Effect.None,null==t.effectColor&&(t.effectColor={},t.effectColor.nestedFieldType="Color",t.effectColor.serializableData={},t.effectColor.serializableData.c="k"),t.effectWidth=null!=t.effectWidth?t.effectWidth:1,t.effectHeight=null!=t.effectHeight?t.effectHeight:1,t.mBlurShadow=null!=t.mBlurShadow&&t.mBlurShadow,t.mBlurShadowSize=null!=t.mBlurShadowSize?t.mBlurShadowSize:10,t.mBlurShadowOffsetX=null!=t.mBlurShadowOffsetX?t.mBlurShadowOffsetX:4,t.mBlurShadowOffsetY=null!=t.mBlurShadowOffsetY?t.mBlurShadowOffsetY:4,null==t.mBlurShadowColor&&(t.mBlurShadowColor={},t.mBlurShadowColor.nestedFieldType="Color",t.mBlurShadowColor.serializableData={},t.mBlurShadowColor.serializableData.c="k"),t.mOutline=null!=t.mOutline&&t.mOutline,t.mOutlineThickness=null!=t.mOutlineThickness?t.mOutlineThickness:4,null==t.mOutlineColor&&(t.mOutlineColor={},t.mOutlineColor.nestedFieldType="Color",t.mOutlineColor.serializableData={},t.mOutlineColor.serializableData.c="k"),t.mFillCenter=null==t.mFillCenter||t.mFillCenter,t.mFillUseGradient=null!=t.mFillUseGradient&&t.mFillUseGradient,null==t.mFillGradient){t.mFillGradient={},t.mFillGradient.nestedFieldType="Gradient",t.mFillGradient.serializableData={},t.mFillGradient.serializableData.colorKeys=[];for(var n=0;n<2;n++)t.mFillGradient.serializableData.colorKeys[n]={},t.mFillGradient.serializableData.colorKeys[n].nestedFieldType="GradientColorKey",t.mFillGradient.serializableData.colorKeys[n].serializableData={},t.mFillGradient.serializableData.colorKeys[n].serializableData.color={},t.mFillGradient.serializableData.colorKeys[n].serializableData.color.nestedFieldType="Color",t.mFillGradient.serializableData.colorKeys[n].serializableData.color.serializableData={},t.mFillGradient.serializableData.colorKeys[n].serializableData.color.serializableData.c="w",t.mFillGradient.serializableData.colorKeys[n].serializableData.time=n;t.mFillGradient.serializableData.alphaKeys=[];for(n=0;n<2;n++)t.mFillGradient.serializableData.alphaKeys[n]={},t.mFillGradient.serializableData.alphaKeys[n].nestedFieldType="GradientAlphaKey",t.mFillGradient.serializableData.alphaKeys[n].serializableData={},t.mFillGradient.serializableData.alphaKeys[n].serializableData.alpha=1,t.mFillGradient.serializableData.alphaKeys[n].serializableData.time=n}if(t.mFillGradientAngle=null!=t.mFillGradientAngle?t.mFillGradientAngle:0,t.mOutlineUseGradient=null!=t.mOutlineUseGradient&&t.mOutlineUseGradient,null==t.mOutlineGradient){t.mOutlineGradient={},t.mOutlineGradient.nestedFieldType="Gradient",t.mOutlineGradient.serializableData={},t.mOutlineGradient.serializableData.colorKeys=[];for(n=0;n<2;n++)t.mOutlineGradient.serializableData.colorKeys[n]={},t.mOutlineGradient.serializableData.colorKeys[n].nestedFieldType="GradientColorKey",t.mOutlineGradient.serializableData.colorKeys[n].serializableData={},t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color={},t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color.nestedFieldType="Color",t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color.serializableData={},t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color.serializableData.c="w",t.mOutlineGradient.serializableData.colorKeys[n].serializableData.time=n;t.mOutlineGradient.serializableData.alphaKeys=[];for(n=0;n<2;n++)t.mOutlineGradient.serializableData.alphaKeys[n]={},t.mOutlineGradient.serializableData.alphaKeys[n].nestedFieldType="GradientAlphaKey",t.mOutlineGradient.serializableData.alphaKeys[n].serializableData={},t.mOutlineGradient.serializableData.alphaKeys[n].serializableData.alpha=1,t.mOutlineGradient.serializableData.alphaKeys[n].serializableData.time=n}t.mOutlineGradientAngle=null!=t.mOutlineGradientAngle?t.mOutlineGradientAngle:0,t.spacingY=null!=t.spacingY?t.spacingY:0,t.mArcRadius=null!=t.mArcRadius?t.mArcRadius:0,deserializeComponentRec(t,this,e,i)},goog.provide("UHT.UIPanel"),goog.require("UHT.Component"),UIPanel.prototype=Object.create(Component.prototype),UIPanel.prototype.constructor=UIPanel,Object.defineProperties(UIPanel.prototype,{mAlpha:{get:function(){return this.alpha},set:function(t){this.alpha=t}}}),UIPanel.prototype.OnWillRenderObject=function(){var t=this.container;t.children=[];var e=this.alpha<.05;t.visible=this.enabled&&!e,t.mask=this.mask,this.gameObject.transform.IsDirtyUserFlag(Transform._DirtyFlagPanel)&&(this.gameObject.transform.ClearDirtyUserFlag(Transform._DirtyFlagPanel),this.container.dirtyWT=!0)},UIPanel.prototype.SetPanelAlpha=function(t){this.alpha=_number.otod(t)},goog.provide("UHT.UIRoot"),goog.require("UHT.Component"),UIRoot.prototype=Object.create(Component.prototype),(UIRoot.prototype.constructor=UIRoot).prototype.Update=function(){var t=this.manualWidth/this.manualHeight,e=UHTScreen.width/UHTScreen.height,i=this.gameObject.transform.scale();i.x=Math.min(t,e)/t*2/this.manualHeight,i.y=i.x,Math.abs(this.oldscale-i.x)>UHTMath.numberError&&(this.oldscale=i.x,this.gameObject.transform.scale(i))},goog.provide("UHT.UISprite"),goog.require("UHT.Component"),UISprite.prototype=Object.create(Component.prototype),UISprite.prototype.constructor=UISprite,Object.defineProperties(UISprite.prototype,{mColor:{get:function(){return this.color}}}),UISprite.Type={Simple:0,Sliced:1,Tiled:2,Filled:3,Advanced:4},UISprite.FillDirection={Horizontal:0,Vertical:1,Radial90:2,Radial180:3,Radial360:4,Custom:5},UISprite.prototype.Start=function(){this.SetSpriteName(this.spriteName),this.panel=FindPanel(this.gameObject.transform)},UISprite.prototype.OnWillRenderObject=function(){if(null!=this.pixiObject){this.spriteType==UISprite.Type.Sliced&&(this.oWidth==this.width&&this.oHeight==this.height||this.SetSpriteName(this.spriteName));var t=this.pixiObjectContent,e=this.color.a<.05&&0==this.atlas.blendMode;switch(this.pixiObject.visible=this.enabled&&!e,this.spriteType){case UISprite.Type.Simple:case UISprite.Type.Filled:t.tint=this.color.rgbAsHex,t.alpha=this.color.a*this.panel.alpha,t.worldAlpha=t.alpha;break;case UISprite.Type.Sliced:for(var i=0;i<t.children.length;i++){var n=t.children[i];n.tint=this.color.rgbAsHex,n.alpha=this.color.a*this.panel.alpha,n.worldAlpha=n.alpha}}var o=this.gameObject.transform;if(this.atlas.isLoaded()&&!this.isAtlasLoaded&&(this.isAtlasLoaded=!0,this.pixiObject.dirtyWT=!0),this.pixiObject.visible&&(this.zeroScale?this.pixiObject.visible=!1:null!=this.atlas&&this.atlas.UseNow(),this._pixiPosDirty||o.IsDirtyUserFlag(Transform._DirtyFlagSprite))){this.pixiObject.dirtyWT=!0,o._internal_get_position(),o._internal_get_rotation(),o._internal_get_scale(),o.ClearDirtyUserFlag(Transform._DirtyFlagSprite),this._pixiPosDirty=!1;var s=this.pixiObject,r=o.parent.transform;switch(s.x=r._dangerous_get_position().x,s.y=-r._dangerous_get_position().y,t.x=o._dangerous_get_localPosition().x,t.y=-o._dangerous_get_localPosition().y,s.rotation=-r._dangerous_get_rotation().eulerAnglesRad().z,t.rotation=-o._dangerous_get_localRotation().eulerAnglesRad().z,this.spriteType){case UISprite.Type.Simple:case UISprite.Type.Filled:s.scale.x=r._dangerous_get_scale().x,s.scale.y=r._dangerous_get_scale().y,t.width=this.width*o._dangerous_get_localScale().x,t.height=this.height*o._dangerous_get_localScale().y;break;case UISprite.Type.Sliced:s.scale.x=r._dangerous_get_scale().x,s.scale.y=r._dangerous_get_scale().y,t.scale.x=o._dangerous_get_localScale().x,t.scale.y=o._dangerous_get_localScale().y}this.zeroScale=Math.abs(s.scale.x*s.scale.y)<1e-16}}},UISprite.prototype.SetSpriteNameForAnimation=function(t){if(this.spriteName=t,null!=this.atlas&&this.spriteType==UISprite.Type.Simple&&null!=this.pixiObject){this.pixiObjectContent.texture=this.atlas.getTextureInfoForSprite(this,this.spriteName);var e=this.pixiObjectContent;return e.width=this.width,void(e.height=this.height)}this.SetSpriteName(t)},UISprite.prototype.SetSpriteName=function(t){if(null==this.panel&&(this.panel=FindPanel(this.gameObject.transform)),this.spriteName=t,this._pixiPosDirty=!0,null!=this.atlas)switch(this.spriteType){case UISprite.Type.Simple:case UISprite.Type.Filled:var e=this.atlas.getTextureInfoForSprite(this,this.spriteName);this.pixiObject=new PIXI.Container(null),this.pixiObjectContent=new PIXI.Sprite(e),(r=this.pixiObjectContent).anchor.x=this.anchorX,r.anchor.y=this.anchorY,r.width=this.width,r.height=this.height,r.blendMode=this.atlas.blendMode,this.pixiObject.addChild(r);break;case UISprite.Type.Sliced:this.pixiObject=new PIXI.Container(null),this.pixiObjectContent=new PIXI.Container(null);var i,n,o,s,r=this.pixiObjectContent,a=this.atlas.getTextureInfoForSprite(this,this.spriteName),l=(.5-this.anchorX)*this.width,u=(.5-this.anchorY)*this.height,h=Renderer.IsWebGL?0:1,c=a.borderLeft,p=a.borderRight,d=a.borderTop,m=a.borderBottom,S=a.paddingLeft,g=a.paddingRight,y=a.paddingBottom,T=a.paddingTop,f=100/this.atlas.resize,b=this.width,C=this.height,v=b/2,M=C/2,e=b-(c*=f)-(S*=f)-(p*=f)-(g*=f),b=C-(d*=f)-(T*=f)-(m*=f)-(y*=f),C=e/2,f=b/2;0<d&&0<c&&((i=new PIXI.Sprite(a.texture00)).anchor.x=1,i.anchor.y=1,i.x=l,i.y=u,i.x-=v-c-S,i.y-=M-d-T,i.width=c+S,i.height=d+T,i.blendMode=this.atlas.blendMode,r.addChild(i)),0<d&&((i=new PIXI.Sprite(a.texture01)).anchor.x=.5,i.anchor.y=1,i.x=l,i.y=u,i.x+=C+c+S-v,i.y-=M-d-T,i.width=e+h,i.height=d+T,i.blendMode=this.atlas.blendMode,r.addChild(i)),0<d&&0<p&&((n=new PIXI.Sprite(a.texture02)).anchor.x=0,n.anchor.y=1,n.x=l,n.y=u,n.x+=v-p-g,n.y-=M-d-T,n.width=p+g,n.height=d+T,n.blendMode=this.atlas.blendMode,r.addChild(n)),0<c&&((n=new PIXI.Sprite(a.texture10)).anchor.x=1,n.anchor.y=.5,n.x=l,n.y=u,n.x-=v-c-S,n.y+=f+d+T-M,n.width=c+S,n.height=b+h,n.blendMode=this.atlas.blendMode,r.addChild(n)),this.fillCenter&&((o=new PIXI.Sprite(a.texture11)).anchor.x=.5,o.anchor.y=.5,o.x=l,o.y=u,o.x+=C+c+S-v,o.y+=f+d+T-M,o.width=e+h,o.height=b+h,o.blendMode=this.atlas.blendMode,r.addChild(o)),0<p&&((o=new PIXI.Sprite(a.texture12)).anchor.x=0,o.anchor.y=.5,o.x=l,o.y=u,o.x+=v-p-g,o.y+=f+d+T-M,o.width=p+g,o.height=b+h,o.blendMode=this.atlas.blendMode,r.addChild(o)),0<m&&0<c&&((s=new PIXI.Sprite(a.texture20)).anchor.x=1,s.anchor.y=0,s.x=l,s.y=u,s.x-=v-c-S,s.y+=M-m-y,s.width=c+S,s.height=m+y,s.blendMode=this.atlas.blendMode,r.addChild(s)),0<m&&((s=new PIXI.Sprite(a.texture21)).anchor.x=.5,s.anchor.y=0,s.x=l,s.y=u,s.x+=C+c+S-v,s.y+=M-m-y,s.width=e+h,s.height=m+y,s.blendMode=this.atlas.blendMode,r.addChild(s)),0<m&&0<p&&((a=new PIXI.Sprite(a.texture22)).anchor.x=0,a.anchor.y=0,a.x=l,a.y=u,a.x+=v-p-g,a.y+=M-m-y,a.width=p+g,a.height=m+y,a.blendMode=this.atlas.blendMode,r.addChild(a)),this.pixiObject.addChild(r),this.oWidth=this.width,this.oHeight=this.height;break;default:this.pixiObject=new PIXI.Container(null),this.pixiObjectContent=new PIXI.Sprite(null),this.pixiObject.addChild(this.pixiObjectContent),console.error("Unhandled sprite type "+this.spriteType)}this.autoResizeBoxCollider&&null!=this.gameObject.collider&&(this.gameObject.collider.size.x=this.width,this.gameObject.collider.size.y=this.height,this.anchorX<.4?this.gameObject.collider.center.x=this.width/2:.6<this.anchorX?this.gameObject.collider.center.x=-this.width/2:this.gameObject.collider.center.x=0,this.anchorY<.4?this.gameObject.collider.center.y=-this.height/2:.6<this.anchorY?this.gameObject.collider.center.y=this.height/2:this.gameObject.collider.center.y=0,this.gameObject.collider.UpdateCachedMembers())},UISprite.prototype.deserialize=function(t,e,i){t.spriteType=null!=t.spriteType?t.spriteType:UISprite.Type.Simple,t.fillCenter=null==t.fillCenter||t.fillCenter,t.depth=null!=t.depth?t.depth:0,t.anchorX=null!=t.anchorX?t.anchorX:.5,t.anchorY=null!=t.anchorY?t.anchorY:.5,t.fillDirection=null!=t.fillDirection?t.fillDirection:UISprite.FillDirection.Vertical,t.fillAmount=null!=t.fillAmount?t.fillAmount:1,t.fillAmountTop=null!=t.fillAmountTop?t.fillAmountTop:1,t.fillAmountBottom=null!=t.fillAmountBottom?t.fillAmountBottom:1,t.fillAmountLeft=null!=t.fillAmountLeft?t.fillAmountLeft:1,t.fillAmountRight=null!=t.fillAmountRight?t.fillAmountRight:1,t.invert=null!=t.invert&&t.invert,t.autoResizeBoxCollider=null!=t.autoResizeBoxCollider&&t.autoResizeBoxCollider,null==t.color&&(t.color={},t.color.nestedFieldType="Color",t.color.serializableData={},t.color.serializableData.c="w"),deserializeComponentRec(t,this,e,i)},goog.provide("UHT.UIZoomSprite"),goog.require("UHT.UISprite"),UIZoomSprite.prototype=Object.create(UISprite.prototype),(UIZoomSprite.prototype.constructor=UIZoomSprite).prototype.GetClampedPivot=function(){var t={x:this.zoomPivot.x,y:this.zoomPivot.y},e=.5-Math.abs((1-this.zoomAmmount)/2-.5);return this.zoomPivot.x<e&&(t.x=e),this.zoomPivot.x>1-e&&(t.x=1-e),this.zoomPivot.y<e&&(t.y=e),this.zoomPivot.y>1-e&&(t.y=1-e),t},UIZoomSprite.prototype.ComputeTexture=function(){var t=Math.max(.001,1-this.zoomAmmount),e=this.rectFrameO.clone(),i=this.rectTrimO.clone();i.width,e.width,i.height,e.height;i.x*=t,i.y*=t,i.width*=t,i.height*=t,e.width*=t,e.height*=t;var n=this.GetClampedPivot(),t=n.x*this.rectFrameO.width-.5*e.width,n=(1-n.y)*this.rectFrameO.height-.5*e.height;e.x+=t,e.y+=n;t=e.clone(),n=this.pixiObjectContent;n.texture.trim=i,n.texture.crop=t,n.texture.frame=e},UIZoomSprite.prototype.OnWillRenderObject=function(){UISprite.prototype.OnWillRenderObject.call(this),this.ComputeTexture();var t=this.pixiObjectContent,e=this.gameObject.transform;t.width=this.width*e._dangerous_get_localScale().x,t.height=this.height*e._dangerous_get_localScale().y,this.pixiObject.dirtyWT=!0},UIZoomSprite.prototype.SetSpriteName=function(t){UISprite.prototype.SetSpriteName.call(this,t);t=this.pixiObjectContent;this.rectFrameO=t.texture.crop.clone(),this.rectCropO=t.texture.crop.clone(),this.rectTrimO=t.texture.trim.clone(),t.texture=new PIXI.Texture(t.texture,this.rectFrameO.clone(),this.rectCropO.clone(),this.rectTrimO.clone())},goog.provide("UHT.Renderer"),goog.require("UHT.UILabel"),goog.require("UHT.UISprite"),goog.require("UHT.UIZoomSprite"),goog.require("UHT.Camera"),goog.require("UHT.UHTScreen");var renderCanvas,UHT_DEBUG_TEXT=null,PRESERVE_RB_LIST=[{vendor:"Huawei",model:"ALE-L21"}],FORCE_CANVAS_LIST=[],CachedFrameCount=-1;function Renderer(){this.renderer=null,this.stage=null,this.orderedCameras=[],this.foundCameras=[],this.cachedCameraContainersPerLayer={},this.cachedMaskCameraContainersPerLayer={},this.foundPanels=[],this.foundZOrderedObjects=[],this.RTunder=null,this.rtUnderSprite=null,this.RTmask=null,this.RTclipped=null,this.rtCameraSprite=null,this.RTfinal=null,this.rtFinalSprite=null,this.hasMaskedCameras=!1,this.fpsCounter=null,this.debugText=null,this.clipMaskFilter=null,this.MaskResize=.5}Renderer.IsWebGL=!1;var rememberedWindowWidth=-1,rememberedWindowHeight=-1,canvasSizeDirty=!1;Renderer.prototype.checkWindowSize=function(){rememberedWindowWidth!=window.innerWidth&&(rememberedWindowWidth=window.innerWidth,canvasSizeDirty=!0),rememberedWindowHeight!=window.innerHeight&&(rememberedWindowHeight=window.innerHeight,canvasSizeDirty=!0)},Renderer.prototype.resizeUHTScreen=function(){var t=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI;2<(t=1==UHT_DEVICE_TYPE.DESKTOP&&1.5<t?1.5:t)&&(t=2),UHTScreen.width=Math.floor(rememberedWindowWidth*t),UHTScreen.height=Math.floor(rememberedWindowHeight*t),createjs.BrowserDetect.isIOS&&(document.body.style.width=rememberedWindowWidth+"px","Chrome"==UHT_UA_INFO.browser.name&&(renderCanvas.style.width=rememberedWindowWidth+"px",renderCanvas.style.height=rememberedWindowHeight+"px")),canvasSizeDirty=!1},Renderer.prototype.init=function(){(renderCanvas=document.createElement("canvas")).style.width="100%",renderCanvas.style.height="100%",this.checkWindowSize(),this.resizeUHTScreen();var t=!1,e=-1<navigator.userAgent.indexOf("forceCanvas"),i=(new UAParser2).getDevice();if(null!=i.vendor&&null!=i.model){var n=i.vendor,o=i.model;"Apple"!=n&&(t=!0);for(var s=0;s<FORCE_CANVAS_LIST.length;s++)0==n.toUpperCase().indexOf(FORCE_CANVAS_LIST[s].vendor.toUpperCase())&&0==o.toUpperCase().indexOf(FORCE_CANVAS_LIST[s].model.toUpperCase())&&(e=!0)}t={view:renderCanvas,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!0,backgroundColor:0,clearBeforeRender:!1,preserveDrawingBuffer:t};IS_UCBROWSER&&(PIXI.SPRITE_BATCH_SIZE=200),this.renderer=PIXI.autoDetectRenderer(UHTScreen.width,UHTScreen.height,t,e),Renderer.IsWebGL=this.renderer instanceof PIXI.WebGLRenderer,console.log("[Init] Screen size: ("+UHTScreen.width+"x"+UHTScreen.height+")"),document.body.appendChild(this.renderer.view);this.fpsCounter=new PIXI.Text("urs",{font:"30px Arial",fill:"#000000",stroke:"#FFFFFF",strokeThickness:5});this.debugText=new PIXI.Text("dbg",{font:"100px Arial",fill:"#FFFFFF",stroke:"#000000",strokeThickness:25})},Renderer.prototype.initMaskTextures=function(){this.RTunder=new PIXI.RenderTexture(this.renderer,this.renderer.width,this.renderer.height),this.RTmask=new PIXI.RenderTexture(this.renderer,this.renderer.width*this.MaskResize,this.renderer.height*this.MaskResize),this.RTclipped=new PIXI.RenderTexture(this.renderer,this.renderer.width,this.renderer.height),this.RTfinal=new PIXI.RenderTexture(this.renderer,this.renderer.width,this.renderer.height),this.clipMaskFilter=new CLIPMASKFilter(this.RTunder,this.RTmask),this.initMaskSprites()},Renderer.prototype.initMaskSprites=function(){this.rtUnderSprite=new PIXI.Sprite(this.RTunder),this.rtUnderSprite.worldAlpha=1,this.rtCameraSprite=new PIXI.Sprite(this.RTclipped),this.rtCameraSprite.worldAlpha=1,this.rtCameraSprite.filters=[this.clipMaskFilter],this.rtFinalSprite=new PIXI.Sprite(this.RTfinal),this.rtFinalSprite.worldAlpha=1},Renderer.prototype.doFrame=function(){CachedFrameCount=Time.frameCount;var t=!1;this.renderer.view.width==UHTScreen.width&&this.renderer.view.height==UHTScreen.height||(this.renderer.resize(UHTScreen.width,UHTScreen.height),this.hasMaskedCameras&&(this.RTunder.resize(UHTScreen.width,UHTScreen.height,!0),this.RTfinal.resize(UHTScreen.width,UHTScreen.height,!0),this.RTmask.resize(UHTScreen.width*this.MaskResize,UHTScreen.height*this.MaskResize,!0),this.RTclipped.resize(UHTScreen.width,UHTScreen.height,!0),this.initMaskSprites()),t=!0,console.log("[Resized] Screen size: ("+UHTScreen.width+"x"+UHTScreen.height+")")),this.orderedCameras=[],this.foundCameras=[],this.foundPanels=[],this.foundZOrderedObjects=[],this.ParseRenderableComponents(),this.orderedCameras=this.foundCameras.sort(function(t,e){return t.depth-e.depth});for(var e=0;e<this.foundPanels.length;e++)0<this.foundPanels[e].container.children.length&&this.registerPanel(this.foundPanels[e]);for(var i=0;i<this.orderedCameras.length;i++)SortPixiChildren(this.orderedCameras[i].container);this.addZOrderedObjects(),null==this.stage&&(this.stage=new PIXI.Container),t&&(this.stage.dirtyWT=!0),this.stage.children=[],this.stage.dirtyChildren=!0;for(var n=0,o=0;o<this.orderedCameras.length;o++){var s,r,a,l,u,h=this.orderedCameras[o];h.HasClippingMask()?(this.hasMaskedCameras||(this.hasMaskedCameras=!0,this.initMaskTextures()),1<++n&&(this.RTfinal.render(this.stage),this.stage.children=[],this.stage.dirtyChildren=!0,this.stage.addChild(this.rtFinalSprite)),this.RTunder.render(this.stage),this.stage.children=[],this.stage.dirtyChildren=!0,this.stage.addChild(this.rtUnderSprite),this.stage.addChild(h.container),this.RTclipped.render(this.stage),this.stage.children=[],this.stage.dirtyChildren=!0,s=h.clipMaskContainer.scale.x,r=h.clipMaskContainer.scale.y,a=h.clipMaskContainer.position.x,l=h.clipMaskContainer.position.y,this.stage.addChild(h.clipMaskContainer),h.clipMaskContainer.scale.x*=this.MaskResize,h.clipMaskContainer.scale.y*=this.MaskResize,h.clipMaskContainer.position.x*=this.MaskResize,h.clipMaskContainer.position.y*=this.MaskResize,u=this.renderer.gl,this.renderer.type===PIXI.RENDERER_TYPE.WEBGL&&u.bindFramebuffer(u.FRAMEBUFFER,this.RTmask.textureBuffer.frameBuffer),u.clearColor(1,1,1,0),u.clear(u.COLOR_BUFFER_BIT),this.RTmask.render(this.stage),h.clipMaskContainer.scale.x=s,h.clipMaskContainer.scale.y=r,h.clipMaskContainer.position.x=a,h.clipMaskContainer.position.y=l,this.stage.children=[],this.stage.dirtyChildren=!0,this.stage.addChild(this.rtCameraSprite)):0<h.container.children.length&&this.stage.addChild(h.container)}UHT_DEBUG&&this.stage.addChild(this.fpsCounter),null!=window.UHT_DEBUG_TEXT&&(this.debugText.text=UHT_DEBUG_TEXT,this.stage.addChild(this.debugText)),globalColliderInputManager.pixiObject.dirtyWT=!0,this.stage.addChild(globalColliderInputManager.pixiObject),this.renderer.render(this.stage),Camera.allCameras=this.orderedCameras,UIAtlas.CheckUsageAndClean(),UILabel.CheckUsageAndClean()},Renderer.prototype.ParseRenderableComponents=function(){for(var t=globalRuntime.onWillRenderList.components,e=0;e<t.length;e++){var i=t[e];null!=i&&((i instanceof UISprite||i instanceof UILabel||i instanceof MovieController||i instanceof SpineController)&&null!=i.pixiObject?null!=i.panel&&RegisterPixiChild(i.panel.container,i.pixiObject,i.depth):i instanceof UIPanel?this.foundPanels.push(i):i instanceof Camera?(i.container.children=[],i.clipMaskContainer.children=[],this.foundCameras.push(i)):null!=i.pixiZOrderedContainer&&this.foundZOrderedObjects.push(i),null!=i.OnUpdateRenderTexture&&i.OnUpdateRenderTexture())}for(var n=0;n<this.foundPanels.length;n++)SortPixiChildren(this.foundPanels[n].container)},Renderer.prototype.registerPanel=function(t){var e,i=t.gameObject.layer,n=this.cachedCameraContainersPerLayer[i];n?RegisterPixiChild(n,t.container,t.depth):0<=(e=this.getCameraIndexForLayer(i))&&(RegisterPixiChild(n=this.orderedCameras[e].container,t.container,t.depth),this.cachedCameraContainersPerLayer[i]=n),(n=this.cachedMaskCameraContainersPerLayer[i])?RegisterPixiChild(n,t.container,t.depth):0<=(e=this.getCameraClipMaskIndexForLayer(i))&&(RegisterPixiChild(n=this.orderedCameras[e].clipMaskContainer,t.container,t.depth),this.cachedMaskCameraContainersPerLayer[i]=n)},Renderer.prototype.getCameraIndexForLayer=function(t){for(var e=0;e<this.orderedCameras.length;e++)if(1<<t==this.orderedCameras[e].cullingMask)return e;return-1},Renderer.prototype.getCameraClipMaskIndexForLayer=function(t){for(var e=0;e<this.orderedCameras.length;e++)if(1<<t==this.orderedCameras[e].clipMaskLayer)return e;return-1},Renderer.prototype.addZOrderedObjects=function(){if(0!=this.foundZOrderedObjects.length){for(var t=new Array(this.orderedCameras.length),e=0;e<this.foundZOrderedObjects.length;e++){var i=this.foundZOrderedObjects[e],n=this.getCameraIndexForLayer(i.gameObject.layer);null==t[n]&&(t[n]=[]),t[n].push(i)}for(var o=0;o<t.length;o++)if(null!=t[o]){var s=t[o];s.sort(function(t,e){return t.gameObject.transform._dangerous_get_position().z>e.gameObject.transform._dangerous_get_position().z});for(var r=0,a=this.orderedCameras[o].container.children,l=0;l<a.length;l++)a[l][uhtDepth]<0&&r++;for(var u=s.length-1;0<=u;u--)s[u].pixiZOrderedContainer.dirtyWT=!0,this.orderedCameras[o].container.addChildAt(s[u].pixiZOrderedContainer,r);this.orderedCameras[o].container.dirtyChildren=!0}}},Renderer.prototype.setFPSCount=function(t){if(null!=this.fpsCounter&&UHT_DEBUG){var e=[" (",e=[UHT_REVISION.common,UHT_REVISION.desktop,UHT_REVISION.mobile,UHT_BUILD_PATH].join(", "),")"].join(""),i=[" (configs: ",ServerOptions.configs||"-",")"].join(""),n=Renderer.IsWebGL?"webgl":"canvas",o=new UAParser2,s=o.getDevice(),o=o.getBrowser(),r="";if(null!=s.vendor&&null!=s.model&&null!=o.name)for(var a=s.vendor,l=s.model,r="["+a+":"+l+":"+o.name+"] ",u=0;u<PRESERVE_RB_LIST.length;u++)0==a.toUpperCase().indexOf(PRESERVE_RB_LIST[u].vendor.toUpperCase())&&0==l.toUpperCase().indexOf(PRESERVE_RB_LIST[u].model.toUpperCase())&&(r="["+a+":"+l+"(PRB)] ");this.fpsCounter.text=Number(t).toFixed(1)+" fps ("+n+") "+r+e+i}};var uhtDepth="uht_depth",uhtFC="uht_fc";function SortPixiChildren(t){t.children.sort(SortByUhtDepth)}function SortByUhtDepth(t,e){return t[uhtDepth]-e[uhtDepth]}function RegisterPixiChild(t,e,i){e.visible&&(e[uhtFC]!=CachedFrameCount-1&&(e.dirtyWT=!0),e[uhtDepth]=i,e.parent=t,0==e.dirtyWT&&1!=e.dirtyChildren||(t.dirtyChildren=!0),e[uhtFC]=CachedFrameCount,t.children.push(e))}function CLIPMASKFilter(t,e){PIXI.AbstractFilter.call(this,null,["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform sampler2D UnderMap;","uniform sampler2D MaskMap;","void main(void)","{","vec3 col = texture2D(uSampler, vTextureCoord).rgb * vColor.rgb;","vec3 under = texture2D(UnderMap, vTextureCoord).rgb;","vec4 mask = texture2D(MaskMap, vTextureCoord);","vec3 clipped = col * mask.rgb;","gl_FragColor = vec4(mix(under, clipped, mask.a), 1);","} "].join("\n"),{UnderMap:{type:"sampler2D",value:t},MaskMap:{type:"sampler2D",value:e}})}function FindPanel(t){for(var e=t;null!=e;){var i=e.gameObject.GetComponent(UIPanel);if(null!=i)return i;e=e.parent}return console.error("Panel not found for "+t.gameObject.name),null}function CATButton(){Component.call(this),this.catEventPress=null,this.catEventRelease=null,this.catEventClick=null,this.catEventHoverOn=null,this.catEventHoverOff=null,this.holdTimer=1,this.catEventHold=null,this.holdTriggerDelay=0,this.isHeld=!1,this.wasHoldEvent=!1,this.wasHover=!1}function CATLink(){this.id=0,this.cat=null}function CAT_Infector(){Component.call(this),this.infections=[]}function EventInfection(){this.hostCATPath="",this.hostCATEventID=0,this.infectedHost=null,this.parasiteLink=null}function CAT_Event(){this.id=0,this.userFriendlyName="",this.actions=[],this.playAutomatically=!1,this.startTime=-1,this.curTime=-1,this.callback=[],this.isRunning=!1,this.parent=null,this.isEnabled=!0}CLIPMASKFilter.prototype=Object.create(PIXI.AbstractFilter.prototype),CLIPMASKFilter.prototype.constructor=CLIPMASKFilter,goog.provide("UHT.UIUtils"),goog.require("UHT.Component"),CATButton.prototype=Object.create(Component.prototype),(CATButton.prototype.constructor=CATButton).prototype.OnDisable=function(){this.OnPress(!1)},CATButton.prototype.OnClick=function(){var t;this.wasHoldEvent||null==this.catEventClick||null==this.catEventClick.cat||this.catEventClick.cat.IsEventRunning(this.catEventClick.id)||(null!=(t=this.gameObject.GetComponent(ClickDelay))&&!t.CanClick()||this.catEventClick.Start())},CATButton.prototype.OnHover=function(t){if(t){if(null!=this.catEventHoverOn&&null!=this.catEventHoverOn.cat){if(this.catEventHoverOn.cat.IsEventRunning(this.catEventHoverOn.id))return;this.catEventHoverOn.Start()}this.wasHover=!0}else{if(null!=this.catEventHoverOff&&null!=this.catEventHoverOff.cat){if(this.catEventHoverOff.cat.IsEventRunning(this.catEventHoverOff.id))return;this.catEventHoverOff.Start()}this.wasHover=!1}},CATButton.prototype.OnPress=function(t){t?(null==this.catEventPress||null==this.catEventPress.cat||this.catEventPress.cat.IsEventRunning(this.catEventPress.id)||this.catEventPress.Start(),null==this.catEventHold||null==this.catEventHold.cat||this.catEventHold.cat.IsEventRunning(this.catEventHold.id)||(this.isHeld=!0,this.wasHoldEvent=!1,this.holdTriggerDelay=this.holdTimer)):(this.isHeld=!1,null==this.catEventRelease||null==this.catEventRelease.cat||this.catEventRelease.cat.IsEventRunning(this.catEventRelease.id)||this.catEventRelease.Start(),this.wasHover&&this.OnHover(!1))},CATButton.prototype.Update=function(){this.isHeld&&(0<this.holdTriggerDelay?this.holdTriggerDelay-=Time.deltaTime:(this.catEventHold.Start(),this.isHeld=!1,this.wasHoldEvent=!0))},CATLink.prototype.Start=function(){null!=this.cat&&this.cat.StartEvent(this.id)},CATLink.prototype.Stop=function(){null!=this.cat&&this.cat.StopEvent(this.id)},CATLink.prototype.IsRunning=function(){return null!=this.cat&&this.cat.IsEventRunning(this.id)},CATLink.prototype.RegisterCallback=function(t,e){null!=this.cat&&this.cat.RegisterCallback(this.id,t,e)},CATLink.prototype.UnregisterCallback=function(t,e){null!=this.cat&&this.cat.UnregisterCallback(this.id,t,e)},goog.require("UHT.Component"),CAT_Infector.prototype=Object.create(Component.prototype),(CAT_Infector.prototype.constructor=CAT_Infector).prototype.Awake=function(){this.SpreadInfectionInScene()},CAT_Infector.prototype.SpreadInfectionInScene=function(){for(var t=0;t<this.infections.length;t++){var e=this.infections[t],i=globalRuntime.sceneRoots[1].transform.Find(e.hostCATPath.slice((globalRuntime.sceneRoots[1].name+"/").length)),n=null;null!=(n=null!=i?i.GetComponent(CAT_Container):n)&&this.Infect(e,n)}},CAT_Infector.prototype.Infect=function(t,e){if(null!=t.parasiteLink&&null!=t.parasiteLink.cat&&null!=t.parasiteLink.cat.GetEventByID(t.parasiteLink.id))for(var i=0;i<e.events.length;i++)if(e.events[i].id==t.hostCATEventID){e.events[i].actions.push(t.AsCatAction()),t.infectedHost=e;break}},EventInfection.prototype.AsCatAction=function(){var t=new CAT_Action_CATLink;return t.actionType=CAT_Action_CATLink.ActionType.StartEvent_NoWait,t.eventId=this.parasiteLink,t},goog.provide("UHT.CAT_Event"),CAT_Event.prototype.Start=function(){if(this.isEnabled)if(this.isRunning)console.log("xCAT: Trying to start an event twice! Aborting! (name = '"+this.userFriendlyName+"', running_time = "+(this.curTime-this.startTime)+")");else{var t,e=0;for(t in this.actions){var i=this.actions[t];i.isEnabled?i.delay<=.001?(i.ChangeState(CATState.Running),i.GetState()==CATState.Finished&&e++):i.ChangeState(CATState.Waiting):(i.ChangeState(CATState.Finished),e++)}this.startTime=this.curTime=Time.time,this.isRunning=!0,this.parent.AddRunningEvent(this),this.InternalUpdateRunningState(e)}},CAT_Event.prototype.Stop=function(){var t,e=0;for(t in this.actions){var i=this.actions[t];i.GetState()==CATState.Running?(i.ChangeState(CATState.Stopping),i.GetState()==CATState.Finished&&e++):i.GetState()==CATState.Waiting?(i.ChangeState(CATState.Finished),e++):i.GetState()==CATState.Finished&&e++}this.InternalUpdateRunningState(e)},CAT_Event.prototype.Update=function(){var t,e=0;for(t in this.curTime+=Time.deltaTime,this.actions){var i=this.actions[t];switch(i.GetState()){case CATState.Waiting:this.curTime>i.delay+this.startTime&&i.ChangeState(CATState.Running);break;case CATState.Running:case CATState.Stopping:i.CATUpdate();break;case CATState.Finished:e++;break;case CATState.Stopped:}}this.InternalUpdateRunningState(e)},CAT_Event.prototype.InternalUpdateRunningState=function(t){if(t==this.actions.length){for(var e in this.actions)this.actions[e].ChangeState(CATState.Stopped);for(e=0;e<this.callback.length;++e){var i=this.callback[e];i.callback.call(i.object,CAT_Event.CallbackType.EndOfEvent,this)}this.isRunning=!1,this.parent.RemoveRunningEvent(this)}},CAT_Event.prototype.RegisterCallback=function(t,e){this.callback.push({object:e,callback:t})},CAT_Event.prototype.UnregisterCallback=function(t,e){for(var i=0;i<this.callback.length;++i){var n=this.callback[i];if(n.object==e&&n.callback==t)return void this.callback.splice(i,1)}},CAT_Event.CallbackType={EndOfEvent:0},CAT_Event.prototype.SetParent=function(t){this.parent=t},goog.require("UHT.CAT_Event"),goog.provide("UHT.CAT_Action");var CATState={Waiting:0,Running:1,Finished:2,Stopping:3,Stopped:4};function CAT_Action(){this.delay=0,this.isExpanded=!0,this.isEnabled=!0,this.debugBreak=!1,this.internalState=CATState.Stopped}function CAT_Action_CATLink(){CAT_Action.call(this),this.actionType=CAT_Action_CATLink.ActionType.StartEvent,this.eventId=null}function CAT_Action_MusicController(){CAT_Action.call(this),this.clipName=CAT_Action_MusicController.noClip,this.actionType=CAT_Action_MusicController.ActionType.PlayMusicClip,this.useFading=!1,this.fadeInDuration=.5,this.fadeOutDuration=.5,this.duckingStep=0,this.autoUnduck=!1,this.delayToAutoUnduck=-1}function CAT_Action_ObjActivate(){CAT_Action.call(this),this.ToEnableList=[],this.ToDisableList=[]}function CAT_Action_PlayAudioClip(){CAT_Action.call(this),this.audioClip=null}function CAT_Action_SetTransform(){CAT_Action.call(this),this.objects=[],this.setLocalPosition=!1,this.newLocalPosition=new UHTMath.Vector3(0,0,0),this.setLocalRotation=!1,this.newLocalRotation=new UHTMath.Vector3(0,0,0),this.setLocalScale=!1,this.newLocalScale=new UHTMath.Vector3(1,1,1)}function CAT_Action_SetXTBool(){CAT_Action.call(this),this.BoolToCode=null,this.val=!1}function CAT_Action_StopAudioClip(){CAT_Action.call(this),this.audioClip=null}function CAT_Action_TriggerXTEvent(){CAT_Action.call(this),this.EventToCode=null}function XTVar(){this.name=""}function XT(){}function CompareVariableHolderEventByPriority(t,e){return t.priority-e.priority}function XTVariableHolderBase(){this.OnValueChanged=[],this.valueIsAssigned=!1,this.value=null}function XTVariableHolderEvent(){XTVariableHolderBase.call(this),this.priority=0}CAT_Action.prototype.GetState=function(){return this.internalState},CAT_Action.prototype.ChangeState=function(t){if(this.internalState!=t)switch(this.internalState=t){case CATState.Waiting:break;case CATState.Running:this.OnStateChanged_Running();break;case CATState.Finished:break;case CATState.Stopping:this.OnStateChanged_Stopping();break;case CATState.Stopped:break;default:console.log("xCAT: Wait, what? How did i get here?")}else console.log("xCAT: Trying to change state twice! Investigate!")},CAT_Action.prototype.OnStateChanged_Running=function(){this.ChangeState(CATState.Finished)},CAT_Action.prototype.OnStateChanged_Stopping=function(){this.ChangeState(CATState.Finished)},CAT_Action.prototype.CATUpdate=function(){},goog.require("UHT.CAT_Action"),CAT_Action_CATLink.prototype=Object.create(CAT_Action.prototype),(CAT_Action_CATLink.prototype.constructor=CAT_Action_CATLink).prototype.OnStateChanged_Running=function(){var t=this.eventId.cat;if(null!=t)switch(this.actionType){case CAT_Action_CATLink.ActionType.StartEvent:t.RegisterCallback(this.eventId.id,this.Callback_EventEnded,this),t.StartEvent(this.eventId.id);break;case CAT_Action_CATLink.ActionType.StopEvent:t.StopEvent(this.eventId.id),this.ChangeState(CATState.Finished);break;case CAT_Action_CATLink.ActionType.StopAll:t.StopAllRunningEvents(),this.ChangeState(CATState.Finished);break;case CAT_Action_CATLink.ActionType.StartEvent_NoWait:t.StartEvent(this.eventId.id),this.ChangeState(CATState.Finished)}else this.ChangeState(CATState.Finished)},CAT_Action_CATLink.prototype.OnStateChanged_Stopping=function(){var t=this.eventId.cat;null!=t&&this.actionType==CAT_Action_CATLink.ActionType.StartEvent&&(t.UnregisterCallback(this.eventId.id,this.Callback_EventEnded,this),t.StopEvent(this.eventId.id)),this.ChangeState(CATState.Finished)},CAT_Action_CATLink.prototype.Callback_EventEnded=function(t,e){var i=this.eventId.cat;t==CAT_Event.CallbackType.EndOfEvent&&this.actionType==CAT_Action_CATLink.ActionType.StartEvent&&(i.UnregisterCallback(this.eventId.id,this.Callback_EventEnded,this),this.ChangeState(CATState.Finished))},CAT_Action_CATLink.ActionType={StartEvent:0,StopEvent:1,StopAll:2,StartEvent_NoWait:3},goog.require("UHT.CAT_Action"),CAT_Action_MusicController.prototype=Object.create(CAT_Action.prototype),(CAT_Action_MusicController.prototype.constructor=CAT_Action_MusicController).noClip="*none*",CAT_Action_MusicController.ActionType={PlayMusicClip:0,StopMusicClip:1,MuteMusicClip:2,UnmuteMusicClip:3,DuckMusicClip:4,UnduckMusicClip:5,MuteAllMusic:6,UnmuteAllMusic:7,MuteAllSoundFX:8,UnmuteAllSoundFX:9},CAT_Action_MusicController.prototype.OnStateChanged_Running=function(){var t=XT.GetObject(Vars.MusicLogicObject);if(this.HasValidClip()&&null!=t)switch(this.actionType){case CAT_Action_MusicController.ActionType.PlayMusicClip:t.PlayMusicClip(this.clipName,this.useFading?this.fadeInDuration:-1);break;case CAT_Action_MusicController.ActionType.StopMusicClip:t.StopMusicClip(this.clipName,this.useFading?this.fadeOutDuration:-1);break;case CAT_Action_MusicController.ActionType.MuteMusicClip:t.MuteMusicClip(this.clipName,this.useFading?this.fadeOutDuration:-1);break;case CAT_Action_MusicController.ActionType.UnmuteMusicClip:t.UnmuteMusicClip(this.clipName,this.useFading?this.fadeInDuration:-1);break;case CAT_Action_MusicController.ActionType.DuckMusicClip:var e=this.useFading?this.fadeInDuration:-1,i=this.useFading?this.fadeOutDuration:-1;t.DuckMusicClip(this.clipName,this.duckingStep,this.autoUnduck?this.delayToAutoUnduck:-1,e,i);break;case CAT_Action_MusicController.ActionType.UnduckMusicClip:t.UnduckMusicClip(this.clipName,this.duckingStep,this.useFading?this.fadeOutDuration:-1);break;case CAT_Action_MusicController.ActionType.MuteAllMusic:t.MuteMusic(!0);break;case CAT_Action_MusicController.ActionType.UnmuteAllMusic:t.MuteMusic(!1);break;case CAT_Action_MusicController.ActionType.MuteAllSoundFX:t.MuteSoundFX(!0);break;case CAT_Action_MusicController.ActionType.UnmuteAllSoundFX:t.MuteSoundFX(!1)}this.ChangeState(CATState.Finished)},CAT_Action_MusicController.prototype.HasValidClip=function(){return!_string.IsNullOrEmpty(this.clipName)&&this.clipName!=CAT_Action_MusicController.noClip},goog.require("UHT.CAT_Action"),CAT_Action_ObjActivate.prototype=Object.create(CAT_Action.prototype),(CAT_Action_ObjActivate.prototype.constructor=CAT_Action_ObjActivate).prototype.OnStateChanged_Running=function(){for(var t in this.ToEnableList)null!=this.ToEnableList[t]&&this.ToEnableList[t].SetActive(!0);for(var e in this.ToDisableList)null!=this.ToDisableList[e]&&this.ToDisableList[e].SetActive(!1);this.ChangeState(CATState.Finished)},goog.require("UHT.CAT_Action"),goog.require("UHT.AudioClip"),CAT_Action_PlayAudioClip.prototype=Object.create(CAT_Action.prototype),(CAT_Action_PlayAudioClip.prototype.constructor=CAT_Action_PlayAudioClip).prototype.OnStateChanged_Running=function(){XT.GetObject(Vars.SoundManagerObject).PlaySimple(this.audioClip),this.ChangeState(CATState.Finished)},goog.require("UHT.CAT_Action"),CAT_Action_SetTransform.prototype=Object.create(CAT_Action.prototype),(CAT_Action_SetTransform.prototype.constructor=CAT_Action_SetTransform).prototype.OnStateChanged_Running=function(){for(var t=0;t<this.objects.length;t++)this.setLocalPosition&&this.objects[t].localPosition(this.newLocalPosition),this.setLocalRotation&&this.objects[t].localRotation(UHTMath.Quaternion.euler(this.newLocalRotation)),this.setLocalScale&&this.objects[t].localScale(this.newLocalScale);this.ChangeState(CATState.Finished)},goog.require("UHT.CAT_Action"),CAT_Action_SetXTBool.prototype=Object.create(CAT_Action.prototype),(CAT_Action_SetXTBool.prototype.constructor=CAT_Action_SetXTBool).prototype.OnStateChanged_Running=function(){XT.SetBool(this.BoolToCode.name,this.val),this.ChangeState(CATState.Finished)},goog.require("UHT.CAT_Action"),goog.require("UHT.AudioClip"),CAT_Action_StopAudioClip.prototype=Object.create(CAT_Action.prototype),CAT_Action_StopAudioClip.prototype.constructor=CAT_Action_StopAudioClip,goog.require("UHT.CAT_Action"),CAT_Action_TriggerXTEvent.prototype=Object.create(CAT_Action.prototype),(CAT_Action_TriggerXTEvent.prototype.constructor=CAT_Action_TriggerXTEvent).prototype.OnStateChanged_Running=function(){XT.TriggerEvent(this.EventToCode.name),this.ChangeState(CATState.Finished)},XT.RegisterAndInitDone=!1,XT.variablesBool={},XT.variablesInt={},XT.variablesFloat={},XT.variablesDouble={},XT.variablesString={},XT.variablesObject={},XT.variablesEvent={},XT.RegisterAndInit=function(t){console.log("XT - InitElements root='"+t.name+"'",t),XT.variablesBool={},XT.variablesInt={},XT.variablesFloat={},XT.variablesDouble={},XT.variablesString={},XT.variablesObject={},XT.variablesEvent={};for(var e=t.GetComponentsInChildren(XTLink,!0),i=0;i<e.length;++i)e[i].XTRegisterCallbacksBase();for(i=0;i<e.length;++i)e[i].XTInitVariablesAndEvents();XT.RegisterAndInitDone=!0},XT.UnregisterCallbackBool=function(t,e,i){var n=e[xtCache_Bool+t.xtCacheName];if(null!=n){i=n[i];if(null!=i)i.isEnabled=!1;else for(var o in n)n[o].isEnabled=!1}},XT.UnregisterCallbackInt=function(t,e,i){var n=e[xtCache_Int+t.xtCacheName];if(null!=n){i=n[i];if(null!=i)i.isEnabled=!1;else for(var o in n)n[o].isEnabled=!1}},XT.UnregisterCallbackFloat=function(t,e,i){var n=e[xtCache_Float+t.xtCacheName];if(null!=n){i=n[i];if(null!=i)i.isEnabled=!1;else for(var o in n)n[o].isEnabled=!1}},XT.UnregisterCallbackDouble=function(t,e,i){var n=e[xtCache_Double+t.xtCacheName];if(null!=n){i=n[i];if(null!=i)i.isEnabled=!1;else for(var o in n)n[o].isEnabled=!1}},XT.UnregisterCallbackString=function(t,e,i){var n=e[xtCache_String+t.xtCacheName];if(null!=n){i=n[i];if(null!=i)i.isEnabled=!1;else for(var o in n)n[o].isEnabled=!1}},XT.UnregisterCallbackObject=function(t,e,i){var n=e[xtCache_Object+t.xtCacheName];if(null!=n){i=n[i];if(null!=i)i.isEnabled=!1;else for(var o in n)n[o].isEnabled=!1}},XT.UnregisterCallbackEvent=function(t,e,i){var n=e[xtCache_Event+t.xtCacheName];if(null!=n){var o=n[i];if(null!=o)for(var s in o)o[s].isEnabled=!1;else for(var s in n)for(var r in n[s])n[s][r].isEnabled=!1}},XT.RegisterCallbackBool=function(t,e,i){var n;null==XT.variablesBool[t]&&(XT.variablesBool[t]=new XTVariableHolderBase);var o=i[xtCache_Bool+e.xtCacheName];null==(n=null!=o?o[t]:n)?(n=new EventHandler(i,e),XT.variablesBool[t].OnValueChanged.push(n),CacheXTData(i,e,t,xtCache_Bool,n)):(n.isEnabled&&console.log("!!!THIS MISTAKE IS UNFORGIVABLE!!! "+e.xtCacheName+"() is already registered on "+t),n.isEnabled=!0)},XT.RegisterCallbackInt=function(t,e,i){var n;null==XT.variablesInt[t]&&(XT.variablesInt[t]=new XTVariableHolderBase);var o=i[xtCache_Int+e.xtCacheName];null==(n=null!=o?o[t]:n)?(n=new EventHandler(i,e),XT.variablesInt[t].OnValueChanged.push(n),CacheXTData(i,e,t,xtCache_Int,n)):(n.isEnabled&&console.log("!!!THIS MISTAKE IS UNFORGIVABLE!!! "+e.xtCacheName+"() is already registered on "+t),n.isEnabled=!0)},XT.RegisterCallbackFloat=function(t,e,i){var n;null==XT.variablesFloat[t]&&(XT.variablesFloat[t]=new XTVariableHolderBase);var o=i[xtCache_Float+e.xtCacheName];null==(n=null!=o?o[t]:n)?(n=new EventHandler(i,e),XT.variablesFloat[t].OnValueChanged.push(n),CacheXTData(i,e,t,xtCache_Float,n)):(n.isEnabled&&console.log("!!!THIS MISTAKE IS UNFORGIVABLE!!! "+e.xtCacheName+"() is already registered on "+t),n.isEnabled=!0)},XT.RegisterCallbackDouble=function(t,e,i){var n;null==XT.variablesDouble[t]&&(XT.variablesDouble[t]=new XTVariableHolderBase);var o=i[xtCache_Double+e.xtCacheName];null==(n=null!=o?o[t]:n)?(n=new EventHandler(i,e),XT.variablesDouble[t].OnValueChanged.push(n),CacheXTData(i,e,t,xtCache_Double,n)):(n.isEnabled&&console.log("!!!THIS MISTAKE IS UNFORGIVABLE!!! "+e.xtCacheName+"() is already registered on "+t),n.isEnabled=!0)},XT.RegisterCallbackString=function(t,e,i){var n;null==XT.variablesString[t]&&(XT.variablesString[t]=new XTVariableHolderBase);var o=i[xtCache_String+e.xtCacheName];null==(n=null!=o?o[t]:n)?(n=new EventHandler(i,e),XT.variablesString[t].OnValueChanged.push(n),CacheXTData(i,e,t,xtCache_String,n)):(n.isEnabled&&console.log("!!!THIS MISTAKE IS UNFORGIVABLE!!! "+e.xtCacheName+"() is already registered on "+t),n.isEnabled=!0)},XT.RegisterCallbackObject=function(t,e,i){var n;null==XT.variablesObject[t]&&(XT.variablesObject[t]=new XTVariableHolderBase);var o=i[xtCache_Object+e.xtCacheName];null==(n=null!=o?o[t]:n)?(n=new EventHandler(i,e),XT.variablesObject[t].OnValueChanged.push(n),CacheXTData(i,e,t,xtCache_Object,n)):(n.isEnabled&&console.log("!!!THIS MISTAKE IS UNFORGIVABLE!!! "+e.xtCacheName+"() is already registered on "+t),n.isEnabled=!0)},XT.RegisterCallbackEvent=function(t,e,i,n){null==n&&(n=0),null==XT.variablesEvent[t]&&(XT.variablesEvent[t]=[]);for(var o,s=null,r=0;r<XT.variablesEvent[t].length;++r)XT.variablesEvent[t][r].priority==n&&(s=XT.variablesEvent[t][r]);null==s&&((s=new XTVariableHolderEvent).priority=n,XT.variablesEvent[t].push(s),XT.variablesEvent[t]=XT.variablesEvent[t].sort(CompareVariableHolderEventByPriority));var a=i[xtCache_Event+e.xtCacheName];null==(o=null!=a&&null!=a[t]?a[t][n]:o)?(o=new EventHandler(i,e),s.OnValueChanged.push(o),CacheXTData(i,e,t,xtCache_Event,o,n)):(o.isEnabled&&console.log("!!!THIS MISTAKE IS UNFORGIVABLE!!! "+e.xtCacheName+"() is already registered on "+t),o.isEnabled=!0)},XT.GetBool=function(t){var e=!1;return null!=XT.variablesBool[t]?e=XT.variablesBool[t].value:console.error("XT - does not have a variable (Bool) named "+t+" !"),e},XT.GetInt=function(t){var e=-1;return null!=XT.variablesInt[t]?e=XT.variablesInt[t].value:console.error("XT - does not have a variable (Int) named "+t+" !"),e},XT.GetFloat=function(t){var e=NaN;return null!=XT.variablesFloat[t]?e=XT.variablesFloat[t].value:console.error("XT - does not have a variable (Float) named "+t+" !"),e},XT.GetDouble=function(t){var e=NaN;return null!=XT.variablesDouble[t]?e=XT.variablesDouble[t].value:console.error("XT - does not have a variable (Double) named "+t+" !"),e},XT.GetString=function(t){var e="RABAZZ";return null!=XT.variablesString[t]?e=XT.variablesString[t].value:console.error("XT - does not have a variable (String) named "+t+" !"),e},XT.GetObject=function(t){var e=null;return null!=XT.variablesObject[t]?e=XT.variablesObject[t].value:console.error("XT - does not have a variable (Object) named "+t+" !"),e},XT.SetBool=function(t,e){null==XT.variablesBool[t]&&(XT.variablesBool[t]=new XTVariableHolderBase);t=XT.variablesBool[t];t.value==e&&0!=t.valueIsAssigned||(t.valueIsAssigned=!0,t.value=e,null!=(e=t.OnValueChanged)&&XT.Invoke(e,t.value))},XT.SetInt=function(t,e){null==XT.variablesInt[t]&&(XT.variablesInt[t]=new XTVariableHolderBase);t=XT.variablesInt[t];t.value==e&&0!=t.valueIsAssigned||(t.valueIsAssigned=!0,t.value=e,null!=(e=t.OnValueChanged)&&XT.Invoke(e,t.value))},XT.SetFloat=function(t,e){null==XT.variablesFloat[t]&&(XT.variablesFloat[t]=new XTVariableHolderBase);t=XT.variablesFloat[t];t.value==e&&0!=t.valueIsAssigned||(t.valueIsAssigned=!0,t.value=e,null!=(e=t.OnValueChanged)&&XT.Invoke(e,t.value))},XT.SetDouble=function(t,e){null==XT.variablesDouble[t]&&(XT.variablesDouble[t]=new XTVariableHolderBase);t=XT.variablesDouble[t];t.value==e&&0!=t.valueIsAssigned||(t.valueIsAssigned=!0,t.value=e,null!=(e=t.OnValueChanged)&&XT.Invoke(e,t.value))},XT.SetString=function(t,e){null==XT.variablesString[t]&&(XT.variablesString[t]=new XTVariableHolderBase);t=XT.variablesString[t];t.value==e&&0!=t.valueIsAssigned||(t.valueIsAssigned=!0,t.value=e,null!=(e=t.OnValueChanged)&&XT.Invoke(e,t.value))},XT.SetObject=function(t,e){null==XT.variablesObject[t]&&(XT.variablesObject[t]=new XTVariableHolderBase);t=XT.variablesObject[t];t.value==e&&0!=t.valueIsAssigned||(t.valueIsAssigned=!0,t.value=e,null!=(e=t.OnValueChanged)&&XT.Invoke(e,t.value))},XT.TriggerEvent=function(t){null==XT.variablesEvent[t]&&(XT.variablesEvent[t]=[]);for(var e=XT.variablesEvent[t],i=0;i<e.length;++i){var n=e[i].OnValueChanged;null!=n&&XT.Invoke(n)}},XT.Invoke=function(t,e){for(var i=0;i<t.length;++i){var n=!0,o=t[i].object;(n=o instanceof XTLink?o.xtEnabled:n)&&t[i].call(e)}},goog.require("UHT.EventHandler"),XTVariableHolderEvent.prototype=Object.create(XTVariableHolderBase.prototype),XTVariableHolderEvent.prototype.constructor=XTVariableHolderEvent;var xtCache_Bool="xtCache_Bool",xtCache_Int="xtCache_Int",xtCache_Float="xtCache_Float",xtCache_Double="xtCache_Double",xtCache_String="xtCache_String",xtCache_Object="xtCache_Object",xtCache_Event="xtCache_Event",xtCallbackCounter=0;function CacheXTData(t,e,i,n,o,s){null==e.xtCacheName&&(e.xtCacheName="_Callback"+xtCallbackCounter,xtCallbackCounter++);n+=e.xtCacheName,e=t[n];null==e&&(t[n]=e={}),null==s?e[i]=o:(e[i]={},e[i][s]=o)}function CameraDepthController(){Component.call(this),this.targetCamera=null,this.initialDepth=-1}function ExtraCameraSettings(){Component.call(this),this._clipUp=-1,this._clipDown=-1,this._clipLeft=-1,this._clipRight=-1,this.dirtyFlag=!1,this.clipInput=!1,this.clipMaskLayer=0}function ExtraCameraSettingsAnchorsHolder(){this.anchorUpLeft=null,this.anchorDownRight=null}function ExtraCameraSettingsAnchors(){Component.call(this),this.extraCameraSettings=null,this.anchorUpLeft=null,this.anchorDownRight=null,this.anchors=null,this.prevUL=null,this.prevDR=null,this.prevPos=null}goog.require("UHT.Component"),CameraDepthController.prototype=Object.create(Component.prototype),(CameraDepthController.prototype.constructor=CameraDepthController).prototype.Start=function(){this.initialDepth=this.targetCamera.depth},CameraDepthController.prototype.SetCameraDepth=function(t){this.targetCamera.depth=_number.otod(t)},CameraDepthController.prototype.ResetCameraDepth=function(){this.targetCamera.depth=this.initialDepth},goog.require("UHT.Component"),ExtraCameraSettings.prototype=Object.create(Component.prototype),(ExtraCameraSettings.prototype.constructor=ExtraCameraSettings).prototype.clipUp=-1,ExtraCameraSettings.prototype.clipDown=-1,ExtraCameraSettings.prototype.clipLeft=-1,ExtraCameraSettings.prototype.clipRight=-1,Object.defineProperties(ExtraCameraSettings.prototype,{clipUp:{get:function(){return this._clipUp},set:function(t){t!=this._clipUp&&(this._clipUp=t,this.dirtyFlag=!0)}},clipDown:{get:function(){return this._clipDown},set:function(t){t!=this._clipDown&&(this._clipDown=t,this.dirtyFlag=!0)}},clipLeft:{get:function(){return this._clipLeft},set:function(t){t!=this._clipLeft&&(this._clipLeft=t,this.dirtyFlag=!0)}},clipRight:{get:function(){return this._clipRight},set:function(t){t!=this._clipRight&&(this._clipRight=t,this.dirtyFlag=!0)}}}),goog.require("UHT.UHTEngine"),ExtraCameraSettingsAnchors.prototype=Object.create(Component.prototype),(ExtraCameraSettingsAnchors.prototype.constructor=ExtraCameraSettingsAnchors).prototype.Update=function(){var t,e,i=this.anchorUpLeft.position(),n=this.anchorDownRight.position(),o=this.transform.position();null!=this.prevUL&&this.prevUL.equals(i)&&null!=this.prevDR&&this.prevDR.equals(n)&&null!=this.prevPos&&this.prevPos.equals(o)||(t=this.transform.inverseTransformPoint(i),e=this.transform.inverseTransformPoint(n),this.extraCameraSettings.clipUp=t.y,this.extraCameraSettings.clipDown=-e.y,this.extraCameraSettings.clipLeft=-t.x,this.extraCameraSettings.clipRight=e.x,this.prevUL=i,this.prevDR=n,this.prevPos=o)},ExtraCameraSettingsAnchors.prototype.SwitchToAnchors=function(t){t=Number(t),this.anchorUpLeft=this.anchors[t].anchorUpLeft,this.anchorDownRight=this.anchors[t].anchorDownRight,this.Update()};var LMVars={Evt_Internal_SwitchToLandscapeLayout:"Evt_Internal_SwitchToLandscapeLayout",Evt_Internal_SwitchToLandscapeLayoutWide:"Evt_Internal_SwitchToLandscapeLayoutWide",Evt_Internal_SwitchToLandscapeLayoutWideFull:"Evt_Internal_SwitchToLandscapeLayoutWideFull",Evt_Internal_SwitchToPortraitLayout:"Evt_Internal_SwitchToPortraitLayout",Evt_Internal_SwitchToPortraitLayoutIPhone:"Evt_Internal_SwitchToPortraitLayoutIPhone",Evt_Internal_SwitchToPortraitLayoutIPad:"Evt_Internal_SwitchToPortraitLayoutIPad"};function AtlasChange(){this.Target=null,this.NewAtlas=null,this.extraPayloads=null,this.oldPath="",this.isSet=!1,this.currentPayload=-1}function TransformInfo(){this.Position=null,this.Scale=null,this.Rotation=0,this.isNull=!1,this.currentPayload=-1}function TransformChange(){this.Target=null,this.path="",this.TransformData=null,this.extraPayloads=null,this.isSet=!1,this.active=!0,this.currentPayload=-1}function LabelChange(){this.Target=null,this.path="",this.newContent=null,this.extraPayloads=null,this.oldContent="",this.hasDynamicContent=!1,this.isSet=!1,this.hasCustomEffects=!0}function ExtraLabelPayload(t,e){this.label=t,this.cachedDefaultContent=e}function SpineChangePayload(){this.NewSkeletonData=null,this.Atlases=null}function SpineChange(){this.Target=null,this.NewSkeletonData=null,this.Atlases=null,this.extraPayloads=null,this.oldPath="",this.isSet=!1,this.currentPayload=-1}function RoutineQueue(){Component.call(this),this.rqiList=[],this.isStarted=!1}function RoutineQueueItem(){}function RQICatLinkStarter(t){RoutineQueueItem.call(this),this.catLink=t}function RQIMarker(t){RoutineQueueItem.call(this),this.type=t}function RQITriggerCallback(t,e,i){RoutineQueueItem.call(this),this.callback=t,this.param=e,this.object=i}function RQITriggerEvent(t){RoutineQueueItem.call(this),this.eventName=t}function RQIWaitForLastWinCount(){RoutineQueueItem.call(this)}function RQIWaitForSeconds(t){RoutineQueueItem.call(this),this.waitTime=t,this.curTime=0}function RQIWaitForXTEvent(t){RoutineQueueItem.call(this),this.eventName=t,this.eventReceived=!1}function RQIWaitForXTEventWithCallback(t,e){RoutineQueueItem.call(this),this.eventName=t,this.eventCallback=e,this.eventReceived=!1}function BalanceData(t,e,i){var n,o,s;t instanceof BalanceData?(n=t.Balance,o=t.BonusBalance,s=t.Time):("number"==typeof t&&(n=t),"number"==typeof e&&(o=e),"number"==typeof i&&(s=i)),this.Balance=n||0,this.BonusBalance=o||0,this.Time=s||0}goog.provide("UHT.ModificationsManager_XChange"),goog.require("UHTMath.Vector3"),TransformInfo.prototype.SetPosition=function(t){this.Position=new UHTMath.Vector3(t.x,t.y,t.z)},TransformInfo.prototype.SetScale=function(t){this.Scale=new UHTMath.Vector3(t.x,t.y,t.z)},TransformInfo.prototype.SetRotation=function(t){this.Rotation=t},TransformChange.prototype.SetValuesToElement=function(t){var e;this.isSet&&(e=this.TransformData[0],(e=-1!=this.currentPayload&&null!=this.extraPayloads&&this.extraPayloads.length>this.currentPayload&&null!=this.extraPayloads[this.currentPayload]?this.extraPayloads[this.currentPayload]:e).isNull||(this.Target.localPosition(new UHTMath.Vector3(e.Position.x,e.Position.y,e.Position.z)),this.Target.localScale(new UHTMath.Vector3(e.Scale.x,e.Scale.y,e.Scale.z)),this.Target.localRotation(UHTMath.Quaternion.euler(this.Target.localEulerAngles().x,this.Target.localEulerAngles().y,e.Rotation)),this.Target.gameObject.SetActive(this.active)))},LabelChange.prototype.SetValuesToLabel=function(){var t;!this.isSet||null==this.Target||null!=(t=this.Target.GetComponent(UILabel))&&this.SetValues(t)},LabelChange.prototype.SetValues=function(t){var e=this.newContent;-1!=this.currentPayload&&null!=this.extraPayloads&&this.extraPayloads.length>this.currentPayload&&null!=this.extraPayloads[this.currentPayload]&&(e=this.extraPayloads[this.currentPayload].label),ModificationsManager.CopyFromLabelToLabel(e,t,!this.hasDynamicContent,this.hasCustomEffects)},LabelChange.prototype.ReadValues=function(t){},LabelChange.prototype.RevertValue=function(){this.newContent.text="<<<<<<"+this.oldContent},goog.require("UHT.Component"),RoutineQueue.prototype=Object.create(Component.prototype),(RoutineQueue.prototype.constructor=RoutineQueue).prototype.AddRoutineQueueItem=function(t){this.rqiList.push(t)},RoutineQueue.prototype.Update=function(){if(this.isStarted&&0<this.rqiList.length)for(;!this.rqiList[0].RQIUpdate()&&(this.rqiList[0].RQIStop(),this.rqiList.splice(0,1),0<this.rqiList.length);)this.rqiList[0].RQIStart()},RoutineQueue.prototype.StartRoutines=function(){0<this.rqiList.length?(this.rqiList[0].RQIStart(),this.isStarted=!0):console.error("RoutineQueue - Trying to start and empty Routine Queue")},RoutineQueue.prototype.StopRoutines=function(){0<this.rqiList.length&&this.rqiList[0].RQIStop(),this.rqiList=[],this.isStarted=!1},goog.provide("UHT.RoutineQueueItem"),RoutineQueueItem.prototype.RQIStart=function(){},RoutineQueueItem.prototype.RQIUpdate=function(){return!1},RoutineQueueItem.prototype.RQIStop=function(){},goog.require("UHT.RoutineQueueItem"),RQICatLinkStarter.prototype=Object.create(RoutineQueueItem.prototype),(RQICatLinkStarter.prototype.constructor=RQICatLinkStarter).prototype.RQIStart=function(){this.catLink.Start()},RQICatLinkStarter.prototype.RQIUpdate=function(){return!1},RQICatLinkStarter.prototype.RQIStop=function(){},goog.require("UHT.RoutineQueueItem"),RQIMarker.prototype=Object.create(RoutineQueueItem.prototype),(RQIMarker.prototype.constructor=RQIMarker).MarkerType={StartLineByLine:0,EndLineByLine:1},RQIMarker.prototype.RQIStart=function(){},RQIMarker.prototype.RQIUpdate=function(){return!1},RQIMarker.prototype.RQIStop=function(){},goog.require("UHT.RoutineQueueItem"),RQITriggerCallback.prototype=Object.create(RoutineQueueItem.prototype),(RQITriggerCallback.prototype.constructor=RQITriggerCallback).prototype.RQIStart=function(){this.callback.call(this.object,this.param)},RQITriggerCallback.prototype.RQIUpdate=function(){return!1},RQITriggerCallback.prototype.RQIStop=function(){},goog.require("UHT.RoutineQueueItem"),RQITriggerEvent.prototype=Object.create(RoutineQueueItem.prototype),(RQITriggerEvent.prototype.constructor=RQITriggerEvent).prototype.RQIStart=function(){XT.TriggerEvent(this.eventName)},RQITriggerEvent.prototype.RQIUpdate=function(){return!1},RQITriggerEvent.prototype.RQIStop=function(){},goog.require("UHT.RoutineQueueItem"),RQIWaitForLastWinCount.prototype=Object.create(RoutineQueueItem.prototype),(RQIWaitForLastWinCount.prototype.constructor=RQIWaitForLastWinCount).prototype.RQIStart=function(){},RQIWaitForLastWinCount.prototype.RQIUpdate=function(){return XT.GetBool(Vars.LastWinIsCounting)},RQIWaitForLastWinCount.prototype.RQIStop=function(){},goog.require("UHT.RoutineQueueItem"),RQIWaitForSeconds.prototype=Object.create(RoutineQueueItem.prototype),(RQIWaitForSeconds.prototype.constructor=RQIWaitForSeconds).prototype.RQIStart=function(){this.curTime=0},RQIWaitForSeconds.prototype.RQIUpdate=function(){var t=0==this.curTime;return this.curTime+=Time.deltaTime,!(this.curTime>this.waitTime-.001)||t},RQIWaitForSeconds.prototype.RQIStop=function(){},goog.require("UHT.RoutineQueueItem"),RQIWaitForXTEvent.prototype=Object.create(RoutineQueueItem.prototype),(RQIWaitForXTEvent.prototype.constructor=RQIWaitForXTEvent).prototype.RQIStart=function(){this.eventReceived=!1,XT.RegisterCallbackEvent(this.eventName,this.OnEventTriggered,this)},RQIWaitForXTEvent.prototype.RQIUpdate=function(){return 1!=this.eventReceived},RQIWaitForXTEvent.prototype.RQIStop=function(){XT.UnregisterCallbackEvent(this.OnEventTriggered,this)},RQIWaitForXTEvent.prototype.OnEventTriggered=function(){this.eventReceived=!0},goog.require("UHT.RoutineQueueItem"),RQIWaitForXTEventWithCallback.prototype=Object.create(RoutineQueueItem.prototype),(RQIWaitForXTEventWithCallback.prototype.constructor=RQIWaitForXTEventWithCallback).prototype.RQIStart=function(){this.eventReceived=!1,XT.RegisterCallbackEvent(this.eventName,this.OnEventTriggered,this),XT.TriggerEvent(this.eventCallback)},RQIWaitForXTEventWithCallback.prototype.RQIUpdate=function(){return 1!=this.eventReceived},RQIWaitForXTEventWithCallback.prototype.RQIStop=function(){XT.UnregisterCallbackEvent(this.OnEventTriggered,this)},RQIWaitForXTEventWithCallback.prototype.OnEventTriggered=function(){this.eventReceived=!0},goog.provide("UHT.BalanceData"),goog.provide("UHT.BaseDataStructures");var Cloneable=function(){};function CasinoSoundState(){this.state=0}function GameSettings(t){var e;switch(this.GameId="",this.Error=!1,void 0===t?"undefined":_typeof3(t)){case"object":e=t;break;case"string":e=this.FromString(t)}this.Settings=e||{}}Cloneable.prototype.Clone=function(){},CasinoSoundState.GlobalSoundOff=-1,CasinoSoundState.SoundOff=0,CasinoSoundState.SoundOn=1,goog.require("UHT.BaseDataStructures"),GameSettings.prototype.FromString=function(t){this.Settings=this.BuildDictionaryFromString(t,";","=")},GameSettings.prototype.ToString=function(){return this.DictionaryToString(this.Settings,";","=")},GameSettings.prototype.DictionaryToString=function(t,e,i){var n,o=[];for(n in t)o.push([n,t[n]].join(i));return o.join(e)},GameSettings.prototype.Clone=function(){var t,e=new GameSettings;for(t in e.GameId=this.GameId,e.Error=this.Error,this.Settings)e.Settings[t]=this.Settings[t];return e},GameSettings.prototype.BuildDictionaryFromString=function(t,e,i){var n={};if(!_string.IsNullOrEmpty(t))for(var o=t.split(e),s=0;s<o.length;++s){var r=o[s].split(i);2==r.length&&(n[r[0]]=r[1])}return n};var GambleV2Protocol={};function VsGamblingButtonState(t,e,i){this.GamblingOnSpinAvailable=t,this.GamblingOnFreespinWinAvailable=e,this.GamblingOnBonusWinAvailable=i}function VsGamblingHistory(t){this.History=[],this.WinAmount="number"==typeof t?t:0}function VsGamblingRequest(){this.Choice=VsGamblingRequest.GamblingChoices.None}GambleV2Protocol.GambleResult=function(){this.level=-1,this.selectedIndex=-1,this.winIndex=-1,this.winAmount=0,this.winMultiplier=0,this.isWin=!1,this.isEnd=!1},GambleV2Protocol.GambleData=function(){this.riskAmount=0,this.options=null,this.optionIndex=-1,this.result=null,this.totalWin=0},GambleV2Protocol.Parser={},GambleV2Protocol.Parser.data=null,GambleV2Protocol.Parser.ParseGambleData=function(t){var e=GambleV2Protocol.Parser.data,i="g_ra";if(null==t[i])return GambleV2Protocol.Parser.data=null;(e=null==e?GambleV2Protocol.Parser.data=new GambleV2Protocol.GambleData:e).riskAmount=_number.otod(t[i]),null!=t[i="tw"]&&(e.totalWin=_number.otod(t[i]));var n=!0;return null!=t[i="go_i"]&&(n=!1,e.options=_array.ConvertAll(t[i].split(","),_number.otod)),null!=t[i="g_o"]&&(n=!1,e.optionIndex=_number.otoi(t[i])),e.result=GambleV2Protocol.Parser.ParseResult(t),null!=e.result?n=!1:null!=t[i="na"]&&["g","go"].indexOf(t[i])<0&&(n=!0),n&&(e.options=null,e.optionIndex=-1,e.result=null),e},GambleV2Protocol.Parser.ParseResult=function(t){if(null==t.g_w)return null;var e=new GambleV2Protocol.GambleResult;return e.winAmount=_number.otod(t.g_w),e.winIndex=_number.otoi(t.g_wi),e.winMultiplier=_number.otod(t.g_mul),e.level=_number.otoi(t.g_l),e.isWin="1"==t.g_r,e.isEnd="1"==t.g_end,null!=t.g_si&&(e.selectedIndex=_number.otoi(t.g_si)),e},goog.require("UHT.BaseDataStructures"),VsGamblingButtonState.prototype.ToString=function(){return["[VsGamblingButtonState gamblingSpinWin=",this.GamblingOnSpinAvailable,", gamblingFreeSpinWin=",this.GamblingOnFreespinWinAvailable,", gamblingBonusWin=",this.GamblingOnBonusWinAvailable,"]"].join("")},VsGamblingButtonState.prototype.Clone=function(){return new VsGamblingButtonState(this.GamblingOnSpinAvailable,this.GamblingOnFreespinWinAvailable,this.GamblingOnBonusWinAvailable)},goog.require("UHT.BaseDataStructures"),VsGamblingHistory.prototype.AddHistoryItem=function(t){this.History.push(t)},VsGamblingHistory.prototype.Clone=function(){var t=new VsGamblingHistory;t.WinAmount=this.WinAmount,t.History=[];for(var e=0;e<this.History.length;++e)t.History[e]=this.History[e].Clone();return t},VsGamblingRequest.prototype.GetTypeOfChoice=function(){switch(this.Choice){case VsGamblingRequest.GamblingChoices.Red:case VsGamblingRequest.GamblingChoices.Black:return GamblingType.CardColor;case VsGamblingRequest.GamblingChoices.Clubs:case VsGamblingRequest.GamblingChoices.Spades:case VsGamblingRequest.GamblingChoices.Diamond:case VsGamblingRequest.GamblingChoices.Heart:return GamblingType.Suit;case VsGamblingRequest.GamblingChoices.Dices:return GamblingType.Dices}return GamblingType.None},VsGamblingRequest.GamblingChoices={Red:0,Black:1,Clubs:2,Spades:3,Diamond:4,Heart:5,Dices:6,None:-1},goog.require("UHT.BaseDataStructures");var GamblingType={CardColor:0,Suit:1,Dices:2,None:3},GamblingState={Lose:0,Win:1,WinLimit:2};function VsGamblingResponse(){this.GamblingType=GamblingType.None,this.Card=-1,this.Dice1=0,this.Dice2=0,this.Balance=0,this.State=GamblingState.Lose,this.NoMoney=!1}VsGamblingResponse.prototype.GetGamblingType=function(){return this.GamblingType},VsGamblingResponse.prototype.SetGamblingType=function(t){this.GamblingType=t},VsGamblingResponse.prototype.GetCard=function(){return this.Card},VsGamblingResponse.prototype.SetCard=function(t){this.Card=t},VsGamblingResponse.prototype.GetDice1=function(){return this.Dice1},VsGamblingResponse.prototype.SetDice1=function(t){this.Dice1=t},VsGamblingResponse.prototype.GetDice2=function(){return this.Dice2},VsGamblingResponse.prototype.SetDice2=function(t){this.Dice2=t},VsGamblingResponse.prototype.GetBalance=function(){return this.Balance},VsGamblingResponse.prototype.SetBalance=function(t){this.Balance=t},VsGamblingResponse.prototype.GetState=function(){return this.State},VsGamblingResponse.prototype.SetState=function(t){this.State=t},VsGamblingResponse.prototype.IsNoMoney=function(){return this.NoMoney},VsGamblingResponse.prototype.SetNoMoney=function(t){this.NoMoney=t},VsGamblingResponse.prototype.Clone=function(){var t=new VsGamblingResponse;return t.GamblingType=this.GamblingType,t.Card=this.Card,t.Dice1=this.Dice1,t.Dice2=this.Dice2,t.Balance=this.Balance,t.State=this.State,t.NoMoney=this.NoMoney,t},goog.require("UHT.BaseDataStructures");var GamblingOccasions={Spin:0,FreeSpin:1,Bonus:2};function VsGamblingSettings(){this.occasionsMap={},this.GamblingSettings={},this.SkipGambleOnInit=!1,this.InitGamblingOccasion=GamblingOccasions.Spin}function VsBetLevel(){this.betLevelIndex=0,this.betLevelScale=[],this.paytables=[]}function VsBonusGameData(){this.Level=-1,this.Life=-1,this.WinPoints=0,this.RealWin=0,this.Coef=0,this.GameOver=!1,this.IWins=null,this.BonusTable=new VsBonusGameDataTable,this.MultipliersTable=new VsBonusGameDataTable,this.MultiplierStep=!1,this.numberOfLevels=-1,this.lifeWins=null,this.currentBonusRespin=0,this.maxBonusRespins=0,this.respinSymbols=null,this.winSymbols=null,this.initialized=!1,this.PremultipliedWin=0,this.RespinsTotalMultiplier=-1,this.ExtraRespinsWon=-1,this.ExtraRetriggersWon=-1,this.MultipliedSymbolPositions=null,this.id=-1,this.type=-1,this.wheelOfFortune=null,this.map=null}function VsBonusGameDataTable(){this.Status=null,this.Markers=null,this.Wins=null,this.WinsMask=null,this.BGItemValues=null,this.BGItemMasks=null}function VsBonusGamePlayerChoice(t){this.Index=t,this.PickType=0}function VsExpandingSymbolData(){this.ExpandingSymbolId=0,this.SourcePositions=[],this.TargetPositions=[]}function VsFreeRound(){this.RoundsLeft=0,this.TotalWin=0,this.Type=VsFreeRound.RoundType.Spins,this.BonusCode=""}function VsFreeRoundEvent(){this.Type=VsFreeRoundEvent.EventType.Start,this.Bet=0,this.Lines=0,this.RoundsLeft=0,this.TurboSpinMode=!1,this.PlayLaterAvailable=!1,this.EndDateTimestamp=-1,this.IsFreeRoundPending=!1,this.PromoLocalizedName="",this.PromoType=""}function VsFreeSpinBonusGame(){this.BonusItems=[],this.GameOver=!1,this.Level=0,this.Lifes=-1,this.SpinsWin=0,this.MultipliersWin=0}function VsFreeSpin(){this._currentNumber=0,this._maxNumber=0,this._totalNumber=0,this._currentWin=0,this._totalWin=0,this._totalMultipl=0,this._currentWinMultiplied=0,this._totalWinMultiplied=0,this.PickedOptionIndex=-1,this.BonusGame=null,this._mysteryScatter=[],this._needGetMysteryScatter=!1,this.fstype=-1}function VsFreeSpinOption(){this.FreeSpinsCount=0,this.FreeSpinsMultiplier=0,this.FreeSpinsStartingMultiplier=0,this.FreeSpinsStackedSymbol=0,this.WildSymbolIndex=-1,this.SpecialFeatureName="",this.ReelSymbolsToBeReplaced=[],this.RSTBSymbolId=-1,this.TriggerSymbolRandomMultiplier=-1,this.TSRandomMultipliers=[],this.WildWinMultipliers=[]}function VsFreeSpinsChainData(){this.FSCSpins=[],this.FSCMultipliers=[],this.FSCSpinsTotal=[],this.FSCMultipliersTotal=[],this.FSCWinsTotal=[],this.FSCMultipliedWinsTotal=[],this.FSCSessionsWonThisSpin=0,this.FSCSessionsWonSymbolsCount=[]}function VsFSPurchaseData(){this.freeSpinsBought=0}function VsFSPurchaseConfig(){this.purchaseOptions=[],this.optionIndex=-2}function VsGoldSymbol(){this.reels=null,this.symbols=null,this.awards=null}function VsInitData(){this.Bets=[],this._reelSymbols=[],this.ReelSets=null,this.NextReelSymbols=[],this.Bet=0,this.DefaultBet=0,this.ExplicitMaxTotalBet=-1,this.Line=0,this.Scatters=null,this.Paytable=null,this.Wilds=null,this.WildScatters=null,this.Bonuses=null,this.GamblingSettings=null,this.GamblingHistory=null,this.WildRandomLineMpConfig=null,this.RandomAwardConfig=null,this.ProgressiveConfig=null,this.MoneySymbolConfig=null,this.BetLevelSettings=null,this.FreeSpinsPurchaseConfig=null,this.ReelSetIndex=-1,this.ReelSetIndexCurrent=-1,this.StackedSymbolIndex=-1,this.StackedSymbolIndexCurrent=-1,this.InitialMysterySymbolId=null,this.BGItemValues=[],this.BGItemMasks=[],this.naSymbolId=-1}function VsJackpotConfiguration(){this.LineCombinationToWin=[],this.MinBetToWin=0,this.MinLineNumberToWin=0}function VsJackpotData(t,e,i,n){this.IsActive=t||!1,this.JackpotID=e||0,this.JackpotOrder=i||0,this.WinJackpotAmount=n||0,Object.defineProperty(this,"IsWin",{get:function(){return 0<this.WinJackpotAmount}})}function VsJackpotVisualization(){this.jpvType=VsJackpotVisualization.JpType.badges,this.positions=null}function VsMergingSymbol(){this.mergingPosition=-1,this.mergedSymbolId=-1}function VsMoneySymbolConfig(){this.symbolID=-1,this.possibleValues=null,this.jackpotValues=null,this.jackpotMasks=null}function VsMoneySymbolData(){this.currentValues=null,this.currentSymbolsLook=null,this.totalWin=-1}function VsNudgedSymbolsData(t,e,i,n,o){this.reelID=t,this.startingSymbolsIDs=e,this.nudgedSymbolsIDs=i,this.nudgedStopPosition=n,this.nudgeDirection=o}function VsOpeningSymbolsData(){this.Positions=[],this.OSFreeSpinsWon=0,this.OSMultiplierWon=0}function VsPossibleRandomSymbolMultipliers(){this.symbolId=-1,this.symbolMultipliers=[]}function VSProgressiveFeatureConfig(){this.pickedSymbolPosition=-1,this.progressSymbolIDs=null}function VsProgressiveFeatureData(){this.needsReset=!1,this.level=0,this.progress=0,this.targetProgress=0,this.currentAttempt=0,this.attempts=0,this.accumulatedWin=0,this.prizeWin=0,this.prizeMultiplier=0,this.winMultiplier=0}function VsRandomAwardConfig(){this.awardReelsCount=0,this.awardReels=null,this.awardSymbolsNormal=null,this.awardSymbolsFreeSpins=null,this.possibleAwards=null}function VsRandomAward(){this.Type=VsRandomAward.AwardType.None,this.Value=0,this.FeatureID=-1}function VsRandomSymbolMultiplier(){this.symbolId=-1,this.symbolPositions=[],this.multiplierValue=-1}function VsRandomWildsData(){this.RandomSymbolID=0,this.TargetPositions=null}function VsRequest(){this.Bet=0,this.Line=0,this.Symbol="",this.BonusGameChoice="",this.TryMeOnce=!1,this.ProgressPick=-1}function VsRespinLine(){this.id=0,this.respinsCount=0,this.positions=null}function VsRespin(){this.RespinType="",this.Indices=[],this.CurrentRespin=-1,this.MaxRespins=-1,this.TotalRespins=-1,this.IsDone=!1,this.RespinsPlayed=-1,this.RespinsAdded=-1,this.Lines=null}VsGamblingSettings.prototype.GetGamblingSettings=function(t){return this.GamblingSettings[t]||null},VsGamblingSettings.prototype.SetGamblingSettings=function(t,e){this.GamblingSettings[t]=e},VsGamblingSettings.prototype.SetOccasionStatus=function(t,e){this.occasionsMap[t]=e},VsGamblingSettings.prototype.IsOccasionEnable=function(t){return this.occasionsMap[t]||!1},VsGamblingSettings.prototype.Clone=function(){var t,e,i=new VsGamblingSettings;for(t in i.SkipGambleOnInit=this.SkipGambleOnInit,i.InitGamblingOccasion=this.InitGamblingOccasion,i.occasionsMap={},this.occasionsMap)i.occasionsMap[t]=this.occasionsMap[t];for(e in i.GamblingSettings={},this.GamblingSettings)i.GamblingSettings[e]=this.GamblingSettings[e];return i},goog.require("UHT.BaseDataStructures"),VsBetLevel.prototype.Clone=function(){var t=new VsBetLevel;return t.betLevelIndex=this.betLevelIndex,t.betLevelScale=this.betLevelScale.slice(),t.paytables=this.paytables.slice(),t},goog.require("UHT.BaseDataStructures"),VsBonusGameData.prototype.Clone=function(){var t=new VsBonusGameData;if(t.Level=this.Level,t.Life=this.Life,t.WinPoints=this.WinPoints,t.RealWin=this.RealWin,t.Coef=this.Coef,t.GameOver=this.GameOver,t.MultiplierStep=this.MultiplierStep,t.currentBonusRespin=this.currentBonusRespin,t.maxBonusRespins=this.maxBonusRespins,t.PremultipliedWin=this.PremultipliedWin,t.RespinsTotalMultiplier=this.RespinsTotalMultiplier,t.ExtraRespinsWon=this.ExtraRespinsWon,t.ExtraRetriggersWon=this.ExtraRetriggersWon,null!=this.MultipliedSymbolPositions){t.MultipliedSymbolPositions=[];for(var e=0;e<this.MultipliedSymbolPositions.length;e++)t.MultipliedSymbolPositions.push(this.MultipliedSymbolPositions[e])}if(null!=this.BonusTable&&(t.BonusTable=this.BonusTable.Clone()),null!=this.MultipliersTable&&(t.MultipliersTable=this.MultipliersTable.Clone()),null!=this.IWins&&(t.IWins=this.IWins.slice()),null!=this.lifeWins&&(t.lifeWins=this.lifeWins.slice()),null!=this.respinSymbols&&(t.respinSymbols=this.respinSymbols.slice()),null!=this.winSymbols){t.winSymbols=[];for(e=0;e<this.winSymbols.length;++e)t.winSymbols.push(this.winSymbols[e].slice())}return t},VsBonusGameData.WheelOfFortune=function(){this.items=null,this.itemsStatus=null,this.stopPosition=-1,this.spinsLeft=-1,this.multiplier=-1,this.initialWin=-1},VsBonusGameData.WheelOfFortune.Item=function(){this.amount=0,this.spinsNumber=0,this.status=-1,this.selectedAtLevel=-1},VsBonusGameData.Map=function(){this.WOF_MultiplierIndex=-1,this.WOF_StopPosition=-1,this.WOF_Values=null,this.WOF_Mask=null,this.WOF_Map=null},goog.require("UHT.BaseDataStructures"),VsBonusGameDataTable.prototype.Clone=function(){var t=new VsBonusGameDataTable;return t.Status=[],t.Markers=null,t.Wins=[],(t.WinsMask=null)!=this.Status&&(t.Status=this.Status.slice()),null!=this.Wins&&(t.Wins=this.Wins.slice()),null!=this.Markers&&(t.Markers=this.Markers.slice()),null!=this.WinsMask&&(t.WinsMask=this.WinsMask.slice()),null!=this.BGItemValues&&(t.BGItemValues=this.BGItemValues.slice()),null!=this.BGItemMasks&&(t.BGItemMasks=this.BGItemMasks.slice()),t},VsExpandingSymbolData.prototype.Clone=function(){var t=new VsExpandingSymbolData;return t.ExpandingSymbolId=this.ExpandingSymbolId,t.SourcePositions=this.SourcePositions.slice(),t.TargetPositions=this.TargetPositions.slice(),t},VsExpandingSymbolData.prototype.CloneHelper=function(){return this.Clone()},VsFreeRound.RoundType={Spins:0,Timed:1},VsFreeRound.prototype.ToString=function(){return"{RoundType:"+this.Type+", RoundsLeft:"+this.RoundsLeft+", TotalWin:"+this.TotalWin+"}"},VsFreeRound.prototype.Clone=function(){var t=new VsFreeRound;return t.RoundsLeft=this.RoundsLeft,t.TotalWin=this.TotalWin,t.Type=this.Type,t.BonusCode=this.BonusCode,t},VsFreeRound.prototype.CloneHelper=function(){return this.Clone()},VsFreeRoundEvent.EventType={Start:0,Finish:1,Error:2},VsFreeRoundEvent.prototype.ToString=function(){return"{Type:"+this.Type+", Bet:"+this.Bet+", Lines:"+this.Lines+", RoundsLeft:"+this.RoundsLeft+", TurboSpinMode:"+this.TurboSpinMode+", PlayLaterAvailable:"+this.PlayLaterAvailable+", EndDateTimestamp:"+this.EndDateTimestamp+", IsFreeRoundPending:"+this.IsFreeRoundPending+", PromoLocalizedName:"+this.PromoLocalizedName+", PromoType:"+this.PromoType+"}"},VsFreeRoundEvent.prototype.Clone=function(){var t=new VsFreeRoundEvent;return t.Type=this.Type,t.Bet=this.Bet,t.Lines=this.Lines,t.RoundsLeft=this.RoundsLeft,t.TurboSpinMode=this.TurboSpinMode,t.PlayLaterAvailable=this.PlayLaterAvailable,t.EndDateTimestamp=this.EndDateTimestamp,t.IsFreeRoundPending=this.IsFreeRoundPending,t.PromoLocalizedName=this.PromoLocalizedName,t.PromoType=this.PromoType,t},VsFreeRoundEvent.prototype.CloneHelper=function(){return this.Clone()},goog.provide("UHT.VsFreeSpinBonusGame"),goog.require("UHT.BaseDataStructures"),VsFreeSpinBonusGame.prototype.Clone=function(){var t=new VsFreeSpinBonusGame;return t.GameOver=this.GameOver,t.Level=this.Level,t.Lifes=this.Lifes,t.SpinsWin=this.SpinsWin,t.MultipliersWin=this.MultipliersWin,null!=this.BonusItems&&(t.BonusItems=this.BonusItems.slice()),t},VsFreeSpinBonusGame.BonusItem=function(t,e,i){this.Value=t,this.Status=e,this.Type=i},VsFreeSpinBonusGame.BonusItem.BonusItemStatus={Available:0,Selected:1},VsFreeSpinBonusGame.BonusItem.BonusItemType={Spin:0,Multiplier:1},VsFreeSpinBonusGame.BonusItem.prototype.ToString=function(){return"BonusItem {Status="+this.Status+", Type="+this.Type+", Value="+this.Value+"}"},goog.require("UHT.VsFreeSpinBonusGame"),goog.require("UHT.BaseDataStructures"),VsFreeSpin.prototype.SetCurrentNumber=function(t){this._currentNumber=t},VsFreeSpin.prototype.GetCurrentNumber=function(){return this._currentNumber},VsFreeSpin.prototype.SetMaxNumber=function(t){this._maxNumber=t},VsFreeSpin.prototype.GetMaxNumber=function(){return this._maxNumber},VsFreeSpin.prototype.SetTotalNumber=function(t){this._totalNumber=t},VsFreeSpin.prototype.GetTotalNumber=function(){return this._totalNumber},VsFreeSpin.prototype.SetTotalWin=function(t){this._totalWin=t},VsFreeSpin.prototype.GetTotalWin=function(){return this._totalWin},VsFreeSpin.prototype.SetTotalMultipl=function(t){this._totalMultipl=t},VsFreeSpin.prototype.GetTotalMultipl=function(){return this._totalMultipl},VsFreeSpin.prototype.IsLastFreeSpin=function(){return 0<this._totalNumber},VsFreeSpin.prototype.IsFirstFreeSpin=function(){return 1==this._currentNumber},VsFreeSpin.prototype.GetCurrentWin=function(){return this._currentWin},VsFreeSpin.prototype.SetCurrentWin=function(t){this._currentWin=t},VsFreeSpin.prototype.GetCurrentWinMultiplied=function(){return this._currentWinMultiplied},VsFreeSpin.prototype.SetCurrentWinMultiplied=function(t){this._currentWinMultiplied=t},VsFreeSpin.prototype.SetTotalWinMultiplied=function(t){this._totalWinMultiplied=t},VsFreeSpin.prototype.GetTotalWinMultiplied=function(){return this._totalWinMultiplied},VsFreeSpin.prototype.GetMysteryScatter=function(){return this._mysteryScatter},VsFreeSpin.prototype.SetMysteryScatter=function(t){this._mysteryScatter=t},VsFreeSpin.prototype.IsNeedGetMysteryScatter=function(){return this._needGetMysteryScatter},VsFreeSpin.prototype.SetNeedGetMysteryScatter=function(t){this._needGetMysteryScatter=t},VsFreeSpin.prototype.Clone=function(){var t=new VsFreeSpin;return t._currentNumber=this._currentNumber,t._maxNumber=this._maxNumber,t._totalNumber=this._totalNumber,t._currentWin=this._currentWin,t._totalWin=this._totalWin,t._totalMultipl=this._totalMultipl,t._currentWinMultiplied=this._currentWinMultiplied,t._totalWinMultiplied=this._totalWinMultiplied,t.PickedOptionIndex=this.PickedOptionIndex,t._mysteryScatter=this._mysteryScatter.slice(),t._needGetMysteryScatter=this._needGetMysteryScatter,null!=this.BonusGame&&(t.BonusGame=this.BonusGame.Clone()),t},VsFreeSpinOption.prototype.Clone=function(){var t=new VsFreeSpinOption;t.FreeSpinsCount=this.FreeSpinsCount,t.FreeSpinsMultiplier=this.FreeSpinsMultiplier,t.FreeSpinsStartingMultiplier=this.FreeSpinsStartingMultiplier,t.FreeSpinsStackedSymbol=this.FreeSpinsStackedSymbol,t.WildSymbolIndex=this.WildSymbolIndex,t.SpecialFeatureName=this.SpecialFeatureName,t.WildWinMultipliers=[];for(var e=0;e<this.WildWinMultipliers.length;++e)t.WildWinMultipliers.push(this.WildWinMultipliers[e]);t.ReelSymbolsToBeReplaced=[];for(e=0;e<this.ReelSymbolsToBeReplaced.length;++e)t.ReelSymbolsToBeReplaced.push(this.ReelSymbolsToBeReplaced[e]);t.RSTBSymbolId=this.RSTBSymbolId,t.TriggerSymbolRandomMultiplier=this.TriggerSymbolRandomMultiplier,t.TSRandomMultipliers=[];for(e=0;e<this.TSRandomMultipliers.length;++e)t.TSRandomMultipliers.push(this.TSRandomMultipliers[e]);return t},VsFreeSpinOption.prototype.CloneHelper=function(){return this.Clone()},VsFreeSpinsChainData.prototype.HasChainInformation=function(){return this.HasNextChainInformation()||this.HasPreviousChainInformation()},VsFreeSpinsChainData.prototype.HasNextChainInformation=function(){return null!=this.FSCSpins||null!=this.FSCMultipliers||null!=this.FSCSessionsWonSymbolsCount||0<this.FSCSessionsWonThisSpin},VsFreeSpinsChainData.prototype.HasPreviousChainInformation=function(){return null!=this.FSCSpinsTotal&&null!=this.FSCMultipliersTotal&&null!=this.FSCWinsTotal&&null!=this.FSCMultipliedWinsTotal},VsFreeSpinsChainData.prototype.Clone=function(){var t=new VsFreeSpinsChainData;return null!=this.FSCSpins&&(t.FSCSpins=this.FSCSpins.slice()),null!=this.FSCMultipliers&&(t.FSCMultipliers=this.FSCMultipliers.slice()),null!=this.FSCSpinsTotal&&(t.FSCSpinsTotal=this.FSCSpinsTotal.slice()),null!=this.FSCMultipliersTotal&&(t.FSCMultipliersTotal=this.FSCMultipliersTotal.slice()),null!=this.FSCWinsTotal&&(t.FSCWinsTotal=this.FSCWinsTotal.slice()),null!=this.FSCMultipliedWinsTotal&&(t.FSCMultipliedWinsTotal=this.FSCMultipliedWinsTotal.slice()),t.FSCSessionsWonThisSpin=this.FSCSessionsWonThisSpin,null!=this.FSCSessionsWonSymbolsCount&&(t.FSCSessionsWonSymbolsCount=this.FSCSessionsWonSymbolsCount.slice()),t},VsFreeSpinsChainData.prototype.CloneHelper=function(){return this.Clone()},goog.require("UHT.BaseDataStructures"),VsFSPurchaseData.prototype.Clone=function(){var t=new VsFSPurchaseData;return t.freeSpinsBought=this.freeSpinsBought,t},VsFSPurchaseConfig.PurchaseOption=function(){this.bet=0,this.fsCount=0,this.betLevel=0},VsFSPurchaseConfig.prototype.Clone=function(){var t=new VsFSPurchaseConfig;t.optionIndex=this.optionIndex,t.purchaseOptions=[];for(var e=0;e<this.purchaseOptions.length;e++)t.purchaseOptions.push(new VsFSPurchaseConfig.PurchaseOption),t.purchaseOptions[e].bet=this.purchaseOptions[e].bet,t.purchaseOptions[e].fsCount=this.purchaseOptions[e].fsCount,t.purchaseOptions[e].betLevel=this.purchaseOptions[e].betLevel;return t},VsGoldSymbol.prototype.Clone=function(){var t=new VsGoldSymbol;return null!=this.reels&&(t.reels=this.reels.slice()),null!=this.symbols&&(t.symbols=this.symbols.slice()),null!=this.awards&&(t.awards=this.awards.slice()),t},goog.require("UHT.BaseDataStructures"),Object.defineProperties(VsInitData.prototype,{ReelSymbols:{set:function(t){this._reelSymbols=t},get:function(){return null!=this.ReelSets?0<=this.ReelSetIndexCurrent?this.ReelSets[this.ReelSetIndexCurrent]:this.ReelSets[this.ReelSetIndex]:this._reelSymbols}}}),VsInitData.prototype.CombinePaytable=function(){if(null!=this.Paytable){var t;if(null!=this.Scatters&&null!=this.Scatters[0].Pays)for(this.Paytable[1]=[],t=0;t<this.Scatters[0].Pays.length;t++)this.Paytable[1].push(this.Scatters[0].Pays[t]);if(null!=this.Wilds&&null!=this.Wilds[0].Pays)for(this.Paytable[2]=[],t=0;t<this.Wilds[0].Pays.length;t++)this.Paytable[2].push(this.Wilds[0].Pays[t])}},VsInitData.prototype.Clone=function(){var t,e=new VsInitData;if(e.Bet=this.Bet,e.DefaultBet=this.DefaultBet,e.ExplicitMaxTotalBet=this.ExplicitMaxTotalBet,e.Line=this.Line,e.ReelSetIndex=this.ReelSetIndex,e.ReelSetIndexCurrent=this.ReelSetIndexCurrent,e.StackedSymbolIndex=this.StackedSymbolIndex,e.StackedSymbolIndexCurrent=this.StackedSymbolIndexCurrent,null!=this.InitialMysterySymbolId&&(e.InitialMysterySymbolId=this.InitialMysterySymbolId.slice()),null!=this.Bets&&(e.Bets=this.Bets.slice()),null!=this._reelSymbols)for(e._reelSymbols=[],t=0;t<this._reelSymbols.length;++t)e._reelSymbols[t]=this._reelSymbols[t].slice();if(null!=this.ReelSets)for(e.ReelSets=[],t=0;t<this.ReelSets.length;t++){e.ReelSets[t]=[];for(var i=0;i<this.ReelSets[t].length;i++)e.ReelSets[t][i]=this.ReelSets[t][i].slice()}if(null!=this.NextReelSymbols)for(e.NextReelSymbols=[],t=0;t<this.NextReelSymbols.length;++t)e.NextReelSymbols[t]=this.NextReelSymbols[t].slice();if(null!=this.Scatters)for(e.Scatters=[],t=0;t<this.Scatters.length;++t)e.Scatters[t]=this.Scatters[t].Clone();if(null!=this.Paytable)for(e.Paytable=[],t=0;t<this.Paytable.length;++t)e.Paytable[t]=this.Paytable[t].slice();if(null!=this.Wilds)for(e.Wilds=[],t=0;t<this.Wilds.length;++t)e.Wilds[t]=this.Wilds[t].Clone();if(null!=this.WildScatters)for(e.WildScatters=[],t=0;t<this.WildScatters.length;++t)e.WildScatters[t]=this.WildScatters[t].Clone();return null!=this.Bonuses&&(e.Bonuses=this.Bonuses.slice()),null!=this.GamblingSettings&&(e.GamblingSettings=this.GamblingSettings.Clone()),null!=this.GamblingHistory&&(e.GamblingHistory=this.GamblingHistory.Clone()),null!=this.RandomAwardConfig&&(e.RandomAwardConfig=this.RandomAwardConfig.Clone()),null!=this.ProgressiveConfig&&(e.ProgressiveConfig=this.ProgressiveConfig.CloneHelper()),null!=this.MoneySymbolConfig&&(e.MoneySymbolConfig=this.MoneySymbolConfig.Clone()),null!=this.BetLevelSettings&&(e.BetLevelSettings=this.BetLevelSettings.Clone()),null!=this.FreeSpinsPurchaseConfig&&(e.FreeSpinsPurchaseConfig=this.FreeSpinsPurchaseConfig.Clone()),e},goog.require("UHT.BaseDataStructures"),VsJackpotConfiguration.prototype.Clone=function(){var t=new VsJackpotConfiguration;return t.MinBetToWin=this.MinBetToWin,t.MinLineNumberToWin=this.MinLineNumberToWin,null!=this.LineCombinationToWin&&(t.LineCombinationToWin=this.LineCombinationToWin.slice()),t},goog.require("UHT.BaseDataStructures"),VsJackpotData.prototype.IsWin=!1,VsJackpotData.prototype.Clone=function(){return new VsJackpotData(this.IsActive,this.JackpotID,this.JackpotOrder,this.WinJackpotAmount)},VsJackpotVisualization.JpType={badges:0},VsJackpotVisualization.prototype.Clone=function(){var t=new VsJackpotVisualization;return t.jpvType=this.jpvType,null!=this.positions&&(t.positions=this.positions.slice()),t},VsMergingSymbol.prototype.Clone=function(){var t=new VsMergingSymbol;return t.mergingPosition=this.mergingPosition,t.mergedSymbolId=this.mergedSymbolId,t},VsMergingSymbol.prototype.CloneHelper=function(){return this.Clone()},VsMoneySymbolConfig.prototype.Clone=function(){var t=new VsMoneySymbolConfig;return t.symbolID=this.symbolID,null!=this.possibleValues&&(t.possibleValues=this.possibleValues.slice()),null!=this.jackpotValues&&(t.jackpotValues=this.jackpotValues.slice()),null!=this.jackpotMasks&&(t.jackpotMasks=this.jackpotMasks.slice()),t},VsMoneySymbolData.prototype.Clone=function(){var t=new VsMoneySymbolData;return null!=this.currentValues&&(t.currentValues=this.currentValues.slice()),null!=this.currentSymbolsLook&&(t.currentSymbolsLook=this.currentSymbolsLook.slice()),t.totalWin=this.totalWin,t},goog.require("UHT.BaseDataStructures"),VsNudgedSymbolsData.prototype.Clone=function(){var t=new VsNudgedSymbolsData(this.reelID,this.startingSymbolsIDs,this.nudgedSymbolsIDs,this.nudgedStopPosition,this.nudgeDirection);return null!=this.startingSymbolsIDs&&(t.startingSymbolsIDs=this.startingSymbolsIDs.slice()),null!=this.nudgedSymbolsIDs&&(t.nudgedSymbolsIDs=this.nudgedSymbolsIDs.slice()),t},VsOpeningSymbolsData.prototype.Clone=function(){var t=new VsOpeningSymbolsData;return null!=this.Positions&&(t.Positions=this.Positions.slice()),t.OSFreeSpinsWon=this.OSFreeSpinsWon,t.OSMultiplierWon=this.OSMultiplierWon,t},VsOpeningSymbolsData.prototype.CloneHelper=function(){return this.Clone()},VsPossibleRandomSymbolMultipliers.prototype.Clone=function(){var t=new VsPossibleRandomSymbolMultipliers;t.symbolId=this.symbolId;for(var e=0;e<this.symbolMultipliers.length;e++)t.symbolMultipliers.push(this.symbolMultipliers[e]);return t},VsPossibleRandomSymbolMultipliers.prototype.CloneHelper=function(){return this.Clone()},VSProgressiveFeatureConfig.prototype.CloneHelper=function(){return this.Clone()},VSProgressiveFeatureConfig.prototype.Clone=function(){var t=new VSProgressiveFeatureConfig;return t.pickedSymbolPosition=this.pickedSymbolPosition,null!=this.progressSymbolIDs&&(t.progressSymbolIDs=this.progressSymbolIDs.slice()),t},VsProgressiveFeatureData.prototype.Clone=function(){var t=new VsProgressiveFeatureData;return t.needsReset=this.needsReset,t.level=this.level,t.progress=this.progress,t.targetProgress=this.targetProgress,t.currentAttempt=this.currentAttempt,t.attempts=this.attempts,t.accumulatedWin=this.accumulatedWin,t.prizeWin=this.prizeWin,t.prizeMultiplier=this.prizeMultiplier,t.winMultiplier=this.winMultiplier,t},VsProgressiveFeatureData.prototype.CloneHelper=function(){return this.Clone()},VsRandomAwardConfig.prototype.GetAwardIndex=function(t){for(var e=0;e<this.possibleAwards.length;e++)if(t.Type==this.possibleAwards[e].Type&&t.Value==this.possibleAwards[e].Value)return e;return-1},VsRandomAwardConfig.prototype.GetAwardAtIndex=function(t){return this.possibleAwards[t]},VsRandomAwardConfig.prototype.GetSmallestAwardOnReel=function(t){for(var e=this.GetAwardIndex(this.awardReels[t][0]),i=0;i<this.awardReels[t].length;i++)e>this.GetAwardIndex(this.awardReels[t][i])&&(e=this.GetAwardIndex(this.awardReels[t][i]));return e},VsRandomAwardConfig.prototype.ProcessPossibleAwards=function(){var t,e,i;for(this.possibleAwards=[],t=0;t<this.awardReelsCount;t++)for(e=0;e<this.awardReels[t].length;e++)this.ListContains(this.possibleAwards,this.awardReels[t][e])||this.possibleAwards.push(this.awardReels[t][e]);for(t=0;t<this.possibleAwards.length;t++)for(e=0;e<this.possibleAwards.length-1;e++)this.possibleAwards[e].Type==VsRandomAward.AwardType.Multiplier&&this.possibleAwards[e+1].Type==VsRandomAward.AwardType.Multiplier?this.possibleAwards[e+1].Value<this.possibleAwards[e].Value&&(i=this.possibleAwards[e],this.possibleAwards[e]=this.possibleAwards[e+1],this.possibleAwards[e+1]=i):this.possibleAwards[e].Type==VsRandomAward.AwardType.Trigger&&this.possibleAwards[e+1].Type==VsRandomAward.AwardType.Multiplier&&(i=this.possibleAwards[e],this.possibleAwards[e]=this.possibleAwards[e+1],this.possibleAwards[e+1]=i)},VsRandomAwardConfig.prototype.ListContains=function(t,e){for(var i=0;i<t.length;i++)if(t[i].Type==e.Type&&t[i].Value==e.Value)return!0;return!1},VsRandomAwardConfig.prototype.Clone=function(){var t=new VsRandomAwardConfig;if(t.awardReelsCount=this.awardReelsCount,null!=this.awardReels){t.awardReels=[];for(var e=0;e<this.awardReels.length;e++)t.awardReels.push(this.awardReels[e].slice())}return null!=this.awardSymbolsNormal&&(t.awardSymbolsNormal=this.awardSymbolsNormal.slice()),null!=this.awardSymbolsFreeSpins&&(t.awardSymbolsFreeSpins=this.awardSymbolsFreeSpins.slice()),null!=this.possibleAwards&&(t.possibleAwards=this.possibleAwards.slice()),t},VsRandomAward.AwardType={None:0,Trigger:1,Multiplier:2,FeatureTrigger:3},VsRandomSymbolMultiplier.prototype.Clone=function(){var t=new VsRandomSymbolMultiplier;t.symbolId=this.symbolId;for(var e=0;e<this.symbolPositions.length;e++)t.symbolPositions.push(this.symbolPositions[e]);return t.multiplierValue=this.multiplierValue,t},VsRandomSymbolMultiplier.prototype.CloneHelper=function(){return this.Clone()},VsRandomWildsData.prototype.Clone=function(){var t=new VsRandomWildsData;if(t.RandomSymbolID=this.RandomSymbolID,(t.TargetPositions=null)!=this.TargetPositions){t.TargetPositions=[];for(var e=0;e<this.TargetPositions.length;e++)t.TargetPositions.push(this.TargetPositions[e])}return t},VsRandomWildsData.prototype.CloneHelper=function(){return this.Clone()},goog.require("UHT.BaseDataStructures"),VsRequest.prototype.Clone=function(){var t=new VsRequest;return t.Bet=this.Bet,t.Line=this.Line,t.Symbol=this.Symbol,t.BonusGameChoice=this.BonusGameChoice,t.TryMeOnce=this.TryMeOnce,t.ProgressPick=this.ProgressPick,t},VsRespin.prototype.Clone=function(){var t=new VsRespin;if(t.RespinType=this.RespinType,null!=this.Indices){t.Indices=[];for(var e=0;e<this.Indices.length;++e)t.Indices[e]=this.Indices[e].slice()}return t.CurrentRespin=this.CurrentRespin,t.MaxRespins=this.MaxRespins,t.TotalRespins=this.TotalRespins,t.IsDone=this.IsDone,t.RespinsPlayed=this.RespinsPlayed,t.RespinsAdded=this.RespinsAdded,t.Lines=this.Lines,t},VsRespin.prototype.CloneHelper=function(){return this.Clone()},goog.require("UHT.BaseDataStructures");var NextGameAction={None:0,Spin:1,Collect:2,Gamble:3,Bonus:4,CollectBonus:5,FSOption:6,MysteryScatter:7,FSBonus:8,GambleCollect:9,JackpotCollect:10,GambleOption:11};function VsResponse(){this.SlotHeight=3,this.SlotLines=0,this.Balance=0,this.BonusBalance=0,this.Win=0,this.ExtraAwardWin=0,this.RespinCycleWin=0,this.RandomWildsData=null,this.UpSymbols=null,this.ExpandingSymbolsData=null,this.SymbolsBeforeExpanding=[],this.WinScreenSymbols=[],this.ReelPositions=[],this.VsWinLines=[],this.VsBonusGame=null,this.FreeSpinsOptions=null,this.WildRandomMultipliers=null,this.VsFreeSpin=null,this.FreeRound=null,this.FreeRoundEvents=null,this.VsInitData=null,this.JackpotVisualisation=null,this.GoldSymbol=null,this.SymbolReplacementData=null,this.WRLMResponse=null,this.WRLMCurrentSets=null,this.VsGamblingButtonState=new VsGamblingButtonState(!1,!1,!1),this.VsJackpotData=null,this.Respin=null,this.ProgressiveData=null,this.MoneySymbolData=null,this.StickySymbols=null,this.MergingSymbols=null,this.RandomAwardResponse=null,this.RandomSymbolMultipliers=null,this.PossibleRandomSymbolMultipliers=null,this.FreeSpinsChainData=null,this.TruncatedVsFreeSpin=null,this.OpeningSymbolsData=null,this.SpinOneReelData=null,this.TumblingData=null,this.FreeSpinsPurchaseData=null,this.RandomMysterySymbolId=null,this.PatternedMysterySymbols=null,this.SymbolsAbove=null,this.SymbolsBelow=null,this.NextReelsSymbolsList=null,this.NextGameActions=null,this.SpinCycleWin=0,this.ReturnToPlayer=-1,this.ReturnToPlayerMin=-1,this.TumblingWin=0,this.ReelSetIndex=-1,this.ReelSetIndexCurrent=-1,this.StackedSymbolIndex=-1,this.StackedSymbolIndexCurrent=-1,this.gambleV2Data=null,this.NudgedSymbolsData=null}function VsScatterData(t,e,i,n){this.Symbol=t,this.Pays=e,this.Freespins=i,this.Multipliers=n}function VSSpinOneReelSymbolsData(t,e,i){this.reelID=t,this.reelsToBeSpun=e,this.reelCoefs=i}function VsStickySymbol(){this.currentPosition=-1,this.endPosition=-1}function VsSymbolReplacement(){this.FromSymbolId=-1,this.ToSymbolId=-1,this.ReplacementPositions=[]}function VsTumblingData(){this.tumblingSymbols=[]}function VsWildData(t,e,i){this.Symbol=t,this.Pays=e,this.Multipliers=i}function MultiplierSet(){this.setIndex=0,this.multipliers=null}function VsWildRandomLineMultiplier(){}function VsWildRandomMultiplier(){this.SymbolIndex=0,this.Position=0,this.Multiplier=1}function VsWinLine(){this.LineNumber=0,this.WinAmount=0,this.WinPositions=[],this.Combination=-1,this.Multiplier=1,this.isWinWaysGroup=!1,this.symbolId=-1,this.waysCount=-1,this.waysLength=-1,this.payingDirection=""}VsResponse.prototype.GetVsFreeSpin=function(){return this.VsFreeSpin},VsResponse.prototype.SetVsFreeSpin=function(t){this.VsFreeSpin=t},VsResponse.prototype.SetVsJackpotData=function(t){this.VsJackpotData=t},VsResponse.prototype.SetVsBonusGameData=function(t){this.VsBonusGame=t},VsResponse.prototype.GetVsBonusGameData=function(){return this.VsBonusGame},VsResponse.prototype.HasExpandingSymbols=function(){return null!=this.ExpandingSymbolsData&&0<this.ExpandingSymbolsData.length},VsResponse.prototype.IsWin=function(){return 0<this.Win},VsResponse.prototype.IsBonus=function(){return null!=this.VsBonusGame},VsResponse.prototype.IsBonusGameOver=function(){return null!=this.VsBonusGame&&1==this.VsBonusGame.GameOver},VsResponse.prototype.IsBonusRespin=function(){return null!=this.VsBonusGame&&0<this.VsBonusGame.maxBonusRespins},VsResponse.prototype.BonusDoesNotNeedInit=function(){return null!=this.VsBonusGame&&(43==this.VsBonusGame.type||34==this.VsBonusGame.type)},VsResponse.prototype.IsBonusFSPick=function(){return null!=this.VsBonusGame&&null!=this.VsBonusGame.MultipliedSymbolPositions},VsResponse.prototype.IsBonusOptions=function(){return null!=this.VsBonusGame&&null!=this.VsBonusGame.BonusTable&&null!=this.VsBonusGame.BonusTable.WinsMask},VsResponse.prototype.IsOpeningSymbols=function(){return null!=XT.GetObject(Vars.OpeningSymbolsData)},VsResponse.prototype.HasFreeSpinOptions=function(){return null!=this.FreeSpinsOptions},VsResponse.prototype.IsFreeSpins=function(){return null!=this.VsFreeSpin},VsResponse.prototype.IsFreeSpinBonusGame=function(){return null!=this.VsFreeSpin&&null!=this.VsFreeSpin.BonusGame},VsResponse.prototype.IsInit=function(){return null!=this.VsInitData},VsResponse.prototype.WasDoBonus=function(){return!!this.IsBonus()&&this.VsBonusGame.initialized},VsResponse.prototype.WasDoFSBonus=function(){return!!this.IsFreeSpinBonusGame()&&0<this.VsFreeSpin.BonusGame.Level},VsResponse.prototype.IsJackpotWin=function(){return null!=this.VsJackpotData&&this.VsJackpotData.IsWin},VsResponse.prototype.IsJackpotEnable=function(){return null!=this.VsJackpotData&&this.VsJackpotData.IsActive},VsResponse.prototype.IsRespin=function(){return null!=this.Respin},VsResponse.prototype.Clone=function(){var t,e=new VsResponse;if(e.SlotHeight=this.SlotHeight,e.SlotLines=this.SlotLines,e.Balance=this.Balance,e.BonusBalance=this.BonusBalance,e.Win=this.Win,e.TumblingWin=this.TumblingWin,e.ReelSetIndex=this.ReelSetIndex,e.ReelSetIndexCurrent=this.ReelSetIndexCurrent,e.StackedSymbolIndex=this.StackedSymbolIndex,e.StackedSymbolIndexCurrent=this.StackedSymbolIndexCurrent,(e.RandomWildsData=null)!=this.RandomWildsData)for(e.RandomWildsData=[],t=0;t<this.RandomWildsData.length;t++)e.RandomWildsData.push(this.RandomWildsData[t].CloneHelper());if((e.UpSymbols=null)!=this.UpSymbols)for(e.UpSymbols=[],t=0;t<this.UpSymbols.length;t++)e.UpSymbols.push(this.UpSymbols[t]);if((e.ExpandingSymbolsData=null)!=this.ExpandingSymbolsData)for(e.ExpandingSymbolsData=[],t=0;t<this.ExpandingSymbolsData.length;t++)e.ExpandingSymbolsData.push(this.ExpandingSymbolsData[t].CloneHelper());for(e.SymbolsBeforeExpanding=[],t=0;t<this.SymbolsBeforeExpanding.length;++t)e.SymbolsBeforeExpanding[t]=this.SymbolsBeforeExpanding[t].slice();for(e.WinScreenSymbols=[],t=0;t<this.WinScreenSymbols.length;++t)e.WinScreenSymbols[t]=this.WinScreenSymbols[t].slice();for(e.ReelPositions=null==this.ReelPositions?[]:this.ReelPositions.slice(),e.VsWinLines=[],t=0;t<this.VsWinLines.length;++t)e.VsWinLines[t]=this.VsWinLines[t].Clone();if(null!=this.VsBonusGame&&(e.VsBonusGame=this.VsBonusGame.Clone()),null!=this.VsFreeSpin&&(e.VsFreeSpin=this.VsFreeSpin.Clone()),null!=this.TruncatedVsFreeSpin&&(e.TruncatedVsFreeSpin=this.TruncatedVsFreeSpin.Clone()),null!=this.VsInitData&&(e.VsInitData=this.VsInitData.Clone()),null!=this.VsJackpotData&&(e.VsJackpotData=this.VsJackpotData.Clone()),e.VsGamblingButtonState=this.VsGamblingButtonState.Clone(),(e.FreeSpinsOptions=null)!=this.FreeSpinsOptions)for(e.FreeSpinsOptions=[],t=0;t<this.FreeSpinsOptions.length;t++)e.FreeSpinsOptions.push(this.FreeSpinsOptions[t].CloneHelper());if((e.FreeRound=null)!=this.FreeRound&&(e.FreeRound=this.FreeRound.CloneHelper()),(e.FreeRoundEvents=null)!=this.FreeRoundEvents){e.FreeRoundEvents=[];for(var i=0;i<this.FreeRoundEvents.length;i++)e.FreeRoundEvents.push(this.FreeRoundEvents[i].CloneHelper())}if(null!=this.RandomAwardResponse&&(e.RandomAwardResponse=this.RandomAwardResponse.Clone()),null!=this.RandomSymbolMultipliers&&(e.RandomSymbolMultipliers=this.RandomSymbolMultipliers.slice()),null!=this.PossibleRandomSymbolMultipliers)for(e.PossibleRandomSymbolMultipliers=[],t=0;t<this.PossibleRandomSymbolMultipliers.length;t++)e.PossibleRandomSymbolMultipliers.push(this.PossibleRandomSymbolMultipliers[t].Clone());if(null!=this.FreeSpinsChainData&&(e.FreeSpinsChainData=this.FreeSpinsChainData.Clone()),null!=this.OpeningSymbolsData&&(e.OpeningSymbolsData=this.OpeningSymbolsData.Clone()),null!=this.SpinOneReelData&&(e.SpinOneReelData=this.SpinOneReelData.Clone()),null!=this.TumblingData&&(e.TumblingData=this.TumblingData.Clone()),null!=this.FreeSpinsPurchaseData&&(e.FreeSpinsPurchaseData=this.FreeSpinsPurchaseData.Clone()),null!=this.RandomMysterySymbolId&&(e.RandomMysterySymbolId=this.RandomMysterySymbolId.slice()),(e.PatternedMysterySymbols=null)!=this.PatternedMysterySymbols)for(e.PatternedMysterySymbols=[],t=0;t<this.PatternedMysterySymbols.length;t++)e.PatternedMysterySymbols.push(this.PatternedMysterySymbols[t]);if(null!=this.SymbolsAbove&&(e.SymbolsAbove=this.SymbolsAbove.slice()),null!=this.SymbolsBelow&&(e.SymbolsBelow=this.SymbolsBelow.slice()),null!=this.NextReelsSymbolsList&&(e.NextReelsSymbolsList=this.NextReelsSymbolsList.slice()),null!=this.MoneySymbolData&&(e.MoneySymbolData=this.MoneySymbolData.Clone()),null!=this.NudgedSymbolsData)for(e.NudgedSymbolsData=[],t=0;t<this.NudgedSymbolsData.length;t++)e.NudgedSymbolsData.push(this.NudgedSymbolsData[t].Clone());return e},VsResponse.prototype.ToString=function(){return"VsResponse { SlotHeight = "+this.SlotHeight+", IsWin = "+this.IsWin()+", IsBonus = "+this.IsBonus()+", IsBonusRespin = "+this.IsBonusRespin()+", IsFreeSpins = "+this.IsFreeSpins()+(this.IsFreeSpins()?", IsLastFreeSpin = "+this.VsFreeSpin.IsLastFreeSpin():"")+", IsFreeSpinBonusGame = "+this.IsFreeSpinBonusGame()+"}"},VsResponse.prototype.HasFreeRoundEvents=function(){return null!=this.FreeRoundEvents},VsResponse.prototype.IsFreeRounds=function(){return null!=this.FreeRound},VsResponse.prototype.isGambleV2=function(){return null!=this.gambleV2Data&&-1<this.gambleV2Data.optionIndex},goog.require("UHT.BaseDataStructures"),VsScatterData.prototype.Clone=function(){var t=new VsScatterData(this.Symbol,this.Pays,this.Freespins,this.Multipliers);return null!=this.Pays&&(t.Pays=this.Pays.slice()),null!=this.Freespins&&(t.Freespins=this.Freespins.slice()),null!=this.Multipliers&&(t.Multipliers=this.Multipliers.slice()),t},goog.require("UHT.BaseDataStructures"),VSSpinOneReelSymbolsData.prototype.Clone=function(){var t=new VSSpinOneReelSymbolsData(this.reelID,this.reelsToBeSpun,this.reelCoefs);return null!=this.reelsToBeSpun&&(t.reelsToBeSpun=this.reelsToBeSpun.slice()),null!=this.reelCoefs&&(t.reelCoefs=this.reelCoefs.slice()),t},VsStickySymbol.prototype.Clone=function(){var t=new VsStickySymbol;return t.currentPosition=this.currentPosition,t.endPosition=this.endPosition,t},VsStickySymbol.prototype.CloneHelper=function(){return this.Clone()},VsStickySymbol.prototype.IsMoving=function(){return this.currentPosition!=this.endPosition&&0<=this.endPosition},VsStickySymbol.prototype.IsSticky=function(){return this.currentPosition==this.endPosition},VsStickySymbol.prototype.WillDisappear=function(){return this.endPosition<0},VsSymbolReplacement.prototype.Clone=function(){var t=new VsSymbolReplacement;return t.FromSymbolId=this.FromSymbolId,t.ToSymbolId=this.ToSymbolId,null!=this.ReplacementPositions&&(t.ReplacementPositions=this.ReplacementPositions.slice()),t},VsTumblingData.TumblingSymbol=function(){this.id=0,this.position=0},VsTumblingData.prototype.Clone=function(){var t=new VsTumblingData;t.tumblingSymbols=[];for(var e=0;e<this.tumblingSymbols.length;e++)t.tumblingSymbols.push(new VsTumblingData.TumblingSymbol),t.tumblingSymbols[e].id=this.tumblingSymbols[e].id,t.tumblingSymbols[e].position=this.tumblingSymbols[e].position;return t},VsTumblingData.prototype.CloneHelper=function(){return this.Clone()},goog.require("UHT.BaseDataStructures"),VsWildData.prototype.Clone=function(){var t=new VsWildData(this.Symbol,this.Pays,this.Multipliers);return null!=this.Pays&&(t.Pays=this.Pays.slice()),null!=this.Multipliers&&(t.Multipliers=this.Multipliers.slice()),t},MultiplierSet.prototype.Clone=function(){var t=new MultiplierSet;return t.setIndex=this.setIndex,null!=this.multipliers&&(t.multipliers=this.multipliers.slice()),t},VsWildRandomLineMultiplier.Configuration=function(){this.wildSymbolId=0,this.multiplierSets=null},VsWildRandomLineMultiplier.Configuration.prototype.GetCurrentSet=function(t){for(var e=0;e<this.multiplierSets.length;e++)if(this.multiplierSets[e].setIndex==t)return this.multiplierSets[e].multipliers;return null},VsWildRandomLineMultiplier.Configuration.prototype.Clone=function(){var t=new VsWildRandomLineMultiplier.Configuration;if(t.wildSymbolId=this.wildSymbolId,null!=this.multiplierSets){t.multiplierSets=[];for(var e=0;e<this.multiplierSets.length;e++)t.multiplierSets.push(this.multiplierSets[e].Clone())}return t},VsWildRandomLineMultiplier.SpinResponse=function(){this.wildSymbolId=0,this.multiplier=0,this.positions=null},VsWildRandomLineMultiplier.SpinResponse.prototype.Clone=function(){var t=new VsWildRandomLineMultiplier.SpinResponse;return t.wildSymbolId=this.wildSymbolId,t.multiplier=this.multiplier,null!=this.positions&&(t.positions=this.positions.slice()),t},VsWildRandomLineMultiplier.CurrentSet=function(){this.wildSymbolId=0,this.currentSetIndex=0},VsWildRandomLineMultiplier.CurrentSet.prototype.Clone=function(){var t=new VsWildRandomLineMultiplier.CurrentSet;return t.wildSymbolId=this.wildSymbolId,t.currentSetIndex=this.currentSetIndex,t},VsWildRandomMultiplier.prototype.Clone=function(){var t=new VsWildRandomMultiplier;return t.SymbolIndex=this.SymbolIndex,t.Position=this.Position,t.Multiplier=this.Multiplier,t},VsFreeSpinOption.prototype.CloneHelper=function(){return this.Clone()},goog.require("UHT.BaseDataStructures"),VsWinLine.prototype.Clone=function(){var t=new VsWinLine;return t.LineNumber=this.LineNumber,t.WinAmount=this.WinAmount,t.WinPositions=this.WinPositions.slice(),t.Combination=this.Combination,t.Multiplier=this.Multiplier,t.isWinWaysGroup=this.isWinWaysGroup,t.symbolId=this.symbolId,t.waysCount=this.waysCount,t.waysLength=this.waysLength,t.payingDirection=this.payingDirection,t};var AdapterEvents={evtCloseGame:"EVT_CLOSE_GAME",evtCloseGameCancel:"EVT_CLOSE_GAME_CANCEL",evtGameStatus:"EVT_GAME_STATUS",evtSound:"EVT_SOUND",evtGameLoadComplited:"EVT_GAME_LOAD_COMPLITED",evtServerRequest:"EVT_SERVER_REQUEST",evtUpdateBalance:"EVT_UPDATE_BALANCE",evtUpdateConnectionQuality:"EVT_UPDATE_CONNECTION_QUALITY",evtOpenCashier:"EVT_OPEN_CASHIER",evtSetTickerPromo:"EVT_SET_TICKER_PROMO",evtGetConfiguration:"EVT_GET_CONFIGURATION",evtUpdateLoadingProgress:"EVT_UPDATE_LOADING_PROGRESS",evtPlayForReal:"EVT_PLAY_FOR_REAL",evtChatMessage:"EVT_CHAT_MESSAGE",evtChatInit:"EVT_CHAT_INIT",evtChatState:"EVT_CHAT_STATE",evtGetGameMenu:"EVT_GET_GAME_MENU",evtSetGameMenu:"EVT_SET_GAME_MENU",evtGameMenuItemSelected:"EVT_GAME_MENU_ITEM_SELECTED",evtLogoff:"EVT_LOGOFF",evtLogoffOk:"EVT_LOGOFF_OK",evtReload:"EVT_RELOAD",evtMaximumTabsReached:"EVT_MAXIMUM_TABS_REACHED",evtAutoLogout:"EVT_AUTO_LOGOUT",evtAutoLogoutUserResponse:"EVT_AUTO_LOGOUT_USER_RESPONSE",evtDownloadCasinoClient:"EVT_DOWNLOAD_CLIENT",evtClientScreenMode:"EVT_CLIENT_SCREEN_MODE",evtUpdateJackpot:"EVT_UPDATE_JACKPOT",evtCloseExternalGame:"EVT_CLOSE_EXTERNAL_GAME",evtJackpotAmountToFlash:"EVT_NEW_JACKPOT_AMOUNT",evtRealityCheck:"EVT_REALITY_CHECK_MESSAGE",evtRealityLogoff:"EVT_REALITY_LOGOFF",evtRealityClose:"EVT_REALITY_CLOSE",evtGameReady:"EVT_UNITY_GAME_READY",evtServerResponse:"EVT_HTTP_RESPONSE",evtMessageOpened:"EVT_MESSAGE_OPENED",evtMessageClosed:"EVT_MESSAGE_CLOSED",evtFullscreenOverlayShown:"EVT_FULLSCREEN_OVERLAY_SHOWN",evtFullscreenOverlayHidden:"EVT_FULLSCREEN_OVERLAY_HIDDEN",evtShowMessage:"EVT_SHOW_MESSAGE"},AdapterParameters={Notify:"common",Arguments:"args",GameSymbol:"symbol",GameActive:"active",MethodType:"type",Balance:"balance",BalanceUpdateTime:"stime",ConnectionQuality:"level",TickerMessage:"message",TickerStyle:"style",TabName:"tabName",Config:"config",Progress:"progress",SoundState:"sound",ChatMessages:"history",ChatInit:"init",ChatState:"state",ReloadLink:"link",MaxTabsCount:"maxcount",AutoLogout:"autologout",ClientScreenMode:"clientScreenMode",JackpotTotalAmount:"totaljackpot",Jackpots:"jackpots",JackpotAmountToFlash:"newJackpotAmount",RealityTime:"time",RealitySumm:"summ",RealityBalance:"balance",ResponseData:"data",ResponseStatusCode:"httpCode",messageType:"message",type:"type",unity:"unity",sendToAdapterMethod:"sendToAdapter",gameActionParameter:"action",sendToWrapperEvent:"unityToWrapperMsg"},AdapterMessages={settingsNotSaved:"ALERT_CANT_SAVE_SETTINGS",connectionLost:"ALERT_CONNECTION_LOST"},FrameworkConfiguration={resourceUri:"RESOURCES",menuUri:"MENU",wakeupUri:"WAKEUP",getSessionUri:"RETRIEVESESSION",settingsUri:"SETTINGS",gameServiceUri:"GAMESERVICE",clientLogUri:"CLIENTLOG",clientLogLevel:"CLIENTLOGLEVEL",loginUri:"LOGIN",logoutUri:"LOGOUT",sessionTimeout:"sessionTimeout",facebookUri:"FACEBOOK",external:"EXTERNAL",casinoName:"CASINONAME",externalChat:"EXTERNALCHAT",mobileAuthorize:"MOBILE_AUTHORIZE",externalAuthorize:"EXTERNAL_AUTHORIZE",chatServerPort:"CHAT_PORT",isSecure:"SECURE",stylename:"STYLENAME",currency:"CURRENCY",demoMode:"demoMode",isDefaultBrand:"DEFAULTC",shortcutName:"SHORTCUT_NAME",shortcutLink:"SHORTCUT_LINK",shortcutIconName:"SHORTCUT_ICON_NAME",shortcutUrlToCasinoRes:"SHORTCUT_URL_TO_RES",cacheAutorizeName:"CACHE_NAME",bundleDomain:"BUNDLE_DOMAIN",cacheAutorizeSize:"CACHE_SIZE",cacheAutorizeExpiration:"CACHE_EXPIRATION",cacheAutorizeSignature:"CACHE_SIGNATURE",reloadBalanceUri:"RELOAD_BALANCE",reloadJackpotUri:"RELOAD_JACKPOT",appVersion:"VERSION",applicationStoreUrl:"STORE_URL",locale:"LANGUAGE",gameSymbol:"GAME_SYMBOL",versionInfo:"VERSION_INFO",updateAndroidApp:"UPDATE_ANDROID_APP",updateAndroidProp:"UPDATE_ANDROID_PROP",webLobbyUrl:"WEB_LOBBY",extWebLobbyUrl:"EXT_WEB_LOBBY",displayClockInFullScreen:"DISPLAY_CLOCK_FULL_MODE",gameUrl:"GAME_URL",mgckey:"MAGIC_KEY",noRating:"NO_RATING",gameHistory:"HISTORY",jurisdiction:"jurisdiction",jurisdictionRequirements:"jurisdictionRequirements",brandRequirements:"brandRequirements",promotionurl:"promotionurl",rcSettings:"rcSettings",amountType:"amountType"},DefaultValues={LanguageSettings:{defaultLanguage:"en"},CurrencySettings:{defaultCurrency:"USD"},DefaultParameters:{defaultStylename:"premiumgames",defaultGameSymbol:"LobbyComponent"},ServerProtocol:{Login:{loginResult:"log",loginResultSuccess:"1",loginResultFail:"0",responseURL:"Url",accountType:"acctype",memberID:"memberID",errorMsg:"msg",accountTypeFun:"F",accountTypeReal:"R",aid:"aid",authStatusOk:"OK",authStatusUnlogged:"UNLOGGED"},InitSession:{language:"lang",type:"type",unityType:"UnityClient",sessionID:"sessionid"},SessionManagement:{unloggedResponse:"unlogged",newSessionResponse:"new session"}},GameParams:{gameRequestTimeout:15,gamePnowRequestDelay:3,gameRequestDelay:2,gameConnectionTimeout:120,resourceBrandPath:"brands/",resourceGamePath:"games/"},RetryParams:{disableRetry:0,unlimitedRetryCount:-1,retryTimeout:15,resRetryTimeout:3},NoNetwork:{retryCountToShowText:2,wakeUpFailInRow:2},ResourceManagerCfg:{resourceInfoFileNameSuffix:".ResInfo.xml",componentInfoFileName:"component.info",componentStringList:"string.list",componentFolder:"components/",sharedComponentName:"shared",packageExtention:".zip"},PackageInfoCfg:{packageTypeCommon:"common",packageTypeLocalized:"localized",sharedComponent:"shared"},ComponentInfoFormat:{componentName:"name",componentLocalization:"localization",componentDefaultLanguage:"default",componentLanguageList:"languages",componentPackagesList:"packages",componentPackageName:"name",componentPackageType:"type"},Resources:{bundlesInfoHead:"languages",bundlesLanuageTitle:"language",bundlesHead:"bundles",bundleName:"name",bundleVersion:"version",bundlesCommon:"common",defaultLanguage:"",locolizationFileName:"localization.info",resourceInfoFileName:"packages.info",versionsInfoFileName:"versions.info",versionsInfoHead:"versions"},StringListFormat:{languageID:"language",keys:"keys"},AuthServicesPath:{facebook:"/facebook.do"},AuthServicesDefines:{language:"lang",action:"method",login:"login",id:"id",token:"token",guestId:"gid",Facebook:{tokenParam:"token",successResult:"ok",failedResult:"failed"}},UnityGameObjects:{casinoSDK:"Casino SDK",FBBridgeObject:"FBBridgeObject"},FBPluginConstants:{androidFBPluginClassName:"com.igs.fbplugin.FBPlugin",androidFBPluginFunction:"FacebookConnect"},Settings:{settingsPath:"/saveSettings.do",action:"method",load:"load",idParam:"id",settingsParam:"settings",symbolKey:"symbol",settingsKey:"settings"},ApplicationSettings:{settingSeparator:"\n",settingIDSeparator:"\t",gameSettingsFilename:"game.settings",clientSettingsFilename:"client.settings"},UnityVars:{language:"lang",gameSymbol:"gs",session:"sp",styleName:"sn",configurationUri:"conf",currency:"currency",accountType:"accountType",gameServerDomain:"gsd",bundleVersion:"ver"},FrameworkConfigurationXml:{items:"items",authStatus:"/root/auth_status",aid:"/root/member/aid",type:"/root/member/type",item:"item",key:"key",value:"value"},LogTransferSetting:{defaultTimerDelaySeconds:5},Chat:{maxMessageLength:250,pingDelay:5,malDelay:3,ImmidiatlyAfterLoginRetryLogic:{timeToLostConnect:10,timeToLostConnectShow:10},ChatInProcessRetryLogic:{timeToLimitedFunctionality:10}},GameMenu:{ItemId:{reports:"reports",withdraw:"withdraw",language:"language"}},Socket:{endOfCommand:"\0",bufferLength:256,readTimeout:500},ScreenMode:{fullScreenMode:"fullScreenMode",windowMode:"windowMode"},TokenInfo:{tokenKey:"token",domainKey:"domain",gameIdKey:"gameId",expiresKey:"expires",externalLinkKey:"extLink",externalKey:"ext",tokenFile:"info.dat",tokenCookieName:"AUTHTOKEN",tokenExpDateCookieName:"AUTHTOKEN_STORE_PERIOD"},ExternalDataProtocol:{tokenKey:"token",domainKey:"domain",ticketKey:"PathAndQuery",protocolKey:"protocol",gameIdKey:"symbol",protocol:"fungame",deviceId:"id",uriDelimeter:"?",paramSeparator:":",pairSeparator:"&",backToLobby:"btl",mobileLobbyCategory:"mlc",defaultMobileLobbyCategory:"1"},JackpotXml:{jackpot_list:"/jackpot_list",list_total_amount:"total_amount",jackpot_item:"jackpot",jackpotId:"id",jackpotAmount:"amount",jackpotStyle:"style",jackpotGames:"gsymbols"},JackpotGamesListXml:{jackpot_list:"/casino",jackpotItem:"jackpot",jackpotId:"jackpotid",jackpotName:"name",gameItem:"game",newgame:"newgame",premiumgame:"premiumgame",gamename:"name",gamepic:"pic",gamelink:"link"},BalanceXml:{cash:"/CASH",balance:"BALANCE"},JackpotGamesRequest:{action:"method",actionType:"jackpotList",actionParam:"categorySymbol",actionParamValue:"jp"},Timing:{wakeupRequestDelayInSeconds:15,wakeupRequestDelayInMiliseconds:15e3,wakeupServiceTotalWorkInMinutes:10},ShortcutRes:{path:"",iconName:""},ClientSettingNames:{shortcutSettings:"shortcutSettings"},PossibleOpenGames:{maxOpenedCount:2},PlayOnRealMoney:{paramName:"msg_code",allow:"1",denied:"0"},UpdateVersion:{updateFolder:"updates/",appVersionKey:"version",updateImportanceKey:"importance",configAppVersionKey:"apk",updateFileKey:"file",updateInfoFileName:"UpdateInfo.dat"},GuestId:{guestIdFile:"gid.info",guestIdKey:"guestId",guestIdCookieKey:"GID"},InbuildDomain:{notUse:"default"},LogTransfer:{tmpSwapFile:"tmpLog.log",cashFile:"unsent.log",sendDataLimit:1e4}};DefaultValues.Resources.defaultLanguage=DefaultValues.LanguageSettings.defaultLanguage,goog.require("UHT.EventHandler"),goog.provide("UHT.EventManager");var GameEvents={evtConnectionReady:"evtConnectionReady",evtInitResponse:"evtInitResponse",evtSpinResponse:"evtSpinResponse",evtNoMoneySpinResponse:"evtNoMoneySpinResponse",evtConfigSwitchedResponse:"evtConfigSwitchedResponse",evtInitRequest:"evtInitRequest",evtSpinRequest:"evtSpinRequest",evtFreespinsFinished:"evtFreespinsFinished",evtGambleRequest:"evtGambleRequest",evtGambleClose:"evtGambleClose",evtGambleResponse:"evtGambleResponse",evtBonusInitResponse:"evtBonusInitResponse",evtBonusPickRequest:"evtBonusPickRequest",evtBonusPickResponse:"evtBonusPickResponse",evtBonusRespinRequest:"evtBonusRespinRequest",evtBonusRespinResponse:"evtBonusRespinResponse",evtBonusFinishRequest:"evtBonusFinishRequest",evtSoundState:"evtSoundState",evtGetSettingsRequest:"evtGetSettingsRequest",evtUpdateSettingsRequest:"evtUpdateSettingsRequest",evtSettingsUpdated:"evtSettingsUpdated",evtSettingsNotSaved:"evtSettingsNotSaved",evtGameStatus:"evtGameStatus",evtFSBGInitRequest:"evtFSBGInitRequest",evtFSBGInitResponse:"evtFSBGInitResponse",evtFSBGPickRequest:"evtFSBGPickRequest",evtFSBGPickResponse:"evtFSBGPickResponse",evtMysteryScatterRequest:"evtMysteryScatterRequest",evtMysteryScatterResponse:"evtMysteryScatterResponse",evtCreateConnectionRequest:"evtCreateConnectionRequest",evtFreeRoundsUpdate:"evtFreeRoundsUpdate",evtFSOptionsUpdate:"evtFSOptionsUpdate",evtFSOptionPickRequest:"evtFSOptionPickRequest",evtServerTimeUpdate:"evtServerTimeUpdate"},ApplicationEvents={evtRequestInitApplication:"evtRequestInitApplication",evtRequestAppConfiguration:"evtRequestAppConfiguration",evtAppConfigurationReceived:"evtAppConfigurationReceived",evtServerOptionsParsed:"evtServerOptionsParsed",evtFlashRPCRequest:"evtFlashRPCRequest",evtGameLoadingFinished:"evtGameLoadingFinished",evtFlashWrapperRPCRequest:"evtFlashWrapperRPCRequest",evtServerResponse:"evtServerResponse"},EventManager={handlers:{},queuedEvts:[],queuedArgs:[],Init:function(){},AddHandler:function(t,e,i){null==EventManager.handlers[t]&&(EventManager.handlers[t]=[]),EventManager.handlers[t].push(new EventHandler(i,e))},ClearCallback:function(t,e){for(var i in EventManager.handlers)if(EventManager.handlers.hasOwnProperty(i))for(var n=0;n<EventManager.handlers[i].length;++n)EventManager.handlers[i][n].equals(e,t)&&EventManager.handlers[i].splice(n,1)},optionalEvents:["EVT_UHT_UPDATE","EVT_UHT_BEFOREUPDATE"],Trigger:function(t,e){if(EventManager.optionalEvents.indexOf(t)<0&&console.log("Trigger",t,e),null!=EventManager.handlers[t])for(var i=0;i<EventManager.handlers[t].length;++i)EventManager.handlers[t][i].call(e)},Queue:function(t,e){EventManager.queuedEvts.push(t),EventManager.queuedArgs.push(e)},TriggerQueued:function(){for(var t=0;t<EventManager.queuedEvts.length;++t)EventManager.Trigger(EventManager.queuedEvts[t],EventManager.queuedArgs[t]);EventManager.queuedEvts.splice(0),EventManager.queuedArgs.splice(0)}};goog.provide("UHT.JackpotHelpers");var JackpotEvents={evtJackpotStateChanged:"evtJackpotStateChanged",evtJackpotsUpdated:"evtJackpotsUpdated"},JackpotDictionary={jackpotAmount:"amount",jackpotName:"name",jackpotId:"jackpotID",jackpotOrder:"order",jackpotGroupType:"groupKind",jackpotStatus:"status",jackpotMinBet:"minBet",jackpotMinBetUSD:"minBetUSD",jackpotRTP:"rtp"};function JackpotsManager(){this.jackpots=null,this.reloadJpInterval=10,this.reloadJpTimer=0,this.hasActiveJp=!1,this.requestInProgress=!1}goog.require("UHT.JackpotHelpers"),goog.provide("UHT.JackpotsManager"),JackpotsManager.prototype.Init=function(){EventManager.AddHandler(JackpotEvents.evtJackpotStateChanged,this.OnJackpotStateChanged,this)},JackpotsManager.prototype.OnJackpotStateChanged=function(t){null!=t?(!this.hasActiveJp&&t.IsActive&&(this.reloadJpTimer=this.reloadJpInterval),this.hasActiveJp=t.IsActive,this.hasActiveJp||(this.jackpots=null,EventManager.Queue(JackpotEvents.evtJackpotsUpdated,this.jackpots))):this.hasActiveJp=!1},JackpotsManager.prototype.Update=function(){this.hasActiveJp&&(this.reloadJpTimer+=Time.deltaTime,this.requestInProgress||this.reloadJpTimer>this.reloadJpInterval&&(this.requestInProgress=!0,ServerHelpers.ReloadJackpot(ServerOptions.gameSymbol,new EventHandler(this,this.JackpotReloadCallback))))},JackpotsManager.prototype.JackpotReloadCallback=function(t,e){this.jackpots=this.ParseJackpots(t),null==this.jackpots&&(this.hasActiveJp=!1),this.reloadJpTimer=0,this.requestInProgress=!1,EventManager.Queue(JackpotEvents.evtJackpotsUpdated,this.jackpots)},JackpotsManager.prototype.ParseJackpots=function(t){if(_string.IsNullOrEmpty(t))return null;var e=null;try{e=JSON.parse(t)}catch(t){}if(null==e)return console.error("JPManager::ParseJackpots - cannot parse jp list"),null;for(var i=[],n=0;n<e.length;++n){var o,s=e[n];null!=s[JackpotDictionary.jackpotId]?null!=s[JackpotDictionary.jackpotAmount]?null!=s[JackpotDictionary.jackpotName]?null!=s[JackpotDictionary.jackpotStatus]?((o=new JackpotInformation).JackpotID=Number(s[JackpotDictionary.jackpotId]),o.JackpotOrder=Number(s[JackpotDictionary.jackpotOrder]),o.JackpotAmount=Number(s[JackpotDictionary.jackpotAmount]),o.JackpotName=String(s[JackpotDictionary.jackpotName]),o.JackpotStatus=String(s[JackpotDictionary.jackpotStatus]),null!=s[JackpotDictionary.jackpotGroupType]&&(o.JackpotGroupType=String(s[JackpotDictionary.jackpotGroupType])),null!=s[JackpotDictionary.jackpotMinBet]&&(o.JackpotMinBet=Number(s[JackpotDictionary.jackpotMinBet])),null!=s[JackpotDictionary.jackpotMinBetUSD]&&(o.JackpotMinBetUSD=Number(s[JackpotDictionary.jackpotMinBetUSD])),null!=s[JackpotDictionary.jackpotRTP]&&(o.JackpotRTP=Number(s[JackpotDictionary.jackpotRTP])),i.push(o)):console.error("JPManager::ParseJackpots - cannot parse jp status"):console.error("JPManager::ParseJackpots - cannot parse jp name"):console.error("JPManager::ParseJackpots - cannot parse jp amount"):console.error("JPManager::ParseJackpots - cannot parse jp id")}return i};var GameProtocolBonusGameParser={ParseBonusGame:function(t){if(null==t[GameProtocolDictionary.BonusGame.bonusGameExists]&&null==t[GameProtocolDictionary.BonusGame.level]&&null==t[GameProtocolDictionary.BonusGame.currentBonusRespin]&&null==t[GameProtocolDictionary.BonusGame.status]&&null==t.wof_status)return null;var e=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.BonusGame.level),i=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.BonusGame.bonusGameType),n=new VsBonusGameData;n.BonusTable.Status=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BonusGame.status),n.BonusTable.Wins=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.BonusGame.wins),n.BonusTable.WinsMask=GameProtocolBonusGameParser.ParseWinsMask(t,GameProtocolDictionary.BonusGame.winsMask),n.BonusTable.BGItemValues=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.BonusGame.BGItemValues),n.BonusTable.BGItemMask=GameProtocolCommonParser.ParseStringList(t,GameProtocolDictionary.BonusGame.BGItemMasks),n.Level=null==e?-1:e,n.Life=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.BonusGame.life),n.WinPoints=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.BonusGame.winPoints),n.RealWin=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.BonusGame.realWin),n.Coef=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.BonusGame.coef),n.GameOver=1==GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.BonusGame.gameOver),n.BonusTable.Markers=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BonusGame.markers),n.lifeWins=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BonusGame.lWins),n.currentBonusRespin=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.BonusGame.currentBonusRespin),n.maxBonusRespins=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.BonusGame.maxBonusRespins),n.respinSymbols=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BonusGame.respinSymbols);var o=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.slotHeight);0==o&&(o=GameConnection.prototype.SlotHeight),n.winSymbols=VSProtocolParser.ParseWinScreenSymbols(t,o,GameProtocolDictionary.BonusGame.respinWinSymbols),n.PremultipliedWin=GameProtocolBonusGameParser.ParsePremultipliedWin(t,GameProtocolDictionary.BonusGame.premultipliedWinData),n.MultipliedSymbolPositions=GameProtocolBonusGameParser.ParseMultiplierSymbolPositions(t,GameProtocolDictionary.BonusGame.premultipliedWinData);o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.BonusGame.respinsTotalMultiplier);n.RespinsTotalMultiplier=null==o?-1:o;o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.BonusGame.extraRespinsWon);n.ExtraRespinsWon=null==o?-1:o;o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.BonusGame.extraRetriggersWon);n.ExtraRetriggersWon=null==o?-1:o;var s=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BonusGame.iWins);if(null!=s&&0<s.length)if(null==n.BonusTable.Markers||n.BonusTable.Markers.length<=0)s=GameProtocolCommonParser.SortIntList(s);else{var r=GameProtocolCommonParser.FindElementPositionsIgnoreSign(1,n.BonusTable.Markers).length;n.numberOfLevels=s.length/r;for(var a=0;a<n.numberOfLevels;a++)s=GameProtocolCommonParser.SortIntList(s,a*r,r)}n.IWins=s,6==i&&(n.Level=Math.floor(e/2),n.MultiplierStep=e%2==0,n.MultipliersTable.Status=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BonusGame.Multipliers.status),n.MultipliersTable.Markers=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BonusGame.Multipliers.markers),n.MultipliersTable.Wins=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.BonusGame.Multipliers.wins));e="bgid";return null!=t[e]&&(n.id=_number.otoi(t[e])),null!=t[e="bgt"]&&(n.type=_number.otoi(t[e])),n.wheelOfFortune=GameProtocolBonusGameParser.ParseWheelOfFortune(t),n.initialized=null!=t[GameProtocolDictionary.BonusGame.realWin],n.map=GameProtocolBonusGameParser.ParseMap(t),n},ParsePremultipliedWin:function(t,e){var i=0,e=t[e];return null==e||0<(e=e.split("~")).length&&!_string.IsNullOrEmpty(e[0])&&(i=_number.otod(e[0])),i},ParseMultiplierSymbolPositions:function(t,e){var i=null,e=t[e];if(null!=e){e=e.split("~");if(1<e.length&&!_string.IsNullOrEmpty(e[1]))for(var i=[],n=e[1].split(","),o=0;o<n.length;o++)i.push(_number.otoi(n[o]))}return i},ParseWinsMask:function(t,e){if(null==t[e])return null;for(var i=t[e].split(","),n=[],o=0;o<i.length;o++)_string.IsNullOrEmpty(i[o])||(i[o]=i[o].replace("_fn",""),n.push(GameProtocolBonusGameParser.ParseWinMask(i[o])));return n},ParseWinMask:function(t){var e=[];return e[0]="w",e[1]="swf",e[2]="rwf",e[3]="l",e[4]="nff",e[5]="sff",e[6]="pf",e[7]="m",e[8]="ms",e[9]="prf",e[10]="psf",e[11]="rs",e[12]="wof",e[13]="rrf",e[14]="msf",e[15]="nlf",e[16]="oswr",e[17]="cmp",e[18]="srww",e[19]="gsf",e[20]="psm",e[21]="mbf",e[22]="pbf",e[23]="stp",e[24]="fss",e[25]="aph",e[26]="rsb",e[27]="prfm",e[28]="rwf_s1",e[29]="rwf_s1_mul",e[30]="rwf_s0",e[31]="rwf_s0_es",e.indexOf(t)},ParseWheelOfFortune:function(t){var e=new VsBonusGameData.WheelOfFortune,i="wof_set";if(null==t[i])return null;var n=t[i].split(",");if(null==t[i="wof_mask"])return null;var o=t[i].split(",");e.items=[];var s=0;for(s=0;s<n.length;++s){var r=n[s].split("~"),a=new VsBonusGameData.WheelOfFortune.Item;switch(o[s]){case"w":a.amount=_number.otod(r[0]);break;case"wrs":a.amount=_number.otod(r[0]),a.spinsNumber=_number.otoi(r[1]);break;case"m":a.status=1;break;case"go":a.status=0}e.items.push(a)}if(null!=t[i="wof_status"]){for(var l=t[i].split(","),u=[],s=0;s<e.items.length;++s)u.push(_number.otoi(l[s]));e.itemsStatus=u}return null!=t[i="wof_wi"]&&(e.stopPosition=_number.otoi(t[i])),null!=t[i="lifes"]&&(e.spinsLeft=_number.otoi(t[i])),null!=t[i="iw"]&&(e.initialWin=GameProtocolCommonParser.ParseDouble(t,i)),null!=t[i="wm"]&&(e.multiplier=_number.otoi(t[i])),e},ParseMap:function(t){var e=new VsBonusGameData.Map,i=GameProtocolCommonParser.ParseIfExist(t,"wof_set"),n=GameProtocolCommonParser.ParseIfExist(t,"wof_mask"),o=GameProtocolCommonParser.ParseIfExist(t,"wof_mi"),s=GameProtocolCommonParser.ParseIfExist(t,"wof_p"),t=GameProtocolCommonParser.ParseIfExist(t,"wof_map");if(e.WOF_Values=[],e.WOF_Mask=[],e.WOF_Map=[],_string.IsNullOrEmpty(o)||0<o.length&&(e.WOF_MultiplierIndex=_number.otoi(o)),_string.IsNullOrEmpty(s)||0<s.length&&(e.WOF_StopPosition=_number.otoi(s)),!_string.IsNullOrEmpty(i)&&0<(i=_string.Trim(i)).length)for(var r=i.split(","),a=0;a<r.length;a++)e.WOF_Values.push(r[a]);if(!_string.IsNullOrEmpty(n)&&0<(n=_string.Trim(n)).length)for(r=n.split(","),a=0;a<r.length;a++)e.WOF_Mask.push(r[a]);if(!_string.IsNullOrEmpty(t)&&0<(t=_string.Trim(t)).length)for(r=t.split(","),a=0;a<r.length;a++)e.WOF_Map.push(_number.otoi(r[a]));return e}},GameProtocolCommonParser={SplitResponseContent:function(t){for(var e={},i=0;i<t.length;++i){var n=t[i].split("=",2);2==n.length&&null==e[n[0]]&&(e[n[0]]=n[1])}return e},ParseDouble:function(t,e){return _number.otod(t[e])},ParseDoubleIfExists:function(t,e){return null==t[e]?-1:_number.otod(t[e])},ParseNulableDouble:function(t,e){var i=null,e=t[e];return i=null!=e&&0<_string.Trim(e).length&&"null"!=e?_number.otod(e):i},ParseInt:function(t,e){return _number.otoi(t[e])},ParseUInt:function(t,e){return _number.otoui(t[e])},ParseLong:function(t,e){return GameProtocolCommonParser.ParseInt(t,e)},ParseNulableFloat:function(t,e){return GameProtocolCommonParser.ParseNulableDouble(t,e)},ParseNulableInt:function(t,e){var i=null,e=parseInt(t[e],10);return i=isFinite(e)&&!isNaN(e)?e:i},ParseIntList:function(t,e,i){e=t[e];if(null==e)return null;for(var n=e.split(i=null==i?",":i),o=[],s=0;s<n.length;++s){var r=parseInt(n[s],10);isFinite(r)&&!isNaN(r)&&o.push(r)}return o},ParseDoubleList:function(t,e,i){e=t[e];if(null==e)return null;for(var n=e.split(i=null==i?",":i),o=[],s=0;s<n.length;++s){var r=parseFloat(n[s]);isFinite(r)&&!isNaN(r)&&o.push(r)}return o},ParseStringList:function(t,e){e=t[e];return null==e?null:e.split(",")},ParseText:function(t,e){var i=null;if(_string.IsNullOrEmpty(t))return i;for(var n={},o=t.split("&"),s=0;s<o.length;++s){var r=o[s].split("=");2==r.length&&null==n[r[0]]&&(n[r[0]]=r[1])}return i=null!=n[e]?n[e]:i},ParseIfExist:function(t,e){return null!=t[e]?t[e]:null},ParseBalance:function(t){var e=null;return null!=t[GameProtocolDictionary.balance]&&(e=new BalanceData,null!=t[GameProtocolDictionary.bonusBalance]&&XT.GetBool(Vars.Jurisdiction_SplitBalance)?(e.Balance=_number.otod(t[GameProtocolDictionary.cashBalance]),e.BonusBalance=_number.otod(t[GameProtocolDictionary.bonusBalance])):e.Balance=_number.otod(t[GameProtocolDictionary.balance]),null!=t[GameProtocolDictionary.time]?e.Time=_number.otod(t[GameProtocolDictionary.time]):null!=BalanceManager.I&&null!=BalanceManager.I.data&&(e.Time=BalanceManager.I.data.Time+1)),e},BuildBalanceData:function(t,e,i){var n=new BalanceData;return n.Balance=t,n.BonusBalance=e,n.Time=i,n},SortAscCompare:function(t,e){return t-e},SortIntList:function(t,e,i){if(null==e||null==i)return t.sort(GameProtocolCommonParser.SortAscCompare),t;var n=t.slice(e,e+i);n.sort(GameProtocolCommonParser.SortAscCompare);for(var o=0;o<i;++o)t[e+o]=n[o];return t},FindElementPositionsIgnoreSign:function(t,e){for(var i=[],n=0;n<e.length;++n)Math.abs(e[n])==t&&i.push(n);return i},StringToIntList:function(t,e){for(var i=t.split(e=null==e?",":e),n=[],o=0;o<i.length;o++)_string.IsNullOrEmpty(i[o])||n.push(_number.otoi(i[o]));return n}},GameProtocolDictionary={line:"l",winWayGroups:"wlc_v",coin:"c",defaultBet:"defc",coinID:"cid",tryMeOnceCoin:"tmc",tryMeOnceLine:"tml",winAmountShort:"w",extraAwardWin:"e_aw",randomWildsData:"rwd",upSymbols:"ups",expandingSymbolsData:"ep",symbolsBeforeExpanding:"is",winSymbols:"s",balance:"balance",cashBalance:"balance_cash",bonusBalance:"balance_bonus",time:"stime",reelsPosition:"pos",index:"index",counter:"counter",repeat:"repeat",respin:"rs",respinCycleWin:"rs_win",currentRespin:"rs_c",maxRespins:"rs_m",totalRespins:"rs_t",progressiveFeature:"progressive",stickySymbols:"sty",mergingSymbols:"mrg",freeSpinsOptions:"fs_opt",freeSpinsOptionsMask:"fs_opt_mask",randomWildWinSymbolId:"rws",freeSpinsPickedOptionIndex:"fsopt_i",freeSpinCurrentNumber:"fs",freeSpinMaxNumber:"fsmax",freeSpinTotalNumber:"fs_total",freeSpinCurrentWin:"fswin",freeSpinTotalWin:"fswin_total",freeSpinCurrentMultiplier:"fsmul",freeSpinTotalMultipl:"fsmul_total",bets:"sc",paytable:"paytable",scatters:"scatters",wilds:"wilds",bonuses:"bonuses",symbol:"symbol",clientVersion:"cver",freeSpinCurrentWinMultiplied:"fsres",freeSpinTotalWinMultiplied:"fsres_total",mgckey:"mgckey",noRating:"noRating",stackedSymbolIndex:"n_rss",stackedSymbolIndexCurrent:"rss",reelSetIndex:"n_reel_set",reelSetIndexCurrent:"reel_set",numberOfReelSets:"reel_set_size",wildRandomMultipliers:"wdrm_v",wildRandomMultiplierMask:"wdrm_m",randomSymbolMultiplier:"rmul",randomMysterySymbol:"msr",initialMysterySymbol:"msi",patternedMysterySymbols:"msi_p",possibleRandomSymbolMultipliers:"prm",naSymbolId:"nas",nudgedSymbols:"sn",symbolReplacementData:"srf",ReelsAllowedToRotateSeparately:"sor_ra",ReelsCoeficients:"sor_coefs",ReelToBeSpun:"sor_ri",TumblingWin:"tmb_win",Tumbling:"tmb",NextReelsSymbolsList:"n_rsl",FeaturePurchaseParam:"pur",mysteryExpandingSymbols:"mes",mysteryExpandingPositions:"me",FreeSpinsPurchase:{purchaseOptions:"fspps",purchaseOptionsMask:"fspps_mask",optionIndex:"fsp",fsBought:"fs_bought"},BetLevel:{betLevelScale:"bls",betLevelIndex:"bl",betLevelPaytable:"bl_paytable"},OpeningSymbols:{positions:"i_pos",freeSpinsWon:"win_fs",multiplierWon:"win_mul"},TopBottomSymbols:{symbolsAbove:"sa",symbolsBelow:"sb"},FreeSpinsChain:{spins:"fscs",multipliers:"fscm",spinsTotal:"fsc_total",multipliersTotal:"fsc_mul_total",winsTotal:"fsc_win_total",multipliedWinTotal:"fsc_res_total",sessionsWonThisSpin:"fsc_sw",sessionsWonSymbolsCount:"fsc_sessions"},winLines:function(t){return"l"+t},reel:function(t){return"reel"+t},n_reel:function(t){return"n_reel"+t},reelSet:function(t){return"reel_set"+t},frozen:"frozen",techbreak:"techbreak",noMoney:"nomoney",reload:"reload",link:"link",pnow:"pnow=1",winAmountLong:"win",mysteryScatterGame:"mb",mysteryScatterSymbol:"ms",mysteryScatterSymbolGameHistory:"msgh",wildScatters:"msc",slotHeight:"sh",undefined:"undefined",unlogged:"unlogged",configs:"cfgs",spinCycleWin:"tw",returnToPlayer:"rtp",WildRandomLineMultiplier:{configuration:"wrlm_sets",response:"wrlm_res",currentSet:"wrlm_cs"},RandomAward:{Configuration:{normal:"base_aw",freeSpins:"fs_aw",reelConfigCount:"aw_reel_count",reelConfig:"aw_reel",nextReelConfig:"n_aw_reel"},Type:{trigger:"t",multiplier:"m",featureTrigger:"tt"},index:"aw",awardPosition:"aw_p"},ProgressiveFeature:{progressivePick:"prg_i",Status:{stateValues:"prg",stateMasks:"prg_m"},Config:{configValues:"prg_cfg",configMasks:"prg_cfg_m"}},MoneySymbol:{symbolID:"mo_s",possibleValues:"mo_v",symbolsValues:"mo",symbolsTypes:"mo_t",totalWin:"mo_tw",jackpotValues:"mo_jp",jackpotMasks:"mo_jp_mask",MOSymbolTypes:{regular:"r",instantValue:"v",multiplierValue:"m",retriggerSymbol:"rt",jp1:"jp1",jp2:"jp2",jp3:"jp3",jp4:"jp4",jpb:"jpb",mo1:"mo1",mo2:"mo2",extraCredit:"ea",collectMultiply:"ma"}},BonusGame:{status:"status",wins:"wins",winsMask:"wins_mask",level:"level",life:"lifes",winPoints:"wp",realWin:"rw",coef:"coef",bonusGameExists:"bw",bonusGameType:"bt",gameOver:"end",bonusGameChoice:"ind",iWins:"i_wins",markers:"markers",lWins:"lWins",lInd:"lInd",currentBonusRespin:"rsb_c",maxBonusRespins:"rsb_m",respinSymbols:"rsb_s",respinWinSymbols:"rs_s",premultipliedWinData:"rwm",extraRespinsWon:"rsb_more",extraRetriggersWon:"rsb_rt",respinsTotalMultiplier:"rsb_mu",BGItemValues:"bg_i",BGItemMasks:"bg_i_mask",Multipliers:{status:"mstatus",markers:"mmarkers",wins:"mwins"}},FreeSpinBonusGame:{gameExsist:"fsb_bw",status:"fsb_status",wins:"fsb_wins",multiplierMarkers:"fsb_mm",level:"fsb_level",life:"fsb_lives",gameOver:"fsb_end",totalSpinsWins:"fsb_s",totalMultiplilersWins:"fsb_m"},Gambling:{gambling:"gmb",history:"gmbhist",result:"gmbr",state:"gmbs",win:"gmbw",skipGamble:"gmbskip",currentGambleOccasion:"gmbp",option:"opt"},Actions:{action:"action",doInit:"doInit",doSpin:"doSpin",doCollect:"doCollect",doBonus:"doBonus",doFSOption:"doFSOption",doFSBonus:"doFSBonus",doMysteryScatter:"doMysteryScatter",doCollectBonus:"doCollectBonus",doGamble:"doGamble",doGambleCollect:"doGambleCollect",doJackpotCollect:"doJackpotCollect"},NextActions:{nextAction:"na",Spin:"s",Collect:"c",Gamble:"g",Bonus:"b",CollectBonus:"cb",FSOption:"fso",MysteryScatter:"m",FSBonus:"fsb",GambleCollect:"gc",JackpotCollect:"cj"},Jakpot:{jackpotActive:"jp",jackpotWinID:"jwid",jackpotWinOrder:"jwo",jackpotWinAmount:"jw"},FreeRound:{Events:"ev",RoundsLeft:"frn",TotalWin:"fra",RoundType:"frt",TurboSpinMode:"tsm",BonusCode:"frbc",BonusCodeParam:"bonus_code",Event:{Start:"FR0",Finish:"FR1",Error:"FR2"}},JackpotVisualization:{JPVMask:"jpv_m",JPVValues:"jpv_v",JPVType:"t",JPVPositions:"p",Type:{badges:"b"}},GoldSymbol:{goldSymbolReels:"gsf_r",goldSymbols:"gsf",goldSymbolAwards:"gsf_a"},ClassicPaytable:{combinations:"com"}},GameProtocolFreeSpinBonusGameParser={ParseFreeSpinBonusGame:function(t){if(null==t[GameProtocolDictionary.FreeSpinBonusGame.gameExsist]&&null==t[GameProtocolDictionary.FreeSpinBonusGame.wins])return null;var e=new VsFreeSpinBonusGame;e.GameOver=1==GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeSpinBonusGame.gameOver),e.Level=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeSpinBonusGame.level),e.Lifes=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeSpinBonusGame.life),e.SpinsWin=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeSpinBonusGame.totalSpinsWins),e.MultipliersWin=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeSpinBonusGame.totalMultiplilersWins);var i=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinBonusGame.multiplierMarkers),n=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinBonusGame.status),o=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinBonusGame.wins);if(null!=i&&null!=n&&null!=o&&0<i.length&&i.length==n.length&&n.length==o.length){for(var s=[],r=0;r<o.length;r++){var a=0!=n[r];s.push(new VsFreeSpinBonusGame.BonusItem(a||e.GameOver?o[r]:0,a?VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Selected:VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Available,0==i[r]?VsFreeSpinBonusGame.BonusItem.BonusItemType.Spin:VsFreeSpinBonusGame.BonusItem.BonusItemType.Multiplier))}e.BonusItems=s}return e}},GameProtocolGamblingParser={};function ServerGameResponse(){this.Index=0,this.Counter=0,this.Repeat=0,this.DoSpin=!1,this.DoCollect=!1,this.ValuesMap=null,this.NextGameActions=null,this.ServerTime=-1}GameProtocolGamblingParser.ParseVsGamblingResponse=function(t){var e=new VsGamblingResponse;return null!=t[GameProtocolDictionary.noMoney]?e.NoMoney=!0:(e.Balance=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.Gambling.win),e.State=GameProtocolGamblingParser.ParseState(GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.Gambling.state)),GameProtocolGamblingParser.Populate(e,t[GameProtocolDictionary.Gambling.result])),e},GameProtocolGamblingParser.ParseGamblingSettings=function(t){var e=new VsGamblingSettings;e.SkipGambleOnInit=1==GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.Gambling.skipGamble),e.InitGamblingOccasion=GameProtocolGamblingParser.ParseCurrentGamblingOccasion(GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.Gambling.currentGambleOccasion));t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.Gambling.gambling);if(null==t)return e;var i=t.split("~"),t=i[0].split(",");e.SetOccasionStatus(GamblingOccasions.Spin,"1"==t[0]),e.SetOccasionStatus(GamblingOccasions.Bonus,"1"==t[1]),e.SetOccasionStatus(GamblingOccasions.FreeSpin,"1"==t[2]);for(var n=1;n<i.length;n++){var o=i[n].split(",");2==o.length&&e.SetGamblingSettings(GameProtocolGamblingParser.ParseType(_number.otoi(o[0])),_number.otod(o[1]))}return e},GameProtocolGamblingParser.ParseGamblingHistory=function(t,e){var i=null;if(null!=t)for(var i=new VsGamblingHistory(e),n=t.split("~"),o=0;o<n.length;o++){var s=new VsGamblingResponse;GameProtocolGamblingParser.Populate(s,n[o]),i.AddHistoryItem(s)}return i},GameProtocolGamblingParser.ParseState=function(t){switch(t){case 2:return GamblingState.WinLimit;case 1:return GamblingState.Win;default:return GamblingState.Lose}},GameProtocolGamblingParser.ParseType=function(t){switch(t){case 2:return GamblingType.Dices;case 1:return GamblingType.Suit;default:return GamblingType.CardColor}},GameProtocolGamblingParser.ParseCurrentGamblingOccasion=function(t){switch(t){case"b":return GamblingOccasions.Bonus;case"f":return GamblingOccasions.FreeSpin;default:return GamblingOccasions.Spin}},GameProtocolGamblingParser.ParseResult=function(t){var e=[],i=t.split(";");if(2!=i.length)return null;if(e.push(_number.otoi(i[0])),GamblingType.Dices==GameProtocolGamblingParser.ParseType(e[0])){t=i[1].split(",");if(2!=t.length)return null;e.push(_number.otoi(t[0])),e.push(_number.otoi(t[1]))}else e.push(_number.otoi(i[1]));return e},GameProtocolGamblingParser.Populate=function(t,e){var i=GameProtocolGamblingParser.ParseResult(e);null!=i&&(e=GameProtocolGamblingParser.ParseType(i[0]),(t.GamblingType=e)==GamblingType.Dices?(t.Dice1=i[1],t.Dice2=i[2]):t.Card=i[1])};var GameProtocolParser={lastCounter:-1,ParseResponse:function(t){var e=new ServerGameResponse;if(0==t.length)return e;var i=GameProtocolCommonParser.SplitResponseContent(t);e.Index=GameProtocolCommonParser.ParseInt(i,GameProtocolDictionary.index),e.Counter=GameProtocolCommonParser.ParseInt(i,GameProtocolDictionary.counter),0==e.Counter&&(e.Counter=GameProtocolParser.lastCounter+2),GameProtocolParser.lastCounter=e.Counter;t="";return null!=i.action&&(t=i.action),e.DoSpin="doSpin"==t,e.DoCollect="doCollect"==t,e.ValuesMap=i,e.NextGameActions=GameProtocolParser.ParseNextGameActions(i),null!=i[GameProtocolDictionary.time]&&(e.ServerTime=_number.otoi(i[GameProtocolDictionary.time])),e},ParseNextGameActions:function(t){if(null==t[GameProtocolDictionary.NextActions.nextAction])return null;for(var e=[],i=t[GameProtocolDictionary.NextActions.nextAction].split(","),n=0;n<i.length;++n)i[n]==GameProtocolDictionary.NextActions.Bonus?e.push(NextGameAction.Bonus):i[n]==GameProtocolDictionary.NextActions.Collect?e.push(NextGameAction.Collect):i[n]==GameProtocolDictionary.NextActions.CollectBonus?e.push(NextGameAction.CollectBonus):i[n]==GameProtocolDictionary.NextActions.FSOption?e.push(NextGameAction.FSOption):i[n]==GameProtocolDictionary.NextActions.Gamble?e.push(NextGameAction.Gamble):"go"==i[n]?e.push(NextGameAction.GambleOption):i[n]==GameProtocolDictionary.NextActions.Spin?e.push(NextGameAction.Spin):i[n]==GameProtocolDictionary.NextActions.MysteryScatter?e.push(NextGameAction.MysteryScatter):i[n]==GameProtocolDictionary.NextActions.FSBonus?e.push(NextGameAction.FSBonus):i[n]==GameProtocolDictionary.NextActions.GambleCollect?e.push(NextGameAction.GambleCollect):i[n]==GameProtocolDictionary.NextActions.JackpotCollect?e.push(NextGameAction.JackpotCollect):e.push(NextGameAction.None);return e}},VSProtocolParser={ParseResponse:function(t){var e=new ServerGameResponse;if(_string.IsNullOrEmpty(t))return e;for(var i=!1,n=!1,o={},s=t.split("&"),r=0;r<s.length;++r){var a=s[r].split("=");2==a.length&&("action"==a[0]&&("doCollect"==a[1]?n=!0:"doSpin"==a[1]&&(i=!0)),null==o[a[0]]&&(o[a[0]]=a[1]))}return e.Index=GameProtocolCommonParser.ParseInt(o,GameProtocolDictionary.index),e.Counter=GameProtocolCommonParser.ParseInt(o,GameProtocolDictionary.counter),e.DoSpin=i,e.DoCollect=n,e},ParseVsGamblingResponse:function(t){var e=new VsGamblingResponse;if(_string.IsNullOrEmpty(t))return e;for(var i={},n=t.split("&"),o=0;o<n.length;++o){var s=n[o].split("=");2==s.length&&null==i[s[0]]&&(i[s[0]]=s[1])}return GameProtocolGamblingParser.ParseVsGamblingResponse(i)},ParseVsInitData:function(t){var e=new VsInitData;e.Bets=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.bets),e.Bet=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.coin),e.ExplicitMaxTotalBet=GameProtocolCommonParser.ParseDoubleIfExists(t,"total_bet_max"),e.DefaultBet=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.defaultBet),e.Line=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.line),e.ReelSymbols=VSProtocolParser.ParseReelsSymbols(t),e.ReelSets=VSProtocolParser.ParseReelSets(t),e.NextReelSymbols=VSProtocolParser.ParseNextReelsSymbols(t),e.Paytable=VSProtocolParser.ParsePaytable(t,GameProtocolDictionary.paytable),e.Scatters=VSProtocolParser.ParseScatters(t),e.Bonuses=VSProtocolParser.ParseBonuses(t),e.Wilds=VSProtocolParser.ParseWilds(t,GameProtocolDictionary.wilds),e.WildScatters=VSProtocolParser.ParseWilds(t,GameProtocolDictionary.wildScatters),e.InitialMysterySymbolId=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.initialMysterySymbol,"~"),e.BGItemValues=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.BonusGame.BGItemValues),e.BGItemMasks=GameProtocolCommonParser.ParseStringList(t,GameProtocolDictionary.BonusGame.BGItemMasks),e.CombinePaytable();var i=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.tryMeOnceLine),n=GameProtocolCommonParser.ParseNulableDouble(t,GameProtocolDictionary.tryMeOnceCoin),o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.reelSetIndex);e.ReelSetIndex=null!=o?o:-1;o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.stackedSymbolIndex);e.StackedSymbolIndex=null!=o?o:-1;o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.reelSetIndexCurrent);e.ReelSetIndexCurrent=null!=o?o:-1;o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.stackedSymbolIndexCurrent);e.StackedSymbolIndexCurrent=null!=o?o:-1;o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.naSymbolId);return e.naSymbolId=null!=o?o:-1,null!=i&&null!=n&&0<i&&0<n&&(e.Bet=n,e.Line=i),e.GamblingSettings=GameProtocolGamblingParser.ParseGamblingSettings(t),e.GamblingHistory=GameProtocolGamblingParser.ParseGamblingHistory(GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.Gambling.history),GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.Gambling.win)),e.WildRandomLineMpConfig=VSProtocolParser.ParseVsWildRandomLineMultiplier(t),e.RandomAwardConfig=VSProtocolParser.ParseVsRandomAwardsConfig(t),e.ProgressiveConfig=VSProtocolParser.ParseProgressiveFeatureConfig(t),e.MoneySymbolConfig=VSProtocolParser.ParseMoneySymbolConfig(t),e.FreeSpinsPurchaseConfig=VSProtocolParser.ParseFSPurchaseConfig(t),e.BetLevelSettings=VSProtocolParser.ParseBetLevelSettings(t),e},ParseVsResponse:function(t){var e=new VsResponse;e.SlotHeight=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.slotHeight),0==e.SlotHeight&&(e.SlotHeight=GameConnection.prototype.SlotHeight),null!=t[GameProtocolDictionary.bonusBalance]&&XT.GetBool(Vars.Jurisdiction_SplitBalance)?(e.Balance=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.cashBalance),e.BonusBalance=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.bonusBalance)):(e.Balance=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.balance),e.BonusBalance=0),e.Win=VSProtocolParser.ParseWinAmountShort(t),e.ExtraAwardWin=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.extraAwardWin),e.RespinCycleWin=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.respinCycleWin),e.ReelPositions=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.reelsPosition),e.ExpandingSymbolsData=VSProtocolParser.ParseExpandingSymbolsData(t),e.SymbolsBeforeExpanding=VSProtocolParser.ParseWinScreenSymbols(t,e.SlotHeight,GameProtocolDictionary.symbolsBeforeExpanding),e.RandomWildsData=VSProtocolParser.ParseRandomWildsData(t,e.SlotHeight),e.UpSymbols=VSProtocolParser.ParseUpSymbols(t),e.WinScreenSymbols=VSProtocolParser.ParseWinScreenSymbols(t,e.SlotHeight,GameProtocolDictionary.winSymbols),e.SymbolsAbove=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.TopBottomSymbols.symbolsAbove),e.SymbolsBelow=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.TopBottomSymbols.symbolsBelow),e.NextReelsSymbolsList=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.NextReelsSymbolsList),e.VsWinLines=VSProtocolParser.ParseWinLines(t),e.SetVsBonusGameData(GameProtocolBonusGameParser.ParseBonusGame(t)),e.FreeSpinsOptions=VSProtocolParser.ParseFreeSpinsOptions(t),e.WildRandomMultipliers=VSProtocolParser.ParseWildRandomMultipliers(t),e.Respin=VSProtocolParser.ParseRespin(t),XT.GetBool(Vars.TruncateFSResponseDuringRespin)&&null!=e.Respin&&null==e.Respin.TotalRespins?e.TruncatedVsFreeSpin=VSProtocolParser.ParseVsFreeSpin(t):e.SetVsFreeSpin(VSProtocolParser.ParseVsFreeSpin(t)),e.VsInitData=VSProtocolParser.ParseVsInitData(t),e.VsJackpotData=VSProtocolParser.ParseVsJackpotData(t),e.JackpotVisualisation=VSProtocolParser.ParseJPVisualization(t),e.GoldSymbol=VSProtocolParser.ParseGoldSymbol(t),e.SymbolReplacementData=VSProtocolParser.ParseSymbolReplacementData(t),e.SpinOneReelData=VSProtocolParser.ParseSpinOneReelData(t),e.TumblingWin=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.TumblingWin),e.TumblingData=VSProtocolParser.ParseTumblingData(t),e.NudgedSymbolsData=VSProtocolParser.ParseNudgedSymbolsData(t),e.FreeRoundEvents=VSProtocolParser.ParseVsFreeRoundEvents(t),e.FreeRound=VSProtocolParser.ParseVsFreeRound(t),e.ProgressiveData=VSProtocolParser.ParseProgressiveFeatureData(t),e.MoneySymbolData=VSProtocolParser.ParseMoneySymbolData(t),e.StickySymbols=VSProtocolParser.ParseStickySymbols(t),e.MergingSymbols=VSProtocolParser.ParseMergingSymbols(t),e.WRLMResponse=VSProtocolParser.ParseWRLMResponse(t),e.WRLMCurrentSets=VSProtocolParser.ParseWRLMCurrentSets(t),e.RandomAwardResponse=VSProtocolParser.ParseRandomAwardsResponse(t),e.RandomSymbolMultipliers=VSProtocolParser.ParseRandomSymbolMultipliers(t),e.PossibleRandomSymbolMultipliers=VSProtocolParser.ParsePossibleRandomSymbolMultipliers(t),e.FreeSpinsChainData=VSProtocolParser.ParseFreeSpinsChainedData(t),e.OpeningSymbolsData=VSProtocolParser.ParseOpeningSymbolsData(t),e.FreeSpinsPurchaseData=VSProtocolParser.ParseFSPurchaseData(t),e.RandomMysterySymbolId=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.randomMysterySymbol,"~"),e.PatternedMysterySymbols=VSProtocolParser.ParsePatternedMysterySymbols(t),e.SpinCycleWin=GameProtocolCommonParser.ParseDoubleIfExists(t,GameProtocolDictionary.spinCycleWin);var i=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.returnToPlayer);null!=i&&(1<i.length?(i.sort(),e.ReturnToPlayerMin=i[0],e.ReturnToPlayer=i[i.length-1]):e.ReturnToPlayer=i[0]);i=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.reelSetIndex);e.ReelSetIndex=null!=i?i:-1;i=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.stackedSymbolIndex);e.StackedSymbolIndex=null!=i?i:-1;i=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.reelSetIndexCurrent);e.ReelSetIndexCurrent=null!=i?i:-1;i=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.stackedSymbolIndexCurrent);return e.StackedSymbolIndexCurrent=null!=i?i:-1,e.gambleV2Data=GambleV2Protocol.Parser.ParseGambleData(t),XT.SetBool(Vars.OpenFSBGForMysteryScatter,null!=t[GameProtocolDictionary.mysteryScatterGame]&&XT.GetBool(Vars.SendSeparateMysteryScatter)),e},ParseWinAmountShort:function(t){return null!=t[GameProtocolDictionary.winAmountShort]?GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.winAmountShort):-1},ParseVsFreeSpin:function(t){if(null==t[GameProtocolDictionary.freeSpinCurrentNumber]&&null==t[GameProtocolDictionary.freeSpinTotalNumber]&&null==t[GameProtocolDictionary.FreeSpinBonusGame.gameExsist]&&null==t[GameProtocolDictionary.FreeSpinBonusGame.wins]&&null==t[GameProtocolDictionary.mysteryScatterSymbol]&&null==t[GameProtocolDictionary.mysteryScatterSymbolGameHistory])return null;var e=new VsFreeSpin;e.SetCurrentNumber(GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.freeSpinCurrentNumber)),e.SetMaxNumber(GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.freeSpinMaxNumber)),e.SetTotalNumber(GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.freeSpinTotalNumber)),e.SetTotalWin(GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.freeSpinTotalWin)),e.SetTotalWinMultiplied(GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.freeSpinTotalWinMultiplied));var i=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.freeSpinsPickedOptionIndex);_string.IsNullOrEmpty(i)?e.PickedOptionIndex=-1:e.PickedOptionIndex=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.freeSpinsPickedOptionIndex),null!=t[GameProtocolDictionary.freeSpinCurrentMultiplier]?e.SetTotalMultipl(GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.freeSpinCurrentMultiplier)):e.SetTotalMultipl(GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.freeSpinTotalMultipl)),null!=t[GameProtocolDictionary.freeSpinCurrentWin]?(n=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.freeSpinCurrentWin),n=Math.round(100*n)/100,e.SetCurrentWin(n)):e.SetCurrentWin(e.GetTotalWin()),e.SetCurrentWinMultiplied(null!=t[GameProtocolDictionary.freeSpinCurrentWinMultiplied]?GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.freeSpinCurrentWinMultiplied):e.GetTotalWinMultiplied()),e.BonusGame=GameProtocolFreeSpinBonusGameParser.ParseFreeSpinBonusGame(t);var i=null,n=null;null!=t[GameProtocolDictionary.mysteryScatterSymbol]&&(i=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.mysteryScatterSymbol)),null!=t[GameProtocolDictionary.mysteryScatterSymbolGameHistory]&&(n=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.mysteryScatterSymbolGameHistory)),null==i&&(i=[],null!=n&&-1!=n&&i.push(n)),e.SetMysteryScatter(i),e.SetNeedGetMysteryScatter(null!=t[GameProtocolDictionary.mysteryScatterGame]&&0==e.GetMysteryScatter().length);return null!=t.fstype&&(e.fstype=GameProtocolBonusGameParser.ParseWinMask(t.fstype)),e},ParseRespin:function(t){var e=null,i=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.respin),n=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.currentRespin),o=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.totalRespins),s="t"==i,r="uw"==i,a="mc"==i;if(!(s||r||a||_string.IsNullOrEmpty(i))&&0<(i=_string.Trim(i)).length){var l=i.split("~");if((e=new VsRespin).RespinType=l[0],e.Indices=[],"l"==e.RespinType){for(var u=[],h=1;h<l.length;++h){var c,p=l[h].split(";");2<p.length&&((c=new VsRespinLine).respinsCount=_number.otoi(p[0]),c.id=_number.otoi(p[1]),c.positions=_array.ConvertAll(p[2].split(","),_number.otoi),u.push(c))}e.Lines=0<u.length?u:null}else if(1<l.length)for(var d=l[1].split(";"),h=0;h<d.length;h++){e.Indices[h]=[];for(var m=d[h].split(","),S=0;S<m.length;S++)e.Indices[h].push(_number.otoi(m[S]))}}return _string.IsNullOrEmpty(n)&&_string.IsNullOrEmpty(o)||((e=null==e?new VsRespin:e).CurrentRespin=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.currentRespin),e.MaxRespins=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.maxRespins),e.TotalRespins=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.totalRespins)),null!=t.rs_p&&(e.RespinsPlayed=_number.otoi(t.rs_p)),null!=t.rs_more&&(e.RespinsAdded=_number.otoi(t.rs_more)),e},ParseProgressiveFeatureConfig:function(t){var e=null,i=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.ProgressiveFeature.Config.configMasks);if(!_string.IsNullOrEmpty(i)){var e=new VSProgressiveFeatureConfig,n=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.ProgressiveFeature.progressivePick);e.pickedSymbolPosition=null===n?-1:n;var o=i.split(","),s=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.ProgressiveFeature.Config.configValues);e.progressSymbolIDs=[];for(var r=0;r<o.length;r++)"s"==o[r]&&e.progressSymbolIDs.push(s[r])}return e},ParseProgressiveFeatureData:function(t){var e=null,i=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.progressiveFeature);if(_string.IsNullOrEmpty(i)){var n=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.ProgressiveFeature.Status.stateMasks);if(!_string.IsNullOrEmpty(n))for(var e=new VsProgressiveFeatureData,o=n.split(","),s=String(t[GameProtocolDictionary.ProgressiveFeature.Status.stateValues]).split(","),r=0;r<o.length;r++)"ca"==o[r]?e.currentAttempt=_number.otoi(s[r]):"ta"==o[r]?e.attempts=_number.otoi(s[r]):"cp"==o[r]?e.progress=_number.otoi(s[r]):"tp"==o[r]?e.targetProgress=_number.otoi(s[r]):"lvl"==o[r]?e.level=_number.otoi(s[r]):"r"==o[r]?e.needsReset=1==_number.otoi(s[r]):"acw"==o[r]?e.accumulatedWin=_number.otod(s[r]):"pp"==o[r]?e.prizeWin=_number.otod(s[r]):"pm"==o[r]?e.prizeMultiplier=_number.otoi(s[r]):"wm"==o[r]&&(e.winMultiplier=_number.otoi(s[r]))}else{n=i.split(","),t=n[0].split(":")[1],i=n[1].split(":")[1],n=n[2].split(":")[1];if(_string.IsNullOrEmpty(t)||_string.IsNullOrEmpty(i)||_string.IsNullOrEmpty(n))return null;(e=new VsProgressiveFeatureData).level=_number.otoi(t),e.progress=_number.otoi(i),e.attempts=_number.otoi(n)}return e},ParseMoneySymbolConfig:function(t){var e=null;if(null!=t[GameProtocolDictionary.MoneySymbol.symbolID]){(e=new VsMoneySymbolConfig).symbolID=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.MoneySymbol.symbolID),e.possibleValues=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.MoneySymbol.possibleValues);var i,n=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.MoneySymbol.jackpotValues);if(!_string.IsNullOrEmpty(n)){var o=n.split(";");for(e.jackpotValues=[],i=0;i<o.length;i++)e.jackpotValues.push(_number.otoi(o[i]))}n=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.MoneySymbol.jackpotMasks),_string.IsNullOrEmpty(n)||(e.jackpotMasks=n.split(";"))}return e},ParseMoneySymbolData:function(t){var e=null;return null!=t[GameProtocolDictionary.MoneySymbol.symbolsValues]&&((e=new VsMoneySymbolData).currentValues=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.MoneySymbol.symbolsValues),e.currentSymbolsLook=GameProtocolCommonParser.ParseStringList(t,GameProtocolDictionary.MoneySymbol.symbolsTypes),e.totalWin=GameProtocolCommonParser.ParseDoubleIfExists(t,GameProtocolDictionary.MoneySymbol.totalWin)),e},ParseFSPurchaseConfig:function(t){var e=null,i=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.FreeSpinsPurchase.purchaseOptionsMask),t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.FreeSpinsPurchase.purchaseOptions);if(!_string.IsNullOrEmpty(i)&&!_string.IsNullOrEmpty(t))for(var e=new VsFSPurchaseConfig,n=i.split(";"),o=t.split(";"),s=0;s<n.length;s++){e.purchaseOptions.push(new VsFSPurchaseConfig.PurchaseOption);for(var r=n[s].split("~"),a=o[s].split("~"),l=0;l<r.length;l++)switch(r[l]){case"bet":e.purchaseOptions[s].bet=_number.otoi(a[l]);break;case"fs_count":e.purchaseOptions[s].fsCount=_number.otoi(a[l]);break;case"bet_level":e.purchaseOptions[s].betLevel=_number.otoi(a[l])}}return e},ParseBetLevelSettings:function(t){var e=null,i=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.BetLevel.betLevelScale);if(null!=i){(e=new VsBetLevel).betLevelIndex=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.BetLevel.betLevelIndex),e.betLevelScale=i;for(var n=0;n<e.betLevelScale.length;n++){var o=VSProtocolParser.ParsePaytable(t,GameProtocolDictionary.BetLevel.betLevelPaytable+n.toString());null!=o&&e.paytables.push(o)}}return e},ParseStickySymbols:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.stickySymbols);if(!_string.IsNullOrEmpty(t)&&0<(t=_string.Trim(t)).length)for(var e=[],i=t.split("~"),n=0;n<i.length;n++){var o=i[n].split(","),s=new VsStickySymbol;s.currentPosition=_number.otoi(o[0]),s.endPosition=_number.otoi(o[1]),e.push(s)}return e},ParseMergingSymbols:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.mergingSymbols);if(!_string.IsNullOrEmpty(t)&&0<(t=_string.Trim(t)).length)for(var e=[],i=t.split(","),n=0;n<i.length;n++){var o=i[n].split("~"),s=new VsMergingSymbol;s.mergingPosition=_number.otoi(o[0]),s.mergedSymbolId=_number.otoi(o[1]),e.push(s)}return e},GetFreeSpinsOptions:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.freeSpinsOptions);return e=!_string.IsNullOrEmpty(t)?_string.Trim(t).split("~"):e},GetFreeSpinsOptionsMasks:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.freeSpinsOptionsMask);if(!_string.IsNullOrEmpty(t))for(var i=_string.Trim(t).split(";"),e=[],n=0;n<i.length;n++)e.push(i[n].split(","));return e},ParseFreeSpinsOptions:function(t){var e=null,i=VSProtocolParser.GetFreeSpinsOptions(t);if(null!=i)for(var e=[],n=VSProtocolParser.GetFreeSpinsOptionsMasks(t),o=0;o<i.length;o++){var s=i[o].split(","),r=new VsFreeSpinOption;if(null==n)r.FreeSpinsCount=_number.otoi(s[0]),r.FreeSpinsMultiplier=_number.otoi(s[1]);else{var a=o;o>=n.length&&(a=0);for(var l=0;l<n[a].length;l++)switch(n[a][l]){case"fs":r.FreeSpinsCount=_number.otoi(s[l]);break;case"m":r.FreeSpinsMultiplier=_number.otoi(s[l]);break;case"ss":r.FreeSpinsStackedSymbol=_number.otoi(s[l]);break;case"ws":r.WildSymbolIndex=_number.otoi(s[l]);break;case"wm":r.WildWinMultipliers.push(_number.otoi(s[l]));break;case"ftr":r.SpecialFeatureName=s[l];break;case"ts":r.TriggerSymbolRandomMultiplier=_number.otoi(s[l]);break;case"rm":for(var u=s[l].split(";"),h=0;h<u.length;h++)r.TSRandomMultipliers.push(_number.otoi(u[h]));break;case"ptm":r.FreeSpinsStartingMultiplier=_number.otoi(s[l])}}e.push(r)}return e},GetExpandingSymbolsData:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.expandingSymbolsData);return e=!_string.IsNullOrEmpty(t)?_string.Trim(t).split(";"):e},GetSymbolsBeforeExpanding:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.symbolsBeforeExpanding);return e=!_string.IsNullOrEmpty(t)?_string.Trim(t).split(","):e},GetWinSymbols:function(t,e){var i=null,e=GameProtocolCommonParser.ParseIfExist(t,e);return i=!_string.IsNullOrEmpty(e)?_string.Trim(e).split(","):i},GetReelSet:function(t,e){var i=null,e=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.reelSet(e));return i=!_string.IsNullOrEmpty(e)?_string.Trim(e).split("~"):i},ParseRandomWildsData:function(t,e){var i=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.randomWildsData);if(_string.IsNullOrEmpty(t))return i;for(var i=[],n=t.split(";"),o=0;o<n.length;o++)for(var s,r=n[o].split("~"),a=_number.otoi(r[0]),l=r[1].split(","),u=0;u<l.length;u++)u%e==0&&((s=new VsRandomWildsData).RandomSymbolID=a,s.TargetPositions=[],i.push(s)),i[i.length-1].TargetPositions.push(_number.otoi(l[u]));return i},ParseUpSymbols:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.upSymbols);if(_string.IsNullOrEmpty(t))return e;for(var e=[],i=t.split(","),n=0;n<i.length;n++)e.push(_number.otoi(i[n]));return e},ParseExpandingSymbolsData:function(t){var e=null,i=VSProtocolParser.GetExpandingSymbolsData(t);if(null!=i)for(var e=[],n=0;n<i.length;n++){var o=i[n].split("~"),s=new VsExpandingSymbolData;s.ExpandingSymbolId=_number.otoi(o[0]),s.SourcePositions=[];for(var r=o[1].split(","),a=0;a<r.length;a++)s.SourcePositions.push(_number.otoi(r[a]));s.TargetPositions=[];var l=o[2].split(",");for(a=0;a<l.length;a++)s.TargetPositions.push(_number.otoi(l[a]));e.push(s)}return e},ParseWinScreenSymbols:function(t,e,i){var n=[];if(0<e){var o=VSProtocolParser.GetWinSymbols(t,i);if(null!=o&&o.length%e==0)for(var s=o.length/e,r=0;r<s;++r){for(var a=[],l=0;l<e;++l)a.unshift(_number.otoi(o[s*l+r]));n.push(a)}}return n},ParseWinLines:function(t){if(null!=t[GameProtocolDictionary.winWayGroups])return VSProtocolParser.ParseWinGroups(t);var e=[],i=[],n=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.ClassicPaytable.combinations);if(!_string.IsNullOrEmpty(n))for(var o=n.split(","),s=0;s<o.length;s++)i.push(_number.otoi(o[s]));for(var r=0;null!=t[GameProtocolDictionary.winLines(r)];r++){var a=t[GameProtocolDictionary.winLines(r)];if(!_string.IsNullOrEmpty(a)){var l=a.split("~"),a=new VsWinLine,u=[];2<=l.length&&(a.LineNumber=_number.otoi(l.shift()),a.WinAmount=_number.otod(l.shift()));for(var h=0;h<l.length;++h)u[h]=_number.otoi(l[h]);a.WinPositions=u,0<i.length&&r<=i.length-1&&(a.Combination=i[r]),e[r]=a}}return e},ParseWinGroups:function(t){var e=[],t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.winWayGroups);if(!_string.IsNullOrEmpty(t))for(var i=t.split(";"),n=0;n<i.length;n++){var o=i[n].split("~"),s=new VsWinLine;s.isWinWaysGroup=!0,s.symbolId=_number.otoi(o[0]),s.WinAmount=_number.otod(o[1]),s.waysCount=_number.otoi(o[2]),s.waysLength=_number.otoi(o[3]),s.payingDirection=o[5];for(var r=o[4].split(","),a=[],l=0;l<r.length;l++)a.push(_number.otoi(r[l]));s.WinPositions=a,e.push(s)}return e},ParsePaytable:function(t,e){e=t[e];if(null==e)return null;for(var i=[],n=e.split(";"),o=0;o<n.length;++o){for(var s=[],r=n[o].split(","),a=r.length-1;0<=a;--a)s.push(_number.otoi(r[a]));i[o]=s}return VSProtocolParser.ParseClassicPaytable(t,i),i},ParseClassicPaytable:function(t,e){var i="c_paytable";if(null!=t[i])for(var n=t[i].split(";"),o=0;o<n.length;++o){var s=n[o].split("~");if(3<s.length){var r=_number.otoi(s[0]),s=_array.ConvertAll(s[3].split(","),_number.otoi);for(s.reverse();e.length<=r;)e.push([]);e[r]=s}}},ParseScatters:function(t){t=t[GameProtocolDictionary.scatters];if(null==t)return null;for(var e=[],i=t.split(";"),n=0;n<i.length;++n){var o=i[n].split("~");if(4!=o.length)return null;for(var s=_number.otoi(o[0]),r=o[1].split(","),a=[],l=r.length-1;0<=l;--l)a.push(_number.otoi(r[l]));var u=[];for(l=(r=o[2].split(",")).length-1;0<=l;--l)u.push(_number.otoi(r[l]));var h=[];for(l=(r=o[3].split(",")).length-1;0<=l;--l)h.push(_number.otoi(r[l]));e[n]=new VsScatterData(s,a,u,h)}return e},ParseWilds:function(t,e){e=t[e];if(null==e)return null;for(var i=[],n=e.split(";"),o=0;o<n.length;o++){var s=n[o].split("~");if(s.length<2)return null;var r,a=_number.otoi(s[0]),l=null,u=null,h=s[1].split(",");if(3==s.length){for(l=[],r=h.length-1;0<=r;r--){var c=_number.otoi(h[r]);l.push(c)}h=s[2].split(",")}for(u=[],r=h.length-1;0<=r;r--){var p=_number.otoi(h[r]);u.push(p)}a=new VsWildData(a,l,u);i.push(a)}return 0==i.length?null:i},ParseBonuses:function(t){var e=[],t=t[GameProtocolDictionary.bonuses];if(null==t)return null;for(var i=t.split(";"),n=0;n<i.length;++n)e[n]=_number.otoi(i[n]);return e},ParseReelsSymbols:function(t){if(null==t[GameProtocolDictionary.reel(0)])return null;for(var e=[],i=0;;i++){var n=t[GameProtocolDictionary.reel(i)];if(null==n)break;for(var o=n.split(","),s=[],r=0;r<o.length;++r)s[r]=_number.otoi(o[r]);e[i]=s}return e},ParseNextReelsSymbols:function(t){if(null==t[GameProtocolDictionary.n_reel(0)])return null;for(var e=[],i=0;;i++){var n=t[GameProtocolDictionary.n_reel(i)];if(null==n)break;for(var o=(n=n.split("~")[1]).split(","),s=[],r=0;r<o.length;++r)s[r]=_number.otoi(o[r]);e[i]=s}return e},ParseReelSets:function(t){var e=null,i=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.numberOfReelSets);if(0<i)for(var e=[],n=0;n<i;n++)for(n=0;n<i;n++){e.push([]);for(var o=VSProtocolParser.GetReelSet(t,n),s=0;s<o.length;s++){e[n].push([]);for(var r=o[s].split(","),a=0;a<r.length;a++)e[n][s].push(_number.otoi(r[a]))}}return e},ParseVsJackpotData:function(t){return new VsJackpotData("1"==GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.Jakpot.jackpotActive),GameProtocolCommonParser.ParseUInt(t,GameProtocolDictionary.Jakpot.jackpotWinID),GameProtocolCommonParser.ParseUInt(t,GameProtocolDictionary.Jakpot.jackpotWinOrder),GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.Jakpot.jackpotWinAmount))},firstFRBparse:!0,ParseVsFreeRoundEvents:function(t){var e=VSProtocolParser.firstFRBparse;if(null==t[GameProtocolDictionary.FreeRound.Events])return null;for(var i=[],n=t[GameProtocolDictionary.FreeRound.Events].split(";"),o=0;o<n.length;++o){var s=n[o].split("~");if(1<s.length){var r=s[0],a=s[1].split(",");if((!XT.GetBool(Vars.DontShowFRBEndWindowOnInit)||!e||r!=GameProtocolDictionary.FreeRound.Event.Finish)&&(r==GameProtocolDictionary.FreeRound.Event.Start||r==GameProtocolDictionary.FreeRound.Event.Finish||r==GameProtocolDictionary.FreeRound.Event.Error)){var l=new VsFreeRoundEvent;switch(l.Bet=_number.otod(a[0]),l.Lines=_number.otoi(a[1]),r){case GameProtocolDictionary.FreeRound.Event.Start:l.Type=VsFreeRoundEvent.EventType.Start,l.RoundsLeft=_number.otoi(a[2]),l.TurboSpinMode=1==_number.otoi(a[3]),l.PlayLaterAvailable=4<a.length&&1==_number.otoi(a[4]),l.EndDateTimestamp=5<a.length?_number.otod(a[5]):-1,l.IsFreeRoundPending=!(6<a.length&&0==_number.otoi(a[6])),l.PromoLocalizedName=7<a.length&&0<a[7].length?decodeURIComponent(atob(a[7]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join("")):"",l.PromoType=8<a.length&&0<a[8].length?a[8]:"";break;case GameProtocolDictionary.FreeRound.Event.Finish:l.Type=VsFreeRoundEvent.EventType.Finish;break;case GameProtocolDictionary.FreeRound.Event.Error:l.Type=VsFreeRoundEvent.EventType.Error}i.push(l)}}}return 0<i.length?i:null},ParseVsFreeRound:function(t){var e,i=VSProtocolParser.firstFRBparse,n=VSProtocolParser.firstFRBparse=!1;if(!XT.GetBool(Vars.DontShowFRBEndWindowOnInit)||null!=(e=VSProtocolParser.ParseVsFreeRoundEvents(t))&&0<e.length&&e[0].Type==VsFreeRoundEvent.EventType.Finish&&1==e.length&&(n=!0),null==t[GameProtocolDictionary.FreeRound.RoundsLeft]||null==t[GameProtocolDictionary.FreeRound.TotalWin]||n)return null;var o=new VsFreeRound;if(o.RoundsLeft=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeRound.RoundsLeft),o.TotalWin=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.FreeRound.TotalWin),i&&XT.GetBool(Vars.DontShowFRBEndWindowOnInit)&&(o.TotalWin=0),null!=t[GameProtocolDictionary.FreeRound.RoundType])switch(t[GameProtocolDictionary.FreeRound.RoundType]){case"N":o.Type=VsFreeRound.RoundType.Spins;break;case"T":o.Type=VsFreeRound.RoundType.Timed}return o.BonusCode=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.FreeRound.BonusCode),o},ParseVsWildRandomLineMultiplier:function(t){var e=GameProtocolDictionary.WildRandomLineMultiplier.configuration,i=null;if(null!=t[e])for(var i=[],n=t[e].split(";"),o=0;o<n.length;o++){var s=new VsWildRandomLineMultiplier.Configuration,r=n[o].split("~");s.wildSymbolId=_number.otoi(r[0]),s.multiplierSets=[];for(var a=1;a<r.length;a+=2){var l=new MultiplierSet;l.setIndex=_number.otoi(r[a]),l.multipliers=[];for(var u=r[a+1].split(","),h=0;h<u.length;h++)l.multipliers.push(_number.otoi(u[h]));s.multiplierSets.push(l)}i.push(s)}return i},ParseWRLMResponse:function(t){var e=GameProtocolDictionary.WildRandomLineMultiplier.response,i=null;if(null!=t[e])for(var i=[],n=t[e].split(";"),o=0;o<n.length;o++){var s=n[o].split("~"),r=new VsWildRandomLineMultiplier.SpinResponse;if(r.wildSymbolId=_number.otoi(s[0]),r.multiplier=_number.otoi(s[1]),2<s.length){r.positions=[];for(var a=s[2].split(","),l=0;l<a.length;l++)r.positions.push(_number.otoi(a[l]))}i.push(r)}return i},ParseWRLMCurrentSets:function(t){var e=GameProtocolDictionary.WildRandomLineMultiplier.currentSet,i=null;if(null!=t[e])for(var i=[],n=t[e].split(";"),o=0;o<n.length;o++){var s=new VsWildRandomLineMultiplier.CurrentSet,r=n[o].split("~");s.wildSymbolId=_number.otoi(r[0]),s.currentSetIndex=_number.otoi(r[1]),i.push(s)}return i},ParseVsRandomAwardsSymbols:function(t,e){if(null==t[e])return null;for(var i=t[e].split(";"),n=[],o=0;o<i.length;++o){var s=i[o].split("~"),r=new VsRandomAward;switch(s[0]){case GameProtocolDictionary.RandomAward.Type.multiplier:r.Type=VsRandomAward.AwardType.Multiplier,1<s.length&&(r.Value=_number.otod(s[1]));break;case GameProtocolDictionary.RandomAward.Type.trigger:r.Type=VsRandomAward.AwardType.Trigger;break;case GameProtocolDictionary.RandomAward.Type.featureTrigger:r.Type=VsRandomAward.AwardType.FeatureTrigger,1<s.length&&(r.FeatureID=GameProtocolBonusGameParser.ParseWinMask(s[1]))}n.push(r)}return n},ParseVsRandomAwardsConfig:function(t){var e=null,i=VSProtocolParser.ParseVsRandomAwardsSymbols(t,GameProtocolDictionary.RandomAward.Configuration.normal),n=VSProtocolParser.ParseVsRandomAwardsSymbols(t,GameProtocolDictionary.RandomAward.Configuration.freeSpins);if(null==i&&null==n||((e=new VsRandomAwardConfig).awardSymbolsNormal=i,e.awardSymbolsFreeSpins=n),null==e){var o=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.RandomAward.Configuration.reelConfigCount);if(0<o){(e=new VsRandomAwardConfig).awardReels=[],e.awardReelsCount=o;for(var s=0;s<o;s++){var r=VSProtocolParser.ParseVsRandomAwardsSymbols(t,GameProtocolDictionary.RandomAward.Configuration.reelConfig+s.toString());e.awardReels.push(r)}e.ProcessPossibleAwards()}}return e},ParseRandomAwardsResponse:function(t){var e=null,i=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.RandomAward.index);null==i&&(i=-1);var n=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.RandomAward.awardPosition);null==n&&(n=-1);var o=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.RandomAward.Configuration.reelConfig);null==o&&(o=-1);t=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.RandomAward.Configuration.nextReelConfig);return null==t&&(t=-1),-1==i&&-1==n||((e=new RandomAwardsResponse).awardIndex=i,e.awardPositionInReel=n,e.currentReelIndex=o,e.nextReelIndex=t),e},ParseFSPurchaseData:function(t){var e=null,t=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeSpinsPurchase.fsBought);return 0<t&&((e=new VsFSPurchaseData).freeSpinsBought=t),e},ParseRandomSymbolMultipliers:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.randomSymbolMultiplier);if(!_string.IsNullOrEmpty(t))for(var e=[],i=t.split(";"),n=0;n<i.length;n++){var o=new VsRandomSymbolMultiplier,s=i[n].split("~");o.symbolId=_number.otoi(s[0]),o.multiplierValue=_number.otoi(s[2]);for(var r=s[1].split(","),a=0;a<r.length;a++)o.symbolPositions.push(_number.otoi(r[a]));e.push(o)}return e},ParsePossibleRandomSymbolMultipliers:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.possibleRandomSymbolMultipliers);if(!_string.IsNullOrEmpty(t))for(var e=[],i=t.split(";"),n=0;n<i.length;n++){var o=new VsPossibleRandomSymbolMultipliers,s=i[n].split("~");o.symbolId=_number.otoi(s[0]);for(var r=s[1].split(","),a=0;a<r.length;a++)o.symbolMultipliers.push(_number.otoi(r[a]));e.push(o)}return e},ParseFreeSpinsChainedData:function(t){var e=new VsFreeSpinsChainData;return e.FSCSpins=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinsChain.spins),e.FSCMultipliers=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinsChain.multipliers),e.FSCSpinsTotal=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinsChain.spinsTotal),e.FSCMultipliersTotal=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinsChain.multipliersTotal),e.FSCWinsTotal=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.FreeSpinsChain.winsTotal),e.FSCMultipliedWinsTotal=GameProtocolCommonParser.ParseDoubleList(t,GameProtocolDictionary.FreeSpinsChain.multipliedWinTotal),e.FSCSessionsWonThisSpin=GameProtocolCommonParser.ParseInt(t,GameProtocolDictionary.FreeSpinsChain.sessionsWonThisSpin),e.FSCSessionsWonSymbolsCount=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.FreeSpinsChain.sessionsWonSymbolsCount),e.HasChainInformation()?e:null},ParseOpeningSymbolsData:function(t){var e=new VsOpeningSymbolsData;return e.Positions=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.OpeningSymbols.positions),e.OSFreeSpinsWon=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.OpeningSymbols.freeSpinsWon),e.OSMultiplierWon=GameProtocolCommonParser.ParseNulableInt(t,GameProtocolDictionary.OpeningSymbols.multiplierWon),null!=e.Positions||null!=e.OSFreeSpinsWon||null!=e.OSMultiplierWon?e:null},GetWildRandomMultipliers:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.wildRandomMultipliers);return e=!_string.IsNullOrEmpty(t)?_string.Trim(t).split(";"):e},GetWildRandomMultipliersMasks:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.wildRandomMultiplierMask);return e=!_string.IsNullOrEmpty(t)?_string.Trim(t).split("~"):e},ParseWildRandomMultipliers:function(t){var e=null,i=VSProtocolParser.GetWildRandomMultipliers(t);if(null!=i)for(var e=[],n=0;n<i.length;n++){for(var o=i[n].split("~"),s=VSProtocolParser.GetWildRandomMultipliersMasks(t),r=new VsWildRandomMultiplier,a=0;a<s.length;a++)switch(s[a]){case"s":r.SymbolIndex=_number.otoi(o[a]);break;case"p":r.Position=_number.otoi(o[a]);break;case"m":r.Multiplier=_number.otoi(o[a])}e.push(r)}return e},ParsePatternedMysterySymbols:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.patternedMysterySymbols);if(!_string.IsNullOrEmpty(t)){var i=t.split(",");if(0<i.length)for(var e=new Array,n=0;n<i.length;n++)e.push(_number.otoi(i[n]))}return e},ParseJPVisualization:function(t){var e=null,i=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.JackpotVisualization.JPVMask),t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.JackpotVisualization.JPVValues);if(!_string.IsNullOrEmpty(i)){var n=i.split("~"),o=t.split("~");if(0<n.length)for(var e=new VsJackpotVisualization,s=0;s<n.length;s++)if(n[s]==GameProtocolDictionary.JackpotVisualization.JPVType)o[s]==GameProtocolDictionary.JackpotVisualization.Type.badges&&(e.jpvType=VsJackpotVisualization.JpType.badges);else if(n[s]==GameProtocolDictionary.JackpotVisualization.JPVPositions){var r=o[s].split(",");if(0<r.length){e.positions=[];for(var a=0;a<r.length;a++)e.positions.push(_number.otoi(r[a]))}}}return e},ParseGoldSymbol:function(t){var e=null,i=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.GoldSymbol.goldSymbols),n=GameProtocolCommonParser.ParseIntList(t,GameProtocolDictionary.GoldSymbol.goldSymbolReels),t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.GoldSymbol.goldSymbolAwards);if(null==n&&_string.IsNullOrEmpty(i)||((e=new VsGoldSymbol).reels=n),!_string.IsNullOrEmpty(i)){var o=i.split(";");if(0<o.length){e.symbols=[];for(var s=0;s<o.length;s++){var r=o[s].split("~");e.symbols.push([]),e.symbols[s].push(_number.otoi(r[0])),e.symbols[s].push(_number.otoi(r[1]))}}}if(!_string.IsNullOrEmpty(t)){var a=t.split(";");if(0<a.length){e.awards=[];for(s=0;s<a.length;s++){var l=a[s].split("~");e.awards.push([]),e.awards[s].push(_number.otoi(l[0])),e.awards[s].push(_number.otoi(l[1]))}}}return e},ParseSymbolReplacementData:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.symbolReplacementData);if(!_string.IsNullOrEmpty(t))for(var e=[],i=t.split(";"),n=0;n<i.length;n++){var o=new VsSymbolReplacement,s=i[n].split("~");if(o.FromSymbolId=_number.otoi(s[0]),o.ToSymbolId=_number.otoi(s[1]),o.ReplacementPositions=[],2<s.length)for(var r=s[2].split(","),a=0;a<r.length;a++)o.ReplacementPositions.push(_number.otoi(r[a]));e.push(o)}return e},ParseNudgedSymbolsData:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.nudgedSymbols);if(!_string.IsNullOrEmpty(t)){var i=(t=_string.Trim(t)).split(";");if(0<i.length)for(var e=[],n=0,n=0;n<i.length;n++){for(var o=i[n],s=0,r=_number.otoi(o.split("~")[0]),a=[],l=o.split("~")[1].split(","),s=0;s<l.length;s++)a.push(_number.otoi(l[s]));var u=[],h=o.split("~")[2].split(",");for(s=0;s<h.length;s++)u.push(_number.otoi(h[s]));o=new VsNudgedSymbolsData(r,a,u,_number.otoi(o.split("~")[3]),_number.otoi(o.split("~")[4]));e.push(o)}}return e},ParseSpinOneReelData:function(t){var e=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.ReelsAllowedToRotateSeparately),t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.ReelsCoeficients),i=[],n=[];if(!_string.IsNullOrEmpty(e)&&0<(e=_string.Trim(e)).length)for(var o=e.split(","),s=0;s<o.length;s++)i.push(_number.otod(o[s]));if(!_string.IsNullOrEmpty(t)&&0<(t=_string.Trim(t)).length)for(o=t.split(","),s=0;s<o.length;s++)n.push(_number.otod(o[s]));return new VSSpinOneReelSymbolsData(0,i,n)},ParseTumblingData:function(t){var e=null,t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.Tumbling);if(!_string.IsNullOrEmpty(t))for(var e=new VsTumblingData,i=t.split("~"),n=0;n<i.length;n++){var o=i[n].split(","),s=new VsTumblingData.TumblingSymbol;s.position=_number.otoi(o[0]),s.id=_number.otoi(o[1]),e.tumblingSymbols.push(s)}return e}};goog.provide("UHT.ResourceHelpers");var ResourceEvents={evtRequestResources:"evtRequestResources",evtResourcesCompleted:"evtResourcesCompleted"};function AssetBundle(){this.mainAsset=null}function ResourceRequestInfo(){this.symbol="",this.brand="",this.locale="",this.files=[]}function BundlePack(){this.assetBundles=[]}function RequestPack(){this.isDone=!1,this.downloaders=[],this.progress=0,this.componentName=""}RequestPack.prototype.Update=function(){console.log("RequestPack::Update",this),this.isDone=!0;for(var t=this.progress=0;t<this.downloaders.length;++t)this.downloaders[t].Done||(this.isDone=!1,this.progress+=this.downloaders[t].progress)},RequestPack.prototype.GetData=function(){for(var t,e=new BundlePack,i=0;i<this.downloaders.length;++i)_string.IsNullOrEmpty(this.downloaders[i].error)&&((t=new AssetBundle).mainAsset=jsonParse(this.downloaders[i].Data),e.assetBundles.push(t));return this.downloaders=[],e},goog.provide("UHT.ServerOptions");var LogLevel={None_Info:0,Warn:1,Debug:2,Error:3},ServerOptions={serverUrl:"https://studio.game-service.biz",resourcesUrl:"https://studio.game-service.biz",configUri:"/gs2c/configuration.do",loginUri:"/gs2c/login.do",logoutUri:"/gs2c/logout.do",sessionTimeout:"-1",menuUri:"/gs2c/menu.do",versionUri:"/gs2c/res/versions.info",resourceseUri:"/gs2c/res",gameServiceUri:"/gs2c/gameService",settingsUri:"/gs2c/saveSettings.do",reloadBalanceUri:"/gs2c/reloadBalance.do",reloadJackpotUri:"/gs2c/jackpot/reload.do",accountType:"R",language:"en",currency:"USD",realCurrency:"USD",resourceVersion:"200",styleName:"style",casinoName:"casino",isExternal:!0,isDemoMode:!1,logLevel:LogLevel.None_Info,gameSymbol:URLGameSymbol,userAgent:"Mozilla/5.0 (Windows NT 6.1, WOW64, rv:34.0) Gecko/20100101 Firefox/34.0",isOnline:!1,isReplay:!1,isSecure:!0,packagesUri:"packages/",gameUrl:"",configs:null,mgckey:"",gameHistory:null,jurisdiction:null,jurisdictionRequirements:null,brandRequirements:null,promotionurl:null,rcSettings:null,amountType:null,TournamentURLs:{tournaments:"/gs2c/promo/active/",details:"/gs2c/promo/tournament/details/",leaderboards:"/gs2c/promo/tournament/v2/leaderboard/",raceDetails:"/gs2c/promo/race/details/",racePrizes:"/gs2c/promo/race/prizes/",raceOptIn:"/gs2c/promo/race/player/choice/OPTIN/",raceOptOut:"/gs2c/promo/race/player/choice/OPTOUT/",tournamentOptIn:"/gs2c/promo/tournament/player/choice/OPTIN/",tournamentOptOut:"/gs2c/promo/tournament/player/choice/OPTOUT/"},SwedishRegulation:{notificationUrl:""}};goog.provide("UHT.GameConnection"),goog.require("UHT.EventManager"),goog.require("UHT.ServerOptions"),goog.require("UHT.Tracking");var RequestState={Idle:0,Init:1,Spin:2,Collect:3,InitBonus:4,BonusRespin:5,PickBonus:6,CollectBonus:7,Gamble:8,GambleCollect:9,JackpotCollect:10,PickFSOption:11,InitFSBG:12,PickFSBG:13,GetMysteryScatter:14,Block:15};function GameConnection(){this.index=0,this.counter=0,this.repeat=0,this.repeatLimit=3,this.symbol="vs20cm",this.responseReceived=!1,this.response="",this.srvResponse=null,this.retryDelay=15,this.retryTimer=0,this.retryRequest=!1,this.storedRequest=null,this.queuedRequest=null,this.queuedState=RequestState.Block,this.initData=null,this.requestState=RequestState.Idle,this.isRegulatoryError=!1,this.mustStopSpin=!1,this.mustPostGameRoundEndedOnCollect=!1,GameConnection.I=this}GameConnection.I=null,GameConnection.prototype.SlotHeight=-1,GameConnection.noMoneyStopsSpin=!1,GameConnection.prototype.Init=function(t){this.index=1,this.counter=1,this.repeat=0,this.symbol=t,this.responseReceived=!1,EventManager.AddHandler(GameEvents.evtInitRequest+this.symbol,this.SendInitRequest,this),EventManager.AddHandler(GameEvents.evtSpinRequest+this.symbol,this.SendSpinRequest,this),EventManager.AddHandler(GameEvents.evtFreespinsFinished+this.symbol,this.SendFSCollectRequest,this),EventManager.AddHandler(GameEvents.evtGambleRequest+this.symbol,this.SendGambleV2Request,this),EventManager.AddHandler(GameEvents.evtGambleClose+this.symbol,this.SendGambleCollectRequest,this),EventManager.AddHandler(GameEvents.evtBonusPickRequest+this.symbol,this.SendBonusRequest,this),EventManager.AddHandler(GameEvents.evtBonusRespinRequest+this.symbol,this.SendBonusRespinRequest,this),EventManager.AddHandler(GameEvents.evtBonusFinishRequest+this.symbol,this.SendBonusCollectRequest,this),EventManager.AddHandler(GameEvents.evtFSOptionPickRequest+this.symbol,this.SendFSOptionRequest,this),EventManager.AddHandler(GameEvents.evtFSBGPickRequest+this.symbol,this.SendFSBGRequest,this),EventManager.AddHandler(GameEvents.evtMysteryScatterRequest+this.symbol,this.SendMysteryScatterRequest,this),EventManager.AddHandler(GameEvents.evtUpdateSettingsRequest+this.symbol,this.SaveSettingsRequest,this),EventManager.AddHandler(FOXVars.Evt_FOX_TriggerAfterEvent,this.TriggerFOXAfterEvent,this),EventManager.AddHandler(StageTransitionVars.Evt_StageTransition_SetWaitInTransition,this.SetWaitInTransition,this)},GameConnection.prototype.Update=function(){EventManager.TriggerQueued(),null!=this.queuedRequest&&this.requestState==RequestState.Idle&&(this.CanRequest(this.queuedState)?(this.requestState=this.queuedState,this.queuedState=RequestState.Block,this.SendRequest(this.queuedRequest)):console.warn("Request "+this.queuedState+" skipped"),this.queuedRequest=null),this.responseReceived&&(this.responseReceived=!1,this.HandleResponse(this.response)),this.retryRequest&&(this.repeat<this.repeatLimit?this.retryTimer>this.retryDelay?(this.retryRequest=!1,++this.index,++this.repeat,this.storedRequest.Fields[GameProtocolDictionary.counter]=String(this.counter),this.storedRequest.Fields[GameProtocolDictionary.repeat]=String(this.repeat),EventManager.Trigger(AdapterEvents.evtServerRequest,this.storedRequest),RequestManager.AddRequest(this.storedRequest),console.warn("Retry #"+this.repeat)):this.retryTimer+=Time.deltaTime:(this.retryRequest=!1,EventManager.Trigger(AdapterEvents.evtShowMessage,AdapterMessages.connectionLost)))},GameConnection.prototype.StoreResponse=function(t,e){200==e?(this.response=_string.Trim(t),this.responseReceived=!0):(this.retryTimer=0,this.retryRequest=!0)};var ActionSentAferLoadingWheel=!(GameConnection.prototype.HandleResponse=function(t){if(this.isRegulatoryError=!1,this.mustStopSpin=!1,_string.IsNullOrEmpty(t))return console.error("Response is empty!"),void(this.requestState=RequestState.Block);if(-1!=t.indexOf("error_type=i"))this.mustStopSpin=!0;else if(-1!=t.indexOf("ext_code=RegulatoryError")||-1!=t.indexOf("ext_code=TemporaryUnavailableError"))this.isRegulatoryError=!0,window.globalMustStopAutoplay=!0;else{if(-1!=t.indexOf(GameProtocolDictionary.frozen)||-1!=t.indexOf("error_type=e"))return console.error("Account is frozen! "+t),void(this.requestState=RequestState.Block);if(-1!=t.indexOf(GameProtocolDictionary.techbreak))console.error("We may have techbreak "+t);else{if(-1!=t.indexOf(GameProtocolDictionary.reload))return console.error("Couldn't open game "+t),void(this.requestState=RequestState.Block);if(-1!=t.indexOf(GameProtocolDictionary.pnow))return console.error("Server is busy "+t),this.retryTimer=0,void(this.retryRequest=!0);if(-1!=t.indexOf(GameProtocolDictionary.noMoney))console.error("The current bet may be greater than balance "+t);else{if(-1!=t.indexOf(GameProtocolDictionary.undefined))return console.error("Sent wrong request "+t),void(this.requestState=RequestState.Block);if(-1!=t.indexOf(GameProtocolDictionary.unlogged))return console.error("User logged out "+t),void(this.requestState=RequestState.Block)}}}var e=t.split("&");switch(this.srvResponse=GameProtocolParser.ParseResponse(e),++this.index,this.counter=this.srvResponse.Counter+1,this.repeat=this.srvResponse.Repeat,0<this.srvResponse.ServerTime&&EventManager.Trigger(GameEvents.evtServerTimeUpdate,this.srvResponse.ServerTime),XT.SetObject(FOXVars.FOX_Response,this.srvResponse.ValuesMap),this.requestState){case RequestState.Init:XT.TriggerEvent(FOXVars.Evt_FOX_InitReceived),this.HandleInitResponse(e,this.srvResponse),ServerOptions.isReplay?EventManager.Queue(GameEvents.evtSettingsUpdated+this.symbol,new GameSettings("")):this.LoadSettingsRequest(null);break;case RequestState.Spin:XT.TriggerEvent(FOXVars.Evt_FOX_SpinReceived),this.HandleSpinResponse(e,this.srvResponse);break;case RequestState.Collect:XT.TriggerEvent(FOXVars.Evt_FOX_CollectReceived),this.HandleCollectResponse(e,this.srvResponse);break;case RequestState.InitBonus:XT.TriggerEvent(FOXVars.Evt_FOX_InitBonusReceived),this.HandleInitBonusResponse(e,this.srvResponse);break;case RequestState.PickBonus:XT.TriggerEvent(FOXVars.Evt_FOX_PickBonusReceived),this.HandlePickBonusResponse(e,this.srvResponse);break;case RequestState.BonusRespin:XT.TriggerEvent(FOXVars.Evt_FOX_BonusRespinReceived),this.HandleBonusRespinResponse(e,this.srvResponse);break;case RequestState.CollectBonus:XT.TriggerEvent(FOXVars.Evt_FOX_CollectBonusReceived),this.HandleCollectBonusResponse(e,this.srvResponse);break;case RequestState.Gamble:XT.TriggerEvent(FOXVars.Evt_FOX_GambleReceived),this.HandleGambleV2Response(e,this.srvResponse);break;case RequestState.GambleCollect:XT.TriggerEvent(FOXVars.Evt_FOX_GambleCollectReceived),this.HandleGambleCollectResponse(e,this.srvResponse);break;case RequestState.JackpotCollect:XT.TriggerEvent(FOXVars.Evt_FOX_JackpotCollectReceived),this.HandleJackpotCollectResponse(e,this.srvResponse);break;case RequestState.PickFSOption:XT.TriggerEvent(FOXVars.Evt_FOX_PickFSOptionReceived),this.HandlePickFSOptionResponse(e,this.srvResponse);break;case RequestState.InitFSBG:XT.TriggerEvent(FOXVars.Evt_FOX_InitFSBGReceived),this.HandleInitFSBGResponse(e,this.srvResponse);break;case RequestState.PickFSBG:XT.TriggerEvent(FOXVars.Evt_FOX_PickFSBGReceived),this.HandlePickFSBGResponse(e,this.srvResponse);break;case RequestState.GetMysteryScatter:XT.TriggerEvent(FOXVars.Evt_FOX_GetMysteryScatterReceived),this.HandleMysteryScatterResponse(e,this.srvResponse);break;default:console.error("Got response for unknown request state "+this.requestState)}});function ResourceManager(){Component.call(this),this.downloadQueue=null,this.waitingQueue=null,this.packagesInfo=null,ResourceManager.instance=this}GameConnection.prototype.SendRequest=function(t){!ActionSentAferLoadingWheel&&LoadingWheelSentOnce&&(globalTracking.SendEvent("uht_behaviour","Loading_wheel_once_and_user_active",1,"BehaviourTracker"),ActionSentAferLoadingWheel=!0);var e,i=new ServerRequest;for(e in i.Url=t.Url,i.Handler=new EventHandler(this,this.StoreResponse),i.Method=t.RequestMethod,i.KeepAlive=!0,i.AllowRedirect=!0,t.Fields)i.Fields[e]=t.Fields[e];i.Fields[GameProtocolDictionary.index]=String(this.index),i.Fields[GameProtocolDictionary.counter]=String(this.counter),i.Fields[GameProtocolDictionary.repeat]=String(this.repeat),this.storedRequest=i,EventManager.Trigger(AdapterEvents.evtServerRequest,i),RequestManager.AddRequest(i)},GameConnection.prototype.SendCollectRequest=function(){var t;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - Collect")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect)<0||((t=new RequestData).Fields={},t.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,t.Fields[GameProtocolDictionary.symbol]=this.symbol,t.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doCollect,this.requestState!=RequestState.Idle?(this.queuedState=RequestState.Collect,this.queuedRequest=t):(this.requestState=RequestState.Collect,this.SendRequest(t)))},GameConnection.prototype.SendFSCollectRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - FSCollect")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect)<0?console.warn("SendFSCollectRequest skipped"):this.srvResponse.DoCollect?console.warn("Attempt to collect FS again ... ignored"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.symbol]=this.symbol,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doCollect,this.requestState!=RequestState.Idle?(this.queuedState=RequestState.Collect,this.queuedRequest=e):(this.requestState=RequestState.Collect,this.SendRequest(e)))},GameConnection.prototype.SendInitRequest=function(t){globalTracking.StartTimer("uht_loading","_X_first_connection_duration","LoadingTracker"),this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - Init"));var e=new RequestData;e.Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doInit,e.Fields[GameProtocolDictionary.symbol]=this.symbol,_string.IsNullOrEmpty(UHT_REVISION.common)||(e.Fields[GameProtocolDictionary.clientVersion]=UHT_REVISION.common),this.requestState!=RequestState.Idle?(this.queuedState=RequestState.Init,this.queuedRequest=e):(this.requestState=RequestState.Init,this.SendRequest(e))},GameConnection.prototype.SendSpinRequest=function(t){var e,i,n,o;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - Spin")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.Spin)<0?(console.warn("SendSpinRequest delayed"),e=this,setTimeout(function(){e.SendSpinRequest(t)},250)):(o=t,(i=new RequestData).Fields={},i.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,i.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doSpin,i.Fields[GameProtocolDictionary.symbol]=this.symbol,i.Fields[GameProtocolDictionary.coin]=Number(o.Bet).toString(),i.Fields[GameProtocolDictionary.line]=Number(o.Line).toString(),-1!=(n=XT.GetInt(Vars.ReelToBeSpun))&&(i.Fields[GameProtocolDictionary.ReelToBeSpun]=n),-1!=o.ProgressPick&&(i.Fields[GameProtocolDictionary.ProgressiveFeature.progressivePick]=o.ProgressPick.toString()),null!=(o=XT.GetObject(Vars.BetLevelSettings))&&(i.Fields[GameProtocolDictionary.BetLevel.betLevelIndex]=o.betLevelIndex.toString()),null!=(o=XT.GetObject(Vars.FreeSpinsPurchaseConfig))&&-1<o.optionIndex&&(i.Fields[GameProtocolDictionary.FreeSpinsPurchase.optionIndex]=o.optionIndex.toString(),o.optionIndex=-2),null!=(o=XT.GetObject(Vars.FeaturePurchase))&&-1<o.purchaseIndex&&(i.Fields[GameProtocolDictionary.FeaturePurchaseParam]=o.purchaseIndex.toString(),o.purchaseIndex=-2),null!=(o=XT.GetObject(Vars.BonusRoundsData))&&o.Type==VsFreeRound.RoundType.Timed&&XT.GetBool(Vars.TimedBonusRoundIsOngoing)&&(i.Fields[GameProtocolDictionary.FreeRound.BonusCodeParam]=o.BonusCode),XT.GetBool(Vars.UserChoseToPlayLater)&&(i.Fields.fr_play_later="1",XT.SetBool(Vars.UserChoseToPlayLater,!1)),this.requestState!=RequestState.Idle?(this.queuedState=RequestState.Spin,this.queuedRequest=i):(this.requestState=RequestState.Spin,this.SendRequest(i)))},GameConnection.prototype.SendGambleRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - Gamble")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.Gamble)<0?console.warn("SendGambleRequest skipped"):(e=t,(t=new RequestData).Fields={},t.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,t.Fields[GameProtocolDictionary.symbol]=this.symbol,t.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doGamble,t.Fields[GameProtocolDictionary.Gambling.option]=Number(e.Choice).toString(),this.requestState!=RequestState.Idle?(this.queuedState=RequestState.Gamble,this.queuedRequest=t):(this.requestState=RequestState.Gamble,this.SendRequest(t)))},GameConnection.prototype.SendFSOptionRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - FSOption")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.FSOption)<0?console.warn("SendFSOptionRequest skipped"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doFSOption,e.Fields[GameProtocolDictionary.symbol]=this.symbol,null!=t&&(e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice]=Number(t.Index).toString()),this.requestState!=RequestState.Idle?this.requestState!=RequestState.PickFSOption?(this.queuedState=RequestState.PickFSOption,this.queuedRequest=e):console.error("Tried to pick in fsOptions without waiting for result!"):(this.requestState=RequestState.PickFSOption,this.SendRequest(e)))},GameConnection.prototype.SendFSBGRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - FSBG")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.FSBonus)<0?console.warn("SendFSBGRequest skipped"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doFSBonus,e.Fields[GameProtocolDictionary.symbol]=this.symbol,null!=t&&(e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice]=Number(t.Index).toString()),this.requestState!=RequestState.Idle?this.requestState!=RequestState.PickFSBG?(this.queuedState=null!=t?RequestState.PickFSBG:RequestState.InitFSBG,this.queuedRequest=e):console.error("Tried to pick in fsbg without waiting for result!"):(this.requestState=null!=t?RequestState.PickFSBG:RequestState.InitFSBG,this.SendRequest(e)))},GameConnection.prototype.SendMysteryScatterRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - MysteryScatter")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.MysteryScatter)<0?console.warn("SendMysteryScatterRequest skipped"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doMysteryScatter,e.Fields[GameProtocolDictionary.symbol]=this.symbol,this.requestState!=RequestState.Idle?this.requestState!=RequestState.GetMysteryScatter?(this.queuedState=RequestState.GetMysteryScatter,this.queuedRequest=e):console.error("Tried to request mystery scatter second time!"):(this.requestState=RequestState.GetMysteryScatter,this.SendRequest(e)))},GameConnection.prototype.SendGambleCollectRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - GambleCollect")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.GambleCollect)<0?console.warn("SendGambleCollectRequest skipped"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.symbol]=this.symbol,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doGambleCollect,this.requestState!=RequestState.Idle?(this.queuedState=RequestState.GambleCollect,this.queuedRequest=e):(this.requestState=RequestState.GambleCollect,this.SendRequest(e)))},GameConnection.prototype.SendJackpotCollectRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - JackpotCollect")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.JackpotCollect)<0?console.warn("SendJackpotCollectRequest skipped"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.symbol]=this.symbol,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doJackpotCollect,this.requestState!=RequestState.Idle?(this.queuedState=RequestState.JackpotCollect,this.queuedRequest=e):(this.requestState=RequestState.JackpotCollect,this.SendRequest(e)))},GameConnection.prototype.SendBonusRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - Bonus")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.Bonus)<0?console.warn("SendBonusRequest skipped"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doBonus,e.Fields[GameProtocolDictionary.symbol]=this.symbol,null!=t?0==t.PickType?e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice]=Number(t.Index).toString():(e.Fields[GameProtocolDictionary.BonusGame.lInd]=Number(t.Index).toString(),e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice]=Number(t.PickType).toString()):this.WaitInTransition(!0),this.requestState!=RequestState.Idle?this.requestState!=RequestState.PickBonus?(this.queuedState=null!=t?RequestState.PickBonus:RequestState.InitBonus,this.queuedRequest=e):console.error("Tried to pick in bonus without waiting for result!"):(this.requestState=null!=t?RequestState.PickBonus:RequestState.InitBonus,this.SendRequest(e)))},GameConnection.prototype.SendBonusRespinRequest=function(t){var e;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - Bonus")),null!=this.srvResponse.NextGameActions&&this.srvResponse.NextGameActions.indexOf(NextGameAction.Bonus)<0?console.warn("SendBonusRespinRequest skipped"):((e=new RequestData).Fields={},e.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,e.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doBonus,e.Fields[GameProtocolDictionary.symbol]=this.symbol,this.requestState!=RequestState.Idle?(this.queuedState=RequestState.BonusRespin,this.queuedRequest=e):(this.requestState=RequestState.BonusRespin,this.SendRequest(e)))},GameConnection.prototype.SendBonusCollectRequest=function(t){this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - BonusCollect"));var e=GameProtocolDictionary.Actions.doCollectBonus;if(null!=this.srvResponse.NextGameActions){if(-1<this.srvResponse.NextGameActions.indexOf(NextGameAction.Bonus))return void this.SendBonusRequest(null);var i=-1<this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect),n=-1<this.srvResponse.NextGameActions.indexOf(NextGameAction.CollectBonus);if(!i&&!n)return void console.warn("SendBonusCollectRequest skipped");i&&(e=GameProtocolDictionary.Actions.doCollect)}i=new RequestData;i.Fields={},i.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,i.Fields[GameProtocolDictionary.Actions.action]=e,i.Fields[GameProtocolDictionary.symbol]=this.symbol,this.requestState!=RequestState.Idle?(this.queuedState=RequestState.CollectBonus,this.queuedRequest=i):(this.requestState=RequestState.CollectBonus,this.SendRequest(i))},GameConnection.prototype.LoadSettingsRequest=function(t){var e=new ServerRequest,i="";i+=ServerOptions.serverUrl,i+=ServerOptions.settingsUri,e.Url=i,e.Handler=new EventHandler(this,this.HandleSettingsLoaded),e.Method="POST",e.Fields[DefaultValues.Settings.action]=DefaultValues.Settings.load,e.Fields[DefaultValues.Settings.idParam]=this.symbol,RequestManager.AddRequest(e)},GameConnection.prototype.SaveSettingsRequest=function(t){var e=t,i=new ServerRequest,t="";t+=ServerOptions.serverUrl,t+=ServerOptions.settingsUri,i.Url=t,i.Handler=new EventHandler(this,this.HandleSettingSaved),i.Method="POST",i.Fields[DefaultValues.Settings.idParam]=this.symbol,i.Fields[DefaultValues.Settings.settingsParam]=e.ToString(),RequestManager.AddRequest(i)},GameConnection.prototype.HandleInitResponse=function(t,e){LoaderProgress.InitConnection_Current=1,globalTracking.StopTimerAndSend("uht_loading","_X_first_connection_duration","LoadingTracker");var i=e.ValuesMap,n=VSProtocolParser.ParseVsResponse(i);GameConnection.prototype.SlotHeight=n.SlotHeight,n.NextGameActions=e.NextGameActions,this.initData=n.VsInitData.Clone();i=GameProtocolCommonParser.ParseIntList(i,GameProtocolDictionary.configs);null!=i&&(ServerOptions.configs=i),this.AddGambleButtonState(n,!0),EventManager.Trigger(GameEvents.evtInitResponse+this.symbol,n),this.requestState=RequestState.Idle,null!=this.srvResponse.NextGameActions?(this.IsNextAction(NextGameAction.Collect)&&this.SendCollectRequest(),this.IsNextAction(NextGameAction.CollectBonus)&&this.SendBonusCollectRequest(null),this.IsNextAction(NextGameAction.JackpotCollect)&&this.SendJackpotCollectRequest(null)):(e=(e=!e.DoCollect&&n.IsWin()&&e.DoSpin)&&n.IsFreeSpins()&&!n.VsFreeSpin.IsFirstFreeSpin()&&!n.IsFreeSpinBonusGame()?!1:e)&&(n.IsBonusRespin()?this.SendBonusCollectRequest(null):this.SendCollectRequest()),EventManager.Trigger(JackpotEvents.evtJackpotStateChanged,n.VsJackpotData),n.IsJackpotWin()&&this.SendJackpotCollectRequest(null),n.IsBonus()&&(n.WasDoBonus()||n.IsBonusRespin()||n.IsBonusFSPick()||n.IsOpeningSymbols()||n.BonusDoesNotNeedInit()?EventManager.Trigger(GameEvents.evtBonusInitResponse+this.symbol,n):this.SendBonusRequest(null)),n.IsFreeSpinBonusGame()&&!n.VsFreeSpin.BonusGame.GameOver&&(n.WasDoFSBonus()?EventManager.Trigger(GameEvents.evtFSBGInitResponse+this.symbol,n):this.SendFSBGRequest(null))},GameConnection.prototype.HandleSpinResponse=function(t,e){var i,n,o=e.ValuesMap;if(this.mustStopSpin)return EventManager.Queue(GameEvents.evtNoMoneySpinResponse,o),void(this.requestState=RequestState.Idle);this.NoMoney(o)||this.isRegulatoryError?GameConnection.noMoneyStopsSpin&&(EventManager.Queue(GameEvents.evtNoMoneySpinResponse,o),this.requestState=RequestState.Idle):(i=e.ValuesMap,null!=(n=GameProtocolCommonParser.ParseBalance(i))&&EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest,n),(i=VSProtocolParser.ParseVsResponse(o)).NextGameActions=e.NextGameActions,(o=null!=(n=i.VsInitData).ReelSymbols&&0<n.ReelSymbols.length)&&(this.initData.GamblingSettings=n.GamblingSettings.Clone()),this.AddGambleButtonState(i,!1),o&&EventManager.Queue(GameEvents.evtConfigSwitchedResponse+this.symbol,i),EventManager.Queue(GameEvents.evtSpinResponse+this.symbol,i),o=!0,(o=null==this.srvResponse.NextGameActions?e.DoCollect||i.IsWin():o)&&i.IsFreeSpins()&&!i.VsFreeSpin.IsFirstFreeSpin()&&!i.IsFreeSpinBonusGame()&&(o=!1),this.requestState=RequestState.Idle,o&&this.SendCollectRequest(),i.IsJackpotWin()&&this.SendJackpotCollectRequest(null),EventManager.Queue(JackpotEvents.evtJackpotStateChanged,i.VsJackpotData),!(!i.IsBonus()||i.IsBonusRespin()||i.IsBonusFSPick()||i.IsBonusOptions()||i.IsBonusGameOver()||null!=i.GetVsBonusGameData().wheelOfFortune&&-1==i.GetVsBonusGameData().wheelOfFortune.stopPosition)?this.SendBonusRequest(null):EventManager.Queue(GameEvents.evtBonusInitResponse+this.symbol,i),i.IsFreeSpinBonusGame()&&!i.VsFreeSpin.BonusGame.GameOver&&(i.WasDoFSBonus()?EventManager.Queue(GameEvents.evtFSBGInitResponse+this.symbol,i):this.SendFSBGRequest(null)))},GameConnection.prototype.AddGambleButtonState=function(t,e){var i=!1;this.initData.GamblingSettings.IsOccasionEnable(GamblingOccasions.Spin)&&t.IsWin()&&!t.IsBonus()&&!t.IsFreeSpins()&&(i=!e||!this.initData.GamblingSettings.SkipGambleOnInit);var n=!1;this.initData.GamblingSettings.IsOccasionEnable(GamblingOccasions.FreeSpin)&&t.IsWin()&&t.IsFreeSpins()&&t.VsFreeSpin.IsLastFreeSpin()&&(n=!e||!this.initData.GamblingSettings.SkipGambleOnInit);var o=!1;this.initData.GamblingSettings.IsOccasionEnable(GamblingOccasions.Bonus)&&t.IsBonus()&&(o=!e||!this.initData.GamblingSettings.SkipGambleOnInit),t.VsGamblingButtonState=new VsGamblingButtonState(i,n,o)},GameConnection.prototype.HandleCollectResponse=function(t,e){var i=e.ValuesMap,e=GameProtocolCommonParser.ParseBalance(i);null!=e&&EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest,e),this.HandleFreeRoundsUpdateOnCollect(i),EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent,FOXVars.Evt_FOX_AfterCollectReceived),this.requestState=RequestState.Idle,this.mustPostGameRoundEndedOnCollect&&(UHTInterfaceBOSS.PostMessage("gameRoundEnded"),this.mustPostGameRoundEndedOnCollect=!1)},GameConnection.prototype.HandleInitBonusResponse=function(t,e){var i=e.ValuesMap,i=VSProtocolParser.ParseVsResponse(i);i.NextGameActions=e.NextGameActions,i.IsBonus()&&(EventManager.Queue(GameEvents.evtBonusInitResponse+this.symbol,i),EventManager.Queue(StageTransitionVars.Evt_StageTransition_SetWaitInTransition,!1)),this.requestState=RequestState.Idle},GameConnection.prototype.HandlePickBonusResponse=function(t,e){var i=e.ValuesMap,i=VSProtocolParser.ParseVsResponse(i);i.NextGameActions=e.NextGameActions,EventManager.Queue(GameEvents.evtBonusPickResponse+this.symbol,i),this.requestState=RequestState.Idle},GameConnection.prototype.HandleBonusRespinResponse=function(t,e){var i=e.ValuesMap;-1!=e.NextGameActions.indexOf(NextGameAction.MysteryScatter)&&null==i[GameProtocolDictionary.mysteryScatterGame]&&(i[GameProtocolDictionary.mysteryScatterGame]="1");i=VSProtocolParser.ParseVsResponse(i);i.NextGameActions=e.NextGameActions,EventManager.Queue(GameEvents.evtBonusRespinResponse+this.symbol,i),this.requestState=RequestState.Idle},GameConnection.prototype.HandleCollectBonusResponse=function(t,e){var i=e.ValuesMap,e=GameProtocolCommonParser.ParseBalance(i);null!=e&&EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest,e),XT.TriggerEvent("PS_AnnounceResultShown"),this.HandleFreeRoundsUpdateOnCollect(i),EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent,FOXVars.Evt_FOX_AfterCollectBonusReceived),this.requestState=RequestState.Idle},GameConnection.prototype.HandlePickFSOptionResponse=function(t,e){var i=e.ValuesMap,i=VSProtocolParser.ParseVsResponse(i);i.NextGameActions=e.NextGameActions,EventManager.Queue(GameEvents.evtFSOptionsUpdate+this.symbol,i),this.requestState=RequestState.Idle},GameConnection.prototype.HandleInitFSBGResponse=function(t,e){var i=e.ValuesMap,i=VSProtocolParser.ParseVsResponse(i);i.NextGameActions=e.NextGameActions,EventManager.Queue(GameEvents.evtFSBGInitResponse+this.symbol,i),this.requestState=RequestState.Idle},GameConnection.prototype.HandlePickFSBGResponse=function(t,e){var i=e.ValuesMap,i=VSProtocolParser.ParseVsResponse(i);i.NextGameActions=e.NextGameActions,EventManager.Queue(GameEvents.evtFSBGPickResponse+this.symbol,i),this.requestState=RequestState.Idle},GameConnection.prototype.HandleMysteryScatterResponse=function(t,e){var i=e.ValuesMap,i=VSProtocolParser.ParseVsResponse(i);i.NextGameActions=e.NextGameActions,EventManager.Queue(GameEvents.evtMysteryScatterResponse+this.symbol,i),this.requestState=RequestState.Idle},GameConnection.prototype.HandleGambleResponse=function(t,e){e=e.ValuesMap;this.NoMoney(e)||(e=GameProtocolGamblingParser.ParseVsGamblingResponse(e),EventManager.Queue(GameEvents.evtGambleResponse+this.symbol,e),this.requestState=RequestState.Idle)},GameConnection.prototype.HandleGambleCollectResponse=function(t,e){var i=e.ValuesMap,e=GameProtocolCommonParser.ParseBalance(i);null!=e&&EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest,e),this.HandleFreeRoundsUpdateOnCollect(i),EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent,FOXVars.Evt_FOX_AfterGambleCollectReceived),this.requestState=RequestState.Idle},GameConnection.prototype.HandleJackpotCollectResponse=function(t,e){var i=e.ValuesMap,e=GameProtocolCommonParser.ParseBalance(i);null!=e&&EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest,e),this.HandleFreeRoundsUpdateOnCollect(i),EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent,FOXVars.Evt_FOX_AfterJackpotCollectReceived),this.requestState=RequestState.Idle,null!=this.srvResponse.NextGameActions&&-1!=this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect)&&this.SendCollectRequest()},GameConnection.prototype.HandleSettingsLoaded=function(t,e){console.info("HandleSettingsLoaded",t);var i=new GameSettings;i.FromString(t),console.log("HandleSettingsLoaded",GameEvents.evtSettingsUpdated+this.symbol),EventManager.Queue(GameEvents.evtSettingsUpdated+this.symbol,i)},GameConnection.prototype.HandleSettingSaved=function(t,e){console.info("HandleSettingSaved "+t);var i=new GameSettings;i.FromString(t),null==i.Settings.SoundState&&(EventManager.Trigger(AdapterEvents.evtShowMessage,AdapterMessages.settingsNotSaved),EventManager.Queue(GameEvents.evtSettingsNotSaved,null))},GameConnection.prototype.NoMoney=function(t){return null!=t[GameProtocolDictionary.noMoney]&&(console.error("You have no money beci!"),!0)},GameConnection.prototype.HandleFreeRoundsUpdateOnCollect=function(t){var e=new VsResponse;e.FreeRound=VSProtocolParser.ParseVsFreeRound(t),e.FreeRoundEvents=VSProtocolParser.ParseVsFreeRoundEvents(t),EventManager.Queue(GameEvents.evtFreeRoundsUpdate,e)},GameConnection.prototype.HandleGambleV2Response=function(t,e){e=e.ValuesMap;EventManager.Queue(GameEvents.evtGambleResponse+this.symbol,GambleV2Protocol.Parser.ParseGambleData(e)),this.requestState=RequestState.Idle,null!=this.srvResponse.NextGameActions&&(-1<this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect)&&this.SendCollectRequest(),-1<this.srvResponse.NextGameActions.indexOf(NextGameAction.CollectBonus)&&this.SendBonusCollectRequest(null))},GameConnection.prototype.SendGambleV2Request=function(t){var e,i;this.requestState==RequestState.Block&&(console.error("Connection to the server was interrupted and can't send more requests!"),console.error("Request attempt was - Gamble")),null!=this.srvResponse.NextGameActions?(e=-1<this.srvResponse.NextGameActions.indexOf(NextGameAction.Gamble),i=-1<this.srvResponse.NextGameActions.indexOf(NextGameAction.GambleOption),e||i?((i=new RequestData).Fields={},i.Url=ServerOptions.serverUrl+ServerOptions.gameServiceUri,i.Fields[GameProtocolDictionary.symbol]=this.symbol,i.Fields.g_a=t<0?"stand":"gamble",e?(i.Fields[GameProtocolDictionary.Actions.action]=GameProtocolDictionary.Actions.doGamble,i.Fields.g_ind=String(t)):(i.Fields[GameProtocolDictionary.Actions.action]="doGambleOption",i.Fields.g_o_ind=String(t)),this.requestState!=RequestState.Idle?(this.queuedState=RequestState.Gamble,this.queuedRequest=i):(this.requestState=RequestState.Gamble,this.SendRequest(i))):console.warn("SendGambleV2Request skipped")):console.warn("SendGambleV2Request skipped")},GameConnection.prototype.CanRequest=function(t){var e=!0;if(null!=this.srvResponse&&null!=this.srvResponse.NextGameActions)switch(t){case RequestState.Collect:e=this.IsNextAction(NextGameAction.Collect);break;case RequestState.Spin:e=this.IsNextAction(NextGameAction.Spin);break;case RequestState.Gamble:e=this.IsNextAction(NextGameAction.Gamble)||this.IsNextAction(NextGameAction.GambleOption);break;case RequestState.PickFSOption:e=this.IsNextAction(NextGameAction.FSOption);break;case RequestState.InitFSBG:case RequestState.PickFSBG:e=this.IsNextAction(NextGameAction.FSBonus);break;case RequestState.GetMysteryScatter:e=this.IsNextAction(NextGameAction.MysteryScatter);break;case RequestState.GambleCollect:e=this.IsNextAction(NextGameAction.GambleCollect);break;case RequestState.JackpotCollect:e=this.IsNextAction(NextGameAction.JackpotCollect);break;case RequestState.InitBonus:case RequestState.PickBonus:case RequestState.BonusRespin:e=this.IsNextAction(NextGameAction.Bonus);break;case RequestState.CollectBonus:e=this.IsNextAction(NextGameAction.Collect)||this.IsNextAction(NextGameAction.CollectBonus)}return e},GameConnection.prototype.IsNextAction=function(t){return null!=this.srvResponse&&null!=this.srvResponse.NextGameActions&&-1<this.srvResponse.NextGameActions.indexOf(t)},GameConnection.prototype.TriggerFOXAfterEvent=function(t){XT.TriggerEvent(t)},GameConnection.prototype.WaitInTransition=function(t){XT.SetBool(StageTransitionVars.StageTransition_WaitInTransition,t)},GameConnection.prototype.SetWaitInTransition=function(t){this.WaitInTransition(t)},goog.require("UHT.ServerOptions"),goog.require("UHT.Component"),goog.require("UHT.ResourceRequest"),ResourceManager.prototype=Object.create(Component.prototype),(ResourceManager.prototype.constructor=ResourceManager).prototype.Start=function(){this.downloadQueue=[],this.waitingQueue=[],EventManager.AddHandler(ResourceEvents.evtRequestResources,this.OnResourcesRequest,this)},ResourceManager.prototype.Update=function(){var t;if(0<this.waitingQueue.length){for(t=0;t<this.waitingQueue.length;++t)this.downloadQueue.push(this.waitingQueue[t]);this.waitingQueue=[]}if(0<this.downloadQueue.length)for(t=0;t<this.downloadQueue.length;++t)this.downloadQueue[t].Update(),this.downloadQueue[t].isDone&&(EventManager.Queue(ResourceEvents.evtResourcesCompleted+this.downloadQueue[t].componentName,this.downloadQueue[t].GetData()),this.downloadQueue.splice(t,1))},ResourceManager.prototype.OnResourcesRequest=function(t){if(null!=UHT_RESOURCES){globalTracking.StartTimer("uht_loading","_X_apply_localization_packages","LoadingTracker"),this.packagesInfo=UHT_PACKAGES_INFO_OBJ;var e=new BundlePack,i=new AssetBundle;i.mainAsset=jsonParse(UHT_RESOURCES.CURRENCY_PATCH),e.assetBundles.push(i);for(var n=0;n<UHT_RESOURCES.LOCALIZATIONS.length;++n){var o=new AssetBundle;try{o.mainAsset=jsonParse(UHT_RESOURCES.LOCALIZATIONS[n])}catch(t){o.mainAsset=JSON.parse(UHT_RESOURCES.LOCALIZATIONS[n])}e.assetBundles.push(o)}EventManager.Queue(ResourceEvents.evtResourcesCompleted+t,e),globalTracking.StopTimerAndSend("uht_loading","_X_apply_localization_packages","LoadingTracker"),UHT_RESOURCES=null}else{var s;null==this.packagesInfo&&(s=this,setTimeout(function(){s.OnResourcesRequest(t)},200))}},ResourceManager.prototype.RequestResources=function(t){console.log("ResourceManager::RequestResources",t);var e=new RequestPack;e.componentName=t.symbol;for(var i=0;i<t.files.length;++i)e.downloaders.push(new ResourceRequest({url:t.files[i]}));this.waitingQueue.push(e)},ResourceManager.prototype.InstLoadLanguage=function(t){var e=this.packagesInfo;if(null!=e.languages){var i=new ResourceRequestInfo;i.symbol=t;for(var n=e.languages,o=ServerOptions.gameUrl+ServerOptions.packagesUri,s=(UHT_DEVICE_TYPE.MOBILE?"_mobile":"_desktop")+".json",r=0;r<n.length;++r)if(n[r].language==t){console.info("found bundles for language "+n[r].language);for(var a=n[r].bundles,l=0;l<a.length;++l)i.files.push(o+a[l].name+s)}this.RequestResources(i)}else console.warn("ResourceManager - language bundles not found!")},ResourceManager.instance=null,ResourceManager.LoadLanguage=function(t){var e=ResourceManager.instance;null!=e&&null!=e.packagesInfo?(EventManager.AddHandler(ResourceEvents.evtResourcesCompleted+t,ResourceManager.OnLanguageLoaded,ResourceManager),e.InstLoadLanguage(t)):setTimeout(function(){ResourceManager.LoadLanguage(t)},50)},ResourceManager.OnLanguageLoaded=function(t){for(var e=0;e<t.assetBundles.length;++e){var i=UHTEngine.LoadAssetBundle(t.assetBundles[e].mainAsset,ServerOptions.gameUrl+"packages/").GetComponent(ModificationsManager);null!=i&&i.Init()}t.assetBundles=[]},goog.require("UHT.ServerOptions"),goog.provide("UHT.ServerHelpers");var ServerHelpers={CookiesRequest:function(t){console.info("Sending request for sessionid from cookies");var e=new ServerRequest;e.Url=ServerOptions.serverUrl+"/gs2c/richcasino/index.jsp?lang=en",e.Handler=t,e.Method="HEAD",RequestManager.AddRequest(e)},RequestApplicationConfiguration:function(t){var e=new ServerRequest;e.Url=ServerOptions.serverUrl+ServerOptions.configUri,e.Handler=t,e.Method="POST",e.KeepAlive=!0,e.AllowRedirect=!0,RequestManager.AddRequest(e)},LoginRequest:function(t,e,i){var n=new ServerRequest;n.Url=ServerOptions.serverUrl+ServerOptions.loginUri+("?method=login&nic="+t+"&pwd="+e+"&acctype=R"),n.Handler=i,n.Method="POST",n.KeepAlive=!0,n.AllowRedirect=!0,RequestManager.AddRequest(n)},RequestGameConfiguration:function(t,e){var i=new ServerRequest;i.Url=ServerOptions.serverUrl+ServerOptions.menuUri,i.Handler=e,i.Method="POST",i.KeepAlive=!0,i.AllowRedirect=!0,i.Fields.method="gameInfo",i.Fields[GameProtocolDictionary.symbol]=t,RequestManager.AddRequest(i)},RequestAcceptedVersions:function(t){var e=new ServerRequest,i="";i+=ServerOptions.serverUrl,i+=ServerOptions.versionUri,i+=ServerHelpers.BuildGetParam(DefaultValues.UnityVars.bundleVersion,ServerOptions.resourceVersion),e.Url=i,e.Handler=t,e.Method="GET",RequestManager.AddRequest(e)},ReloadBalance:function(t,e){var i=new ServerRequest,n="";n+=ServerOptions.serverUrl,n+=ServerOptions.reloadBalanceUri,i.Url=n,i.Handler=t,i.Method="GET",e&&(i.Fields.force="true"),RequestManager.AddRequest(i)},ReloadJackpot:function(t,e){var i=new ServerRequest,n="";n+=ServerOptions.serverUrl,n+=ServerOptions.reloadJackpotUri,i.Url=n,i.Handler=e,i.Method="POST",i.Fields[GameProtocolDictionary.symbol]=t,RequestManager.AddRequest(i)},RequestRegulationNotification:function(t){var e=new ServerRequest,i="";i+=ServerOptions.SwedishRegulation.notificationUrl+"?mgckey="+ServerOptions.mgckey,e.Url=i,e.Handler=t,e.Method="GET",RequestManager.AddRequest(e)},BuildGetParam:function(t,e){return"?"+t+"="+e},BuildGetParams:function(t){var e,i=[];for(e in t)i.push([e,t[e]].join("="));return"?"+i.join("&")}};goog.provide("UHT.BalanceManager"),goog.require("UHT.ServerHelpers"),goog.require("UHT.EventManager"),goog.require("UHT.BalanceData");var BalanceEvents={evtBalanceUpdated:"evtBalanceUpdated",evtBalanceUpdateRequest:"evtBalanceUpdateRequest",evtBalanceUpdateFromAdapter:"evtBalanceUpdateFromAdapter",evtBalanceUpdateToAdapter:"evtBalanceUpdateToAdapter",evtUpdateBalance:"evtUpdateBalance",evtUpdateBalanceForced:"evtUpdateBalanceForced"};function BalanceManager(){this.data=null,this.maxBalanceDelay=30,this.balanceRequestTimer=0,this.requestInProgress=!1}function RequestData(){this.RequestMethod="POST",this.Url="",this.Fields={}}function ResponseData(t,e){this.StatusCode=t,this.Response=e}function ServerRequest(){this.Handler=null,this.Fields={},this.Url="",this.Method="GET",this.AllowRedirect=!1,this.KeepAlive=!1,this.PostData="",this.ContentType="application/x-www-form-urlencoded",this.request=null}function SwedishRegulationManager(){this.regulationRequestInterval=-1,this.regulationRequestTimer=0,this.requestInProgress=!1,this.regulationTimerIsActive=!1,this.elapsedTime=0,this.elapsedTimeContainerLandscape=null,this.elapsedTimeContainerPortrait=null,this.initialTime=0,this.initialElapsedTime=0}function TournamentConnection(){this.xtLayer=null,this.reloadLeaderboardsInterval=30,this.leaderboardsTimer=30,this.isReloadindLeaderboards=!1,this.reloadTournamentsInterval=60,this.tournamentsTimer=60,this.isReloadindTournaments=!1,this.reloadRacePrizesInterval=30,this.racePrizesTimer=30,this.isReloadindRacePrizes=!1,this.reloadRaceWinnersInterval=30,this.raceWinnersTimer=30,this.isReloadindRaceWinners=!1,this.tournamentIds=[],this.raceIds=[],this.tournamentsURL,this.detailsURL,this.leaderboardsURL,this.raceDetailsURL,this.racePrizesURL,this.raceWinnersURL,this.raceOptInURL,this.raceOptOutURL,this.tournamentOptInURL,this.tournamentOptOutURL,this.optRequests={},this.promoHolders=[],this.activeTournaments=!1,this.activeRaces=!1,this.isReloaded=!1,this.isRaceDetailsReloaded=!0,this.isRacePrizesReloaded=!0,this.isTournamentDetailsReloaded=!0,this.hasUpdates=!1,this.canUpdate=!1,this.timesNumberOfPrizesAKAMaxLeaderboardPosition=2;var t=new Array(2);t[0]=GameProtocolDictionary.symbol+"="+ServerOptions.gameSymbol,t[1]=GameProtocolDictionary.mgckey+"="+ServerOptions.mgckey;t=t.join("&");this.tournamentsURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.tournaments,this.tournamentsURL+=this.QueryPrefix(this.tournamentsURL)+t,this.detailsURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.details,this.detailsURL+=this.QueryPrefix(this.detailsURL)+t,this.leaderboardsURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.leaderboards,this.leaderboardsURL+=this.QueryPrefix(this.leaderboardsURL)+t,this.raceDetailsURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.raceDetails,this.raceDetailsURL+=this.QueryPrefix(this.raceDetailsURL)+t,this.racePrizesURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.racePrizes,this.racePrizesURL+=this.QueryPrefix(this.racePrizesURL)+t,this.raceWinnersURL=ServerOptions.serverUrl+"/gs2c/promo/race/winners/",this.raceWinnersURL+=this.QueryPrefix(this.raceWinnersURL)+t,this.raceOptInURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.raceOptIn,this.raceOptInURL+=this.QueryPrefix(this.raceOptInURL)+t,this.raceOptOutURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.raceOptOut,this.raceOptOutURL+=this.QueryPrefix(this.raceOptOutURL)+t,this.tournamentOptInURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.tournamentOptIn,this.tournamentOptInURL+=this.QueryPrefix(this.tournamentOptInURL)+t,this.tournamentOptOutURL=ServerOptions.serverUrl+ServerOptions.TournamentURLs.tournamentOptOut,this.tournamentOptOutURL+=this.QueryPrefix(this.tournamentOptOutURL)+t,this.tournamentsReloadedHandler=new EventHandler(this,this.OnTournamentsReloaded),this.leaderboardReloadedHandler=new EventHandler(this,this.OnLeaderboardReloaded),this.racePrizesReloadedHandler=new EventHandler(this,this.OnRacePrizesReloaded),this.detailsReloadedHandler=new EventHandler(this,this.OnDetailsReloaded),this.raceDetailsReloadedHandler=new EventHandler(this,this.OnRaceDetailsReloaded),this.raceWinnersReloadedHandler=new EventHandler(this,this.OnRaceWinnersReloaded),this.ldbItemTitle_0=null,this.ldbItemTitle_1=null,this.updateWinnerPrizesWhenDetailsReloaded=!1,this.convertLeaderboardWhenDetailsReloaded=!1,TournamentConnection.instance=this}BalanceManager.I=null,BalanceManager.prototype.Init=function(){(BalanceManager.I=this).requestInProgress=!1,EventManager.AddHandler(BalanceEvents.evtBalanceUpdateRequest,this.OnUpdateRequest,this),EventManager.AddHandler(BalanceEvents.evtBalanceUpdateFromAdapter,this.OnBalanceUpdateFromAdapter,this),EventManager.AddHandler(BalanceEvents.evtUpdateBalance,this.OnUpdateBalance,this),EventManager.AddHandler(BalanceEvents.evtUpdateBalanceForced,this.OnUpdateBalanceForced,this)},BalanceManager.prototype.OnUpdateRequest=function(t){(null==this.data||t.Time>this.data.Time)&&(this.balanceRequestTimer=0,this.data=t,EventManager.Queue(BalanceEvents.evtBalanceUpdated,this.data),EventManager.Queue(BalanceEvents.evtBalanceUpdateToAdapter,this.data))},BalanceManager.prototype.OnBalanceUpdateFromAdapter=function(t){(null==this.data||t.Time>this.data.Time)&&(this.balanceRequestTimer=0,this.data=t,EventManager.Queue(BalanceEvents.evtBalanceUpdated,this.data))},BalanceManager.prototype.Update=function(){this.balanceRequestTimer+=Time.deltaTime,this.requestInProgress||this.balanceRequestTimer>this.maxBalanceDelay&&(this.requestInProgress=!0,ServerHelpers.ReloadBalance(new EventHandler(this,this.BalanceReloadCallback),!1))},BalanceManager.prototype.BalanceReloadCallback=function(t,e){t=String(t).split("&"),t=GameProtocolCommonParser.SplitResponseContent(t),t=GameProtocolCommonParser.ParseBalance(t);null!=t&&(this.requestInProgress=!1,this.OnUpdateRequest(t))},BalanceManager.prototype.OnUpdateBalance=function(){ServerHelpers.ReloadBalance(new EventHandler(this,this.BalanceReloadCallback),!1)},BalanceManager.prototype.OnUpdateBalanceForced=function(){ServerHelpers.ReloadBalance(new EventHandler(this,this.BalanceReloadCallback),!0)},goog.require("UHT.SimpleWebRequest"),ServerRequest.prototype.IsDone=function(){return null!=this.request&&this.request.Done},ServerRequest.prototype.Start=function(){if(_string.IsNullOrEmpty(this.PostData)){var t,e=[];for(t in this.Fields)e.push(t+"="+this.Fields[t]);this.PostData=e.join("&")}this.request=RequestProvider.Instance.NewRequest({url:this.Url,method:this.Method,postData:this.PostData,contentType:this.ContentType})},ServerRequest.prototype.Finish=function(){console.log("ServerRequest::Finish",this.Handler),null!=this.Handler&&this.Handler.call(this.request.Data,this.request.statusCode),-1!=String(this.request.Data).indexOf(GameProtocolDictionary.unlogged)&&(console.error("User logged out"+this.request.Data),RequestManager.blockRequests=!0),EventManager.Trigger(ApplicationEvents.evtServerResponse,new ResponseData(this.request.statusCode,this.request.Data))},goog.provide("UHT.SwedishRegulationManager"),goog.require("UHT.ServerHelpers"),goog.require("UHT.EventManager"),SwedishRegulationManager.instance=null,SwedishRegulationManager.prototype.Init=function(){(SwedishRegulationManager.instance=this).requestInProgress=!1,null!=UHT_GAME_CONFIG.REGULATION_NOTIFICATION_INTERVAL&&(isNaN(parseInt(UHT_GAME_CONFIG.REGULATION_NOTIFICATION_INTERVAL,10))||(this.regulationRequestInterval=parseInt(UHT_GAME_CONFIG.REGULATION_NOTIFICATION_INTERVAL,10)));var t=!1;UHT_GAME_CONFIG.selftestUrl&&UHT_GAME_CONFIG.pauseplayUrl&&UHT_GAME_CONFIG.playlimitUrl&&(t=!0),UHT_GAME_CONFIG.elapsedTime&&(this.initialElapsedTime=parseInt(UHT_GAME_CONFIG.elapsedTime,10),this.regulationTimerIsActive=!0),(t||this.regulationTimerIsActive)&&(this.InjectRegulationContainers(t),EventManager.AddHandler("EVT_UHT_RESIZE",this.OnUHTResize,this),this.OnUHTResize(null)),this.elapsedTime=this.initialElapsedTime,this.initialTime=(new Date).getTime()},SwedishRegulationManager.prototype.Update=function(){0<this.regulationRequestInterval&&(this.regulationRequestTimer+=Time.deltaTime,this.requestInProgress||this.regulationRequestTimer>this.regulationRequestInterval&&(this.requestInProgress=!0,ServerHelpers.RequestRegulationNotification(new EventHandler(this,this.RegulationRequestCallback),!1))),this.regulationTimerIsActive&&this.UpdateTimer()},SwedishRegulationManager.prototype.RegulationRequestCallback=function(t,e){null!=t&&(this.requestInProgress=!1,this.regulationRequestTimer=0)},SwedishRegulationManager.prototype.InjectRegulationContainers=function(t){var e="",e="Mobile"==document.documentElement.id?'<div class="RGSContainerActive" style="display: block;" data-height="25"><div id="RGSPortrait" style="margin-left: auto; margin-right: auto; width: 100%; display:block; white-space: nowrap;"> <a href="#" class="PausePlay" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelpaus" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTg0LjkgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTg0LjkgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6I0UyMEQxODt9PC9zdHlsZT48Zz48cmVjdCB4PSIwLjUiIHk9IjAuNSIgY2xhc3M9InN0MCIgd2lkdGg9IjE4My45IiBoZWlnaHQ9IjUyLjQiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTgzLjksMXY1MS40SDFWMUgxODMuOSBNMTg0LjksMEgwdjUzLjRoMTg0LjlWMEwxODQuOSwweiIvPjwvZz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTMuMywyNi44QzUzLjMsMzguNSw0My44LDQ4LDMyLDQ4Yy0xMS43LDAtMjEuMy05LjUtMjEuMy0yMS4zQzEwLjgsMTUsMjAuMyw1LjUsMzIsNS41QzQzLjgsNS41LDUzLjMsMTUsNTMuMywyNi44eiIvPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03Ny4xLDMwLjVjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuMywxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTNoMC4yYzAuOSwwLjcsMS45LDEuMywzLjEsMS43czIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNHMtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN2MtMC44LTAuOC0xLjEtMS45LTEuMS0zLjFjMC0xLjUsMC42LTIuNywxLjktMy42YzEuMy0wLjksMi44LTEuNCw0LjgtMS40YzEuMiwwLDIuNCwwLjEsMy40LDAuNGMxLDAuMiwyLDAuNSwyLjgsMC45djIuOGgtMC4yYy0wLjctMC42LTEuNi0xLTIuNy0xLjRjLTEuMS0wLjQtMi4yLTAuNi0zLjQtMC42Yy0xLjMsMC0yLjMsMC4zLTMsMC44Yy0wLjgsMC41LTEuMSwxLjItMS4xLDJjMCwwLjcsMC4yLDEuMywwLjYsMS43YzAuNCwwLjQsMS4xLDAuNywyLDFjMC41LDAuMSwxLjIsMC4yLDIuMiwwLjRjMC45LDAuMiwxLjcsMC4zLDIuNCwwLjVjMS4zLDAuMywyLjMsMC45LDMsMS42Qzc2LjcsMjguMiw3Ny4xLDI5LjIsNzcuMSwzMC41eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi42LDI4LjhjMCwxLjEtMC4yLDIuMS0wLjUsM2MtMC4zLDAuOS0wLjcsMS42LTEuMywyLjNjLTAuNSwwLjYtMS4xLDEtMS45LDEuNHMtMS41LDAuNS0yLjMsMC41Yy0wLjcsMC0xLjMtMC4xLTEuOS0wLjJjLTAuNi0wLjItMS4xLTAuNC0xLjctMC43djUuNmgtMi4yVjIyLjNoMi4ydjEuNGMwLjYtMC41LDEuMy0wLjksMi0xLjNjMC43LTAuMywxLjUtMC41LDIuNC0wLjVjMS42LDAsMi44LDAuNiwzLjcsMS44QzkyLjIsMjQuOSw5Mi42LDI2LjYsOTIuNiwyOC44eiBNOTAuMywyOC44YzAtMS42LTAuMy0yLjgtMC44LTMuNkM4OC45LDI0LjQsODguMSwyNCw4NywyNGMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M4OS45LDMxLjcsOTAuMywzMC41LDkwLjMsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA3LjUsMjkuMWgtOS44YzAsMC44LDAuMSwxLjUsMC40LDIuMWMwLjIsMC42LDAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOGMtMC44LDAuMi0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOHMtMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZjMSwxLDEuNSwyLjUsMS41LDQuNVYyOS4xeiBNMTA1LjMsMjcuNGMwLTEuMi0wLjMtMi4xLTAuOS0yLjdjLTAuNi0wLjYtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTA1LjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTExMy4zLDM1LjZoLTIuMlYxN2gyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTI5LjcsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjksMS40cy0xLjUsMC41LTIuMywwLjVjLTAuNywwLTEuMy0wLjEtMS45LTAuMmMtMC42LTAuMi0xLjEtMC40LTEuNy0wLjd2NS42SDExOFYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEMxMjkuMywyNC45LDEyOS43LDI2LjYsMTI5LjcsMjguOHogTTEyNy40LDI4LjhjMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0MxMjcuMSwzMS43LDEyNy40LDMwLjUsMTI3LjQsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTQzLjgsMzUuNmgtMi4ydi0xLjRjLTAuMiwwLjEtMC41LDAuMy0wLjgsMC42Yy0wLjMsMC4yLTAuNywwLjQtMSwwLjZjLTAuNCwwLjItMC44LDAuMy0xLjMsMC41Yy0wLjUsMC4xLTEuMSwwLjItMS43LDAuMmMtMS4yLDAtMi4yLTAuNC0zLTEuMnMtMS4yLTEuOC0xLjItM2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM2MtMC4yLTAuMy0wLjQtMC42LTAuOC0wLjhjLTAuMy0wLjItMC43LTAuMy0xLjEtMC40cy0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJzLTEuNSwwLjQtMi4yLDAuN2gtMC4xdi0yLjNjMC40LTAuMSwxLjEtMC4zLDEuOS0wLjRjMC44LTAuMSwxLjYtMC4yLDIuNC0wLjJjMC45LDAsMS44LDAuMSwyLjQsMC4yYzAuNywwLjIsMS4zLDAuNCwxLjgsMC44YzAuNSwwLjQsMC45LDAuOCwxLjEsMS40czAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTQxLjUsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNDAuNCwzMy4xLDE0MSwzMi43LDE0MS41LDMyLjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1OS4zLDM1LjZoLTIuMnYtMS41Yy0wLjgsMC42LTEuNSwxLjEtMi4yLDEuNHMtMS41LDAuNS0yLjMsMC41Yy0xLjQsMC0yLjUtMC40LTMuMy0xLjNzLTEuMi0yLjEtMS4yLTMuOHYtOC42aDIuMnY3LjZjMCwwLjcsMCwxLjMsMC4xLDEuN2MwLjEsMC41LDAuMiwwLjksMC40LDEuMmMwLjIsMC4zLDAuNSwwLjYsMC44LDAuOGMwLjMsMC4yLDAuOCwwLjIsMS41LDAuMmMwLjYsMCwxLjItMC4yLDEuOS0wLjVjMC43LTAuMywxLjMtMC43LDEuOS0xLjJ2LTkuOWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTczLjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM2MwLjksMC4zLDEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zczAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTczLjIsMzAsMTczLjUsMzAuOCwxNzMuNSwzMS43eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjcsMzcuNWgtNi4yYy0wLjUsMC0wLjktMC40LTAuOS0wLjlWMTYuOWMwLTAuNSwwLjQtMC45LDAuOS0wLjloNi4yYzAuNSwwLDAuOSwwLjQsMC45LDAuOXYxOS43QzI5LjYsMzcuMSwyOS4yLDM3LjUsMjguNywzNy41eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MS41LDM3LjZoLTYuMmMtMC41LDAtMC45LTAuNC0wLjktMC45VjE2LjljMC0wLjUsMC40LTAuOSwwLjktMC45aDYuMmMwLjUsMCwwLjksMC40LDAuOSwwLjl2MTkuN0M0Mi40LDM3LjIsNDIsMzcuNiw0MS41LDM3LjZ6Ii8+PC9zdmc+"/> </a> <a href="#" class="SelfTest" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Självtest" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTgwLjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTgwLjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6bm9uZTtzdHJva2U6dXJsKCNTVkdJRF8xXyk7c3Ryb2tlLXdpZHRoOjYuNzc0MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LnN0M3tmaWxsOiMxRTFFMUM7fTwvc3R5bGU+PGc+PHJlY3QgeD0iMC41IiB5PSIwLjUiIGNsYXNzPSJzdDAiIHdpZHRoPSIxNzkuNSIgaGVpZ2h0PSI1Mi40Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3OS41LDF2NTEuNEgxVjFIMTc5LjUgTTE4MC42LDBIMHY1My40aDE4MC42VjBMMTgwLjYsMHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTMxLjksNDcuOGMtNS41LTAuMS0xMC43LTIuMy0xNC42LTYuMmMtMy45LTQtNi05LjItNS45LTE0LjhjMC4xLTExLjMsOS40LTIwLjYsMjAuOC0yMC42bDAuMiwwYzUuNSwwLjEsMTAuNywyLjMsMTQuNiw2LjJjMy45LDQsNiw5LjIsNS45LDE0LjhjLTAuMSwxMS4zLTkuNCwyMC42LTIwLjgsMjAuNkwzMS45LDQ3Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTMyLjEsNS43djFsMC4yLDBjNS40LDAuMSwxMC41LDIuMiwxNC4zLDYuMWMzLjgsMy45LDUuOCw5LDUuOCwxNC40Yy0wLjEsMTEuMS05LjIsMjAuMS0yMC4zLDIwLjFsLTAuMiwwYy01LjQtMC4xLTEwLjUtMi4yLTE0LjMtNi4xYy0zLjgtMy45LTUuOC05LTUuOC0xNC40YzAuMS0xMS4xLDkuMi0yMC4xLDIwLjMtMjAuMUwzMi4xLDUuNyBNMzIuMSw1LjdjLTExLjYsMC0yMS4xLDkuNC0yMS4zLDIxYy0wLjEsMTEuNyw5LjMsMjEuNCwyMSwyMS41YzAuMSwwLDAuMSwwLDAuMiwwYzExLjYsMCwyMS4xLTkuNCwyMS4zLTIxYzAuMS0xMS43LTkuMy0yMS40LTIxLTIxLjVDMzIuMyw1LjcsMzIuMiw1LjcsMzIuMSw1LjdMMzIuMSw1Ljd6Ii8+PC9nPjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTMuMzkwNCIgeTE9Ii0zMDMuMjA3NyIgeDI9IjUwLjYwNDMiIHkyPSItMzAzLjIwNzciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIC0xIDY0LjAwMDUgLTI4My41MzY1KSI+PHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U0MTkxMyIvPjxzdG9wICBvZmZzZXQ9IjkuNzQ0MDIwZS0wMiIgc3R5bGU9InN0b3AtY29sb3I6I0VBNjUxNiIvPjxzdG9wICBvZmZzZXQ9IjAuMjE0OCIgc3R5bGU9InN0b3AtY29sb3I6I0YzQTUxOCIvPjxzdG9wICBvZmZzZXQ9IjAuMzEyMSIgc3R5bGU9InN0b3AtY29sb3I6I0Y5Q0QxQSIvPjxzdG9wICBvZmZzZXQ9IjAuMzg0IiBzdHlsZT0ic3RvcC1jb2xvcjojRkRFMzFBIi8+PHN0b3AgIG9mZnNldD0iMC40MjI4IiBzdHlsZT0ic3RvcC1jb2xvcjojRkVFQjFBIi8+PHN0b3AgIG9mZnNldD0iMC42MjMxIiBzdHlsZT0ic3RvcC1jb2xvcjojREZERTIwIi8+PHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwOTI0NSIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggY2xhc3M9InN0MiIgZD0iTTQ3LjIsMjYuN2MtMi4yLTE4LjYtMjcuOC0xOS0zMC40LDAiLz48Zz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjcuNywyNy4zbDguOC0xNS44bC0xLjgsMThjLTAuNiwxLjktMi43LDMtNC42LDIuNFMyNy4xLDI5LjIsMjcuNywyNy4zeiIvPjwvZz48Zz48Zz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNzYuNSwzMC41YzAsMC43LTAuMiwxLjQtMC41LDJzLTAuOCwxLjItMS40LDEuN2MtMC42LDAuNS0xLjQsMC45LTIuMiwxLjJjLTAuOCwwLjMtMS45LDAuNC0zLjEsMC40Yy0xLjMsMC0yLjQtMC4xLTMuNC0wLjRjLTEtMC4yLTIuMS0wLjYtMy4xLTEuMXYtM0g2M2MwLjksMC43LDEuOSwxLjMsMy4xLDEuN2MxLjIsMC40LDIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNGMtMC43LTAuMS0xLjQtMC4yLTIuMi0wLjRjLTEuNi0wLjMtMi43LTAuOS0zLjUtMS43Yy0wLjgtMC44LTEuMS0xLjktMS4xLTMuMWMwLTEuNSwwLjYtMi43LDEuOS0zLjZjMS4zLTAuOSwyLjgtMS40LDQuOC0xLjRjMS4yLDAsMi40LDAuMSwzLjQsMC40YzEsMC4yLDIsMC41LDIuOCwwLjl2Mi44aC0wLjJjLTAuNy0wLjYtMS42LTEtMi43LTEuNGMtMS4xLTAuNC0yLjItMC42LTMuNC0wLjZjLTEuMywwLTIuMywwLjMtMywwLjhjLTAuOCwwLjUtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzYuMSwyOC4zLDc2LjUsMjkuMyw3Ni41LDMwLjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTg0LjMsMzUuOWMwLDEuNi0wLjQsMi43LTEuMiwzLjVzLTEuOSwxLjItMy4yLDEuMmMtMC4zLDAtMC43LDAtMS4zLTAuMWMtMC41LTAuMS0xLTAuMS0xLjMtMC4ydi0yLjFoMC4xYzAuMiwwLjEsMC41LDAuMiwwLjksMC4zYzAuNCwwLjEsMC43LDAuMiwxLjEsMC4yYzAuNiwwLDEtMC4xLDEuNC0wLjJjMC4zLTAuMiwwLjYtMC40LDAuOC0wLjdjMC4yLTAuMywwLjMtMC43LDAuMy0xLjFjMC4xLTAuNCwwLjEtMSwwLjEtMS42VjI0LjJoLTIuOHYtMS45aDVWMzUuOXogTTg0LjUsMjAuMWgtMi41di0yLjNoMi41VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTk5LjMsMzUuNkg5N3YtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yQzg4LjQsMzQsODgsMzMsODgsMzEuN2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM3MtMC40LTAuNi0wLjgtMC44Yy0wLjMtMC4yLTAuNy0wLjMtMS4xLTAuNGMtMC40LTAuMS0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJjLTAuNywwLjItMS41LDAuNC0yLjIsMC43aC0wLjF2LTIuM2MwLjQtMC4xLDEuMS0wLjMsMS45LTAuNGMwLjgtMC4xLDEuNi0wLjIsMi40LTAuMmMwLjksMCwxLjgsMC4xLDIuNCwwLjJjMC43LDAuMiwxLjMsMC40LDEuOCwwLjhjMC41LDAuNCwwLjksMC44LDEuMSwxLjRzMC40LDEuMywwLjQsMi4yVjM1LjZ6IE05NywzMi4zdi0zLjdjLTAuNywwLTEuNSwwLjEtMi40LDAuMlM5MywyOSw5Mi40LDI5LjFjLTAuNiwwLjItMS4yLDAuNS0xLjYsMC45Yy0wLjQsMC40LTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdjMC41LDAuNCwxLjIsMC42LDIuMSwwLjZjMC44LDAsMS41LTAuMiwyLjItMC41Qzk1LjksMzMuMSw5Ni41LDMyLjcsOTcsMzIuM3ogTTkyLjgsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6IE05Ny44LDIwLjFoLTIuNHYtMi4zaDIuNFYyMC4xeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDYuMSwzNS42aC0yLjJWMTcuMWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTIyLjIsMjIuM2wtNS40LDEzLjNoLTIuMmwtNS4zLTEzLjNoMi40bDQuMSwxMC42bDQuMS0xMC42SDEyMi4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMzIuMywzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE0Ni40LDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45YzAuNiwwLjIsMS4yLDAuMywxLjksMC4zYzAuOSwwLDEuOC0wLjIsMi43LTAuNWMwLjktMC40LDEuNi0wLjcsMi0xLjFoMC4xdjIuNGMtMC44LDAuMy0xLjUsMC42LTIuMywwLjhzLTEuNiwwLjMtMi41LDAuM2MtMi4yLDAtMy45LTAuNi01LjItMS44Yy0xLjItMS4yLTEuOS0yLjktMS45LTUuMWMwLTIuMiwwLjYtMy45LDEuOC01LjJjMS4yLTEuMywyLjctMS45LDQuNy0xLjljMS44LDAsMy4yLDAuNSw0LjEsMS42YzEsMSwxLjUsMi41LDEuNSw0LjVWMjkuMnogTTE0NC4yLDI3LjVjMC0xLjItMC4zLTIuMS0wLjktMi43cy0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxNDQuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU5LjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM3MxLjcsMC41LDIuNSwwLjVjMSwwLDEuOC0wLjIsMi4zLTAuNWMwLjYtMC4zLDAuOC0wLjgsMC44LTEuNWMwLTAuNS0wLjItMC45LTAuNS0xLjJzLTAuOS0wLjUtMS43LTAuN2MtMC4zLTAuMS0wLjctMC4yLTEuMi0wLjNjLTAuNS0wLjEtMS0wLjItMS40LTAuM2MtMS4yLTAuMy0yLTAuOC0yLjUtMS40Yy0wLjUtMC42LTAuNy0xLjMtMC43LTIuMmMwLTAuNSwwLjEtMS4xLDAuMy0xLjVjMC4yLTAuNSwwLjYtMC45LDEtMS4zYzAuNC0wLjQsMS0wLjcsMS43LTAuOWMwLjctMC4yLDEuNS0wLjMsMi4zLTAuM2MwLjgsMCwxLjYsMC4xLDIuNCwwLjNjMC44LDAuMiwxLjUsMC40LDIsMC43djIuNGgtMC4xYy0wLjYtMC40LTEuMy0wLjgtMi4xLTEuMWMtMC44LTAuMy0xLjYtMC40LTIuNC0wLjRjLTAuOCwwLTEuNSwwLjItMi4xLDAuNWMtMC42LDAuMy0wLjgsMC44LTAuOCwxLjRjMCwwLjUsMC4yLDEsMC41LDEuMmMwLjMsMC4zLDAuOSwwLjUsMS42LDAuN2MwLjQsMC4xLDAuOSwwLjIsMS40LDAuM2MwLjUsMC4xLDAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTU5LjIsMzAsMTU5LjUsMzAuOCwxNTkuNSwzMS43eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNjkuOSwzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PC9nPjwvZz48L3N2Zz4="/> </a> <a href="#" class="PlayLimit" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelgränser" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjE5LjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjE5LjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6IzAwOTczOTt9LnN0M3tmaWxsOiNGRkZGRkY7c3Ryb2tlOiMwMDk3Mzk7c3Ryb2tlLXdpZHRoOjMuODcxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uc3Q0e2ZpbGw6bm9uZTtzdHJva2U6IzAwOTczOTtzdHJva2Utd2lkdGg6MS45MzU1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO308L3N0eWxlPjxnPjxyZWN0IHg9IjAuNSIgeT0iMC41IiBjbGFzcz0ic3QwIiB3aWR0aD0iMjE4LjUiIGhlaWdodD0iNTIuNCIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTguNSwxdjUxLjRIMVYxSDIxOC41IE0yMTkuNiwwSDB2NTMuNGgyMTkuNlYwTDIxOS42LDB6Ii8+PC9nPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03OC4yLDMwLjZjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuNCwxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTIuOWgwLjJjMC45LDAuNywxLjksMS4zLDMuMSwxLjdjMS4yLDAuNCwyLjMsMC42LDMuMywwLjZjMS41LDAsMi42LTAuMywzLjQtMC44YzAuOC0wLjUsMS4yLTEuMywxLjItMi4yYzAtMC44LTAuMi0xLjQtMC42LTEuN3MtMS0wLjctMS44LTAuOWMtMC42LTAuMi0xLjItMC4zLTEuOS0wLjRjLTAuNy0wLjEtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN3MtMS4xLTEuOS0xLjEtMy4xYzAtMS41LDAuNi0yLjcsMS45LTMuNmMxLjMtMC45LDIuOC0xLjQsNC44LTEuNGMxLjIsMCwyLjQsMC4xLDMuNCwwLjRjMSwwLjIsMiwwLjUsMi44LDAuOXYyLjhoLTAuMmMtMC43LTAuNi0xLjYtMS0yLjctMS40Yy0xLjEtMC40LTIuMi0wLjYtMy40LTAuNmMtMS4zLDAtMi4zLDAuMy0zLDAuOHMtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzcuOSwyOC4zLDc4LjIsMjkuMyw3OC4yLDMwLjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTkzLjYsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjgsMS40Yy0wLjcsMC4zLTEuNSwwLjUtMi4zLDAuNWMtMC43LDAtMS4zLTAuMS0xLjktMC4yYy0wLjYtMC4yLTEuMS0wLjQtMS43LTAuN3Y1LjZoLTIuMlYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEM5My4yLDI1LDkzLjYsMjYuNyw5My42LDI4Ljh6IE05MS4zLDI4LjljMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M5MSwzMS44LDkxLjMsMzAuNSw5MS4zLDI4Ljl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwOC4zLDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45czEuMiwwLjMsMS45LDAuM2MwLjksMCwxLjgtMC4yLDIuNy0wLjVjMC45LTAuNCwxLjYtMC43LDItMS4xaDAuMXYyLjRjLTAuOCwwLjMtMS41LDAuNi0yLjMsMC44cy0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOGMtMS4yLTEuMi0xLjktMi45LTEuOS01LjFjMC0yLjIsMC42LTMuOSwxLjgtNS4yYzEuMi0xLjMsMi43LTEuOSw0LjctMS45YzEuOCwwLDMuMiwwLjUsNC4xLDEuNmMxLDEsMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xMDYuMiwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN2MtMC42LTAuNi0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxMDYuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTE0LjEsMzUuNmgtMi4yVjE3LjFoMi4yVjM1LjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEyOS40LDM0LjFjMCwyLjMtMC41LDMuOS0xLjUsNWMtMSwxLjEtMi42LDEuNi00LjcsMS42Yy0wLjcsMC0xLjQsMC0yLjEtMC4xYy0wLjctMC4xLTEuMy0wLjItMi0wLjR2LTIuM2gwLjFjMC40LDAuMSwwLjksMC4zLDEuNywwLjVzMS42LDAuMywyLjQsMC4zYzAuOCwwLDEuNC0wLjEsMS45LTAuM2MwLjUtMC4yLDAuOS0wLjQsMS4yLTAuOGMwLjMtMC4zLDAuNS0wLjcsMC42LTEuMWMwLjEtMC40LDAuMi0wLjksMC4yLTEuNXYtMS4yYy0wLjcsMC41LTEuMywwLjktMS45LDEuMnMtMS40LDAuNC0yLjMsMC40Yy0xLjYsMC0yLjgtMC42LTMuOC0xLjdjLTAuOS0xLjEtMS40LTIuOC0xLjQtNC44YzAtMS4xLDAuMi0yLjEsMC41LTNjMC4zLTAuOCwwLjgtMS41LDEuMy0yLjFjMC41LTAuNiwxLjEtMSwxLjktMS4zYzAuNy0wLjMsMS41LTAuNSwyLjItMC41YzAuOCwwLDEuNCwwLjEsMS45LDAuMnMxLjEsMC40LDEuNiwwLjdsMC4xLTAuNmgyLjFWMzQuMXogTTEyNy4yLDMydi03LjJjLTAuNi0wLjMtMS4xLTAuNS0xLjctMC42Yy0wLjUtMC4xLTEtMC4yLTEuNS0wLjJjLTEuMiwwLTIuMiwwLjQtMi45LDEuMnMtMS4xLDItMS4xLDMuNmMwLDEuNSwwLjMsMi42LDAuOCwzLjRjMC41LDAuOCwxLjQsMS4yLDIuNiwxLjJjMC43LDAsMS4zLTAuMSwyLTAuNFMxMjYuNiwzMi40LDEyNy4yLDMyeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNDIuMiwyNC44aC0wLjFjLTAuMy0wLjEtMC43LTAuMS0xLTAuMmMtMC4zLDAtMC43LTAuMS0xLjEtMC4xYy0wLjcsMC0xLjQsMC4yLTIsMC41Yy0wLjYsMC4zLTEuMywwLjctMS45LDEuMnY5LjRIMTM0VjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1NC44LDM1LjZoLTIuMnYtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yYy0wLjgtMC44LTEuMi0xLjgtMS4yLTNjMC0xLDAuMi0xLjgsMC42LTIuNGMwLjQtMC42LDEtMS4xLDEuOC0xLjVjMC44LTAuNCwxLjgtMC42LDIuOS0wLjdzMi40LTAuMiwzLjctMC4zdi0wLjNjMC0wLjUtMC4xLTAuOS0wLjMtMS4zYy0wLjItMC4zLTAuNC0wLjYtMC44LTAuOGMtMC4zLTAuMi0wLjctMC4zLTEuMS0wLjRDMTUwLDI0LDE0OS41LDI0LDE0OSwyNGMtMC42LDAtMS4yLDAuMS0yLDAuMmMtMC43LDAuMi0xLjUsMC40LTIuMiwwLjdoLTAuMXYtMi4zYzAuNC0wLjEsMS4xLTAuMiwxLjktMC40YzAuOC0wLjEsMS42LTAuMiwyLjQtMC4yYzAuOSwwLDEuOCwwLjEsMi40LDAuMmMwLjcsMC4yLDEuMywwLjQsMS44LDAuOGMwLjUsMC40LDAuOSwwLjgsMS4xLDEuNGMwLjMsMC42LDAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTUyLjYsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNTEuNCwzMy4xLDE1MiwzMi44LDE1Mi42LDMyLjN6IE0xNDguNCwyMC4xSDE0NnYtMi4zaDIuNFYyMC4xeiBNMTUzLjMsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MC4zLDM1LjZoLTIuMnYtNy42YzAtMC42LDAtMS4yLTAuMS0xLjdzLTAuMi0xLTAuNC0xLjNjLTAuMi0wLjMtMC41LTAuNi0wLjktMC43Yy0wLjQtMC4yLTAuOS0wLjItMS41LTAuMmMtMC42LDAtMS4yLDAuMi0xLjksMC41Yy0wLjcsMC4zLTEuMywwLjctMS45LDEuMnY5LjloLTIuMlYyMi4zaDIuMnYxLjVjMC43LTAuNiwxLjQtMSwyLjItMS40YzAuNy0wLjMsMS41LTAuNSwyLjMtMC41YzEuNCwwLDIuNSwwLjQsMy4zLDEuM2MwLjgsMC45LDEuMSwyLjEsMS4xLDMuN1YzNS42eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODQuMywzMS44YzAsMS4yLTAuNSwyLjItMS41LDNjLTEsMC44LTIuNCwxLjItNC4xLDEuMmMtMSwwLTEuOS0wLjEtMi43LTAuNGMtMC44LTAuMi0xLjUtMC41LTIuMS0wLjh2LTIuNWgwLjFjMC43LDAuNSwxLjUsMSwyLjQsMS4zczEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zYzAuNSwwLjEsMC45LDAuMiwxLjMsMC4zYzEsMC4yLDEuOCwwLjYsMi40LDEuMkMxODQsMzAsMTg0LjMsMzAuOCwxODQuMywzMS44eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOTguNywyOS4yaC05LjhjMCwwLjgsMC4xLDEuNSwwLjQsMi4xczAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOHMtMS42LDAuMy0yLjUsMC4zYy0yLjIsMC0zLjktMC42LTUuMi0xLjhjLTEuMi0xLjItMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZzMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xOTYuNSwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN3MtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTk2LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTIxMC41LDI0LjhoLTAuMWMtMC4zLTAuMS0wLjctMC4xLTEtMC4yYy0wLjMsMC0wLjctMC4xLTEuMS0wLjFjLTAuNywwLTEuNCwwLjItMiwwLjVjLTAuNiwwLjMtMS4zLDAuNy0xLjksMS4ydjkuNGgtMi4yVjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PC9nPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIuNSw0Ny4zYy0xMS4yLDAtMjAuMy05LjEtMjAuMy0yMC4zUzIxLjMsNi43LDMyLjUsNi43YzExLjIsMCwyMC4zLDkuMSwyMC4zLDIwLjNTNDMuNyw0Ny4zLDMyLjUsNDcuM3oiLz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzIuNSw3LjdjMTAuNywwLDE5LjMsOC43LDE5LjMsMTkuM2MwLDEwLjctOC43LDE5LjMtMTkuMywxOS4zYy0xMC43LDAtMTkuMy04LjctMTkuMy0xOS4zQzEzLjIsMTYuMywyMS44LDcuNywzMi41LDcuNyBNMzIuNSw1LjdjLTExLjcsMC0yMS4zLDkuNS0yMS4zLDIxLjNjMCwxMS43LDkuNSwyMS4zLDIxLjMsMjEuM2MxMS43LDAsMjEuMy05LjUsMjEuMy0yMS4zQzUzLjcsMTUuMiw0NC4yLDUuNywzMi41LDUuN0wzMi41LDUuN3oiLz48L2c+PGxpbmUgY2xhc3M9InN0MyIgeDE9IjI2LjciIHkxPSIxNC4zIiB4Mj0iMzQuNCIgeTI9IjI2LjUiLz48bGluZSBjbGFzcz0ic3QzIiB4MT0iMjUuMyIgeTE9IjMzLjMiIHgyPSIzNC41IiB5Mj0iMjYuOSIvPjxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjQ4LjYiIGN5PSIzNi4yIiByPSIxMi45Ii8+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQxLjMsMjkuOEg0NHY1LjRoMGw0LjItNS40aDMuNGwtNC44LDYuMWw1LDYuN2gtMy4zbC00LjUtNmgwdjZoLTIuN1YyOS44eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01NS4xLDM0LjJ2MS4yaDBjMC4yLTAuNCwwLjUtMC43LDAuOS0xYzAuMy0wLjIsMC42LTAuNCwwLjktMC40YzAuMiwwLDAuMywwLDAuNSwwdjIuN2MtMC4yLDAtMC40LTAuMS0wLjYtMC4xYy0wLjUsMC0wLjksMC4yLTEuMiwwLjVjLTAuMywwLjQtMC40LDAuOS0wLjQsMS41djMuN2gtMi41di04LjNINTUuMXoiLz48L2c+PGxpbmUgY2xhc3M9InN0NCIgeDE9IjE2IiB5MT0iMjciIHgyPSIxOC40IiB5Mj0iMjciLz48bGluZSBjbGFzcz0ic3Q0IiB4MT0iMzIuNyIgeTE9IjEyLjciIHgyPSIzMi43IiB5Mj0iMTAuMyIvPjxsaW5lIGNsYXNzPSJzdDQiIHgxPSIzMi41IiB5MT0iNDQuMiIgeDI9IjMyLjUiIHkyPSI0MS44Ii8+PC9zdmc+"/> </a><div id="InloggadPortrait" style="color:#fff; display:inline-block; float: right; font-size: 12px; padding-top: 4px;"></div></div><div id="RGSLandscape" style="margin-left: auto; margin-right: auto; width: 100%; display:none; white-space: nowrap;"> <a href="#" class="PausePlay" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelpaus" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTg0LjkgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTg0LjkgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6I0UyMEQxODt9PC9zdHlsZT48Zz48cmVjdCB4PSIwLjUiIHk9IjAuNSIgY2xhc3M9InN0MCIgd2lkdGg9IjE4My45IiBoZWlnaHQ9IjUyLjQiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTgzLjksMXY1MS40SDFWMUgxODMuOSBNMTg0LjksMEgwdjUzLjRoMTg0LjlWMEwxODQuOSwweiIvPjwvZz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTMuMywyNi44QzUzLjMsMzguNSw0My44LDQ4LDMyLDQ4Yy0xMS43LDAtMjEuMy05LjUtMjEuMy0yMS4zQzEwLjgsMTUsMjAuMyw1LjUsMzIsNS41QzQzLjgsNS41LDUzLjMsMTUsNTMuMywyNi44eiIvPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03Ny4xLDMwLjVjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuMywxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTNoMC4yYzAuOSwwLjcsMS45LDEuMywzLjEsMS43czIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNHMtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN2MtMC44LTAuOC0xLjEtMS45LTEuMS0zLjFjMC0xLjUsMC42LTIuNywxLjktMy42YzEuMy0wLjksMi44LTEuNCw0LjgtMS40YzEuMiwwLDIuNCwwLjEsMy40LDAuNGMxLDAuMiwyLDAuNSwyLjgsMC45djIuOGgtMC4yYy0wLjctMC42LTEuNi0xLTIuNy0xLjRjLTEuMS0wLjQtMi4yLTAuNi0zLjQtMC42Yy0xLjMsMC0yLjMsMC4zLTMsMC44Yy0wLjgsMC41LTEuMSwxLjItMS4xLDJjMCwwLjcsMC4yLDEuMywwLjYsMS43YzAuNCwwLjQsMS4xLDAuNywyLDFjMC41LDAuMSwxLjIsMC4yLDIuMiwwLjRjMC45LDAuMiwxLjcsMC4zLDIuNCwwLjVjMS4zLDAuMywyLjMsMC45LDMsMS42Qzc2LjcsMjguMiw3Ny4xLDI5LjIsNzcuMSwzMC41eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi42LDI4LjhjMCwxLjEtMC4yLDIuMS0wLjUsM2MtMC4zLDAuOS0wLjcsMS42LTEuMywyLjNjLTAuNSwwLjYtMS4xLDEtMS45LDEuNHMtMS41LDAuNS0yLjMsMC41Yy0wLjcsMC0xLjMtMC4xLTEuOS0wLjJjLTAuNi0wLjItMS4xLTAuNC0xLjctMC43djUuNmgtMi4yVjIyLjNoMi4ydjEuNGMwLjYtMC41LDEuMy0wLjksMi0xLjNjMC43LTAuMywxLjUtMC41LDIuNC0wLjVjMS42LDAsMi44LDAuNiwzLjcsMS44QzkyLjIsMjQuOSw5Mi42LDI2LjYsOTIuNiwyOC44eiBNOTAuMywyOC44YzAtMS42LTAuMy0yLjgtMC44LTMuNkM4OC45LDI0LjQsODguMSwyNCw4NywyNGMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M4OS45LDMxLjcsOTAuMywzMC41LDkwLjMsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA3LjUsMjkuMWgtOS44YzAsMC44LDAuMSwxLjUsMC40LDIuMWMwLjIsMC42LDAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOGMtMC44LDAuMi0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOHMtMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZjMSwxLDEuNSwyLjUsMS41LDQuNVYyOS4xeiBNMTA1LjMsMjcuNGMwLTEuMi0wLjMtMi4xLTAuOS0yLjdjLTAuNi0wLjYtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTA1LjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTExMy4zLDM1LjZoLTIuMlYxN2gyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTI5LjcsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjksMS40cy0xLjUsMC41LTIuMywwLjVjLTAuNywwLTEuMy0wLjEtMS45LTAuMmMtMC42LTAuMi0xLjEtMC40LTEuNy0wLjd2NS42SDExOFYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEMxMjkuMywyNC45LDEyOS43LDI2LjYsMTI5LjcsMjguOHogTTEyNy40LDI4LjhjMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0MxMjcuMSwzMS43LDEyNy40LDMwLjUsMTI3LjQsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTQzLjgsMzUuNmgtMi4ydi0xLjRjLTAuMiwwLjEtMC41LDAuMy0wLjgsMC42Yy0wLjMsMC4yLTAuNywwLjQtMSwwLjZjLTAuNCwwLjItMC44LDAuMy0xLjMsMC41Yy0wLjUsMC4xLTEuMSwwLjItMS43LDAuMmMtMS4yLDAtMi4yLTAuNC0zLTEuMnMtMS4yLTEuOC0xLjItM2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM2MtMC4yLTAuMy0wLjQtMC42LTAuOC0wLjhjLTAuMy0wLjItMC43LTAuMy0xLjEtMC40cy0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJzLTEuNSwwLjQtMi4yLDAuN2gtMC4xdi0yLjNjMC40LTAuMSwxLjEtMC4zLDEuOS0wLjRjMC44LTAuMSwxLjYtMC4yLDIuNC0wLjJjMC45LDAsMS44LDAuMSwyLjQsMC4yYzAuNywwLjIsMS4zLDAuNCwxLjgsMC44YzAuNSwwLjQsMC45LDAuOCwxLjEsMS40czAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTQxLjUsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNDAuNCwzMy4xLDE0MSwzMi43LDE0MS41LDMyLjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1OS4zLDM1LjZoLTIuMnYtMS41Yy0wLjgsMC42LTEuNSwxLjEtMi4yLDEuNHMtMS41LDAuNS0yLjMsMC41Yy0xLjQsMC0yLjUtMC40LTMuMy0xLjNzLTEuMi0yLjEtMS4yLTMuOHYtOC42aDIuMnY3LjZjMCwwLjcsMCwxLjMsMC4xLDEuN2MwLjEsMC41LDAuMiwwLjksMC40LDEuMmMwLjIsMC4zLDAuNSwwLjYsMC44LDAuOGMwLjMsMC4yLDAuOCwwLjIsMS41LDAuMmMwLjYsMCwxLjItMC4yLDEuOS0wLjVjMC43LTAuMywxLjMtMC43LDEuOS0xLjJ2LTkuOWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTczLjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM2MwLjksMC4zLDEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zczAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTczLjIsMzAsMTczLjUsMzAuOCwxNzMuNSwzMS43eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjcsMzcuNWgtNi4yYy0wLjUsMC0wLjktMC40LTAuOS0wLjlWMTYuOWMwLTAuNSwwLjQtMC45LDAuOS0wLjloNi4yYzAuNSwwLDAuOSwwLjQsMC45LDAuOXYxOS43QzI5LjYsMzcuMSwyOS4yLDM3LjUsMjguNywzNy41eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MS41LDM3LjZoLTYuMmMtMC41LDAtMC45LTAuNC0wLjktMC45VjE2LjljMC0wLjUsMC40LTAuOSwwLjktMC45aDYuMmMwLjUsMCwwLjksMC40LDAuOSwwLjl2MTkuN0M0Mi40LDM3LjIsNDIsMzcuNiw0MS41LDM3LjZ6Ii8+PC9zdmc+"/> </a> <a href="#" class="SelfTest" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Självtest" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTgwLjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTgwLjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6bm9uZTtzdHJva2U6dXJsKCNTVkdJRF8xXyk7c3Ryb2tlLXdpZHRoOjYuNzc0MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LnN0M3tmaWxsOiMxRTFFMUM7fTwvc3R5bGU+PGc+PHJlY3QgeD0iMC41IiB5PSIwLjUiIGNsYXNzPSJzdDAiIHdpZHRoPSIxNzkuNSIgaGVpZ2h0PSI1Mi40Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3OS41LDF2NTEuNEgxVjFIMTc5LjUgTTE4MC42LDBIMHY1My40aDE4MC42VjBMMTgwLjYsMHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTMxLjksNDcuOGMtNS41LTAuMS0xMC43LTIuMy0xNC42LTYuMmMtMy45LTQtNi05LjItNS45LTE0LjhjMC4xLTExLjMsOS40LTIwLjYsMjAuOC0yMC42bDAuMiwwYzUuNSwwLjEsMTAuNywyLjMsMTQuNiw2LjJjMy45LDQsNiw5LjIsNS45LDE0LjhjLTAuMSwxMS4zLTkuNCwyMC42LTIwLjgsMjAuNkwzMS45LDQ3Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTMyLjEsNS43djFsMC4yLDBjNS40LDAuMSwxMC41LDIuMiwxNC4zLDYuMWMzLjgsMy45LDUuOCw5LDUuOCwxNC40Yy0wLjEsMTEuMS05LjIsMjAuMS0yMC4zLDIwLjFsLTAuMiwwYy01LjQtMC4xLTEwLjUtMi4yLTE0LjMtNi4xYy0zLjgtMy45LTUuOC05LTUuOC0xNC40YzAuMS0xMS4xLDkuMi0yMC4xLDIwLjMtMjAuMUwzMi4xLDUuNyBNMzIuMSw1LjdjLTExLjYsMC0yMS4xLDkuNC0yMS4zLDIxYy0wLjEsMTEuNyw5LjMsMjEuNCwyMSwyMS41YzAuMSwwLDAuMSwwLDAuMiwwYzExLjYsMCwyMS4xLTkuNCwyMS4zLTIxYzAuMS0xMS43LTkuMy0yMS40LTIxLTIxLjVDMzIuMyw1LjcsMzIuMiw1LjcsMzIuMSw1LjdMMzIuMSw1Ljd6Ii8+PC9nPjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTMuMzkwNCIgeTE9Ii0zMDMuMjA3NyIgeDI9IjUwLjYwNDMiIHkyPSItMzAzLjIwNzciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIC0xIDY0LjAwMDUgLTI4My41MzY1KSI+PHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U0MTkxMyIvPjxzdG9wICBvZmZzZXQ9IjkuNzQ0MDIwZS0wMiIgc3R5bGU9InN0b3AtY29sb3I6I0VBNjUxNiIvPjxzdG9wICBvZmZzZXQ9IjAuMjE0OCIgc3R5bGU9InN0b3AtY29sb3I6I0YzQTUxOCIvPjxzdG9wICBvZmZzZXQ9IjAuMzEyMSIgc3R5bGU9InN0b3AtY29sb3I6I0Y5Q0QxQSIvPjxzdG9wICBvZmZzZXQ9IjAuMzg0IiBzdHlsZT0ic3RvcC1jb2xvcjojRkRFMzFBIi8+PHN0b3AgIG9mZnNldD0iMC40MjI4IiBzdHlsZT0ic3RvcC1jb2xvcjojRkVFQjFBIi8+PHN0b3AgIG9mZnNldD0iMC42MjMxIiBzdHlsZT0ic3RvcC1jb2xvcjojREZERTIwIi8+PHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwOTI0NSIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggY2xhc3M9InN0MiIgZD0iTTQ3LjIsMjYuN2MtMi4yLTE4LjYtMjcuOC0xOS0zMC40LDAiLz48Zz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjcuNywyNy4zbDguOC0xNS44bC0xLjgsMThjLTAuNiwxLjktMi43LDMtNC42LDIuNFMyNy4xLDI5LjIsMjcuNywyNy4zeiIvPjwvZz48Zz48Zz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNzYuNSwzMC41YzAsMC43LTAuMiwxLjQtMC41LDJzLTAuOCwxLjItMS40LDEuN2MtMC42LDAuNS0xLjQsMC45LTIuMiwxLjJjLTAuOCwwLjMtMS45LDAuNC0zLjEsMC40Yy0xLjMsMC0yLjQtMC4xLTMuNC0wLjRjLTEtMC4yLTIuMS0wLjYtMy4xLTEuMXYtM0g2M2MwLjksMC43LDEuOSwxLjMsMy4xLDEuN2MxLjIsMC40LDIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNGMtMC43LTAuMS0xLjQtMC4yLTIuMi0wLjRjLTEuNi0wLjMtMi43LTAuOS0zLjUtMS43Yy0wLjgtMC44LTEuMS0xLjktMS4xLTMuMWMwLTEuNSwwLjYtMi43LDEuOS0zLjZjMS4zLTAuOSwyLjgtMS40LDQuOC0xLjRjMS4yLDAsMi40LDAuMSwzLjQsMC40YzEsMC4yLDIsMC41LDIuOCwwLjl2Mi44aC0wLjJjLTAuNy0wLjYtMS42LTEtMi43LTEuNGMtMS4xLTAuNC0yLjItMC42LTMuNC0wLjZjLTEuMywwLTIuMywwLjMtMywwLjhjLTAuOCwwLjUtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzYuMSwyOC4zLDc2LjUsMjkuMyw3Ni41LDMwLjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTg0LjMsMzUuOWMwLDEuNi0wLjQsMi43LTEuMiwzLjVzLTEuOSwxLjItMy4yLDEuMmMtMC4zLDAtMC43LDAtMS4zLTAuMWMtMC41LTAuMS0xLTAuMS0xLjMtMC4ydi0yLjFoMC4xYzAuMiwwLjEsMC41LDAuMiwwLjksMC4zYzAuNCwwLjEsMC43LDAuMiwxLjEsMC4yYzAuNiwwLDEtMC4xLDEuNC0wLjJjMC4zLTAuMiwwLjYtMC40LDAuOC0wLjdjMC4yLTAuMywwLjMtMC43LDAuMy0xLjFjMC4xLTAuNCwwLjEtMSwwLjEtMS42VjI0LjJoLTIuOHYtMS45aDVWMzUuOXogTTg0LjUsMjAuMWgtMi41di0yLjNoMi41VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTk5LjMsMzUuNkg5N3YtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yQzg4LjQsMzQsODgsMzMsODgsMzEuN2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM3MtMC40LTAuNi0wLjgtMC44Yy0wLjMtMC4yLTAuNy0wLjMtMS4xLTAuNGMtMC40LTAuMS0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJjLTAuNywwLjItMS41LDAuNC0yLjIsMC43aC0wLjF2LTIuM2MwLjQtMC4xLDEuMS0wLjMsMS45LTAuNGMwLjgtMC4xLDEuNi0wLjIsMi40LTAuMmMwLjksMCwxLjgsMC4xLDIuNCwwLjJjMC43LDAuMiwxLjMsMC40LDEuOCwwLjhjMC41LDAuNCwwLjksMC44LDEuMSwxLjRzMC40LDEuMywwLjQsMi4yVjM1LjZ6IE05NywzMi4zdi0zLjdjLTAuNywwLTEuNSwwLjEtMi40LDAuMlM5MywyOSw5Mi40LDI5LjFjLTAuNiwwLjItMS4yLDAuNS0xLjYsMC45Yy0wLjQsMC40LTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdjMC41LDAuNCwxLjIsMC42LDIuMSwwLjZjMC44LDAsMS41LTAuMiwyLjItMC41Qzk1LjksMzMuMSw5Ni41LDMyLjcsOTcsMzIuM3ogTTkyLjgsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6IE05Ny44LDIwLjFoLTIuNHYtMi4zaDIuNFYyMC4xeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDYuMSwzNS42aC0yLjJWMTcuMWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTIyLjIsMjIuM2wtNS40LDEzLjNoLTIuMmwtNS4zLTEzLjNoMi40bDQuMSwxMC42bDQuMS0xMC42SDEyMi4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMzIuMywzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE0Ni40LDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45YzAuNiwwLjIsMS4yLDAuMywxLjksMC4zYzAuOSwwLDEuOC0wLjIsMi43LTAuNWMwLjktMC40LDEuNi0wLjcsMi0xLjFoMC4xdjIuNGMtMC44LDAuMy0xLjUsMC42LTIuMywwLjhzLTEuNiwwLjMtMi41LDAuM2MtMi4yLDAtMy45LTAuNi01LjItMS44Yy0xLjItMS4yLTEuOS0yLjktMS45LTUuMWMwLTIuMiwwLjYtMy45LDEuOC01LjJjMS4yLTEuMywyLjctMS45LDQuNy0xLjljMS44LDAsMy4yLDAuNSw0LjEsMS42YzEsMSwxLjUsMi41LDEuNSw0LjVWMjkuMnogTTE0NC4yLDI3LjVjMC0xLjItMC4zLTIuMS0wLjktMi43cy0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxNDQuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU5LjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM3MxLjcsMC41LDIuNSwwLjVjMSwwLDEuOC0wLjIsMi4zLTAuNWMwLjYtMC4zLDAuOC0wLjgsMC44LTEuNWMwLTAuNS0wLjItMC45LTAuNS0xLjJzLTAuOS0wLjUtMS43LTAuN2MtMC4zLTAuMS0wLjctMC4yLTEuMi0wLjNjLTAuNS0wLjEtMS0wLjItMS40LTAuM2MtMS4yLTAuMy0yLTAuOC0yLjUtMS40Yy0wLjUtMC42LTAuNy0xLjMtMC43LTIuMmMwLTAuNSwwLjEtMS4xLDAuMy0xLjVjMC4yLTAuNSwwLjYtMC45LDEtMS4zYzAuNC0wLjQsMS0wLjcsMS43LTAuOWMwLjctMC4yLDEuNS0wLjMsMi4zLTAuM2MwLjgsMCwxLjYsMC4xLDIuNCwwLjNjMC44LDAuMiwxLjUsMC40LDIsMC43djIuNGgtMC4xYy0wLjYtMC40LTEuMy0wLjgtMi4xLTEuMWMtMC44LTAuMy0xLjYtMC40LTIuNC0wLjRjLTAuOCwwLTEuNSwwLjItMi4xLDAuNWMtMC42LDAuMy0wLjgsMC44LTAuOCwxLjRjMCwwLjUsMC4yLDEsMC41LDEuMmMwLjMsMC4zLDAuOSwwLjUsMS42LDAuN2MwLjQsMC4xLDAuOSwwLjIsMS40LDAuM2MwLjUsMC4xLDAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTU5LjIsMzAsMTU5LjUsMzAuOCwxNTkuNSwzMS43eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNjkuOSwzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PC9nPjwvZz48L3N2Zz4="/> </a> <a href="#" class="PlayLimit" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelgränser" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjE5LjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjE5LjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6IzAwOTczOTt9LnN0M3tmaWxsOiNGRkZGRkY7c3Ryb2tlOiMwMDk3Mzk7c3Ryb2tlLXdpZHRoOjMuODcxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uc3Q0e2ZpbGw6bm9uZTtzdHJva2U6IzAwOTczOTtzdHJva2Utd2lkdGg6MS45MzU1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO308L3N0eWxlPjxnPjxyZWN0IHg9IjAuNSIgeT0iMC41IiBjbGFzcz0ic3QwIiB3aWR0aD0iMjE4LjUiIGhlaWdodD0iNTIuNCIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTguNSwxdjUxLjRIMVYxSDIxOC41IE0yMTkuNiwwSDB2NTMuNGgyMTkuNlYwTDIxOS42LDB6Ii8+PC9nPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03OC4yLDMwLjZjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuNCwxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTIuOWgwLjJjMC45LDAuNywxLjksMS4zLDMuMSwxLjdjMS4yLDAuNCwyLjMsMC42LDMuMywwLjZjMS41LDAsMi42LTAuMywzLjQtMC44YzAuOC0wLjUsMS4yLTEuMywxLjItMi4yYzAtMC44LTAuMi0xLjQtMC42LTEuN3MtMS0wLjctMS44LTAuOWMtMC42LTAuMi0xLjItMC4zLTEuOS0wLjRjLTAuNy0wLjEtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN3MtMS4xLTEuOS0xLjEtMy4xYzAtMS41LDAuNi0yLjcsMS45LTMuNmMxLjMtMC45LDIuOC0xLjQsNC44LTEuNGMxLjIsMCwyLjQsMC4xLDMuNCwwLjRjMSwwLjIsMiwwLjUsMi44LDAuOXYyLjhoLTAuMmMtMC43LTAuNi0xLjYtMS0yLjctMS40Yy0xLjEtMC40LTIuMi0wLjYtMy40LTAuNmMtMS4zLDAtMi4zLDAuMy0zLDAuOHMtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzcuOSwyOC4zLDc4LjIsMjkuMyw3OC4yLDMwLjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTkzLjYsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjgsMS40Yy0wLjcsMC4zLTEuNSwwLjUtMi4zLDAuNWMtMC43LDAtMS4zLTAuMS0xLjktMC4yYy0wLjYtMC4yLTEuMS0wLjQtMS43LTAuN3Y1LjZoLTIuMlYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEM5My4yLDI1LDkzLjYsMjYuNyw5My42LDI4Ljh6IE05MS4zLDI4LjljMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M5MSwzMS44LDkxLjMsMzAuNSw5MS4zLDI4Ljl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwOC4zLDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45czEuMiwwLjMsMS45LDAuM2MwLjksMCwxLjgtMC4yLDIuNy0wLjVjMC45LTAuNCwxLjYtMC43LDItMS4xaDAuMXYyLjRjLTAuOCwwLjMtMS41LDAuNi0yLjMsMC44cy0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOGMtMS4yLTEuMi0xLjktMi45LTEuOS01LjFjMC0yLjIsMC42LTMuOSwxLjgtNS4yYzEuMi0xLjMsMi43LTEuOSw0LjctMS45YzEuOCwwLDMuMiwwLjUsNC4xLDEuNmMxLDEsMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xMDYuMiwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN2MtMC42LTAuNi0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxMDYuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTE0LjEsMzUuNmgtMi4yVjE3LjFoMi4yVjM1LjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEyOS40LDM0LjFjMCwyLjMtMC41LDMuOS0xLjUsNWMtMSwxLjEtMi42LDEuNi00LjcsMS42Yy0wLjcsMC0xLjQsMC0yLjEtMC4xYy0wLjctMC4xLTEuMy0wLjItMi0wLjR2LTIuM2gwLjFjMC40LDAuMSwwLjksMC4zLDEuNywwLjVzMS42LDAuMywyLjQsMC4zYzAuOCwwLDEuNC0wLjEsMS45LTAuM2MwLjUtMC4yLDAuOS0wLjQsMS4yLTAuOGMwLjMtMC4zLDAuNS0wLjcsMC42LTEuMWMwLjEtMC40LDAuMi0wLjksMC4yLTEuNXYtMS4yYy0wLjcsMC41LTEuMywwLjktMS45LDEuMnMtMS40LDAuNC0yLjMsMC40Yy0xLjYsMC0yLjgtMC42LTMuOC0xLjdjLTAuOS0xLjEtMS40LTIuOC0xLjQtNC44YzAtMS4xLDAuMi0yLjEsMC41LTNjMC4zLTAuOCwwLjgtMS41LDEuMy0yLjFjMC41LTAuNiwxLjEtMSwxLjktMS4zYzAuNy0wLjMsMS41LTAuNSwyLjItMC41YzAuOCwwLDEuNCwwLjEsMS45LDAuMnMxLjEsMC40LDEuNiwwLjdsMC4xLTAuNmgyLjFWMzQuMXogTTEyNy4yLDMydi03LjJjLTAuNi0wLjMtMS4xLTAuNS0xLjctMC42Yy0wLjUtMC4xLTEtMC4yLTEuNS0wLjJjLTEuMiwwLTIuMiwwLjQtMi45LDEuMnMtMS4xLDItMS4xLDMuNmMwLDEuNSwwLjMsMi42LDAuOCwzLjRjMC41LDAuOCwxLjQsMS4yLDIuNiwxLjJjMC43LDAsMS4zLTAuMSwyLTAuNFMxMjYuNiwzMi40LDEyNy4yLDMyeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNDIuMiwyNC44aC0wLjFjLTAuMy0wLjEtMC43LTAuMS0xLTAuMmMtMC4zLDAtMC43LTAuMS0xLjEtMC4xYy0wLjcsMC0xLjQsMC4yLTIsMC41Yy0wLjYsMC4zLTEuMywwLjctMS45LDEuMnY5LjRIMTM0VjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1NC44LDM1LjZoLTIuMnYtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yYy0wLjgtMC44LTEuMi0xLjgtMS4yLTNjMC0xLDAuMi0xLjgsMC42LTIuNGMwLjQtMC42LDEtMS4xLDEuOC0xLjVjMC44LTAuNCwxLjgtMC42LDIuOS0wLjdzMi40LTAuMiwzLjctMC4zdi0wLjNjMC0wLjUtMC4xLTAuOS0wLjMtMS4zYy0wLjItMC4zLTAuNC0wLjYtMC44LTAuOGMtMC4zLTAuMi0wLjctMC4zLTEuMS0wLjRDMTUwLDI0LDE0OS41LDI0LDE0OSwyNGMtMC42LDAtMS4yLDAuMS0yLDAuMmMtMC43LDAuMi0xLjUsMC40LTIuMiwwLjdoLTAuMXYtMi4zYzAuNC0wLjEsMS4xLTAuMiwxLjktMC40YzAuOC0wLjEsMS42LTAuMiwyLjQtMC4yYzAuOSwwLDEuOCwwLjEsMi40LDAuMmMwLjcsMC4yLDEuMywwLjQsMS44LDAuOGMwLjUsMC40LDAuOSwwLjgsMS4xLDEuNGMwLjMsMC42LDAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTUyLjYsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNTEuNCwzMy4xLDE1MiwzMi44LDE1Mi42LDMyLjN6IE0xNDguNCwyMC4xSDE0NnYtMi4zaDIuNFYyMC4xeiBNMTUzLjMsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MC4zLDM1LjZoLTIuMnYtNy42YzAtMC42LDAtMS4yLTAuMS0xLjdzLTAuMi0xLTAuNC0xLjNjLTAuMi0wLjMtMC41LTAuNi0wLjktMC43Yy0wLjQtMC4yLTAuOS0wLjItMS41LTAuMmMtMC42LDAtMS4yLDAuMi0xLjksMC41Yy0wLjcsMC4zLTEuMywwLjctMS45LDEuMnY5LjloLTIuMlYyMi4zaDIuMnYxLjVjMC43LTAuNiwxLjQtMSwyLjItMS40YzAuNy0wLjMsMS41LTAuNSwyLjMtMC41YzEuNCwwLDIuNSwwLjQsMy4zLDEuM2MwLjgsMC45LDEuMSwyLjEsMS4xLDMuN1YzNS42eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODQuMywzMS44YzAsMS4yLTAuNSwyLjItMS41LDNjLTEsMC44LTIuNCwxLjItNC4xLDEuMmMtMSwwLTEuOS0wLjEtMi43LTAuNGMtMC44LTAuMi0xLjUtMC41LTIuMS0wLjh2LTIuNWgwLjFjMC43LDAuNSwxLjUsMSwyLjQsMS4zczEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zYzAuNSwwLjEsMC45LDAuMiwxLjMsMC4zYzEsMC4yLDEuOCwwLjYsMi40LDEuMkMxODQsMzAsMTg0LjMsMzAuOCwxODQuMywzMS44eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOTguNywyOS4yaC05LjhjMCwwLjgsMC4xLDEuNSwwLjQsMi4xczAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOHMtMS42LDAuMy0yLjUsMC4zYy0yLjIsMC0zLjktMC42LTUuMi0xLjhjLTEuMi0xLjItMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZzMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xOTYuNSwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN3MtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTk2LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTIxMC41LDI0LjhoLTAuMWMtMC4zLTAuMS0wLjctMC4xLTEtMC4yYy0wLjMsMC0wLjctMC4xLTEuMS0wLjFjLTAuNywwLTEuNCwwLjItMiwwLjVjLTAuNiwwLjMtMS4zLDAuNy0xLjksMS4ydjkuNGgtMi4yVjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PC9nPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIuNSw0Ny4zYy0xMS4yLDAtMjAuMy05LjEtMjAuMy0yMC4zUzIxLjMsNi43LDMyLjUsNi43YzExLjIsMCwyMC4zLDkuMSwyMC4zLDIwLjNTNDMuNyw0Ny4zLDMyLjUsNDcuM3oiLz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzIuNSw3LjdjMTAuNywwLDE5LjMsOC43LDE5LjMsMTkuM2MwLDEwLjctOC43LDE5LjMtMTkuMywxOS4zYy0xMC43LDAtMTkuMy04LjctMTkuMy0xOS4zQzEzLjIsMTYuMywyMS44LDcuNywzMi41LDcuNyBNMzIuNSw1LjdjLTExLjcsMC0yMS4zLDkuNS0yMS4zLDIxLjNjMCwxMS43LDkuNSwyMS4zLDIxLjMsMjEuM2MxMS43LDAsMjEuMy05LjUsMjEuMy0yMS4zQzUzLjcsMTUuMiw0NC4yLDUuNywzMi41LDUuN0wzMi41LDUuN3oiLz48L2c+PGxpbmUgY2xhc3M9InN0MyIgeDE9IjI2LjciIHkxPSIxNC4zIiB4Mj0iMzQuNCIgeTI9IjI2LjUiLz48bGluZSBjbGFzcz0ic3QzIiB4MT0iMjUuMyIgeTE9IjMzLjMiIHgyPSIzNC41IiB5Mj0iMjYuOSIvPjxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjQ4LjYiIGN5PSIzNi4yIiByPSIxMi45Ii8+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQxLjMsMjkuOEg0NHY1LjRoMGw0LjItNS40aDMuNGwtNC44LDYuMWw1LDYuN2gtMy4zbC00LjUtNmgwdjZoLTIuN1YyOS44eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01NS4xLDM0LjJ2MS4yaDBjMC4yLTAuNCwwLjUtMC43LDAuOS0xYzAuMy0wLjIsMC42LTAuNCwwLjktMC40YzAuMiwwLDAuMywwLDAuNSwwdjIuN2MtMC4yLDAtMC40LTAuMS0wLjYtMC4xYy0wLjUsMC0wLjksMC4yLTEuMiwwLjVjLTAuMywwLjQtMC40LDAuOS0wLjQsMS41djMuN2gtMi41di04LjNINTUuMXoiLz48L2c+PGxpbmUgY2xhc3M9InN0NCIgeDE9IjE2IiB5MT0iMjciIHgyPSIxOC40IiB5Mj0iMjciLz48bGluZSBjbGFzcz0ic3Q0IiB4MT0iMzIuNyIgeTE9IjEyLjciIHgyPSIzMi43IiB5Mj0iMTAuMyIvPjxsaW5lIGNsYXNzPSJzdDQiIHgxPSIzMi41IiB5MT0iNDQuMiIgeDI9IjMyLjUiIHkyPSI0MS44Ii8+PC9zdmc+"/> </a><div id="InloggadLandscape" style="color:#fff; display:inline-block; float: right; font-size: 13px; padding-top: 4px;"></div></div></div>':'<div class="RGSContainerActive" style="display: block;" data-height="29"><div id="RGSDesktop" style="margin-left: auto; margin-right: auto; width: 100%; display:block; white-space: nowrap;"> <a href="#" class="PausePlay" target="_blank" style="text-decoration: none;"> <img style="height:25px;" alt="Spelpaus" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTg0LjkgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTg0LjkgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6I0UyMEQxODt9PC9zdHlsZT48Zz48cmVjdCB4PSIwLjUiIHk9IjAuNSIgY2xhc3M9InN0MCIgd2lkdGg9IjE4My45IiBoZWlnaHQ9IjUyLjQiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTgzLjksMXY1MS40SDFWMUgxODMuOSBNMTg0LjksMEgwdjUzLjRoMTg0LjlWMEwxODQuOSwweiIvPjwvZz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTMuMywyNi44QzUzLjMsMzguNSw0My44LDQ4LDMyLDQ4Yy0xMS43LDAtMjEuMy05LjUtMjEuMy0yMS4zQzEwLjgsMTUsMjAuMyw1LjUsMzIsNS41QzQzLjgsNS41LDUzLjMsMTUsNTMuMywyNi44eiIvPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03Ny4xLDMwLjVjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuMywxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTNoMC4yYzAuOSwwLjcsMS45LDEuMywzLjEsMS43czIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNHMtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN2MtMC44LTAuOC0xLjEtMS45LTEuMS0zLjFjMC0xLjUsMC42LTIuNywxLjktMy42YzEuMy0wLjksMi44LTEuNCw0LjgtMS40YzEuMiwwLDIuNCwwLjEsMy40LDAuNGMxLDAuMiwyLDAuNSwyLjgsMC45djIuOGgtMC4yYy0wLjctMC42LTEuNi0xLTIuNy0xLjRjLTEuMS0wLjQtMi4yLTAuNi0zLjQtMC42Yy0xLjMsMC0yLjMsMC4zLTMsMC44Yy0wLjgsMC41LTEuMSwxLjItMS4xLDJjMCwwLjcsMC4yLDEuMywwLjYsMS43YzAuNCwwLjQsMS4xLDAuNywyLDFjMC41LDAuMSwxLjIsMC4yLDIuMiwwLjRjMC45LDAuMiwxLjcsMC4zLDIuNCwwLjVjMS4zLDAuMywyLjMsMC45LDMsMS42Qzc2LjcsMjguMiw3Ny4xLDI5LjIsNzcuMSwzMC41eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi42LDI4LjhjMCwxLjEtMC4yLDIuMS0wLjUsM2MtMC4zLDAuOS0wLjcsMS42LTEuMywyLjNjLTAuNSwwLjYtMS4xLDEtMS45LDEuNHMtMS41LDAuNS0yLjMsMC41Yy0wLjcsMC0xLjMtMC4xLTEuOS0wLjJjLTAuNi0wLjItMS4xLTAuNC0xLjctMC43djUuNmgtMi4yVjIyLjNoMi4ydjEuNGMwLjYtMC41LDEuMy0wLjksMi0xLjNjMC43LTAuMywxLjUtMC41LDIuNC0wLjVjMS42LDAsMi44LDAuNiwzLjcsMS44QzkyLjIsMjQuOSw5Mi42LDI2LjYsOTIuNiwyOC44eiBNOTAuMywyOC44YzAtMS42LTAuMy0yLjgtMC44LTMuNkM4OC45LDI0LjQsODguMSwyNCw4NywyNGMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M4OS45LDMxLjcsOTAuMywzMC41LDkwLjMsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA3LjUsMjkuMWgtOS44YzAsMC44LDAuMSwxLjUsMC40LDIuMWMwLjIsMC42LDAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOGMtMC44LDAuMi0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOHMtMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZjMSwxLDEuNSwyLjUsMS41LDQuNVYyOS4xeiBNMTA1LjMsMjcuNGMwLTEuMi0wLjMtMi4xLTAuOS0yLjdjLTAuNi0wLjYtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTA1LjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTExMy4zLDM1LjZoLTIuMlYxN2gyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTI5LjcsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjksMS40cy0xLjUsMC41LTIuMywwLjVjLTAuNywwLTEuMy0wLjEtMS45LTAuMmMtMC42LTAuMi0xLjEtMC40LTEuNy0wLjd2NS42SDExOFYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEMxMjkuMywyNC45LDEyOS43LDI2LjYsMTI5LjcsMjguOHogTTEyNy40LDI4LjhjMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0MxMjcuMSwzMS43LDEyNy40LDMwLjUsMTI3LjQsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTQzLjgsMzUuNmgtMi4ydi0xLjRjLTAuMiwwLjEtMC41LDAuMy0wLjgsMC42Yy0wLjMsMC4yLTAuNywwLjQtMSwwLjZjLTAuNCwwLjItMC44LDAuMy0xLjMsMC41Yy0wLjUsMC4xLTEuMSwwLjItMS43LDAuMmMtMS4yLDAtMi4yLTAuNC0zLTEuMnMtMS4yLTEuOC0xLjItM2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM2MtMC4yLTAuMy0wLjQtMC42LTAuOC0wLjhjLTAuMy0wLjItMC43LTAuMy0xLjEtMC40cy0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJzLTEuNSwwLjQtMi4yLDAuN2gtMC4xdi0yLjNjMC40LTAuMSwxLjEtMC4zLDEuOS0wLjRjMC44LTAuMSwxLjYtMC4yLDIuNC0wLjJjMC45LDAsMS44LDAuMSwyLjQsMC4yYzAuNywwLjIsMS4zLDAuNCwxLjgsMC44YzAuNSwwLjQsMC45LDAuOCwxLjEsMS40czAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTQxLjUsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNDAuNCwzMy4xLDE0MSwzMi43LDE0MS41LDMyLjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1OS4zLDM1LjZoLTIuMnYtMS41Yy0wLjgsMC42LTEuNSwxLjEtMi4yLDEuNHMtMS41LDAuNS0yLjMsMC41Yy0xLjQsMC0yLjUtMC40LTMuMy0xLjNzLTEuMi0yLjEtMS4yLTMuOHYtOC42aDIuMnY3LjZjMCwwLjcsMCwxLjMsMC4xLDEuN2MwLjEsMC41LDAuMiwwLjksMC40LDEuMmMwLjIsMC4zLDAuNSwwLjYsMC44LDAuOGMwLjMsMC4yLDAuOCwwLjIsMS41LDAuMmMwLjYsMCwxLjItMC4yLDEuOS0wLjVjMC43LTAuMywxLjMtMC43LDEuOS0xLjJ2LTkuOWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTczLjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM2MwLjksMC4zLDEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zczAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTczLjIsMzAsMTczLjUsMzAuOCwxNzMuNSwzMS43eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjcsMzcuNWgtNi4yYy0wLjUsMC0wLjktMC40LTAuOS0wLjlWMTYuOWMwLTAuNSwwLjQtMC45LDAuOS0wLjloNi4yYzAuNSwwLDAuOSwwLjQsMC45LDAuOXYxOS43QzI5LjYsMzcuMSwyOS4yLDM3LjUsMjguNywzNy41eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MS41LDM3LjZoLTYuMmMtMC41LDAtMC45LTAuNC0wLjktMC45VjE2LjljMC0wLjUsMC40LTAuOSwwLjktMC45aDYuMmMwLjUsMCwwLjksMC40LDAuOSwwLjl2MTkuN0M0Mi40LDM3LjIsNDIsMzcuNiw0MS41LDM3LjZ6Ii8+PC9zdmc+"/> </a> <a href="#" class="SelfTest" target="_blank" style="text-decoration: none;"> <img style="height:25px;" alt="Självtest" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTgwLjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTgwLjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6bm9uZTtzdHJva2U6dXJsKCNTVkdJRF8xXyk7c3Ryb2tlLXdpZHRoOjYuNzc0MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LnN0M3tmaWxsOiMxRTFFMUM7fTwvc3R5bGU+PGc+PHJlY3QgeD0iMC41IiB5PSIwLjUiIGNsYXNzPSJzdDAiIHdpZHRoPSIxNzkuNSIgaGVpZ2h0PSI1Mi40Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3OS41LDF2NTEuNEgxVjFIMTc5LjUgTTE4MC42LDBIMHY1My40aDE4MC42VjBMMTgwLjYsMHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTMxLjksNDcuOGMtNS41LTAuMS0xMC43LTIuMy0xNC42LTYuMmMtMy45LTQtNi05LjItNS45LTE0LjhjMC4xLTExLjMsOS40LTIwLjYsMjAuOC0yMC42bDAuMiwwYzUuNSwwLjEsMTAuNywyLjMsMTQuNiw2LjJjMy45LDQsNiw5LjIsNS45LDE0LjhjLTAuMSwxMS4zLTkuNCwyMC42LTIwLjgsMjAuNkwzMS45LDQ3Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTMyLjEsNS43djFsMC4yLDBjNS40LDAuMSwxMC41LDIuMiwxNC4zLDYuMWMzLjgsMy45LDUuOCw5LDUuOCwxNC40Yy0wLjEsMTEuMS05LjIsMjAuMS0yMC4zLDIwLjFsLTAuMiwwYy01LjQtMC4xLTEwLjUtMi4yLTE0LjMtNi4xYy0zLjgtMy45LTUuOC05LTUuOC0xNC40YzAuMS0xMS4xLDkuMi0yMC4xLDIwLjMtMjAuMUwzMi4xLDUuNyBNMzIuMSw1LjdjLTExLjYsMC0yMS4xLDkuNC0yMS4zLDIxYy0wLjEsMTEuNyw5LjMsMjEuNCwyMSwyMS41YzAuMSwwLDAuMSwwLDAuMiwwYzExLjYsMCwyMS4xLTkuNCwyMS4zLTIxYzAuMS0xMS43LTkuMy0yMS40LTIxLTIxLjVDMzIuMyw1LjcsMzIuMiw1LjcsMzIuMSw1LjdMMzIuMSw1Ljd6Ii8+PC9nPjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTMuMzkwNCIgeTE9Ii0zMDMuMjA3NyIgeDI9IjUwLjYwNDMiIHkyPSItMzAzLjIwNzciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIC0xIDY0LjAwMDUgLTI4My41MzY1KSI+PHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U0MTkxMyIvPjxzdG9wICBvZmZzZXQ9IjkuNzQ0MDIwZS0wMiIgc3R5bGU9InN0b3AtY29sb3I6I0VBNjUxNiIvPjxzdG9wICBvZmZzZXQ9IjAuMjE0OCIgc3R5bGU9InN0b3AtY29sb3I6I0YzQTUxOCIvPjxzdG9wICBvZmZzZXQ9IjAuMzEyMSIgc3R5bGU9InN0b3AtY29sb3I6I0Y5Q0QxQSIvPjxzdG9wICBvZmZzZXQ9IjAuMzg0IiBzdHlsZT0ic3RvcC1jb2xvcjojRkRFMzFBIi8+PHN0b3AgIG9mZnNldD0iMC40MjI4IiBzdHlsZT0ic3RvcC1jb2xvcjojRkVFQjFBIi8+PHN0b3AgIG9mZnNldD0iMC42MjMxIiBzdHlsZT0ic3RvcC1jb2xvcjojREZERTIwIi8+PHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwOTI0NSIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggY2xhc3M9InN0MiIgZD0iTTQ3LjIsMjYuN2MtMi4yLTE4LjYtMjcuOC0xOS0zMC40LDAiLz48Zz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjcuNywyNy4zbDguOC0xNS44bC0xLjgsMThjLTAuNiwxLjktMi43LDMtNC42LDIuNFMyNy4xLDI5LjIsMjcuNywyNy4zeiIvPjwvZz48Zz48Zz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNzYuNSwzMC41YzAsMC43LTAuMiwxLjQtMC41LDJzLTAuOCwxLjItMS40LDEuN2MtMC42LDAuNS0xLjQsMC45LTIuMiwxLjJjLTAuOCwwLjMtMS45LDAuNC0zLjEsMC40Yy0xLjMsMC0yLjQtMC4xLTMuNC0wLjRjLTEtMC4yLTIuMS0wLjYtMy4xLTEuMXYtM0g2M2MwLjksMC43LDEuOSwxLjMsMy4xLDEuN2MxLjIsMC40LDIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNGMtMC43LTAuMS0xLjQtMC4yLTIuMi0wLjRjLTEuNi0wLjMtMi43LTAuOS0zLjUtMS43Yy0wLjgtMC44LTEuMS0xLjktMS4xLTMuMWMwLTEuNSwwLjYtMi43LDEuOS0zLjZjMS4zLTAuOSwyLjgtMS40LDQuOC0xLjRjMS4yLDAsMi40LDAuMSwzLjQsMC40YzEsMC4yLDIsMC41LDIuOCwwLjl2Mi44aC0wLjJjLTAuNy0wLjYtMS42LTEtMi43LTEuNGMtMS4xLTAuNC0yLjItMC42LTMuNC0wLjZjLTEuMywwLTIuMywwLjMtMywwLjhjLTAuOCwwLjUtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzYuMSwyOC4zLDc2LjUsMjkuMyw3Ni41LDMwLjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTg0LjMsMzUuOWMwLDEuNi0wLjQsMi43LTEuMiwzLjVzLTEuOSwxLjItMy4yLDEuMmMtMC4zLDAtMC43LDAtMS4zLTAuMWMtMC41LTAuMS0xLTAuMS0xLjMtMC4ydi0yLjFoMC4xYzAuMiwwLjEsMC41LDAuMiwwLjksMC4zYzAuNCwwLjEsMC43LDAuMiwxLjEsMC4yYzAuNiwwLDEtMC4xLDEuNC0wLjJjMC4zLTAuMiwwLjYtMC40LDAuOC0wLjdjMC4yLTAuMywwLjMtMC43LDAuMy0xLjFjMC4xLTAuNCwwLjEtMSwwLjEtMS42VjI0LjJoLTIuOHYtMS45aDVWMzUuOXogTTg0LjUsMjAuMWgtMi41di0yLjNoMi41VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTk5LjMsMzUuNkg5N3YtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yQzg4LjQsMzQsODgsMzMsODgsMzEuN2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM3MtMC40LTAuNi0wLjgtMC44Yy0wLjMtMC4yLTAuNy0wLjMtMS4xLTAuNGMtMC40LTAuMS0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJjLTAuNywwLjItMS41LDAuNC0yLjIsMC43aC0wLjF2LTIuM2MwLjQtMC4xLDEuMS0wLjMsMS45LTAuNGMwLjgtMC4xLDEuNi0wLjIsMi40LTAuMmMwLjksMCwxLjgsMC4xLDIuNCwwLjJjMC43LDAuMiwxLjMsMC40LDEuOCwwLjhjMC41LDAuNCwwLjksMC44LDEuMSwxLjRzMC40LDEuMywwLjQsMi4yVjM1LjZ6IE05NywzMi4zdi0zLjdjLTAuNywwLTEuNSwwLjEtMi40LDAuMlM5MywyOSw5Mi40LDI5LjFjLTAuNiwwLjItMS4yLDAuNS0xLjYsMC45Yy0wLjQsMC40LTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdjMC41LDAuNCwxLjIsMC42LDIuMSwwLjZjMC44LDAsMS41LTAuMiwyLjItMC41Qzk1LjksMzMuMSw5Ni41LDMyLjcsOTcsMzIuM3ogTTkyLjgsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6IE05Ny44LDIwLjFoLTIuNHYtMi4zaDIuNFYyMC4xeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDYuMSwzNS42aC0yLjJWMTcuMWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTIyLjIsMjIuM2wtNS40LDEzLjNoLTIuMmwtNS4zLTEzLjNoMi40bDQuMSwxMC42bDQuMS0xMC42SDEyMi4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMzIuMywzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE0Ni40LDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45YzAuNiwwLjIsMS4yLDAuMywxLjksMC4zYzAuOSwwLDEuOC0wLjIsMi43LTAuNWMwLjktMC40LDEuNi0wLjcsMi0xLjFoMC4xdjIuNGMtMC44LDAuMy0xLjUsMC42LTIuMywwLjhzLTEuNiwwLjMtMi41LDAuM2MtMi4yLDAtMy45LTAuNi01LjItMS44Yy0xLjItMS4yLTEuOS0yLjktMS45LTUuMWMwLTIuMiwwLjYtMy45LDEuOC01LjJjMS4yLTEuMywyLjctMS45LDQuNy0xLjljMS44LDAsMy4yLDAuNSw0LjEsMS42YzEsMSwxLjUsMi41LDEuNSw0LjVWMjkuMnogTTE0NC4yLDI3LjVjMC0xLjItMC4zLTIuMS0wLjktMi43cy0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxNDQuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU5LjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM3MxLjcsMC41LDIuNSwwLjVjMSwwLDEuOC0wLjIsMi4zLTAuNWMwLjYtMC4zLDAuOC0wLjgsMC44LTEuNWMwLTAuNS0wLjItMC45LTAuNS0xLjJzLTAuOS0wLjUtMS43LTAuN2MtMC4zLTAuMS0wLjctMC4yLTEuMi0wLjNjLTAuNS0wLjEtMS0wLjItMS40LTAuM2MtMS4yLTAuMy0yLTAuOC0yLjUtMS40Yy0wLjUtMC42LTAuNy0xLjMtMC43LTIuMmMwLTAuNSwwLjEtMS4xLDAuMy0xLjVjMC4yLTAuNSwwLjYtMC45LDEtMS4zYzAuNC0wLjQsMS0wLjcsMS43LTAuOWMwLjctMC4yLDEuNS0wLjMsMi4zLTAuM2MwLjgsMCwxLjYsMC4xLDIuNCwwLjNjMC44LDAuMiwxLjUsMC40LDIsMC43djIuNGgtMC4xYy0wLjYtMC40LTEuMy0wLjgtMi4xLTEuMWMtMC44LTAuMy0xLjYtMC40LTIuNC0wLjRjLTAuOCwwLTEuNSwwLjItMi4xLDAuNWMtMC42LDAuMy0wLjgsMC44LTAuOCwxLjRjMCwwLjUsMC4yLDEsMC41LDEuMmMwLjMsMC4zLDAuOSwwLjUsMS42LDAuN2MwLjQsMC4xLDAuOSwwLjIsMS40LDAuM2MwLjUsMC4xLDAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTU5LjIsMzAsMTU5LjUsMzAuOCwxNTkuNSwzMS43eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNjkuOSwzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PC9nPjwvZz48L3N2Zz4="/> </a> <a href="#" class="PlayLimit" target="_blank" style="text-decoration: none;"> <img style="height:25px;" alt="Spelgränser" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjE5LjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjE5LjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6IzAwOTczOTt9LnN0M3tmaWxsOiNGRkZGRkY7c3Ryb2tlOiMwMDk3Mzk7c3Ryb2tlLXdpZHRoOjMuODcxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uc3Q0e2ZpbGw6bm9uZTtzdHJva2U6IzAwOTczOTtzdHJva2Utd2lkdGg6MS45MzU1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO308L3N0eWxlPjxnPjxyZWN0IHg9IjAuNSIgeT0iMC41IiBjbGFzcz0ic3QwIiB3aWR0aD0iMjE4LjUiIGhlaWdodD0iNTIuNCIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTguNSwxdjUxLjRIMVYxSDIxOC41IE0yMTkuNiwwSDB2NTMuNGgyMTkuNlYwTDIxOS42LDB6Ii8+PC9nPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03OC4yLDMwLjZjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuNCwxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTIuOWgwLjJjMC45LDAuNywxLjksMS4zLDMuMSwxLjdjMS4yLDAuNCwyLjMsMC42LDMuMywwLjZjMS41LDAsMi42LTAuMywzLjQtMC44YzAuOC0wLjUsMS4yLTEuMywxLjItMi4yYzAtMC44LTAuMi0xLjQtMC42LTEuN3MtMS0wLjctMS44LTAuOWMtMC42LTAuMi0xLjItMC4zLTEuOS0wLjRjLTAuNy0wLjEtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN3MtMS4xLTEuOS0xLjEtMy4xYzAtMS41LDAuNi0yLjcsMS45LTMuNmMxLjMtMC45LDIuOC0xLjQsNC44LTEuNGMxLjIsMCwyLjQsMC4xLDMuNCwwLjRjMSwwLjIsMiwwLjUsMi44LDAuOXYyLjhoLTAuMmMtMC43LTAuNi0xLjYtMS0yLjctMS40Yy0xLjEtMC40LTIuMi0wLjYtMy40LTAuNmMtMS4zLDAtMi4zLDAuMy0zLDAuOHMtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzcuOSwyOC4zLDc4LjIsMjkuMyw3OC4yLDMwLjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTkzLjYsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjgsMS40Yy0wLjcsMC4zLTEuNSwwLjUtMi4zLDAuNWMtMC43LDAtMS4zLTAuMS0xLjktMC4yYy0wLjYtMC4yLTEuMS0wLjQtMS43LTAuN3Y1LjZoLTIuMlYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEM5My4yLDI1LDkzLjYsMjYuNyw5My42LDI4Ljh6IE05MS4zLDI4LjljMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M5MSwzMS44LDkxLjMsMzAuNSw5MS4zLDI4Ljl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwOC4zLDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45czEuMiwwLjMsMS45LDAuM2MwLjksMCwxLjgtMC4yLDIuNy0wLjVjMC45LTAuNCwxLjYtMC43LDItMS4xaDAuMXYyLjRjLTAuOCwwLjMtMS41LDAuNi0yLjMsMC44cy0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOGMtMS4yLTEuMi0xLjktMi45LTEuOS01LjFjMC0yLjIsMC42LTMuOSwxLjgtNS4yYzEuMi0xLjMsMi43LTEuOSw0LjctMS45YzEuOCwwLDMuMiwwLjUsNC4xLDEuNmMxLDEsMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xMDYuMiwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN2MtMC42LTAuNi0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxMDYuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTE0LjEsMzUuNmgtMi4yVjE3LjFoMi4yVjM1LjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEyOS40LDM0LjFjMCwyLjMtMC41LDMuOS0xLjUsNWMtMSwxLjEtMi42LDEuNi00LjcsMS42Yy0wLjcsMC0xLjQsMC0yLjEtMC4xYy0wLjctMC4xLTEuMy0wLjItMi0wLjR2LTIuM2gwLjFjMC40LDAuMSwwLjksMC4zLDEuNywwLjVzMS42LDAuMywyLjQsMC4zYzAuOCwwLDEuNC0wLjEsMS45LTAuM2MwLjUtMC4yLDAuOS0wLjQsMS4yLTAuOGMwLjMtMC4zLDAuNS0wLjcsMC42LTEuMWMwLjEtMC40LDAuMi0wLjksMC4yLTEuNXYtMS4yYy0wLjcsMC41LTEuMywwLjktMS45LDEuMnMtMS40LDAuNC0yLjMsMC40Yy0xLjYsMC0yLjgtMC42LTMuOC0xLjdjLTAuOS0xLjEtMS40LTIuOC0xLjQtNC44YzAtMS4xLDAuMi0yLjEsMC41LTNjMC4zLTAuOCwwLjgtMS41LDEuMy0yLjFjMC41LTAuNiwxLjEtMSwxLjktMS4zYzAuNy0wLjMsMS41LTAuNSwyLjItMC41YzAuOCwwLDEuNCwwLjEsMS45LDAuMnMxLjEsMC40LDEuNiwwLjdsMC4xLTAuNmgyLjFWMzQuMXogTTEyNy4yLDMydi03LjJjLTAuNi0wLjMtMS4xLTAuNS0xLjctMC42Yy0wLjUtMC4xLTEtMC4yLTEuNS0wLjJjLTEuMiwwLTIuMiwwLjQtMi45LDEuMnMtMS4xLDItMS4xLDMuNmMwLDEuNSwwLjMsMi42LDAuOCwzLjRjMC41LDAuOCwxLjQsMS4yLDIuNiwxLjJjMC43LDAsMS4zLTAuMSwyLTAuNFMxMjYuNiwzMi40LDEyNy4yLDMyeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNDIuMiwyNC44aC0wLjFjLTAuMy0wLjEtMC43LTAuMS0xLTAuMmMtMC4zLDAtMC43LTAuMS0xLjEtMC4xYy0wLjcsMC0xLjQsMC4yLTIsMC41Yy0wLjYsMC4zLTEuMywwLjctMS45LDEuMnY5LjRIMTM0VjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1NC44LDM1LjZoLTIuMnYtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yYy0wLjgtMC44LTEuMi0xLjgtMS4yLTNjMC0xLDAuMi0xLjgsMC42LTIuNGMwLjQtMC42LDEtMS4xLDEuOC0xLjVjMC44LTAuNCwxLjgtMC42LDIuOS0wLjdzMi40LTAuMiwzLjctMC4zdi0wLjNjMC0wLjUtMC4xLTAuOS0wLjMtMS4zYy0wLjItMC4zLTAuNC0wLjYtMC44LTAuOGMtMC4zLTAuMi0wLjctMC4zLTEuMS0wLjRDMTUwLDI0LDE0OS41LDI0LDE0OSwyNGMtMC42LDAtMS4yLDAuMS0yLDAuMmMtMC43LDAuMi0xLjUsMC40LTIuMiwwLjdoLTAuMXYtMi4zYzAuNC0wLjEsMS4xLTAuMiwxLjktMC40YzAuOC0wLjEsMS42LTAuMiwyLjQtMC4yYzAuOSwwLDEuOCwwLjEsMi40LDAuMmMwLjcsMC4yLDEuMywwLjQsMS44LDAuOGMwLjUsMC40LDAuOSwwLjgsMS4xLDEuNGMwLjMsMC42LDAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTUyLjYsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNTEuNCwzMy4xLDE1MiwzMi44LDE1Mi42LDMyLjN6IE0xNDguNCwyMC4xSDE0NnYtMi4zaDIuNFYyMC4xeiBNMTUzLjMsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MC4zLDM1LjZoLTIuMnYtNy42YzAtMC42LDAtMS4yLTAuMS0xLjdzLTAuMi0xLTAuNC0xLjNjLTAuMi0wLjMtMC41LTAuNi0wLjktMC43Yy0wLjQtMC4yLTAuOS0wLjItMS41LTAuMmMtMC42LDAtMS4yLDAuMi0xLjksMC41Yy0wLjcsMC4zLTEuMywwLjctMS45LDEuMnY5LjloLTIuMlYyMi4zaDIuMnYxLjVjMC43LTAuNiwxLjQtMSwyLjItMS40YzAuNy0wLjMsMS41LTAuNSwyLjMtMC41YzEuNCwwLDIuNSwwLjQsMy4zLDEuM2MwLjgsMC45LDEuMSwyLjEsMS4xLDMuN1YzNS42eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODQuMywzMS44YzAsMS4yLTAuNSwyLjItMS41LDNjLTEsMC44LTIuNCwxLjItNC4xLDEuMmMtMSwwLTEuOS0wLjEtMi43LTAuNGMtMC44LTAuMi0xLjUtMC41LTIuMS0wLjh2LTIuNWgwLjFjMC43LDAuNSwxLjUsMSwyLjQsMS4zczEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zYzAuNSwwLjEsMC45LDAuMiwxLjMsMC4zYzEsMC4yLDEuOCwwLjYsMi40LDEuMkMxODQsMzAsMTg0LjMsMzAuOCwxODQuMywzMS44eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOTguNywyOS4yaC05LjhjMCwwLjgsMC4xLDEuNSwwLjQsMi4xczAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOHMtMS42LDAuMy0yLjUsMC4zYy0yLjIsMC0zLjktMC42LTUuMi0xLjhjLTEuMi0xLjItMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZzMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xOTYuNSwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN3MtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTk2LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTIxMC41LDI0LjhoLTAuMWMtMC4zLTAuMS0wLjctMC4xLTEtMC4yYy0wLjMsMC0wLjctMC4xLTEuMS0wLjFjLTAuNywwLTEuNCwwLjItMiwwLjVjLTAuNiwwLjMtMS4zLDAuNy0xLjksMS4ydjkuNGgtMi4yVjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PC9nPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIuNSw0Ny4zYy0xMS4yLDAtMjAuMy05LjEtMjAuMy0yMC4zUzIxLjMsNi43LDMyLjUsNi43YzExLjIsMCwyMC4zLDkuMSwyMC4zLDIwLjNTNDMuNyw0Ny4zLDMyLjUsNDcuM3oiLz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzIuNSw3LjdjMTAuNywwLDE5LjMsOC43LDE5LjMsMTkuM2MwLDEwLjctOC43LDE5LjMtMTkuMywxOS4zYy0xMC43LDAtMTkuMy04LjctMTkuMy0xOS4zQzEzLjIsMTYuMywyMS44LDcuNywzMi41LDcuNyBNMzIuNSw1LjdjLTExLjcsMC0yMS4zLDkuNS0yMS4zLDIxLjNjMCwxMS43LDkuNSwyMS4zLDIxLjMsMjEuM2MxMS43LDAsMjEuMy05LjUsMjEuMy0yMS4zQzUzLjcsMTUuMiw0NC4yLDUuNywzMi41LDUuN0wzMi41LDUuN3oiLz48L2c+PGxpbmUgY2xhc3M9InN0MyIgeDE9IjI2LjciIHkxPSIxNC4zIiB4Mj0iMzQuNCIgeTI9IjI2LjUiLz48bGluZSBjbGFzcz0ic3QzIiB4MT0iMjUuMyIgeTE9IjMzLjMiIHgyPSIzNC41IiB5Mj0iMjYuOSIvPjxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjQ4LjYiIGN5PSIzNi4yIiByPSIxMi45Ii8+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQxLjMsMjkuOEg0NHY1LjRoMGw0LjItNS40aDMuNGwtNC44LDYuMWw1LDYuN2gtMy4zbC00LjUtNmgwdjZoLTIuN1YyOS44eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01NS4xLDM0LjJ2MS4yaDBjMC4yLTAuNCwwLjUtMC43LDAuOS0xYzAuMy0wLjIsMC42LTAuNCwwLjktMC40YzAuMiwwLDAuMywwLDAuNSwwdjIuN2MtMC4yLDAtMC40LTAuMS0wLjYtMC4xYy0wLjUsMC0wLjksMC4yLTEuMiwwLjVjLTAuMywwLjQtMC40LDAuOS0wLjQsMS41djMuN2gtMi41di04LjNINTUuMXoiLz48L2c+PGxpbmUgY2xhc3M9InN0NCIgeDE9IjE2IiB5MT0iMjciIHgyPSIxOC40IiB5Mj0iMjciLz48bGluZSBjbGFzcz0ic3Q0IiB4MT0iMzIuNyIgeTE9IjEyLjciIHgyPSIzMi43IiB5Mj0iMTAuMyIvPjxsaW5lIGNsYXNzPSJzdDQiIHgxPSIzMi41IiB5MT0iNDQuMiIgeDI9IjMyLjUiIHkyPSI0MS44Ii8+PC9zdmc+"/> </a><div id="InloggadLandscape" style="color:#fff; display:inline-block; float: right; font-size: 18px; padding-top: 3px;"></div></div></div>';t||(e=e.replace(/<a\b[^>]*>(.*?)<\/a>/g,""));e=(new DOMParser).parseFromString(e,"text/html");if(document.body.insertBefore(e.firstChild,document.getElementsByTagName("canvas")[0]),t)for(var i=document.getElementsByClassName("PausePlay"),n=document.getElementsByClassName("SelfTest"),o=document.getElementsByClassName("PlayLimit"),s=0;s<i.length;s++)i[s].href=UHT_GAME_CONFIG.pauseplayUrl,n[s].href=UHT_GAME_CONFIG.selftestUrl,o[s].href=UHT_GAME_CONFIG.playlimitUrl;this.elapsedTimeContainerLandscape=document.getElementById("InloggadLandscape"),this.elapsedTimeContainerPortrait=document.getElementById("InloggadPortrait"),document.getElementsByTagName("canvas")[0].classList.add("SwedishCanvas")},SwedishRegulationManager.prototype.UpdateTimer=function(){var t=(new Date).getTime();this.elapsedTime=Math.floor((t-this.initialTime)/1e3)+this.initialElapsedTime;var e=(parseInt(this.elapsedTime,10)%60).toString(),i=parseInt(parseInt(this.elapsedTime,10)/60%60,10).toString(),t=parseInt(parseInt(this.elapsedTime,10)/3600,10).toString();e.length<2&&(e="0"+e),i.length<2&&(i="0"+i),t.length<2&&(t="0"+t),this.elapsedTimeContainerLandscape.innerHTML="Inloggad: "+t+":"+i+":"+e,null!=this.elapsedTimeContainerPortrait&&(this.elapsedTimeContainerPortrait.innerHTML="Inloggad: "+t+":"+i+":"+e)},SwedishRegulationManager.prototype.OnUHTResize=function(t){var e=document.getElementsByTagName("canvas")[0],i=document.getElementsByClassName("RGSContainerActive")[0].dataset,n=UHTScreen.height/window.innerHeight,o=1-i.height*n/UHTScreen.height,n=(0<=document.documentElement.className.indexOf("iPhone")&&"Mobile"==document.documentElement.id&&90==window.orientation?1:-1)*(i.height*n/(UHTScreen.height-i.height*n)/2)*100;e.style.transform="scale("+o+") translateY("+n+"%)"},goog.provide("UHT.TournamentConnection"),TournamentConnection.instance=null,TournamentConnection.PromoHolder=function(t,e){this.id=t,this.type=e,this.uid=TournamentConnection.PromoHolder.GetUID(t,e),this.promotion=null,this.details=null,this.leaderboard=null,this.isNew=!0,this.prizesType=TournamentProtocol.PrizePoolType.Invalid,this.generatedLeaderboard=null,this.expandedLeaderboard=null,this.cumulatedLeaderboard=null,this.maxLeaderboardPosition=-1,this.isMerged=!1},TournamentConnection.PromoHolder.GetUID=function(t,e){return e+"#"+t},TournamentConnection.PromoHolder.Compare=function(t,e){var i=0;return 0==(i=(null!=t.promotion?-1:1)-(null!=e.promotion?-1:1))&&null==t.promotion||(0==(i=0==(i=0==i?t.promotion.status-e.promotion.status:i)?t.type-e.type:i)&&(t.type==TournamentProtocol.PromoType.Race&&0==(i=(null!=t.details?-1:1)-(null!=e.details?-1:1))&&null!=t.details&&0==(i=(null!=t.details.prizePool?-1:1)-(null!=e.details.prizePool?-1:1))&&null!=t.details.prizePool&&(i=e.details.prizePool.totalCount-t.details.prizePool.totalCount),t.type==TournamentProtocol.PromoType.Tournament&&0==(i=(null!=t.leaderboard?-1:1)-(null!=e.leaderboard?-1:1))&&null!=t.leaderboard&&(i=t.leaderboard.playerPosition-e.leaderboard.playerPosition)),0==i&&(t.promotion.status==TournamentProtocol.StatusCode.Open&&(i=t.promotion.endDate-e.promotion.endDate),t.promotion.status==TournamentProtocol.StatusCode.StartsSoon&&(i=t.promotion.startDate-e.promotion.startDate),t.promotion.status==TournamentProtocol.StatusCode.Closed&&(i=e.promotion.endDate-t.promotion.endDate))),i},TournamentConnection.prototype.Update=function(){this.isRacePrizesReloaded=!0,!this.isReloadindTournaments&&this.tournamentsTimer>=this.reloadTournamentsInterval&&(this.isReloadindTournaments=!0,this.Reload(this.tournamentsURL,this.tournamentsReloadedHandler)),!this.isReloadindLeaderboards&&this.leaderboardsTimer>=this.reloadLeaderboardsInterval&&this.activeTournaments&&(this.isReloadindLeaderboards=!0,this.Reload(this.leaderboardsURL,this.leaderboardReloadedHandler)),!this.isReloadindRacePrizes&&this.racePrizesTimer>=this.reloadRacePrizesInterval&&this.activeRaces&&(this.isReloadindRacePrizes=!0,this.Reload(this.racePrizesURL,this.racePrizesReloadedHandler)),!this.isReloadindRaceWinners&&this.raceWinnersTimer>=this.reloadRaceWinnersInterval&&this.activeRaces&&(this.isReloadindRaceWinners=!0,this.ReloadRaceWinners()),this.tournamentsTimer+=Time.deltaTime,this.leaderboardsTimer+=Time.deltaTime,this.racePrizesTimer+=Time.deltaTime,this.raceWinnersTimer+=Time.deltaTime,this.isReloaded&&(!this.hasUpdates||this.canUpdate&&this.isRaceDetailsReloaded&&this.isRacePrizesReloaded&&this.isTournamentDetailsReloaded)&&(this.ProcessPromotions(),this.xtLayer.SetDetails(this.GetDetails()),this.xtLayer.SetLeaderboards(this.GetLeaderboards()),this.xtLayer.SetTournaments(this.GetPromotions(!0)),this.hasUpdates&&this.xtLayer.AnnouncePromotions(),this.canUpdate=!1,this.hasUpdates=!1,this.isReloaded=!1),this.CheckOptResponses()},TournamentConnection.prototype.Reload=function(t,e){var i=new ServerRequest;i.Url=t,i.Handler=e,i.Method="GET",RequestManager.AddRequest(i)},TournamentConnection.prototype.OnTournamentsReloaded=function(t,e){this.tournamentsTimer=0,this.isReloadindTournaments=!1,TournamentProtocol.TournamentParser.errorMessage="PromoAPI Parsing Error (promo/active)";var i=TournamentProtocol.TournamentParser.ParseTournamentsResponse(t);if(null!=i){t=[];this.ReloadIfNeeded(i.tournaments,this.tournamentIds,this.detailsURL,this.detailsReloadedHandler,t),this.ReloadIfNeeded(i.races,this.raceIds,this.raceDetailsURL,this.raceDetailsReloadedHandler,t),this.promoHolders=t,this.activeTournaments=!1,this.activeRaces=!1;for(var n=0;n<this.promoHolders.length;n++)this.promoHolders[n].type==TournamentProtocol.PromoType.Tournament&&(this.activeTournaments=!0),this.promoHolders[n].type==TournamentProtocol.PromoType.Race&&(this.activeRaces=!0);this.xtLayer.SetServerTime(i.serverTime),this.isReloaded=!0}else this.xtLayer.SetTournaments(null)},TournamentConnection.prototype.OnDetailsReloaded=function(t,e){TournamentProtocol.TournamentParser.errorMessage="PromoAPI Parsing Error (promo/tournament/details)";var i=TournamentProtocol.TournamentParser.ParseDetailsResponse(t);if(null!=i&&null!=i.details){for(var n=0;n<i.details.length;++n){var o=this.FindPromoHolderInternal(i.details[n].id,TournamentProtocol.PromoType.Tournament);o.details=i.details[n],this.ConvertDetailsToPlayerCurrency(o),PromotionsHelper.ConvertDynamicFields(o.details),this.convertLeaderboardWhenDetailsReloaded&&this.ConvertLeaderboardToPlayerCurrency(o)}this.isReloaded=!0,this.isTournamentDetailsReloaded=!0,this.convertLeaderboardWhenDetailsReloaded=!1}else this.Reload(this.detailsURL,this.detailsReloadedHandler)},TournamentConnection.prototype.OnLeaderboardReloaded=function(t,e){this.leaderboardsTimer=0,this.isReloadindLeaderboards=!1,TournamentProtocol.TournamentParser.errorMessage="PromoAPI Parsing Error (promo/tournament/leaderboard)";var i=TournamentProtocol.TournamentParser.ParseLeaderboardResponse(t);if(null!=i){if(null!=i.leaderboards)for(var n=0;n<i.leaderboards.length;++n){var o=this.FindPromoHolderInternal(i.leaderboards[n].tournamentID,TournamentProtocol.PromoType.Tournament);o.leaderboard=i.leaderboards[n],this.ConvertLeaderboardToPlayerCurrency(o)}this.isReloaded=!0}},TournamentConnection.prototype.OnRaceDetailsReloaded=function(t,e){TournamentProtocol.TournamentParser.errorMessage="PromoAPI Parsing Error (promo/race/details)";var i=TournamentProtocol.TournamentParser.ParseDetailsResponse(t);if(null!=i&&null!=i.details){for(var n=0;n<i.details.length;++n){var o,s=this.FindPromoHolderInternal(i.details[n].id,TournamentProtocol.PromoType.Race);null==s.details?(s.details=i.details[n],this.isRacePrizesReloaded=!1):(o=s.details.prizePool.prizesList,s.details.prizePool=i.details[n].prizePool,s.details.prizePool.prizesList=o),s.details.htmlRules=i.details[n].htmlRules,s.details.shortHtmlRules=i.details[n].shortHtmlRules,s.details.prizePoolTotal=i.details[n].prizePool,s.details.currencyRateMap=i.details[n].currencyRateMap,this.ConvertDetailsToPlayerCurrency(s),PromotionsHelper.ConvertDynamicFields(s.details),this.updateWinnerPrizesWhenDetailsReloaded&&this.UpdateWinnerPrizes(s)}this.isReloaded=!0,this.isRaceDetailsReloaded=!0,this.updateWinnerPrizesWhenDetailsReloaded=!1}else this.Reload(this.raceDetailsURL,this.raceDetailsReloadedHandler)},TournamentConnection.prototype.OnRacePrizesReloaded=function(t,e){this.racePrizesTimer=0,this.isReloadindRacePrizes=!1,TournamentProtocol.TournamentParser.errorMessage="PromoAPI Parsing Error (promo/race/prizes)";var i=TournamentProtocol.TournamentParser.ParseDetailsResponse(t);if(null!=i&&null!=i.details){for(var n=0;n<i.details.length;++n){var o=this.FindPromoHolderInternal(i.details[n].id,TournamentProtocol.PromoType.Race);null==o.details&&(o.details=i.details[n]),o.details.prizePool.prizesList=i.details[n].prizePool.prizesList,o.details.prizePool.totalCount=i.details[n].prizePool.totalCount,this.ConvertDetailsToPlayerCurrency(o),PromotionsHelper.ConvertDynamicFields(o.details)}this.isReloaded=!0,this.isRacePrizesReloaded=!0}},TournamentConnection.prototype.ReloadRaceWinners=function(){for(var t,e=[],i=0;i<this.promoHolders.length;++i)this.promoHolders[i].type==TournamentProtocol.PromoType.Race&&(t='"'+this.promoHolders[i].id+'":',null==this.promoHolders[i].leaderboard||_string.IsNullOrEmpty(this.promoHolders[i].leaderboard.lastIdentity)?t+="null":t+='"'+this.promoHolders[i].leaderboard.lastIdentity+'"',e.push(t));if(0==e.length)return this.raceWinnersTimer=0,void(this.isReloadindRaceWinners=!1);var n=new ServerRequest;n.Url=this.raceWinnersURL,n.Handler=this.raceWinnersReloadedHandler,n.PostData='{"latestIdentity":{'+e.join(",")+"}}",n.ContentType="application/json",RequestManager.AddRequest(n)},TournamentConnection.prototype.OnRaceWinnersReloaded=function(t,e){this.raceWinnersTimer=0,this.isReloadindRaceWinners=!1,TournamentProtocol.TournamentParser.errorMessage="PromoAPI Parsing Error (promo/race/winners)";var i=TournamentProtocol.TournamentParser.ParseLeaderboardResponse(String(t));if(null!=i){if(null!=i.leaderboards)for(var n=0;n<i.leaderboards.length;++n){var o=this.FindPromoHolderInternal(i.leaderboards[n].tournamentID,TournamentProtocol.PromoType.Race),s=o.cumulatedLeaderboard,r=i.leaderboards[n];if(null!=r&&null!=r.items){null!=s&&null!=s.items&&r.winnersAction==TournamentProtocol.WinnersActionType.Add&&(r.items=r.items.concat(s.items),r.playerWinsCount+=s.playerWinsCount,r.scoreHasDecimals=s.scoreHasDecimals||r.scoreHasDecimals),null==(s=o.leaderboard)&&((s=new TournamentProtocol.Leaderboard).uid=o.uid,s.tournamentID=o.id,s.items=[]),_string.IsNullOrEmpty(r.lastIdentity)||(s.lastIdentity=r.lastIdentity),s.scoreHasDecimals=r.scoreHasDecimals,s.items.splice(0);var a=this.GetPrizes(o),l=r.hasCountryID?TournamentLeaderboardItem.defaultCountryID:"",u=null;null!=o.details&&(u=o.details.currencyRateMap);for(var h=0;h<r.items.length;++h){var c=r.items[h];_string.IsNullOrEmpty(c.countryID)&&(c.countryID=l),this.UpdateWinnerPrize(c,a,u)}if(0<r.playerWinsCount){null==this.ldbItemTitle_0&&(this.ldbItemTitle_0=new TournamentProtocol.LeaderboardItem,this.ldbItemTitle_0.winnerContent=TournamentProtocol.WinnerContentType.Title_0,this.ldbItemTitle_0.isPlayer=!0),s.items.push(this.ldbItemTitle_0);for(h=0;h<r.items.length;++h)r.items[h].isPlayer&&(r.items[h].valueIndexExtra=1,s.items.push(r.items[h]))}if(r.playerWinsCount<r.items.length){null==this.ldbItemTitle_1&&(this.ldbItemTitle_1=new TournamentProtocol.LeaderboardItem,this.ldbItemTitle_1.winnerContent=TournamentProtocol.WinnerContentType.Title_1),s.items.push(this.ldbItemTitle_1);for(var p=s.items.length%2,h=0;h<r.items.length;++h)r.items[h].isPlayer||(r.items[h].valueIndexExtra=p,s.items.push(r.items[h]))}o.leaderboard=s,o.cumulatedLeaderboard=r}}this.isReloaded=!0}},TournamentConnection.prototype.UpdateWinnerPrizes=function(t){var e=t.cumulatedLeaderboard;if(null!=e){var i=this.GetPrizes(t),n=null;null!=t.details&&(n=t.details.currencyRateMap);for(var o=0;o<e.items.length;++o)this.UpdateWinnerPrize(e.items[o],i,n)}},TournamentConnection.prototype.UpdateWinnerPrize=function(t,e,i){e=this.FindPrizeByID(e,t.prizeID);null!=e?(t.type=e.type,t.currency=e.currency,t.amount=e.amount,t.gift=e.gift,t.betMultiplier=e.betMultiplier,t.freeRoundAmount=e.freeRoundAmount,t.freeRoundLimitType=e.freeRoundLimitType,null!=i&&e.currency!=t.memberCurrency&&(t.scoreBet=PromotionsHelper.ConvertToPlayerCurrency(i,t.scoreBet,t.memberCurrency),t.effectiveBetForBetMultiplier=PromotionsHelper.ConvertToPlayerCurrency(i,t.effectiveBetForBetMultiplier,t.memberCurrency),t.memberCurrency=ServerOptions.currency),t.prize=t.effectiveBetForBetMultiplier*t.betMultiplier):this.updateWinnerPrizesWhenDetailsReloaded=!0},TournamentConnection.prototype.GetPrizes=function(t){return null==t||null==t.details||null==t.details.prizePoolTotal?null:t.details.prizePoolTotal.prizesList},TournamentConnection.prototype.FindPrizeByID=function(t,e){if(null==t)return null;for(var i=0;i<t.length;++i)if(e==t[i].prizeID)return t[i];return null},TournamentConnection.prototype.ConvertDetailsToPlayerCurrency=function(t){var e=t.details;if(null!=e&&null!=e.currencyRateMap){var i=e.prizePool.prizesList;if(null!=i)for(var n=0;n<i.length;n++){var o=PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap,i[n].amount,e.prizePool.realCurrency);-.5<o&&(i[n].amount=o,i[n].currency=ServerOptions.currency,e.prizePool.currency=ServerOptions.currency)}}},TournamentConnection.prototype.ConvertLeaderboardToPlayerCurrency=function(t){var e=t.details;if(null!=e){if(null!=e&&null!=e.currencyRateMap&&null!=t.leaderboard)for(var i=t.leaderboard.items,n=0;n<i.length;n++){var o=PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap,i[n].amount,i[n].memberCurrency);-.5<o&&(i[n].amount=o,i[n].scoreBet=PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap,i[n].scoreBet,i[n].memberCurrency),i[n].effectiveBetForBetMultiplier=PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap,i[n].effectiveBetForBetMultiplier,i[n].memberCurrency),i[n].memberCurrency=ServerOptions.currency)}}else this.convertLeaderboardWhenDetailsReloaded=!0},TournamentConnection.prototype.QueryPrefix=function(t){return/\?/.test(t)?"&":"?"},TournamentConnection.prototype.ReloadIfNeeded=function(t,e,i,n,o){if(null!=t){for(var s=!1,r=[],a=0;a<t.length;++a){r.push(t[a].id);var l=this.FindPromoHolderInternal(t[a].id,t[a].type);l.isNew||null==l.promotion||!l.promotion.isOpted||t[a].isOpted||(l.isNew=!0,this.hasUpdates=!0),l.promotion=t[a],o.push(l),e.indexOf(t[a].id)<0&&(s=!0,l.type==TournamentProtocol.PromoType.Race?this.isRaceDetailsReloaded=!1:l.type==TournamentProtocol.PromoType.Tournament&&(this.isTournamentDetailsReloaded=!1))}e.splice(0);for(a=0;a<r.length;++a)e.push(r[a]);s&&(this.hasUpdates=!0,this.Reload(i,n))}},TournamentConnection.prototype.FindPromoHolderInternal=function(t,e){var i=this.FindPromoHolder(TournamentConnection.PromoHolder.GetUID(t,e));return null==i&&(i=new TournamentConnection.PromoHolder(t,e),this.promoHolders.push(i),i.type==TournamentProtocol.PromoType.Tournament&&(this.activeTournaments=!0),i.type==TournamentProtocol.PromoType.Race&&(this.activeRaces=!0)),i},TournamentConnection.prototype.FindPromoHolder=function(t){for(var e=0;e<this.promoHolders.length;++e)if(this.promoHolders[e].uid==t)return this.promoHolders[e];return null},TournamentConnection.prototype.FindNewPromoHolders=function(){for(var t,e=[],i=!1,n=[],o=[],s=0;s<this.promoHolders.length;++s)null!=this.promoHolders[s].promotion&&this.promoHolders[s].promotion.displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins&&this.promoHolders[s].isNew&&null!=this.promoHolders[s].details&&null!=this.promoHolders[s].promotion&&(this.promoHolders[s].promotion.isOpted||""==this.promoHolders[s].promotion.promotionId||(-1==(t=o.indexOf(this.promoHolders[s].promotion.promotionId))&&(o.push(this.promoHolders[s].promotion.promotionId),n.push([]),t=o.length-1),n[t].push(this.promoHolders[s])));for(s=0;s<n.length;s++)2==n[s].length&&(n[s].sort(function(t,e){return e.promotion.type-t.promotion.type}),n[s][0].isMerged=!0,n[s][0].details.htmlRulesForOptIn=n[s][0].promotion.name+"\n\n"+n[s][0].details.htmlRules+"\n\n"+n[s][1].promotion.name+"\n\n"+n[s][1].details.htmlRules,e.push(n[s][0]),e.push(n[s][1]),i=!0);for(s=0;s<this.promoHolders.length;++s)null!=this.promoHolders[s].promotion&&this.promoHolders[s].promotion.displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins&&this.promoHolders[s].isNew&&null!=this.promoHolders[s].details&&null!=this.promoHolders[s].promotion&&!this.promoHolders[s].promotion.isOpted&&""!=this.promoHolders[s].promotion.promotionId&&i||this.promoHolders[s].isNew&&null!=this.promoHolders[s].details&&null!=this.promoHolders[s].promotion&&(this.promoHolders[s].isNew=!1,this.promoHolders[s].promotion.isOpted||(this.promoHolders[s].details.htmlRulesForOptIn=this.promoHolders[s].details.htmlRules,e.push(this.promoHolders[s])));return e},TournamentConnection.prototype.GetPromotions=function(t){var e=[];t&&this.promoHolders.sort(TournamentConnection.PromoHolder.Compare);for(var i=0;i<this.promoHolders.length;++i)null!=this.promoHolders[i].promotion&&this.promoHolders[i].promotion.clientMode==TournamentProtocol.ClientMode.Visible&&(_string.IsNullOrEmpty(this.promoHolders[i].promotion.uid)&&(this.promoHolders[i].promotion.uid=this.promoHolders[i].uid),e.push(this.promoHolders[i].promotion));return 0<e.length?e:null},TournamentConnection.prototype.GetPromotionForRankInfo=function(){for(var t=[],e=!1,i=!1,n=0;n<this.promoHolders.length;++n){var o=this.promoHolders[n];null!=o.promotion&&o.promotion.clientMode==TournamentProtocol.ClientMode.Visible&&o.type!=TournamentProtocol.PromoType.Invalid&&(_string.IsNullOrEmpty(o.promotion.uid)&&(o.promotion.uid=o.uid),o.type==TournamentProtocol.PromoType.Tournament&&(o.promotion.status!=TournamentProtocol.StatusCode.Open&&e||t.push(o.promotion),e=!0),o.type==TournamentProtocol.PromoType.Race&&(o.promotion.status!=TournamentProtocol.StatusCode.Open&&i||t.push(o.promotion),i=!0))}return 0<t.length?t:null},TournamentConnection.prototype.GetDetails=function(){for(var t=[],e=0;e<this.promoHolders.length;++e)null!=this.promoHolders[e].details&&(_string.IsNullOrEmpty(this.promoHolders[e].details.uid)&&(this.promoHolders[e].details.uid=this.promoHolders[e].uid),this.promoHolders[e].type==TournamentProtocol.PromoType.Race&&null!=this.promoHolders[e].promotion&&this.promoHolders[e].promotion.status==TournamentProtocol.StatusCode.Closed&&null!=this.promoHolders[e].details.prizePool&&null!=this.promoHolders[e].details.prizePool.prizesList&&(this.promoHolders[e].details.prizePool.prizesList=null),t.push(this.promoHolders[e].details));return 0<t.length?t:null},TournamentConnection.prototype.GetLeaderboards=function(){for(var t=[],e=0;e<this.promoHolders.length;++e)null!=this.promoHolders[e].leaderboard&&(_string.IsNullOrEmpty(this.promoHolders[e].leaderboard.uid)&&(this.promoHolders[e].leaderboard.uid=this.promoHolders[e].uid),t.push(this.promoHolders[e].leaderboard));return 0<t.length?t:null},TournamentConnection.prototype.SendOptRequest=function(t,e){var i=this.FindPromoHolder(t);null!=i&&(i.promotion.type==TournamentProtocol.PromoType.Tournament?this.InternalSendOptRequest(e?this.tournamentOptInURL:this.tournamentOptOutURL,t,i.id):i.promotion.type==TournamentProtocol.PromoType.Race&&this.InternalSendOptRequest(e?this.raceOptInURL:this.raceOptOutURL,t,i.id))},TournamentConnection.prototype.InternalSendOptRequest=function(t,e,i){var n=new ServerRequest;n.Url=t,n.PostData='{"promoID":'+String(i)+"}",n.ContentType="application/json",RequestManager.AddRequest(n),this.optRequests[e]=n},TournamentConnection.prototype.CheckOptResponses=function(){if(0!=Object.keys(Object(this.optRequests)).length){var t,e=[],i=this.optRequests;for(t in this.optRequests={},i){var n,o,s=i[t];s.IsDone()?(TournamentProtocol.TournamentParser.errorMessage="PromoAPI Parsing Error (player/choice)",n=TournamentProtocol.TournamentParser.ParseBaseResponse(s.request.Data),o=this.FindPromoHolder(t),null==n||n.error!=TournamentProtocol.ErrorCode.None?this.InternalSendOptRequest(s.Url,t,o.id):(o.promotion.isOpted=!0,-1<s.Url.indexOf("OPTOUT")&&e.push(t))):this.optRequests[t]=s}if(0!=e.length){var r=this.promoHolders;this.promoHolders=[],this.activeTournaments=!1,this.activeRaces=!1;for(var a=0;a<r.length;++a)e.indexOf(r[a].uid)<0&&(this.promoHolders.push(r[a]),r[a].type==TournamentProtocol.PromoType.Tournament&&(this.activeTournaments=!0),r[a].type==TournamentProtocol.PromoType.Race&&(this.activeRaces=!0));-1<e.indexOf(XT.GetString(TournamentVars.SelectedTournamentID))&&XT.SetString(TournamentVars.SelectedTournamentID,""),this.xtLayer.SetTournaments(this.GetPromotions(!1))}}},TournamentConnection.prototype.ProcessPromotions=function(){for(var t=0;t<this.promoHolders.length;++t){var e,i,n=this.promoHolders[t];null!=n.promotion&&(e=this.GetPrizePoolType(n),n.prizesType=n.promotion.prizesType=e,null!=n.details&&null!=n.details.prizePool&&n.promotion.type==TournamentProtocol.PromoType.Tournament&&(i=n.details.prizePool.totalCount*this.timesNumberOfPrizesAKAMaxLeaderboardPosition,n.maxLeaderboardPosition=0<i?i:-1),e!=TournamentProtocol.PrizePoolType.Invalid&&this.OmitLeaderboardItemsAfterMaxPosition(n),e!=TournamentProtocol.PrizePoolType.Invalid&&e!=TournamentProtocol.PrizePoolType.AG&&(n.promotion.type==TournamentProtocol.PromoType.Tournament?(null==n.generatedLeaderboard&&this.GenerateExpandedLeaderboard(n),this.PopulateExpandedLeaderboard(n)):n.promotion.type==TournamentProtocol.PromoType.Race&&this.PopulatePrizesTotalCount(n)))}},TournamentConnection.prototype.GetPrizePoolType=function(t){if(null==t.details||null==t.details.prizePool||null==t.details.prizePool.prizesList)return t.prizesType;for(var e=t.details.prizePool.prizesList,i=0,n=0;n<e.length;++n)e[n].type==TournamentProtocol.PrizeType.BetMultiplier&&i++;return 0<i?i==e.length?TournamentProtocol.PrizePoolType.BM:TournamentProtocol.PrizePoolType.AGBM:TournamentProtocol.PrizePoolType.AG},TournamentConnection.prototype.GenerateExpandedLeaderboard=function(t){for(var e=[],i=t.details.prizePool.prizesList,n=0;n<i.length;++n)for(var o=i[n],s=o.placeTo-o.placeFrom+1,r=0;r<s;++r){var a=new TournamentProtocol.LeaderboardItem;a.position=o.placeFrom+r,a.type=o.type,a.currency=o.currency,a.amount=o.amount,a.gift=o.gift,a.betMultiplier=o.betMultiplier,a.freeRoundAmount=o.freeRoundAmount,a.freeRoundLimitType=o.freeRoundLimitType,e.push(a)}t.generatedLeaderboard=new TournamentProtocol.Leaderboard,t.generatedLeaderboard.items=e},TournamentConnection.prototype.PopulateExpandedLeaderboard=function(t){var e=t.leaderboard,i=(e=null==e?new TournamentProtocol.Leaderboard:e).items;null==i&&(i=[]);for(var n,o=t.generatedLeaderboard.items.slice(),s=0;s<o.length;++s)null!=(r=this.FindLeaderboardItem(i,o[s].position))&&(n=o[s],r.type=n.type,r.currency=n.currency,r.amount=n.amount,r.gift=n.gift,r.betMultiplier=n.betMultiplier,r.prize=r.effectiveBetForBetMultiplier*r.betMultiplier,r.freeRoundAmount=n.freeRoundAmount,r.freeRoundLimitType=n.freeRoundLimitType,o[s]=r);for(var r,s=0;s<i.length;++s)null==(r=this.FindLeaderboardItem(o,i[s].position))&&o.push(i[s]);null==t.expandedLeaderboard&&((e=new TournamentProtocol.Leaderboard).uid=t.promotion.uid,e.tournamentID=t.promotion.id,t.expandedLeaderboard=e),t.expandedLeaderboard.items=o},TournamentConnection.prototype.FindLeaderboardItem=function(t,e){for(var i=0;i<t.length;++i)if(t[i].position==e)return t[i];return null},TournamentConnection.prototype.PopulatePrizesTotalCount=function(t){if(null!=t.details&&null!=t.details.prizePool&&null!=t.details.prizePool.prizesList&&null!=t.details.prizePoolTotal&&null!=t.details.prizePoolTotal.prizesList)for(var e=t.details.prizePool.prizesList,i=t.details.prizePoolTotal.prizesList,n=0;n<e.length;++n)e[n].totalCount=i[n].count},TournamentConnection.prototype.OmitLeaderboardItemsAfterMaxPosition=function(t){if(!(null==t.leaderboard||null==t.leaderboard.items||t.leaderboard.items.length<2)){for(var e=t.leaderboard.items,i=-1,n=1;n<e.length;++n)if(-1<t.maxLeaderboardPosition&&e[n].position>t.maxLeaderboardPosition){i=n;break}if(!(i<0)){for(var o=[],n=i;n<e.length;++n)o.push(e[n]),e[n].isPlayer&&(t.leaderboard.playerIndex=-1,t.leaderboard.playerIndexOmitted=o.length-1);t.leaderboard.itemsOmitted=o,e.splice(i,e.length-i)}}};var PromotionsHelper={lastPromotionShownIndex:0,currentPromotionsUUID:"",Formats:{beyondMaxRank:"{0}+",scoreOptions:null},RankInfo:function(){this.uid="",this.value=-1,this.type=TournamentProtocol.PromoType.Invalid,this.style=TournamentProtocol.ClientStyle.Invalid},AnnouncementInfo:function(){this.uid="",this.type=TournamentProtocol.PromoType.Invalid,this.currency="",this.prizesCount=0,this.prizesAmount=0,this.description=""},FindPromotion:function(t){if(_string.IsNullOrEmpty(t))return null;t=TournamentConnection.instance.FindPromoHolder(t);return null==t?null:t.promotion},FindDetails:function(t){if(_string.IsNullOrEmpty(t))return null;t=TournamentConnection.instance.FindPromoHolder(t);return null==t?null:t.details},FindLeaderboard:function(t,e){if(e=null!=e&&e,_string.IsNullOrEmpty(t))return null;t=TournamentConnection.instance.FindPromoHolder(t);return null==t?null:e?t.expandedLeaderboard:t.leaderboard},GetRankInfo:function(){var t=new PromotionsHelper.RankInfo;if(null==TournamentConnection.instance)return t;var e=TournamentConnection.instance.GetPromotionForRankInfo();if(null==e)return t;PromotionsHelper.lastPromotionShownIndex%=e.length;var i=PromotionsHelper.lastPromotionShownIndex,n=TournamentConnection.instance.FindPromoHolder(e[i].uid);return null==n?t:(t.type=n.type,t.style=e[i].clientStyle,e[i].status!=TournamentProtocol.StatusCode.Open||(t.uid=n.uid,n.type==TournamentProtocol.PromoType.Tournament?null!=n.leaderboard&&(t.value=-1<n.leaderboard.playerIndex||-1<n.leaderboard.playerIndexOmitted?n.leaderboard.playerPosition:-1):n.type==TournamentProtocol.PromoType.Race&&null!=n.details&&null!=n.details.prizePool&&(t.value=0<n.details.prizePool.totalCount?n.details.prizePool.totalCount:-1),PromotionsHelper.currentPromotionsUUID=t.uid,XT.TriggerEvent(TournamentVars.Evt_Internal_UpdatePromotionWarning)),t)},GetPromotionType:function(t){if(_string.IsNullOrEmpty(t))return TournamentProtocol.PromoType.Invalid;t=TournamentConnection.instance.FindPromoHolder(t);return null==t?TournamentProtocol.PromoType.Invalid:t.type},GetAnnouncements:function(){for(var t=[],e=TournamentConnection.instance.FindNewPromoHolders(),i=0;i<e.length;++i){var n=new PromotionsHelper.AnnouncementInfo;n.uid=e[i].uid,n.type=e[i].type,n.prizesCount=e[i].details.prizePool.totalCount,n.prizesAmount=e[i].details.prizePool.totalAmount,n.description=e[i].details.shortHtmlRules,t.push(n)}return t},GetUID:function(t,e){return TournamentConnection.PromoHolder.GetUID(t,e)},GetCurrency:function(t){if(_string.IsNullOrEmpty(t))return ServerOptions.realCurrency;t=TournamentConnection.instance.FindPromoHolder(t);return null==t||null==t.details||null==t.details.prizePool?ServerOptions.realCurrency:t.details.prizePool.currency},OptIn:function(t){TournamentConnection.instance.SendOptRequest(t,!0)},OptOut:function(t){TournamentConnection.instance.SendOptRequest(t,!1)},PromotionAvailable:function(t){t=PromotionsHelper.FindPromotion(t);return null!=t&&!(t.status==TournamentProtocol.StatusCode.Open&&t.endDate-XT.GetInt(TournamentVars.ServerTime)<=0)},FindPlayerInLeaderboard:function(t){t=PromotionsHelper.FindLeaderboard(t);if(null!=t){if(-1<t.playerIndex)return t.items[t.playerIndex];if(-1<t.playerIndexOmitted)return t.itemsOmitted[t.playerIndexOmitted]}return null},FindPlayerLeaderboardPosition:function(t){t=PromotionsHelper.FindPlayerInLeaderboard(t);return null!=t?t.position:-1},FormatRank:function(t,e){t=TournamentConnection.instance.FindPromoHolder(t);return null!=t&&-1<t.maxLeaderboardPosition&&e>t.maxLeaderboardPosition?PromotionsHelper.Formats.beyondMaxRank.replace("{0}",String(t.maxLeaderboardPosition)):String(e)},FormatScore:function(t,e){var i=PromotionsHelper.Formats,n=i.scoreOptions;return null==n&&((n=i.scoreOptions=new FormatOptions).hasCurrency=!1),n.hasDecimals=null!=e&&e.scoreHasDecimals,LocaleManager.FormatValue(t,n)},ConvertToPlayerCurrency:function(t,e,i){return null!=t&&t[ServerOptions.realCurrency]&&t[i]?t[i]*e/t[ServerOptions.realCurrency]:-1},ConvertDynamicFields:function(t){var e;null!=t&&(e="",null!=t.prizePool.prizesList&&0<t.prizePool.prizesList.length&&t.prizePool.prizesList[0].type==TournamentProtocol.PrizeType.Amount&&(e=LocaleManager.FormatValueWithCustomCurrency(t.prizePool.prizesList[0].amount,t.prizePool.currency)),t.htmlRules=t.htmlRules.replace(/~highestPrize/g,e),t.shortHtmlRules=t.shortHtmlRules.replace(/~highestPrize/g,e),e="",0<t.prizePool.minBetLimit&&(e=LocaleManager.FormatValueWithCustomCurrency(t.prizePool.minBetLimit,ServerOptions.currency)),t.htmlRules=t.htmlRules.replace(/~minBet/g,e),t.shortHtmlRules=t.shortHtmlRules.replace(/~minBet/g,e),e="",0<t.prizePool.maxBetLimitByMultiplier&&(e=LocaleManager.FormatValueWithCustomCurrency(t.prizePool.maxBetLimitByMultiplier,ServerOptions.currency)),t.htmlRules=t.htmlRules.replace(/~maxBet/g,e),t.shortHtmlRules=t.shortHtmlRules.replace(/~maxBet/g,e),e="",0<t.prizePool.totalPrizeAmount&&(e=LocaleManager.FormatValueWithCustomCurrency(t.prizePool.totalPrizeAmount,ServerOptions.currency)),t.htmlRules=t.htmlRules.replace(/~totalPrizeAmount/g,e),t.shortHtmlRules=t.shortHtmlRules.replace(/~totalPrizeAmount/g,e))},PromotionCheckTournamentOptOut:function(t){t=PromotionsHelper.FindPromotion(t);null!=t&&(-1<t.optJurisdiction.indexOf(ServerOptions.jurisdiction)?XT.SetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut,!0):XT.SetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut,!1))}};goog.provide("UHT.TournamentProtocol");var TournamentProtocol={Dictionary:{StatusCode:{StartsSoon:"S",Open:"O",Closed:"C"},ClientMode:{Visible:"V",Hidden:"H"},ClientStyle:{Europe:"EU",Asia:"AS"},Tournament:{id:"id",status:"status",name:"name",startDate:"startDate",endDate:"endDate",clientMode:"clientMode",clientStyle:"clientStyle",optIn:"optin",type:"type"},Details:{id:"id",htmlRules:"htmlRules",prizePool:"prizePool",prizes:"prizes",shortHtmlRules:"shortHtmlRules",currencyRateMap:"currencyRateMap"},PrizePool:{currency:"currency",realCurrency:"currencyOriginal",prizesList:"prizesList",prizeRemains:"prizeRemains"},Prize:{placeFrom:"placeFrom",placeTo:"placeTo",amount:"amount",gift:"gift",count:"count"},Leaderboard:{tournamentID:"tournamentID",playerIndex:"index",items:"items"},LeaderboardItem:{position:"position",playerID:"playerID",score:"score"},Response:{error:"error",description:"description"},TournamentsResponse:{tournaments:"tournaments",serverTime:"serverTime",races:"races"},DetailsResponse:{details:"details"},LeaderboardResponse:{leaderboards:"leaderboards"}}};goog.require("UHT.TournamentProtocol"),TournamentProtocol.TournamentParser={},TournamentProtocol.TournamentParser.errorMessage="",TournamentProtocol.TournamentParser.ParseTournamentsResponse=function(t){if(_string.IsNullOrEmpty(t))return null;var e=_JSON.TryParse(t),t=TournamentProtocol.TournamentParser.ParseResponse(e);return null==t||null==e[TournamentProtocol.Dictionary.TournamentsResponse.serverTime]?(console.error(TournamentProtocol.TournamentParser.errorMessage),null):TournamentProtocol.TournamentParser.ParseOnlyTournamentsResponse(t,e)},TournamentProtocol.TournamentParser.ParseOnlyTournamentsResponse=function(t,e){var i=TournamentProtocol.Dictionary,n=TournamentProtocol.TournamentParser,o=TournamentProtocol.PromoType,t=new TournamentProtocol.TournamentsResponse(t);return null!=e[i.TournamentsResponse.serverTime]&&(t.serverTime=_number.otoi(e[i.TournamentsResponse.serverTime])),null!=e[i.TournamentsResponse.tournaments]&&(t.tournaments=n.ParseTournaments(e[i.TournamentsResponse.tournaments],o.Tournament)),null!=e[i.TournamentsResponse.races]&&(t.races=n.ParseTournaments(e[i.TournamentsResponse.races],o.Race)),t},TournamentProtocol.TournamentParser.ParseDetailsResponse=function(t){if(_string.IsNullOrEmpty(t))return null;var e=_JSON.TryParse(t),t=TournamentProtocol.TournamentParser.ParseResponse(e);if(null==t)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;t=new TournamentProtocol.DetailsResponse(t);return null!=e[TournamentProtocol.Dictionary.DetailsResponse.details]&&(t.details=TournamentProtocol.TournamentParser.ParseTournamentDetails(e[TournamentProtocol.Dictionary.DetailsResponse.details])),null!=e[TournamentProtocol.Dictionary.Details.prizes]&&(t.details=TournamentProtocol.TournamentParser.ParseTournamentDetails(e[TournamentProtocol.Dictionary.Details.prizes])),t},TournamentProtocol.TournamentParser.ParseLeaderboardResponse=function(t){if(_string.IsNullOrEmpty(t))return null;var e=_JSON.TryParse(t),t=TournamentProtocol.TournamentParser.ParseResponse(e);if(null==t)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;t=new TournamentProtocol.LeaderboardResponse(t);null!=e[TournamentProtocol.Dictionary.LeaderboardResponse.leaderboards]&&(t.leaderboards=TournamentProtocol.TournamentParser.ParseLeaderboards(e[TournamentProtocol.Dictionary.LeaderboardResponse.leaderboards]));return null!=e.winners&&(t.leaderboards=TournamentProtocol.TournamentParser.ParseLeaderboards(e.winners)),t},TournamentProtocol.TournamentParser.ParseResponse=function(t){if(null==t||null==t[TournamentProtocol.Dictionary.Response.error]||null==t[TournamentProtocol.Dictionary.Response.description])return null;var e=new TournamentProtocol.Response;switch(e.description=String(t[TournamentProtocol.Dictionary.Response.description]),_number.otoi(t[TournamentProtocol.Dictionary.Response.error])){case TournamentProtocol.ErrorCode.None:e.error=TournamentProtocol.ErrorCode.None;break;case TournamentProtocol.ErrorCode.InvalidParameter:e.error=TournamentProtocol.ErrorCode.InvalidParameter;break;case TournamentProtocol.ErrorCode.TournamentNotFound:e.error=TournamentProtocol.ErrorCode.TournamentNotFound;break;case TournamentProtocol.ErrorCode.ServiceError:e.error=TournamentProtocol.ErrorCode.ServiceError}return e},TournamentProtocol.TournamentParser.ParseTournaments=function(t,e){var i=t;if(null==i)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;for(var n=[],o=0;o<i.length;++o){var s=i[o];if(null!=s&&null!=s[TournamentProtocol.Dictionary.Tournament.id]&&null!=s[TournamentProtocol.Dictionary.Tournament.status]&&null!=s[TournamentProtocol.Dictionary.Tournament.name]&&null!=s[TournamentProtocol.Dictionary.Tournament.startDate]&&null!=s[TournamentProtocol.Dictionary.Tournament.endDate]){var r=new TournamentProtocol.Tournament;r.id=_number.otoi(s[TournamentProtocol.Dictionary.Tournament.id]),r.name=String(s[TournamentProtocol.Dictionary.Tournament.name]),r.startDate=_number.otoi(s[TournamentProtocol.Dictionary.Tournament.startDate]),r.endDate=_number.otoi(s[TournamentProtocol.Dictionary.Tournament.endDate]),r.type=e;var a="#DDW#";-1<r.name.indexOf(a)&&(r.name=r.name.replace(new RegExp(a,"g"),""),r.displayStyle=TournamentProtocol.DisplayStyle.DropsAndWins),-1<r.name.indexOf(a="#IDNSM#")&&(r.name=r.name.replace(new RegExp(a,"g"),""),r.displayStyle=TournamentProtocol.DisplayStyle.IDNSM);a=r.name.match(/#.+#/);switch(null!=a&&0<a.length&&(r.name=r.name.replace(a[0],""),r.promotionId=a[0].replace(/#/g,"")),String(s[TournamentProtocol.Dictionary.Tournament.status])){case TournamentProtocol.Dictionary.StatusCode.StartsSoon:r.status=TournamentProtocol.StatusCode.StartsSoon;break;case TournamentProtocol.Dictionary.StatusCode.Open:r.status=TournamentProtocol.StatusCode.Open;break;case TournamentProtocol.Dictionary.StatusCode.Closed:r.status=TournamentProtocol.StatusCode.Closed}if(null!=s[TournamentProtocol.Dictionary.Tournament.clientMode])switch(String(s[TournamentProtocol.Dictionary.Tournament.clientMode])){case TournamentProtocol.Dictionary.ClientMode.Visible:r.clientMode=TournamentProtocol.ClientMode.Visible;break;case TournamentProtocol.Dictionary.ClientMode.Hidden:r.clientMode=TournamentProtocol.ClientMode.Hidden}else e==TournamentProtocol.PromoType.Race&&(r.clientMode=TournamentProtocol.ClientMode.Visible);if(null!=s[TournamentProtocol.Dictionary.Tournament.optIn]&&(r.isOpted=_bool.Parse(s[TournamentProtocol.Dictionary.Tournament.optIn])),null!=s[TournamentProtocol.Dictionary.Tournament.clientStyle])switch(String(s[TournamentProtocol.Dictionary.Tournament.clientStyle])){case TournamentProtocol.Dictionary.ClientStyle.Asia:r.clientStyle=TournamentProtocol.ClientStyle.Asia;break;case TournamentProtocol.Dictionary.ClientStyle.Europe:r.clientStyle=TournamentProtocol.ClientStyle.Europe}a="showWinnersList";null!=s[a]&&(r.showWinnersList=_bool.Parse(s[a])),null!=s[a="optJurisdiction"]&&(r.optJurisdiction=s[a]),n.push(r)}else console.error(TournamentProtocol.TournamentParser.errorMessage)}return n},TournamentProtocol.TournamentParser.ParseTournamentDetails=function(t){var e=t;if(null==e)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;for(var i=[],n=0;n<e.length;++n){var o,s=e[n];null!=s&&null!=s[TournamentProtocol.Dictionary.Details.id]?((o=new TournamentProtocol.TournamentDetails).id=_number.otoi(s[TournamentProtocol.Dictionary.Details.id]),null!=s[TournamentProtocol.Dictionary.Details.prizePool]&&(o.prizePool=TournamentProtocol.TournamentParser.ParsePrizePool(s[TournamentProtocol.Dictionary.Details.prizePool])),null!=s[TournamentProtocol.Dictionary.PrizePool.prizeRemains]&&(o.prizePool=TournamentProtocol.TournamentParser.ParsePrizePool(s)),null!=s[TournamentProtocol.Dictionary.Details.htmlRules]&&(o.htmlRules=_string.Trim(String(s[TournamentProtocol.Dictionary.Details.htmlRules]).replace("\r",""),"\n")),o.htmlRules+="\n \n \n",null!=s[TournamentProtocol.Dictionary.Details.shortHtmlRules]&&(o.shortHtmlRules=_string.Trim(String(s[TournamentProtocol.Dictionary.Details.shortHtmlRules]).replace("\r",""),"\n")),null!=s[TournamentProtocol.Dictionary.Details.currencyRateMap]&&(o.currencyRateMap=s[TournamentProtocol.Dictionary.Details.currencyRateMap]),i.push(o)):console.error(TournamentProtocol.TournamentParser.errorMessage)}return i},TournamentProtocol.TournamentParser.ParsePrizePool=function(t){var e=t;if(null==e)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;var i=new TournamentProtocol.PrizePool;null!=e[TournamentProtocol.Dictionary.PrizePool.currency]?i.currency=String(e[TournamentProtocol.Dictionary.PrizePool.currency]):i.currency=ServerOptions.realCurrency,null!=e[TournamentProtocol.Dictionary.PrizePool.realCurrency]?i.realCurrency=String(e[TournamentProtocol.Dictionary.PrizePool.realCurrency]):i.realCurrency=i.currency,null!=e[TournamentProtocol.Dictionary.PrizePool.prizesList]&&(i.prizesList=TournamentProtocol.TournamentParser.ParsePrizes(e[TournamentProtocol.Dictionary.PrizePool.prizesList],i)),null!=e[TournamentProtocol.Dictionary.PrizePool.prizeRemains]&&(i.prizesList=TournamentProtocol.TournamentParser.ParsePrizes(e[TournamentProtocol.Dictionary.PrizePool.prizeRemains],i));t="maxBetLimitByMultiplier";return null!=e[t]&&(i.maxBetLimitByMultiplier=_number.otod(e[t])/100),null!=e[t="minBetLimit"]&&(i.minBetLimit=_number.otoi(e[t])/100),null!=e[t="totalPrizeAmount"]&&(i.totalPrizeAmount=_number.otoi(e[t])),i},TournamentProtocol.TournamentParser.ParsePrizes=function(t,e){var i=t;if(null==i)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;for(var n=0,o=0,s=[],r=0;r<i.length;++r){var a,l,u=i[r];null!=u?(a=new TournamentProtocol.Prize,null!=u[TournamentProtocol.Dictionary.Prize.placeFrom]&&(a.placeFrom=_number.otoi(u[TournamentProtocol.Dictionary.Prize.placeFrom])),null!=u[TournamentProtocol.Dictionary.Prize.placeTo]&&(a.placeTo=_number.otoi(u[TournamentProtocol.Dictionary.Prize.placeTo])),null!=u[TournamentProtocol.Dictionary.Prize.amount]&&(a.amount=_number.otod(u[TournamentProtocol.Dictionary.Prize.amount])),null!=u[TournamentProtocol.Dictionary.Prize.gift]&&(a.gift=String(u[TournamentProtocol.Dictionary.Prize.gift])),null!=u[TournamentProtocol.Dictionary.Prize.count]?(a.count=_number.otod(u[TournamentProtocol.Dictionary.Prize.count]),n+=a.count,o+=a.amount*a.count):0<a.placeFrom&&0<a.placeTo&&(n+=a.placeTo-a.placeFrom+1),a.currency=e.currency,null!=u[l="type"]&&(a.type=TournamentProtocol.PrizeTypeConverter.Convert(u[l])),null!=u[l="betMultiplier"]&&(a.betMultiplier=_number.otoi(u[l])),null!=u[l="prizeID"]&&(a.prizeID=_number.otoi(u[l])),a.type==TournamentProtocol.PrizeType.FreeRounds&&null!=u[l="freeRounds"]&&(null!=(l=u[l]).freeRoundLimitType&&(a.freeRoundLimitType=l.freeRoundLimitType),null!=l.amount&&(a.freeRoundAmount=_number.otoi(l.amount))),s.push(a)):console.error(TournamentProtocol.TournamentParser.errorMessage)}return e.totalCount=n,e.totalAmount=o,s},TournamentProtocol.TournamentParser.ParseLeaderboards=function(t){var e=t;if(null==e)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;for(var i=[],n=0;n<e.length;++n){var o,s,r=e[n];null!=r&&null!=r[TournamentProtocol.Dictionary.Leaderboard.items]?((o=new TournamentProtocol.Leaderboard).items=TournamentProtocol.TournamentParser.ParseLeaderboardItems(r[TournamentProtocol.Dictionary.Leaderboard.items],o),null!=r[TournamentProtocol.Dictionary.Leaderboard.tournamentID]&&(o.tournamentID=_number.otoi(r[TournamentProtocol.Dictionary.Leaderboard.tournamentID])),null!=r[TournamentProtocol.Dictionary.Leaderboard.playerIndex]?o.playerIndex=_number.otoi(r[TournamentProtocol.Dictionary.Leaderboard.playerIndex]):o.playerIndex=-1,null!=o.items&&-1<o.playerIndex&&(o.items[o.playerIndex].isPlayer=!0,o.playerPosition=o.items[o.playerIndex].position),null!=r[s="raceID"]&&(o.tournamentID=_number.otoi(r[s])),null!=r[s="lastIdentity"]&&(o.lastIdentity=String(r[s])),null!=r[s="action"]&&(o.winnersAction=TournamentProtocol.WinnersActionConverter.Convert(String(r[s]))),i.push(o)):console.error(TournamentProtocol.TournamentParser.errorMessage)}return i},TournamentProtocol.TournamentParser.ParseLeaderboardItems=function(t,e){var i=t;if(null==i)return console.error(TournamentProtocol.TournamentParser.errorMessage),null;for(var n=[],o=0;o<i.length;++o){var s,r,a=i[o];null!=a&&null!=a[TournamentProtocol.Dictionary.LeaderboardItem.playerID]?(r=String(a[TournamentProtocol.Dictionary.LeaderboardItem.playerID]).replace(/\*/g,""),r=_string.PadLeft(r,"*",r.length+4),(s=new TournamentProtocol.LeaderboardItem).playerID=r,s.isRanked=!0,s.leaderboard=e,null!=a[TournamentProtocol.Dictionary.LeaderboardItem.position]&&(s.position=_number.otoi(a[TournamentProtocol.Dictionary.LeaderboardItem.position])),null!=a[TournamentProtocol.Dictionary.LeaderboardItem.score]&&(s.score=_number.otod(a[TournamentProtocol.Dictionary.LeaderboardItem.score]),_number.isInt(s.score)||(e.scoreHasDecimals=!0)),null!=a[r="scoreBet"]&&(s.scoreBet=_number.otod(a[r])),null!=a[r="effectiveBetForBetMultiplier"]&&(s.effectiveBetForBetMultiplier=_number.otoi(100*_number.otod(a[r]))/100),null!=a[r="memberCurrency"]&&(s.memberCurrency=String(a[r])),null!=a[r="countryID"]&&(s.countryID=String(a[r]).toLowerCase(),e.hasCountryID=!0),null!=a[r="prizeID"]&&(s.prizeID=_number.otoi(a[r])),null!=a[r="bet"]&&(s.scoreBet=_number.otod(a[r])),null!=a[r="myWin"]&&(s.isPlayer=_bool.Parse(a[r]),s.isPlayer&&e.playerWinsCount++),n.push(s)):console.error(TournamentProtocol.TournamentParser.errorMessage)}return n},TournamentProtocol.TournamentParser.ParseBaseResponse=function(t){if(_string.IsNullOrEmpty(t))return null;t=_JSON.TryParse(t),t=TournamentProtocol.TournamentParser.ParseResponse(t);return null==t&&console.error(TournamentProtocol.TournamentParser.errorMessage),t},TournamentProtocol.TournamentParser.ParsePromoKeys=function(t){var e=TournamentProtocol.TournamentParser;if(null==t)return console.error(e.errorMessage),null;for(var i=TournamentProtocol.Dictionary,n=[],o=0;o<t.length;++o){var s,r=t[o];null!=r&&null!=r[i.Tournament.id]&&null!=r[i.Tournament.type]?((s=new TournamentProtocol.PromoKey).id=_number.otoi(r[i.Tournament.id]),s.type=e.ParsePromoType(r[i.Tournament.type]),n.push(s)):console.error(e.errorMessage)}return n},TournamentProtocol.TournamentParser.ParsePromoType=function(t){var e=TournamentProtocol.PromoType;return"MR"==t?e.Race:"TM"==t?e.Tournament:e.Invalid},goog.require("UHT.TournamentProtocol"),TournamentProtocol.ErrorCode={Invalid:500,None:0,InvalidParameter:1,TournamentNotFound:2,ServiceError:100},TournamentProtocol.StatusCode={Open:0,StartsSoon:1,Closed:2,Invalid:3},TournamentProtocol.ClientMode={Visible:0,Hidden:1,Invalid:2},TournamentProtocol.ClientStyle={Europe:0,Asia:1,Invalid:2},TournamentProtocol.PromoType={Race:0,Tournament:1,Invalid:2},TournamentProtocol.PrizePoolType={AG:0,BM:1,AGBM:2,Invalid:3},TournamentProtocol.DisplayStyle={Default:0,DropsAndWins:1,IDNSM:2},TournamentProtocol.Tournament=function(){this.id=0,this.status=TournamentProtocol.StatusCode.Invalid,this.name="",this.startDate=0,this.endDate=0,this.clientMode=TournamentProtocol.ClientMode.Invalid,this.clientStyle=TournamentProtocol.ClientStyle.Invalid,this.type=TournamentProtocol.PromoType.Invalid,this.uid="",this.isOpted=!0,this.prizesType=TournamentProtocol.PrizePoolType.Invalid,this.displayStyle=TournamentProtocol.DisplayStyle.Default,this.showWinnersList=!1,this.optJurisdiction=[],this.promotionId=""},TournamentProtocol.TournamentDetails=function(){this.id=0,this.htmlRules="",this.htmlRulesForOptIn="",this.prizePool=null,this.prizePoolTotal=null,this.uid="",this.shortHtmlRules="",this.currencyRateMap=null},TournamentProtocol.PrizePool=function(){this.currency="",this.realCurrency="",this.prizesList=null,this.totalCount=0,this.totalAmount=0,this.maxBetLimitByMultiplier=0,this.minBetLimit=0,this.totalPrizeAmount=0},TournamentProtocol.PrizeType={Invalid:0,Amount:1,Gift:2,BetMultiplier:3,FreeRounds:4},TournamentProtocol.PrizeTypeConverter={prizeTypes:["Invalid","A","G","BM","FR"],Convert:function(t){t=TournamentProtocol.PrizeTypeConverter.prizeTypes.indexOf(t);return-1<t?t:TournamentProtocol.PrizeType.Invalid}},TournamentProtocol.Prize=function(){this.placeFrom=0,this.placeTo=0,this.amount=0,this.gift="",this.count=0,this.totalCount=0,this.betMultiplier=0,this.type=TournamentProtocol.PrizeType.Invalid,this.currency="",this.prizeID=0,this.freeRoundLimitType="",this.freeRoundAmount=0},TournamentProtocol.WinnersActionType={Invalid:0,Add:1,Replace:2},TournamentProtocol.WinnersActionConverter={actionTypes:["Invalid","A","R"],Convert:function(t){t=TournamentProtocol.WinnersActionConverter.actionTypes.indexOf(t);return-1<t?t:TournamentProtocol.WinnersActionType.Invalid}},TournamentProtocol.Leaderboard=function(){this.tournamentID=0,this.playerIndex=-1,this.playerIndexOmitted=-1,this.playerPosition=0,this.items=null,this.itemsOmitted=null,this.uid="",this.lastIdentity="",this.hasCountryID=!1,this.playerWinsCount=0,this.winnersAction=TournamentProtocol.WinnersActionType.Invalid,this.scoreHasDecimals=!1},TournamentProtocol.WinnerContentType={Default:0,Title_0:1,Title_1:2},TournamentProtocol.LeaderboardItem=function(){this.position=0,this.playerID="",this.score=0,this.scoreBet=0,this.betMultiplier=0,this.effectiveBetForBetMultiplier=0,this.prize=0,this.memberCurrency="",this.isPlayer=!1,this.isRanked=!1,this.type=TournamentProtocol.PrizeType.Invalid,this.currency="",this.amount=0,this.gift="",this.countryID="",this.prizeID=0,this.winDate=0,this.winnerContent=TournamentProtocol.WinnerContentType.Default,this.valueIndexExtra=0,this.leaderboard=null,this.freeRoundLimitType="",this.freeRoundAmount=0},TournamentProtocol.Request=function(){this.symbol="",this.mgckey=""},TournamentProtocol.Response=function(t){this.error=TournamentProtocol.ErrorCode.Invalid,this.description,null!=t&&(this.error=t.error,this.description=t.description)},TournamentProtocol.TournamentsResponse=function(t){TournamentProtocol.Response.call(this,t),this.tournaments=null,this.races=null,this.serverTime=0},TournamentProtocol.TournamentsResponse.prototype=Object.create(TournamentProtocol.Response.prototype),TournamentProtocol.TournamentsResponse.prototype.constructor=TournamentProtocol.TournamentsResponse,TournamentProtocol.DetailsResponse=function(t){TournamentProtocol.Response.call(this,t),this.details=null},TournamentProtocol.DetailsResponse.prototype=Object.create(TournamentProtocol.Response.prototype),TournamentProtocol.DetailsResponse.prototype.constructor=TournamentProtocol.DetailsResponse,TournamentProtocol.LeaderboardResponse=function(t){TournamentProtocol.Response.call(this,t),this.leaderboards=null},TournamentProtocol.LeaderboardResponse.prototype=Object.create(TournamentProtocol.Response.prototype),TournamentProtocol.LeaderboardResponse.prototype.constructor=TournamentProtocol.LeaderboardResponse,TournamentProtocol.PromoKey=function(){this.id=0,this.type=TournamentProtocol.PromoType.Invalid};var TournamentVars={Tournaments:"Tournaments",Evt_Internal_TournamentsUpdated:"Evt_Internal_TournamentsUpdated",TournamentDetails:"TournamentDetails",TournamentLeaderboards:"TournamentLeaderboards",ServerTime:"ServerTime",SelectedTournamentID:"SelectedTournamentID",Evt_Internal_PromotionsAnnouncer_Prepare:"Evt_Internal_PromotionsAnnouncer_Prepare",Evt_Internal_PromotionsAnnouncer_Announce:"Evt_Internal_PromotionsAnnouncer_Announce",Evt_Internal_PromotionsAnnouncer_PrepareForWin:"Evt_Internal_PromotionsAnnouncer_PrepareForWin",Evt_Internal_PromotionsAnnouncer_ShowWin:"Evt_Internal_PromotionsAnnouncer_ShowWin",Evt_Internal_PromotionsAnnouncer_WinShown:"Evt_Internal_PromotionsAnnouncer_WinShown",Promotion_WinID:"Promotion_WinID",Promotion_WinReceived:"Promotion_WinReceived",Promotion_WinDisplayed:"Promotion_WinDisplayed",Promotion_GiftReceived:"Promotion_GiftReceived",PrizeDropWin_PrizeType:"PrizeDropWin_PrizeType",PrizeDropWin_Bet:"PrizeDropWin_Bet",PrizeDropWin_BetMultiplier:"PrizeDropWin_BetMultiplier",PrizeDropWin_FreeRoundsType:"PrizeDropWin_FreeRoundsType",PrizeDropWin_FreeRoundsAmount:"PrizeDropWin_FreeRoundsAmount",PrizeDropManuallyCredited:"PrizeDropManuallyCredited",PromotionRuleUnitsPooler:"PromotionRuleUnitsPooler",PromotionRuleLinkID:"PromotionRuleLinkID",Evt_Internal_PromotionRuleLink_Visited:"Evt_Internal_PromotionRuleLink_Visited",Evt_Internal_PromotionRuleLink_HoveredOn:"Evt_Internal_PromotionRuleLink_HoveredOn",Evt_Internal_PromotionRuleLink_HoveredOff:"Evt_Internal_PromotionRuleLink_HoveredOff",Evt_Internal_PromotionRuleLink_Pressed:"Evt_Internal_PromotionRuleLink_Pressed",Evt_Internal_PromotionRuleLink_Released:"Evt_Internal_PromotionRuleLink_Released",ClosedByTimePromotionUID:"ClosedByTimePromotionUID",Evt_Internal_PromotionClosedByTime:"Evt_Internal_PromotionClosedByTime",RankPromotionID:"RankPromotionID",MenuPromotionType:"MenuPromotionType",TournamentEnforced_Jurisdiction_TournamentOptOut:"TournamentEnforced_Jurisdiction_TournamentOptOut",Evt_Internal_UpdatePromotionWarning:"Evt_Internal_UpdatePromotionWarning"};function TournamentRule(){this.rules="",this.sampleLabel=null,this.maxLabelWidth=0,this.maxNumberOfLines=0,this.isSplit=!1,this.splitRules=[],this.paragraphs=[],this.isStopped=!1}function PromotionRule(){TournamentRule.call(this),this.uid="",this.rulesText="",this.links=[],this.lines=[]}function ButtonAutoClicker(){Component.call(this),this.delay=0,this.delayInAutoplay=0,this.timeLeft=0,this.started=!1,this.isUsingShortDelay=!1}function MessageSender(){Component.call(this),this.animationEvents=[],this.onClickEvents=[],this.onEnabledEvents=[]}function MessageData(t,e,i,n,o){null==o&&(o=MessageSender.MessageDataParamType.String),this.eventReceiver=t,this.useParam=i,this.paramType=o,this.paramString=n,this.methodToCall=e}function CAT_Action_SendMessage(){CAT_Action.call(this),this.data=null}function CAT_Action_SendMessageMultipleReceivers(){CAT_Action.call(this),this.eventReceivers=[],this.methodToCall="",this.useParam=!1,this.paramString=""}function SendMessageToChildren(){Component.call(this),this.broadcastToFirstChildOnly=!0}function CurveTwoValuesAnimator(){Component.call(this),this.animatedMemberTarget=null,this.curve_1=null,this.curve_2=null,this.Loop_1=!0,this.Loop_2=!0,this.isStarted_1=!1,this.startTime_1=0,this.lastKeyTime_1=0,this.isStarted_2=!1,this.startTime_2=0,this.lastKeyTime_2=0}function TwoFloatsAnimatedMonoBehaviour(){Component.call(this)}function Globals(){}function TimeChannel(t){this.id=t,this.members=[],this.currentTime=0}function UICamera(){Component.call(this),this.eventReceiverMask=null,this.target=null,this.mousePosOnPress=null,this.mouseWasPressed=!1,this.mouseWasDragged=!1,this.mouseIsOverTarget=!1,this.cachedCamera=null,this.mustGoFullscreen=!1}function BoneFollower(){Component.call(this),this.spineController=null,this.boneName="",this.followZPosition=!1,this.followBoneRotation=!1,this.followSkeletonFlip=!1,this.followLocalScale=!1,this.initializeOnAwake=!1,this.valid=!1,this.bone=null,this.skeletonTransform=null,this.skeletonTransformIsParent=!1}function CAT_Action_SpineAnimation(){CAT_Action.call(this),this.controller=null,this.action=SpineControllerCATAction.Play,this.animationName="",this.animationTime=-1,this.normalizedTime=0,this.animationMode=SpineControllerMode.Default,this.onEnable=SpineControllerAction.Reset,this.onComplete=null,this.overrideOnEnable=!1,this.overrideOnComplete=!1}function CAT_Action_SpineAnimation_NoWait(){CAT_Action_SpineAnimation.call(this)}function CAT_Action_StartAnim(){CAT_Action.call(this),this.target=null,this.animClipName="",this.mode=WrapMode.Default,this.speed=1}function CAT_Action_SwitchLayer(){CAT_Action.call(this),this.newLayer=null,this.root=null}goog.provide("UHT.TournamentRule"),TournamentRule.prototype.UpdateRules=function(t){this.rules!=t?(this.rules=t,this.splitRules.splice(0),this.isSplit=_string.IsNullOrEmpty(this.rules),this.isSplit||this.SplitParagraphs()):_string.IsNullOrEmpty(t)&&(this.isSplit=!0)},TournamentRule.prototype.Split=function(){this.isSplit||(this.splitRules=this.splitRules.concat(this.SplitToLines()))},TournamentRule.prototype.GetSplitRules=function(){return this.isSplit||this.Split(),this.splitRules},TournamentRule.prototype.SplitParagraphs=function(){this.paragraphs.splice(0),this.paragraphs=this.paragraphs.concat(this.rules.split("\n"))},TournamentRule.prototype.SplitToLines=function(){this.isStopped=!1;for(var t=[],e=0;e<this.paragraphs.length;++e){var i=this.paragraphs[e].split(" ");if(this.sampleLabel.text="",1<i.length){if(this.SplitWords(t,i,e+1),this.isStopped)return t}else if(this.SplitChars(t,"",this.paragraphs[e],e+1,null,0),this.isStopped)return t}return this.isSplit=!0,t},TournamentRule.prototype.SplitWords=function(t,e,i){for(var n,o="",s=0;s<e.length;++s)if(n=this.sampleLabel.text,this.sampleLabel.text=e[s],this.sampleLabel.GetWidth()<=this.maxLabelWidth)if(this.sampleLabel.text=n+e[s],this.sampleLabel.GetWidth()<=this.maxLabelWidth)o=this.sampleLabel.text,this.sampleLabel.text+=" ";else{if(t.push(o),t.length>=this.maxNumberOfLines)return void this.StopAt(null,0,e,s,i);o=this.sampleLabel.text="",s--}else if(this.sampleLabel.text=n,this.SplitChars(t,o="",e[s],i,e,s),this.isStopped)return;""!=o&&(t.push(o),t.length>=this.maxNumberOfLines&&this.StopAt(null,0,null,0,i))},TournamentRule.prototype.SplitChars=function(t,e,i,n,o,s){if(0==i.length)return t.push(""),void(t.length>=this.maxNumberOfLines&&this.StopAt(null,0,null,0,n));for(var r=0;r<i.length;++r)if(this.sampleLabel.text+=i[r],this.sampleLabel.GetWidth()<=this.maxLabelWidth)e=this.sampleLabel.text;else{if(t.push(e),t.length>=this.maxNumberOfLines)return void this.StopAt(i,r,o,s+1,n);e=this.sampleLabel.text="",r--}""!=e&&(t.push(e),t.length>=this.maxNumberOfLines&&this.StopAt(null,0,null,0,n))},TournamentRule.prototype.StopAt=function(t,e,i,n,o){var s=[];if(null!=t){for(var r="",a=e;a<t.length;++a)r+=t[a];_string.IsNullOrEmpty(r)||s.push(r)}if(null!=i)for(a=n;a<i.length;++a)s.push(i[a]);var l=[];0<s.length&&l.push(s.join(" "));for(a=o;a<this.paragraphs.length;++a)l.push(this.paragraphs[a]);this.paragraphs=l,this.isStopped=!0,this.isSplit=0==this.paragraphs.length},goog.provide("UHT.PromotionRule"),goog.require("UHT.TournamentRule"),PromotionRule.prototype=Object.create(TournamentRule.prototype),(PromotionRule.prototype.constructor=PromotionRule).Unit=function(t,e,i,n,o){this.uid="",this.text="",this.url="",this.startIdx=0,this.endIdxExcl=0,this.isLink=!1,this.isVisited=!1,2!=arguments.length&&5!=arguments.length||(this.text=t,this.SetURL(e)),3==arguments.length&&(this.text=t,this.startIdx=e,this.endIdxExcl=i),5==arguments.length&&(this.uid=i,this.startIdx=n,this.endIdxExcl=o)},PromotionRule.Unit.visitedURLs=[],PromotionRule.Unit.prototype.SetURL=function(t){this.url=t,this.isLink=!_string.IsNullOrEmpty(t),this.isVisited=-1<PromotionRule.Unit.visitedURLs.indexOf(t)},PromotionRule.Unit.prototype.SetVisited=function(){this.isVisited=!0,PromotionRule.Unit.visitedURLs.push(this.url)},PromotionRule.Unit.prototype.CheckVisited=function(){this.isVisited||(this.isVisited=-1<PromotionRule.Unit.visitedURLs.indexOf(this.url))},PromotionRule.Line=function(){this.endIdxExcl=0,this.units=[]},PromotionRule.prototype.Split=function(){if(!this.isSplit){var t=this.splitRules.length;this.splitRules=this.splitRules.concat(this.SplitToLines()),0==t&&this.lines.push(this.ProcessLine(0,this.splitRules[0]));for(var e=this.lines.length;e<this.splitRules.length;++e)this.lines.push(this.ProcessLine(this.lines[e-1].endIdxExcl,this.splitRules[e]));this.isSplit&&(this.splitRules.splice(0),this.rulesText="")}},PromotionRule.prototype.GetSplitLines=function(){return this.isSplit||this.Split(),this.lines},PromotionRule.prototype.SplitParagraphs=function(){this.ProcessLinks(),this.paragraphs.splice(0),this.paragraphs=this.paragraphs.concat(this.rulesText.split("\n"))},PromotionRule.prototype.ProcessLinks=function(){this.links.splice(0),this.lines.splice(0);var t=[],e=this.rules.match(/<a\s.*?>.*?<\/a\s*?>/gi);if(null!=e)for(var i=0;i<e.length;++i){var n=e[i],o="",s="",r=n.match(/>.*?</i);null!=r&&(o=r[0].replace(">","").replace("<",""));r=n.match(/\bhref=".*?"/i);null!=(r=null==r?n.match(/\bhref='.*?'/i):r)&&(s=r[0].replace("href=","").replace(/['"]/g,"")),t.push(n),this.links.push(new PromotionRule.Unit(o,s))}this.rulesText=this.rules;for(i=0;i<this.links.length;++i)this.links[i].uid=this.uid+"Link#"+i,this.links[i].startIdx=this.rulesText.indexOf(t[i]),this.links[i].endIdxExcl=this.links[i].startIdx+this.links[i].text.length,this.rulesText=this.rulesText.substr(0,this.links[i].startIdx)+this.links[i].text+this.rulesText.substr(this.links[i].startIdx+t[i].length)},PromotionRule.prototype.ProcessLine=function(t,e){var i=new PromotionRule.Line,n=[];t+=this.rulesText.substr(t).indexOf(e),i.endIdxExcl=t+e.length,i.units=n;var o=new PromotionRule.Unit(e,t,i.endIdxExcl);n.push(o);for(var s,r=0;r<this.links.length;++r)if(!(this.links[r].endIdxExcl<=t)){if(this.links[r].startIdx>=i.endIdxExcl)break;this.links[r].startIdx<=t?(s=(this.links[r].endIdxExcl>i.endIdxExcl?i:this.links[r]).endIdxExcl,o.uid=this.links[r].uid,o.text=this.rulesText.substr(t,s-t),o.SetURL(this.links[r].url),o.endIdxExcl=s):this.links[r].startIdx>t&&(o.endIdxExcl<this.links[r].startIdx?(o=new PromotionRule.Unit(this.rulesText.substr(o.endIdxExcl,this.links[r].startIdx-o.endIdxExcl),o.endIdxExcl,this.links[r].startIdx),n.push(o)):_string.IsNullOrEmpty(o.url)&&(o.text=this.rulesText.substr(o.startIdx,this.links[r].startIdx-o.startIdx),o.endIdxExcl=this.links[r].startIdx),s=null,s=this.links[r].endIdxExcl>i.endIdxExcl?new PromotionRule.Unit(this.rulesText.substr(this.links[r].startIdx,i.endIdxExcl-this.links[r].startIdx),this.links[r].url,this.links[r].uid,this.links[r].startIdx,i.endIdxExcl):this.links[r],n.push(s),o=s)}return o.endIdxExcl<i.endIdxExcl&&n.push(new PromotionRule.Unit(this.rulesText.substr(o.endIdxExcl,i.endIdxExcl-o.endIdxExcl),o.endIdxExcl,i.endIdxExcl)),i},goog.require("UHT.Component"),ButtonAutoClicker.prototype=Object.create(Component.prototype),(ButtonAutoClicker.prototype.constructor=ButtonAutoClicker).prototype.OnEnable=function(){this.isUsingShortDelay=XT.GetBool(Vars.Autoplay_SkipScreens)&&0<=XT.GetInt(Vars.AutoplaySpinsLeft)||XT.GetBool(Vars.ContinuousSpin),this.timeLeft=this.isUsingShortDelay?this.delayInAutoplay:this.delay,!this.isUsingShortDelay&&29<this.delay?this.started=!1:this.started=!0},ButtonAutoClicker.prototype.Update=function(){this.started&&(XT.GetBool(Vars.LastWinIsCounting)||XT.GetBool(Vars.WaitInResultForBigWin)||(this.timeLeft-=Time.deltaTime,this.timeLeft<0&&(this.gameObject.SendMessage("OnClick"),this.started=!1)))},goog.require("UHT.Component"),goog.provide("UHT.MessageSender"),MessageSender.prototype=Object.create(Component.prototype),(MessageSender.prototype.constructor=MessageSender).MessageDataParamType={None:0,Bool:1,Int:2,Float:3,Double:4,String:5},MessageSender.prototype.SendMessageFromAnimation=function(t){t>=this.animationEvents.length||t<0||this.InternalSendMessage(this.animationEvents,t)},MessageSender.SendMessage=function(t){if(null!=t.eventReceiver&&!_string.IsNullOrEmpty(t.methodToCall))if(t.useParam)switch(t.paramType){case MessageSender.MessageDataParamType.Bool:t.eventReceiver.SendMessage(t.methodToCall,"true"==t.paramString.toLowerCase());break;case MessageSender.MessageDataParamType.Int:t.eventReceiver.SendMessage(t.methodToCall,_number.otoi(t.paramString));break;case MessageSender.MessageDataParamType.Float:case MessageSender.MessageDataParamType.Double:t.eventReceiver.SendMessage(t.methodToCall,_number.otod(t.paramString));break;case MessageSender.MessageDataParamType.String:t.eventReceiver.SendMessage(t.methodToCall,t.paramString);break;default:t.eventReceiver.SendMessage(t.methodToCall)}else t.eventReceiver.SendMessage(t.methodToCall)},MessageSender.prototype.OnClick=function(){null!=this.gameObject.collider&&this.gameObject.collider.enabled&&(this.onClickEvents.length<=0||this.InternalSendMessageToAll(this.onClickEvents))},MessageSender.prototype.OnEnable=function(){null==this.onEnabledEvents||this.onEnabledEvents.length<=0||this.InternalSendMessageToAll(this.onEnabledEvents)},MessageSender.prototype.InternalSendMessageToAll=function(t){for(var e in t)this.InternalSendMessage(t,e)},MessageSender.prototype.InternalSendMessage=function(t,e){e>=t.length||e<0||MessageSender.SendMessage(t[e])},goog.require("UHT.CAT_Action"),goog.require("UHT.MessageSender"),CAT_Action_SendMessage.prototype=Object.create(CAT_Action.prototype),(CAT_Action_SendMessage.prototype.constructor=CAT_Action_SendMessage).prototype.OnStateChanged_Running=function(){MessageSender.SendMessage(this.data),this.ChangeState(CATState.Finished)},goog.require("UHT.CAT_Action"),goog.require("UHT.MessageSender"),CAT_Action_SendMessageMultipleReceivers.prototype=Object.create(CAT_Action.prototype),(CAT_Action_SendMessageMultipleReceivers.prototype.constructor=CAT_Action_SendMessageMultipleReceivers).prototype.OnStateChanged_Running=function(){for(var t in this.eventReceivers)MessageSender.SendMessage(new MessageData(this.eventReceivers[t],this.methodToCall,this.useParam,this.paramString));this.ChangeState(CATState.Finished)},goog.require("UHT.Component"),goog.require("UHT.MessageSender"),SendMessageToChildren.prototype=Object.create(Component.prototype),(SendMessageToChildren.prototype.constructor=SendMessageToChildren).prototype.SendToChildren=function(t){for(var e=t.indexOf("("),i=t.indexOf(")"),n=t.substring(0,e),o=t.substring(e+1,i),s=0;s<(this.broadcastToFirstChildOnly?1:this.gameObject.transform.childCount);s++){var r=new MessageData(this.gameObject.transform.children[s].gameObject,n,!_string.IsNullOrEmpty(o),o);MessageSender.SendMessage(r)}},goog.provide("UHT.TwoFloatsAnimatedMonoBehaviour"),goog.require("UHT.Component"),CurveTwoValuesAnimator.prototype=Object.create(Component.prototype),CurveTwoValuesAnimator.prototype.constructor=CurveTwoValuesAnimator,TwoFloatsAnimatedMonoBehaviour.prototype=Object.create(Component.prototype),(TwoFloatsAnimatedMonoBehaviour.prototype.constructor=TwoFloatsAnimatedMonoBehaviour).prototype.SetAnimatedF_1=function(t){},TwoFloatsAnimatedMonoBehaviour.prototype.SetAnimatedF_2=function(t){},TwoFloatsAnimatedMonoBehaviour.prototype.ResetF_1=function(){},TwoFloatsAnimatedMonoBehaviour.prototype.ResetF_2=function(){},CurveTwoValuesAnimator.prototype.Awake=function(){this.lastKeyTime_1=this.curve_1.keys[this.curve_1.keys.length-1].time,this.lastKeyTime_2=this.curve_2.keys[this.curve_2.keys.length-1].time},CurveTwoValuesAnimator.prototype.StartCurveAnimation_1=function(){this.isStarted_1=!0,this.startTime_1=Time.time},CurveTwoValuesAnimator.prototype.StopCurveAnimation_1=function(){this.isStarted_1=!1,this.animatedMemberTarget.ResetF_1()},CurveTwoValuesAnimator.prototype.StartCurveAnimation_2=function(){this.isStarted_2=!0,this.startTime_2=Time.time},CurveTwoValuesAnimator.prototype.StopCurveAnimation_2=function(){this.isStarted_2=!1,this.animatedMemberTarget.ResetF_2()},CurveTwoValuesAnimator.prototype.Update=function(){var t,e=Time.time;this.isStarted_1&&(this.isStarted_1&&(t=this.curve_1.Evaluate(this.Loop_1?(e-this.startTime_1)%this.lastKeyTime_1:UHTMath.clamp(e-this.startTime_1,0,this.lastKeyTime_2)),this.animatedMemberTarget.SetAnimatedF_1(t)),this.Loop_1||e-this.startTime_1>this.lastKeyTime_1&&(this.isStarted_1=!1)),this.isStarted_2&&(this.isStarted_2&&(t=this.curve_2.Evaluate(this.Loop_2?(e-this.startTime_2)%this.lastKeyTime_2:UHTMath.clamp(e-this.startTime_2,0,this.lastKeyTime_2)),this.animatedMemberTarget.SetAnimatedF_2(t)),this.Loop_2||e-this.startTime_2>this.lastKeyTime_2&&(this.isStarted_2=!1))},goog.provide("UHT.Globals"),Globals.InputBlocked=!0,Globals.timeChannels=[],Globals.isMobile=!1,Globals.isMini=!1,Globals.GamePaused=!1,Globals.WatchingReplay=!1,Globals.SetLayerRecursively=function(t,e){t.layer!=e&&t.transform.SetAllDirtyUserFlags(),t.layer=e;for(var i=0;i<t.transform.children.length;i++)Globals.SetLayerRecursively(t.transform.children[i].gameObject,e)},Globals.GetCameraForObject=function(t){for(var e=Camera.allCameras,i=1<<t.layer,n=0;n<e.length;n++)if(e[n].cullingMask==i)return e[n];return null},Globals.RegisterToTimeChannel=function(t,e){for(var i=0;i<Globals.timeChannels.length;i++)if(Globals.timeChannels[i].id==e){for(var n=0;n<Globals.timeChannels[i].members.length;n++)if(Globals.timeChannels[i].members[n]==t)return Globals.timeChannels[i];return Globals.timeChannels[i].members.push(t),Globals.timeChannels[i]}var o=new TimeChannel(e);return o.members.push(t),Globals.timeChannels.push(o),o},Globals.UnregisterFromTimeChannel=function(t,e){for(var i=0;i<Globals.timeChannels.length;i++)if(Globals.timeChannels[i].id==e){var n=Globals.timeChannels[i].members.indexOf(t);return Globals.timeChannels[i].members.splice(n,1),void(0==Globals.timeChannels[i].members.length&&Globals.timeChannels.splice(i,1))}},TimeChannel.prototype.IsChannelMaster=function(t){return this.members[0]==t},goog.provide("UHT.UICamera"),goog.require("UHT.Component"),goog.require("UHT.Collider"),goog.require("UHT.Globals"),UICamera.prototype=Object.create(Component.prototype),(UICamera.prototype.constructor=UICamera).messageHover="OnHover",UICamera.messagePress="OnPress",UICamera.messageClick="OnClick",UICamera.allUICameras=[],UICamera.lastProcessedFrameCount=-1,UICamera.prototype.OnEnable=function(){this.cachedCamera=this.GetComponent(Camera);for(var t=0,e=0;e<UICamera.allUICameras.length&&UICamera.allUICameras[e].cachedCamera.depth<this.cachedCamera.depth;e++)t++;UICamera.allUICameras.splice(t,0,this)},UICamera.prototype.OnDisable=function(){for(var t=0;t<UICamera.allUICameras.length;t++)if(UICamera.allUICameras[t]==this){UICamera.allUICameras.splice(t,1);break}},UICamera.prototype.Update=function(){if(ServerOptions.isReplay&&Input.GetMouseButtonDown(0)&&XT.TriggerEvent(ReplaySessionVars.Replay_UserClicked),Time.frameCount!=UICamera.lastProcessedFrameCount){UICamera.lastProcessedFrameCount=Time.frameCount;for(var t=UICamera.allUICameras.length-1;0<=t;t--)if(!Globals.InputBlocked||UICamera.allUICameras[t].cachedCamera.ignoreInputBlocked||ServerOptions.isReplay)if(UICamera.allUICameras[t].UpdateCamera())break}},UICamera.prototype.UpdateCamera=function(){var t,e,i=null,n=!1;return this.cachedCamera.IsClippingInput()&&(t=new UHTMath.Vector3(-this.cachedCamera.extraCameraSettings.clipLeft,this.cachedCamera.extraCameraSettings.clipUp,0),e=new UHTMath.Vector3(this.cachedCamera.extraCameraSettings.clipRight,-this.cachedCamera.extraCameraSettings.clipDown,0),t=this.gameObject.transform.transformPoint(t),e=this.gameObject.transform.transformPoint(e),t=this.cachedCamera.WorldToScreenPoint(t),e=this.cachedCamera.WorldToScreenPoint(e),(Input.mousePosition.x<t.x||Input.mousePosition.y<t.y||Input.mousePosition.x>e.x||Input.mousePosition.y>e.y)&&(n=!0)),n||(i=globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),this.eventReceiverMask)),ServerOptions.isReplay&&Globals.InputBlocked&&null!=i&&1!=i.usedForReplay&&(i=null),Input.GetMouseButton(0)?(this.mouseWasPressed=!0,Input.GetMouseButtonDown(0)&&(null==this.target&&(this.target=i),null!=this.target&&this.target.gameObject.SendMessage(UICamera.messagePress,!0),this.mousePosOnPress=new UHTMath.Vector3(Input.mousePosition),this.mouseWasDragged=!1,this.mouseIsOverTarget=!0)):1==this.mouseWasPressed?(this.mouseWasPressed=!1,null!=this.target&&(this.target.gameObject.SendMessage(UICamera.messagePress,!1),i==this.target&&(0==Input.lastUsedInputDeviceIsTouch&&this.target.gameObject.SendMessage(UICamera.messageHover,!0),0==this.mouseWasDragged&&this.target.gameObject.SendMessage(UICamera.messageClick)),this.target=null)):0==Input.lastUsedInputDeviceIsTouch&&i!=this.target&&(null!=this.target&&this.target.gameObject.SendMessage(UICamera.messageHover,!1),this.target=i,null!=this.target&&this.target.gameObject.SendMessage(UICamera.messageHover,!0)),null!=i},goog.provide("UHT.Engine"),goog.require("UHT.Tracking"),goog.require("UHT.Globals"),goog.require("UHT.System.Misc.Utils"),goog.require("UHT.Component"),goog.require("UHT.GameObject"),goog.require("UHT.AnimationUtils"),goog.require("UHT.TextAsset"),goog.require("UHT.Input"),goog.require("UHT.UHTScreen"),goog.require("UHT.Animation"),goog.require("UHT.UIUtils"),goog.require("UHT.UIAtlas"),goog.require("UHT.UILabel"),goog.require("UHT.UICamera"),goog.require("UHT.UIPanel"),goog.require("UHT.UISprite"),goog.require("UHT.UIZoomSprite"),goog.require("UHT.UIButton"),goog.require("UHT.UIRoot"),goog.require("UHT.UIFont"),goog.require("UHT.UIButtonScale"),goog.require("UHT.UIInput"),goog.require("UHT.Gradient"),goog.require("UHT.UHTEngine"),goog.require("UHT.Engine"),BoneFollower.prototype=Object.create(Component.prototype),(BoneFollower.prototype.constructor=BoneFollower).prototype.Awake=function(){this.initializeOnAwake&&this.Initialize()},BoneFollower.prototype.Initialize=function(){this.bone=null,this.valid=null!=this.spineController&&null!=this.spineController.spine,this.valid&&(this.skeletonTransform=this.spineController.transform,this.skeletonTransformIsParent=this.skeletonTransform==this.transform.parent,_string.IsNullOrEmpty(this.boneName)||(this.bone=this.spineController.spine.skeleton.findBone(this.boneName)))},BoneFollower.prototype.LateUpdate=function(){if(this.valid){if(null==this.bone){if(_string.IsNullOrEmpty(this.boneName))return;if(this.bone=this.spineController.spine.skeleton.findBone(this.boneName),null==this.bone)return void console.error("Bone not found: "+this.boneName,this)}var t=this.transform,e=this.skeletonTransform.localScale(),i=this.bone.worldX/e.x,n=-this.bone.worldY/e.y,e=-this.bone.getWorldRotationX();this.skeletonTransformIsParent?(t.localPosition(new UHTMath.Vector3(this.bone.worldX,this.bone.worldY,this.followZPosition?0:t.localPosition().z)),this.followBoneRotation&&t.localRotation(UHTMath.Quaternion.euler(new UHTMath.Vector3(0,0,this.bone.rotation)))):(n=this.skeletonTransform.transformPoint(new UHTMath.Vector3(i,n,0)),this.followZPosition||(n.z=t.position().z),t.position(n),this.followBoneRotation&&(n=this.skeletonTransform.eulerAngles(),t.rotation(UHTMath.Quaternion.euler(n.x,n.y,n.z+e))));e=this.followLocalScale?new UHTMath.Vector3(this.bone.scaleX,this.bone.scaleY,1):new UHTMath.Vector3(1,1,1);this.followSkeletonFlip&&(e.y*=this.bone.skeleton.flipX^this.bone.skeleton.flipY?-1:1),t.localScale(e)}else this.Initialize()},goog.provide("UHT.CAT_Action_SpineAnimation"),goog.require("UHT.Engine"),goog.require("UHT.CAT_Action"),CAT_Action_SpineAnimation.prototype=Object.create(CAT_Action.prototype),(CAT_Action_SpineAnimation.prototype.constructor=CAT_Action_SpineAnimation).prototype.OnStateChanged_Running=function(){if(null!=this.controller&&null!=this.controller.spineData){if(this.overrideOnEnable&&(this.controller.onEnable=this.onEnable),this.overrideOnComplete&&(this.controller.onComplete=this.onComplete),this.action==SpineControllerCATAction.Reset||this.action==SpineControllerCATAction.Play||this.action==SpineControllerCATAction.Sample){if(_string.IsNullOrEmpty(this.animationName))return void this.ChangeState(CATState.Finished);this.controller.animationName=this.animationName}this.action==SpineControllerCATAction.Play?(this.controller.animationTime=this.animationTime,this.controller.animationMode=this.animationMode,this.controller.gameObject.activeInHierarchy||console.error("Trying to play spine animation on an inactive controller ("+this.controller.gameObject.name+")"),this.controller.Play()):this.action==SpineControllerCATAction.Resume?(this.controller.gameObject.activeInHierarchy||console.error("Trying to resume spine animation on an inactive controller ("+this.controller.gameObject.name+")"),this.controller.Resume()):this.action==SpineControllerCATAction.Sample?this.controller.Sample(this.normalizedTime):this.action==SpineControllerCATAction.Pause?this.controller.Pause():this.action==SpineControllerCATAction.Reset?this.controller.Reset():this.action==SpineControllerCATAction.Stop&&this.controller.Stop(),this.action!=SpineControllerCATAction.Reset&&this.action!=SpineControllerCATAction.Stop&&this.action!=SpineControllerCATAction.Pause&&this.action!=SpineControllerCATAction.Sample||this.ChangeState(CATState.Finished)}else this.ChangeState(CATState.Finished)},CAT_Action_SpineAnimation.prototype.OnStateChanged_Stopping=function(){null!=this.controller&&this.controller.Stop(),this.ChangeState(CATState.Finished)},CAT_Action_SpineAnimation.prototype.CATUpdate=function(){this.GetState()!=CATState.Running||this.controller.IsPlaying()||this.ChangeState(CATState.Finished)},goog.require("UHT.CAT_Action_SpineAnimation"),CAT_Action_SpineAnimation_NoWait.prototype=Object.create(CAT_Action_SpineAnimation.prototype),(CAT_Action_SpineAnimation_NoWait.prototype.constructor=CAT_Action_SpineAnimation_NoWait).prototype.OnStateChanged_Running=function(){CAT_Action_SpineAnimation.prototype.OnStateChanged_Running.call(this),this.internalState!=CATState.Finished&&this.ChangeState(CATState.Finished)},goog.require("UHT.Engine"),goog.require("UHT.CAT_Action"),goog.require("UHT.AnimationUtils"),CAT_Action_StartAnim.prototype=Object.create(CAT_Action.prototype),(CAT_Action_StartAnim.prototype.constructor=CAT_Action_StartAnim).prototype.OnStateChanged_Running=function(){var t;null!=this.target&&""!=this.animClipName&&null!=this.target.animation?(this.target.activeInHierarchy||console.error("Trying to start an animation on an inactive object ("+this.target.name+"). This is undefined behaviour!"),(t=this.target.animation).Stop(),t.GetAnimationState(this.animClipName).wrapMode=this.mode,t.GetAnimationState(this.animClipName).speed=this.speed,this.speed<0&&(t.GetAnimationState(this.animClipName).time=t.GetAnimationState(this.animClipName).length),t.Play(this.animClipName)):this.ChangeState(CATState.Finished)},CAT_Action_StartAnim.prototype.OnStateChanged_Stopping=function(){null!=this.target&&null!=this.target.animation&&this.target.animation.isPlaying&&this.target.animation.Stop(),this.ChangeState(CATState.Finished)},CAT_Action_StartAnim.prototype.CATUpdate=function(){this.GetState()==CATState.Running&&0==this.target.animation.isPlaying&&this.ChangeState(CATState.Finished)},goog.require("UHT.Engine"),goog.require("UHT.CAT_Action"),CAT_Action_SwitchLayer.prototype=Object.create(CAT_Action.prototype),(CAT_Action_SwitchLayer.prototype.constructor=CAT_Action_SwitchLayer).prototype.OnStateChanged_Running=function(){Globals.SetLayerRecursively(this.root,this.newLayer.value()),this.ChangeState(CATState.Finished)},goog.require("UHT.Engine");var BehaviourMessage2CATMessage={None:0,Awake:1,Start:2,Update:3,LateUpdate:4,Disable:5,Enable:6},BehaviourMessage2CATActionType={None:0,StartOnMessage:1,StopOnMessage:2};function BehaviourMessage2CATLink(){this.cat=null,this.message=BehaviourMessage2CATMessage.None,this.actionType=BehaviourMessage2CATActionType.None}function BehaviourMessage2CAT(){Component.call(this),this.cats=null}function CatTestHelper(){Component.call(this),this.eventIdToTest=0}function CAT_ContainerInterface(){Component.call(this)}function CAT_Container(){CAT_ContainerInterface.call(this),this.events=[],this.runningEvents=[]}function CAT_Container_Proxy(){CAT_ContainerInterface.call(this),this.con=null}BehaviourMessage2CAT.prototype=Object.create(Component.prototype),(BehaviourMessage2CAT.prototype.constructor=BehaviourMessage2CAT).prototype.Awake=function(){this.DoIt(BehaviourMessage2CATMessage.Awake)},BehaviourMessage2CAT.prototype.Start=function(){this.DoIt(BehaviourMessage2CATMessage.Start)},BehaviourMessage2CAT.prototype.Update=function(){this.DoIt(BehaviourMessage2CATMessage.Update)},BehaviourMessage2CAT.prototype.LateUpdate=function(){this.DoIt(BehaviourMessage2CATMessage.LateUpdate)},BehaviourMessage2CAT.prototype.OnDisable=function(){this.DoIt(BehaviourMessage2CATMessage.Disable)},BehaviourMessage2CAT.prototype.OnEnable=function(){this.DoIt(BehaviourMessage2CATMessage.Enable)},BehaviourMessage2CAT.prototype.DoIt=function(t){for(var e=0;e<this.cats.length;++e)this.cats[e].message==t&&null!=this.cats[e].cat&&(this.cats[e].actionType==BehaviourMessage2CATActionType.StartOnMessage&&this.cats[e].cat.Start(),this.cats[e].actionType==BehaviourMessage2CATActionType.StopOnMessage&&this.cats[e].cat.Stop())},goog.require("UHT.Engine"),CatTestHelper.prototype=Object.create(Component.prototype),(CatTestHelper.prototype.constructor=CatTestHelper).prototype.Awake=function(){var t=this.gameObject.GetComponent(CAT_Container);null!=t&&(this.eventIdToTest=new CATLink,this.eventIdToTest.cat=t)},CatTestHelper.prototype.Start=function(){},goog.provide("UHT.CAT_ContainerInterface"),goog.require("UHT.Engine"),CAT_ContainerInterface.prototype=Object.create(Component.prototype),(CAT_ContainerInterface.prototype.constructor=CAT_ContainerInterface).prototype.IsEventRunning=function(t){},CAT_ContainerInterface.prototype.StartEvent=function(t){},CAT_ContainerInterface.prototype.StopEvent=function(t){},CAT_ContainerInterface.prototype.StopAllRunningEvents=function(){},CAT_ContainerInterface.prototype.RegisterCallback=function(t,e,i){},CAT_ContainerInterface.prototype.UnregisterCallback=function(t,e,i){},CAT_ContainerInterface.prototype.StartEventByMessage=function(t){this.StartEvent(_number.otoi(t))},goog.require("UHT.CAT_ContainerInterface"),CAT_Container.prototype=Object.create(CAT_ContainerInterface.prototype),(CAT_Container.prototype.constructor=CAT_Container).prototype.scriptUpdatePriority=9,CAT_Container.prototype.IsEventRunning=function(t){return this.GetEventByID(t).isRunning},CAT_Container.prototype.StartEvent=function(t){this.GetEventByID(t).Start()},CAT_Container.prototype.StopEvent=function(t){this.GetEventByID(t).Stop()},CAT_Container.prototype.StopAllRunningEvents=function(){for(var t=0;t<this.runningEvents.length;t++)this.runningEvents[t].Stop()},CAT_Container.prototype.Awake=function(){for(var t=0;t<this.events.length;t++)for(var e=t+1;e<this.events.length;e++)this.events[t].id==this.events[e].id&&console.error("Cat_Container "+this.gameObject.name+" has duplicate Event IDs!")},CAT_Container.prototype.OnEnable=function(){for(var t=0;t<this.events.length;t++)this.events[t].playAutomatically&&this.events[t].Start()},CAT_Container.prototype.OnDisable=function(){this.StopAllRunningEvents()},CAT_Container.prototype.Update=function(){for(var t=this.runningEvents.length;t--;)this.runningEvents[t].Update()},CAT_Container.prototype.RegisterCallback=function(t,e,i){this.GetEventByID(t).RegisterCallback(e,i)},CAT_Container.prototype.UnregisterCallback=function(t,e,i){this.GetEventByID(t).UnregisterCallback(e,i)},CAT_Container.prototype.GetEventByID=function(t){for(var e=0;e<this.events.length;e++)if(this.events[e].id==t)return this.events[e];return null},CAT_Container.prototype.AddRunningEvent=function(t){this.runningEvents.push(t)},CAT_Container.prototype.RemoveRunningEvent=function(t){-1!=this.runningEvents.indexOf(t)&&this.runningEvents.splice(this.runningEvents.indexOf(t),1)},CAT_Container.prototype.AfterDeserialize=function(){for(var t=0;t<this.events.length;t++)this.events[t].SetParent(this)},CAT_Container.prototype.DisableEvent=function(t){this.GetEventByID(Number(t)).isEnabled=!1},CAT_Container.prototype.EnableEvent=function(t){this.GetEventByID(Number(t)).isEnabled=!0},goog.require("UHT.CAT_ContainerInterface"),CAT_Container_Proxy.prototype=Object.create(CAT_ContainerInterface.prototype),(CAT_Container_Proxy.prototype.constructor=CAT_Container_Proxy).prototype.IsEventRunning=function(t){return this.con=this.GetComponentInChildren(CAT_Container),null!=this.con?this.con.IsEventRunning(t):(console.log("CAT_Container_Proxy: No container found in children!"+this.gameObject),!1)},CAT_Container_Proxy.prototype.StartEvent=function(t){this.con=this.GetComponentInChildren(CAT_Container),null==this.con?console.log("CAT_Container_Proxy: No container found in children!"+this.gameObject):this.con.StartEvent(t)},CAT_Container_Proxy.prototype.StopEvent=function(t){this.con=this.GetComponentInChildren(CAT_Container),null==this.con?console.log("CAT_Container_Proxy: No container found in children!"+this.gameObject):this.con.StopEvent(t)},CAT_Container_Proxy.prototype.StopAllRunningEvents=function(){this.con=this.GetComponentInChildren(CAT_Container),null==this.con?console.log("CAT_Container_Proxy: No container found in children!"+this.gameObject):this.con.StopAllRunningEvents()},CAT_Container_Proxy.prototype.RegisterCallback=function(t,e,i){this.con=this.GetComponentInChildren(CAT_Container),null==this.con?console.log("CAT_Container_Proxy: No container found in children!"+this.gameObject):this.con.RegisterCallback(t,e,i)},CAT_Container_Proxy.prototype.UnregisterCallback=function(t,e,i){this.con=this.GetComponentInChildren(CAT_Container),null==this.con?console.log("CAT_Container_Proxy: No container found in children!"+this.gameObject):this.con.UnregisterCallback(t,e,i)},goog.require("UHT.Engine"),XTButton.prototype=Object.create(Component.prototype),XTButton.prototype.constructor=XTButton;var XTButtonAction={OnClick:0,OnPress:1};function XTButton(){Component.call(this),this.action=XTButtonAction.OnClick,this.eventToCode=null,this.useParam=!1,this.param=null,this.paramValue=0}function XTLink(){Component.call(this),this.isRegisteredAndInited=!1,this.xtEnabled=!0}function StageTransition2CATDesc(){this.cat=null,this.fromStage=UHTStageName.No_Stage,this.toStage=UHTStageName.No_Stage}function StageTransition2CAT(){XTLink.call(this),this.transitions=null}function XT2CAT(){XTLink.call(this),this.actionType=XT2CAT.ActionType.StartOnEvent,this.xtEventName=null,this.catLink=null}XTButton.prototype.OnClick=function(){var t;this.action==XTButtonAction.OnClick&&(null!=(t=this.gameObject.GetComponent(ClickDelay))&&!t.CanClick()||this.DoIt())},XTButton.prototype.OnPress=function(t){t&&this.action==XTButtonAction.OnPress&&this.DoIt()},XTButton.prototype.DoIt=function(){this.useParam&&XT.SetInt(this.param.name,this.paramValue),XT.TriggerEvent(this.eventToCode.name)},goog.provide("UHT.XTLink"),goog.require("UHT.Engine"),XTLink.prototype=Object.create(Component.prototype),(XTLink.prototype.constructor=XTLink).prototype.XTRegisterCallbacksBase=function(){this.isRegisteredAndInited=!0,this.XTRegisterCallbacks()},XTLink.prototype.XTRegisterCallbacks=function(){},XTLink.prototype.XTInitVariablesAndEvents=function(){},XTLink.prototype.OnDestroy=function(){},XTLink.prototype.Awake=function(){XT.RegisterAndInitDone&&!this.isRegisteredAndInited&&(this.XTRegisterCallbacksBase(),this.XTInitVariablesAndEvents())},goog.require("UHT.XTLink"),StageTransition2CAT.prototype=Object.create(XTLink.prototype),(StageTransition2CAT.prototype.constructor=StageTransition2CAT).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.ToStageName,this.OnToStageChanged,this)},StageTransition2CAT.prototype.OnToStageChanged=function(t){for(var e=XT.GetObject(Vars.FromStageName),i=0;i<this.transitions.length;++i)this.transitions[i].fromStage==e&&this.transitions[i].toStage==t&&null!=this.transitions[i].cat&&this.transitions[i].cat.Start()},StageTransition2CAT.prototype.StartCATLink=function(){this.OnToStageChanged(XT.GetObject(Vars.ToStageName))},goog.require("UHT.XTLink"),XT2CAT.prototype=Object.create(XTLink.prototype),(XT2CAT.prototype.constructor=XT2CAT).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(this.xtEventName.name,this.OnEventTriggered,this)},XT2CAT.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnEventTriggered,this)},XT2CAT.prototype.OnEventTriggered=function(){this.gameObject.activeInHierarchy&&(this.actionType==XT2CAT.ActionType.StartOnEvent?this.catLink.Start():this.actionType==XT2CAT.ActionType.StopOnEvent&&this.catLink.Stop())},XT2CAT.ActionType={None:0,StartOnEvent:1,StopOnEvent:2},goog.require("UHT.XTLink");var XTVariable2CATType={XT_Double:0,XT_Float:1,XT_Int:2,XT_Bool:3,XT_Object:4,XT_String:5,None:6},XTVariable2CATActionType={None:0,StartOnCondition:1,StopOnCondition:2};function XTVariable2CAT(){XTLink.call(this),this.actionType=XTVariable2CATActionType.StartOnCondition,this.variableType=XTVariable2CATType.None,this.variableName="",this.value="",this.less=null,this.lessOrEquals=null,this.equals=null,this.notEquals=null,this.greaterOrEquals=null,this.greater=null,this.isNull=null,this.isNotNull=null,this.valueDouble=0,this.valueFloat=0,this.valueInt=0,this.valueBool=!1}function CustomizationWidgetColorSettings(){this.name="",this.color=null,this.widgets=null}function CustomizationButtonColorsSettings(){this.name="",this.normal=null,this.hover=null,this.pressed=null,this.disabled=null,this.buttons=null}function CustomizationSettings(){this.name="",this.styleNames=null,this.widgetsColors=null,this.buttonsColors=null,this.cat=null}function CustomizationsManager(){XTLink.call(this),this.customizations=null}XTVariable2CAT.prototype=Object.create(XTLink.prototype),(XTVariable2CAT.prototype.constructor=XTVariable2CAT).prototype.XTRegisterCallbacks=function(){switch(this.variableType){case XTVariable2CATType.XT_Bool:this.valueBool=_bool.Parse(this.value),XT.RegisterCallbackBool(this.variableName,this.CallbackBool,this);break;case XTVariable2CATType.XT_Double:this.valueDouble=_number.otod(this.value),XT.RegisterCallbackDouble(this.variableName,this.CallbackDouble,this);break;case XTVariable2CATType.XT_Float:this.valueFloat=_number.otod(this.value),XT.RegisterCallbackFloat(this.variableName,this.CallbackFloat,this);break;case XTVariable2CATType.XT_Int:this.valueInt=_number.otoi(this.value),XT.RegisterCallbackInt(this.variableName,this.CallbackInt,this);break;case XTVariable2CATType.XT_Object:XT.RegisterCallbackObject(this.variableName,this.CallbackObject,this);break;case XTVariable2CATType.XT_String:XT.RegisterCallbackString(this.variableName,this.CallbackString,this)}},XTVariable2CAT.prototype.CallbackBool=function(t){this.DoIt(this.equals,t==this.valueBool),this.DoIt(this.notEquals,t!=this.valueBool)},XTVariable2CAT.prototype.CallbackObject=function(t){this.DoIt(this.isNull,null==t),this.DoIt(this.isNotNull,null!=t)},XTVariable2CAT.prototype.CallbackString=function(t){this.DoIt(this.equals,t==this.value),this.DoIt(this.notEquals,t!=this.value),this.DoIt(this.isNull,null==t),this.DoIt(this.isNotNull,null!=t)},XTVariable2CAT.prototype.CallbackInt=function(t){this.DoIt(this.less,t<this.valueInt),this.DoIt(this.lessOrEquals,t<=this.valueInt),this.DoIt(this.equals,t==this.valueInt),this.DoIt(this.notEquals,t!=this.valueInt),this.DoIt(this.greaterOrEquals,t>=this.valueInt),this.DoIt(this.greater,t>this.valueInt)},XTVariable2CAT.prototype.CallbackFloat=function(t){this.DoIt(this.less,t<this.valueFloat),this.DoIt(this.lessOrEquals,t<=this.valueFloat),this.DoIt(this.equals,t==this.valueFloat),this.DoIt(this.notEquals,t!=this.valueFloat),this.DoIt(this.greaterOrEquals,t>=this.valueFloat),this.DoIt(this.greater,t>this.valueFloat)},XTVariable2CAT.prototype.CallbackDouble=function(t){this.DoIt(this.less,t<this.valueDouble),this.DoIt(this.lessOrEquals,t<=this.valueDouble),this.DoIt(this.equals,t==this.valueDouble),this.DoIt(this.notEquals,t!=this.valueDouble),this.DoIt(this.greaterOrEquals,t>=this.valueDouble),this.DoIt(this.greater,t>this.valueDouble)},XTVariable2CAT.prototype.DoIt=function(t,e){if(null!=t&&e)switch(this.actionType){case XTVariable2CATActionType.StartOnCondition:t.Start();break;case XTVariable2CATActionType.StopOnCondition:t.Stop()}},XTVariable2CAT.prototype.JustDoIt=function(){this.variableType==XTVariable2CATType.XT_Bool?this.CallbackBool(XT.GetBool(this.variableName)):this.variableType==XTVariable2CATType.XT_Double?this.CallbackDouble(XT.GetDouble(this.variableName)):this.variableType==XTVariable2CATType.XT_Float?this.CallbackFloat(XT.GetFloat(this.variableName)):this.variableType==XTVariable2CATType.XT_Int?this.CallbackInt(XT.GetInt(this.variableName)):this.variableType==XTVariable2CATType.XT_Object?this.CallbackObject(XT.GetObject(this.variableName)):this.variableType==XTVariable2CATType.XT_String&&this.CallbackString(XT.GetString(this.variableName))},goog.require("UHT.XTLink"),CustomizationWidgetColorSettings.prototype.Apply=function(){for(var t=0;t<this.widgets.length;++t)this.widgets[t].color=this.color},CustomizationButtonColorsSettings.prototype.Apply=function(){for(var t=0;t<this.buttons.length;++t)this.buttons[t].color_normal=this.normal,this.buttons[t].color_hover=this.hover,this.buttons[t].color_pressed=this.pressed,this.buttons[t].color_disabled=this.disabled},CustomizationSettings.prototype.Apply=function(){for(var t=0;t<this.widgetsColors.length;++t)this.widgetsColors[t].Apply();for(t=0;t<this.buttonsColors.length;++t)this.buttonsColors[t].Apply();null!=this.cat&&this.cat.Start()},CustomizationsManager.prototype=Object.create(XTLink.prototype),(CustomizationsManager.prototype.constructor=CustomizationsManager).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this,1)},CustomizationsManager.prototype.OnGameInit=function(){var t=this.FindCustomization();null!=t&&t.Apply()},CustomizationsManager.prototype.FindCustomization=function(){for(var t=0;t<this.customizations.length;++t)if(-1<this.customizations[t].styleNames.indexOf(ServerOptions.styleName))return this.customizations[t];return null},goog.require("UHT.XTLink"),VarDisplayer.prototype=Object.create(XTLink.prototype),VarDisplayer.prototype.constructor=VarDisplayer;var VarType={XT_Int:0,XT_Float:1,XT_Double:2,XT_String:3,XT_GameInfo:4};function VarDisplayer(){XTLink.call(this),this.type=VarType.XT_Int,this.variable=null,this.label=null,this.replaceWhenZero=!1,this.replaceWhenZeroChar=""}VarDisplayer.prototype.XTRegisterCallbacks=function(){switch(this.type){case VarType.XT_Int:XT.RegisterCallbackInt(this.variable.name,this.OnTargetValueChangedInt,this);break;case VarType.XT_Float:XT.RegisterCallbackFloat(this.variable.name,this.OnTargetValueChangedFloat,this);break;case VarType.XT_Double:XT.RegisterCallbackDouble(this.variable.name,this.OnTargetValueChangedFloat,this);break;case VarType.XT_String:XT.RegisterCallbackString(this.variable.name,this.OnTargetValueChangedString,this);break;default:console.warn("The "+this.type+" case was not implemented.")}},VarDisplayer.prototype.OnDestroy=function(){switch(this.type){case VarType.XT_Int:XT.UnregisterCallbackInt(this.OnTargetValueChangedInt,this);break;case VarType.XT_Float:XT.UnregisterCallbackFloat(this.OnTargetValueChangedFloat,this);break;case VarType.XT_Double:XT.UnregisterCallbackDouble(this.OnTargetValueChangedFloat,this);break;case VarType.XT_String:XT.UnregisterCallbackString(this.OnTargetValueChangedString,this);break;default:console.warn("The "+this.type+" case was not implemented.")}},VarDisplayer.prototype.OnTargetValueChangedInt=function(t){this.label.text=this.replaceWhenZero&&0==t?this.replaceWhenZeroChar:t.toString()},VarDisplayer.prototype.OnTargetValueChangedFloat=function(t){this.label.text=this.replaceWhenZero&&0==t?this.replaceWhenZeroChar:t.toString()},VarDisplayer.prototype.OnTargetValueChangedString=function(t){this.label.text=t},goog.require("UHT.Engine");var XTLinkActivatorAction={None:0,ActivateAll:1,DeactivateAll:2};function XTLinkActivator(){Component.call(this),this.list=null,this.includeChildren=!0,this.excludeArrangeables=!0,this.awakeAction=XTLinkActivatorAction.None}function ArrangeableBase(){XTLink.call(this),this.useOnMobile=!0,this.useOnDesktop=!1}function ArrangeableActive(){ArrangeableBase.call(this),this.activeInLandscape=!1,this.activeInPortrait=!1}function ArrangeableActiveComplex(){ArrangeableBase.call(this),this.activeInLandscape=!1,this.activeInLandscapeWide=!1,this.activeInLandscapeWideFull=!1,this.activeInPortrait=!1,this.activeInPortraitIPhone=!1,this.activeInPortraitIPad=!1}function ArrangeableMLAnchor(){ArrangeableBase.call(this),this.anchors=null,this.maxWidthLandscape=0,this.separateForLandscapeWide=!1,this.maxWidthLandscapeWide=0,this.separateForLandscapeWideFull=!1,this.maxWidthLandscapeWideFull=0,this.maxWidthPortrait=0,this.separateForIPhone=!1,this.maxWidthIPhonePortrait=0,this.separateForIPad=!1,this.maxWidthIPadPortrait=0}function ArrangeableTransform(){ArrangeableBase.call(this),this.localPositionLandscape=null,this.localScaleLandscape=null,this.separateForLandscapeWide=!1,this.localPositionLandscapeWide=null,this.localScaleLandscapeWide=null,this.separateForLandscapeWideFull=!1,this.localPositionLandscapeWideFull=null,this.localScaleLandscapeWideFull=null,this.localPositionPortrait=null,this.localScalePortrait=null,this.separateForIPhone=!1,this.localPositionIPhonePortrait=null,this.localScaleIPhonePortrait=null,this.separateForIPad=!1,this.localPositionIPadPortrait=null,this.localScaleIPadPortrait=null}function ArrangeableUIRoot(){ArrangeableBase.call(this),this.manualWidthLandscape=1444,this.manualHeightLandscape=999,this.manualWidthPortrait=1444,this.manualHeightPortrait=2567}function LayoutManager(){XTLink.call(this),this.curWidth=-1,this.curHeight=-1,this.curMode=LayoutManager.Mode.Invalid,this.isInit=!1,this.LandscapeWideRatio=1.57,this.LandscapeWideFullRatio=1.77,this.PortraitIPhoneRatio=.59,this.PortraitIPadRatio=.74,this.isMobile=!0,this.isMini=!1}XTLinkActivator.prototype=Object.create(Component.prototype),(XTLinkActivator.prototype.constructor=XTLinkActivator).prototype.Activate=function(t,e){t=_number.otoi(t),e=null==e||e;for(var i=this.includeChildren?this.list[t].GetComponentsInChildren(XTLink,!0):this.list[t].GetComponents(XTLink),n=0;n<i.length;++n)this.excludeArrangeables&&i[n]instanceof ArrangeableBase||(i[n].xtEnabled=e)},XTLinkActivator.prototype.Deactivate=function(t){this.Activate(t,!1)},XTLinkActivator.prototype.ActivateAll=function(){for(var t=0;t<this.list.length;++t)this.Activate(t,!0)},XTLinkActivator.prototype.DeactivateAll=function(){for(var t=0;t<this.list.length;++t)this.Activate(t,!1)},XTLinkActivator.prototype.Awake=function(){switch(this.awakeAction){case XTLinkActivatorAction.ActivateAll:this.ActivateAll();break;case XTLinkActivatorAction.DeactivateAll:this.DeactivateAll()}},goog.provide("UHT.ArrangeableBase"),goog.require("UHT.XTLink"),ArrangeableBase.prototype=Object.create(XTLink.prototype),(ArrangeableBase.prototype.constructor=ArrangeableBase).prototype.XTRegisterCallbacks=function(){(this.useOnMobile&&Globals.isMobile||this.useOnDesktop&&!Globals.isMobile)&&(XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout,this.OnSwitchToLandscape,this),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide,this.OnSwitchToLandscapeWide,this),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull,this.OnSwitchToLandscapeWideFull,this),this.useOnMobile&&Globals.isMobile&&(XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout,this.OnSwitchToPortrait,this),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone,this.OnSwitchToPortraitIPhone,this),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad,this.OnSwitchToPortraitIPad,this)))},ArrangeableBase.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnSwitchToLandscape,this),XT.UnregisterCallbackEvent(this.OnSwitchToLandscapeWide,this),XT.UnregisterCallbackEvent(this.OnSwitchToPortrait,this),XT.UnregisterCallbackEvent(this.OnSwitchToPortraitIPhone,this),XT.UnregisterCallbackEvent(this.OnSwitchToPortraitIPad,this)},ArrangeableBase.prototype.OnSwitchToPortrait=function(){},ArrangeableBase.prototype.OnSwitchToLandscape=function(){},ArrangeableBase.prototype.OnSwitchToLandscapeWide=function(){this.OnSwitchToLandscape()},ArrangeableBase.prototype.OnSwitchToLandscapeWideFull=function(){this.OnSwitchToLandscapeWide()},ArrangeableBase.prototype.OnSwitchToPortraitIPhone=function(){this.OnSwitchToPortrait()},ArrangeableBase.prototype.OnSwitchToPortraitIPad=function(){this.OnSwitchToPortraitIPhone()},goog.require("UHT.ArrangeableBase"),ArrangeableActive.prototype=Object.create(ArrangeableBase.prototype),(ArrangeableActive.prototype.constructor=ArrangeableActive).prototype.OnSwitchToPortrait=function(){this.gameObject.SetActive(this.activeInPortrait)},ArrangeableActive.prototype.OnSwitchToLandscape=function(){this.gameObject.SetActive(this.activeInLandscape)},goog.require("UHT.ArrangeableBase"),ArrangeableActiveComplex.prototype=Object.create(ArrangeableBase.prototype),(ArrangeableActiveComplex.prototype.constructor=ArrangeableActiveComplex).prototype.OnSwitchToLandscape=function(){this.gameObject.SetActive(this.activeInLandscape)},ArrangeableActiveComplex.prototype.OnSwitchToLandscapeWide=function(){this.gameObject.SetActive(this.activeInLandscapeWide)},ArrangeableActiveComplex.prototype.OnSwitchToLandscapeWideFull=function(){this.gameObject.SetActive(this.activeInLandscapeWideFull)},ArrangeableActiveComplex.prototype.OnSwitchToPortrait=function(){this.gameObject.SetActive(this.activeInPortrait)},ArrangeableActiveComplex.prototype.OnSwitchToPortraitIPhone=function(){this.gameObject.SetActive(this.activeInPortraitIPhone)},ArrangeableActiveComplex.prototype.OnSwitchToPortraitIPad=function(){this.gameObject.SetActive(this.activeInPortraitIPad)},goog.require("UHT.ArrangeableBase"),ArrangeableMLAnchor.prototype=Object.create(ArrangeableBase.prototype),(ArrangeableMLAnchor.prototype.constructor=ArrangeableMLAnchor).prototype.OnSwitchToPortrait=function(){this.OnLayoutChanged(this.maxWidthPortrait)},ArrangeableMLAnchor.prototype.OnSwitchToPortraitIPhone=function(){this.separateForIPhone?this.OnLayoutChanged(this.maxWidthIPhonePortrait):this.OnSwitchToPortrait()},ArrangeableMLAnchor.prototype.OnSwitchToPortraitIPad=function(){this.separateForIPad?this.OnLayoutChanged(this.maxWidthIPadPortrait):this.OnSwitchToPortraitIPhone()},ArrangeableMLAnchor.prototype.OnSwitchToLandscape=function(){this.OnLayoutChanged(this.maxWidthLandscape)},ArrangeableMLAnchor.prototype.OnSwitchToLandscapeWide=function(){this.separateForLandscapeWide?this.OnLayoutChanged(this.maxWidthLandscapeWide):this.OnSwitchToLandscape()},ArrangeableMLAnchor.prototype.OnSwitchToLandscapeWideFull=function(){this.separateForLandscapeWideFull?this.OnLayoutChanged(this.maxWidthLandscapeWideFull):this.OnSwitchToLandscapeWide()},ArrangeableMLAnchor.prototype.OnLayoutChanged=function(t){for(var e=0;e<this.anchors.length;++e)this.anchors[e].maxWidth=t,this.anchors[e].ForceNextUpdate()},goog.require("UHT.ArrangeableBase"),ArrangeableTransform.prototype=Object.create(ArrangeableBase.prototype),(ArrangeableTransform.prototype.constructor=ArrangeableTransform).prototype.OnSwitchToPortrait=function(){this.gameObject.transform.localPosition(this.localPositionPortrait),this.gameObject.transform.localScale(this.localScalePortrait)},ArrangeableTransform.prototype.OnSwitchToPortraitIPhone=function(){this.separateForIPhone?(this.gameObject.transform.localPosition(this.localPositionIPhonePortrait),this.gameObject.transform.localScale(this.localScaleIPhonePortrait)):this.OnSwitchToPortrait()},ArrangeableTransform.prototype.OnSwitchToPortraitIPad=function(){this.separateForIPad?(this.gameObject.transform.localPosition(this.localPositionIPadPortrait),this.gameObject.transform.localScale(this.localScaleIPadPortrait)):this.OnSwitchToPortraitIPhone()},ArrangeableTransform.prototype.OnSwitchToLandscape=function(){this.gameObject.transform.localPosition(this.localPositionLandscape),this.gameObject.transform.localScale(this.localScaleLandscape)},ArrangeableTransform.prototype.OnSwitchToLandscapeWide=function(){this.separateForLandscapeWide?(this.gameObject.transform.localPosition(this.localPositionLandscapeWide),this.gameObject.transform.localScale(this.localScaleLandscapeWide)):this.OnSwitchToLandscape()},ArrangeableTransform.prototype.OnSwitchToLandscapeWideFull=function(){this.separateForLandscapeWideFull?(this.gameObject.transform.localPosition(this.localPositionLandscapeWideFull),this.gameObject.transform.localScale(this.localScaleLandscapeWideFull)):this.OnSwitchToLandscapeWide()},goog.require("UHT.ArrangeableBase"),ArrangeableUIRoot.prototype=Object.create(ArrangeableBase.prototype),(ArrangeableUIRoot.prototype.constructor=ArrangeableUIRoot).prototype.OnSwitchToPortrait=function(){var t=this.GetComponent(UIRoot);t.manualWidth=this.manualWidthPortrait,t.manualHeight=this.manualHeightPortrait},ArrangeableUIRoot.prototype.OnSwitchToLandscape=function(){var t=this.GetComponent(UIRoot);t.manualWidth=this.manualWidthLandscape,t.manualHeight=this.manualHeightLandscape},goog.require("UHT.XTLink"),goog.provide("UHT.LayoutManager"),LayoutManager.prototype=Object.create(XTLink.prototype),(LayoutManager.prototype.constructor=LayoutManager).Mode={Invalid:0,Landscape:1,Portrait:2,LandscapeWide:3,PortraitIPhone:4,PortraitIPad:5,LandscapeWideFull:6},LayoutManager.layoutMode=LayoutManager.Mode.Invalid,LayoutManager.I=null;var BT_ORIENTATION_currentMode,BT_ORIENTATION_InitialSent=!(LayoutManager.prototype.XTRegisterCallbacks=function(){(LayoutManager.I=this).isInit=!0}),BT_ORIENTATION_lastTime=0,BT_ORIENTATION_timers=[0,0],BT_OrientationUpdateTimers=function(){var t=(new Date).getTime();BT_ORIENTATION_timers[BT_ORIENTATION_currentMode]+=t-BT_ORIENTATION_lastTime,BT_ORIENTATION_lastTime=t},BT_OrientationSendTimers=function(){BT_OrientationUpdateTimers(),0!=BT_ORIENTATION_timers[0]&&(globalTracking.SendEvent("uht_behaviour","ORIENTATION_MOBILE_time_landscape",BT_ORIENTATION_timers[0],"BehaviourTracker"),BT_ORIENTATION_timers[0]=0),0!=BT_ORIENTATION_timers[1]&&(globalTracking.SendEvent("uht_behaviour","ORIENTATION_MOBILE_time_portrait",BT_ORIENTATION_timers[1],"BehaviourTracker"),BT_ORIENTATION_timers[1]=0)},BT_OrientationSwitched=function(t){BT_OrientationUpdateTimers(),BT_ORIENTATION_currentMode=t};function ArrangeableCameraSettings(){ArrangeableBase.call(this),this._extraCameraSettings=null,this._landscapeClipUp=-1,this._landscapeClipDown=-1,this._landscapeClipLeft=-1,this._landscapeClipRight=-1,this._portraitClipUp=-1,this._portraitClipDown=-1,this._portraitClipLeft=-1,this._portraitClipRight=-1,this.separateForIPhone=!1,this._portraitIPhoneClipUp=-1,this._portraitIPhoneClipDown=-1,this._portraitIPhoneClipLeft=-1,this._portraitIPhoneClipRight=-1,this.separateForIPad=!1,this._portraitIPadClipUp=-1,this._portraitIPadClipDown=-1,this._portraitIPadClipLeft=-1,this._portraitIPadClipRight=-1,this.separateForLandscapeWide=!1,this._landscapeWideClipUp=-1,this._landscapeWideClipDown=-1,this._landscapeWideClipLeft=-1,this._landscapeWideClipRight=-1,this.separateForLandscapeWideFull=!1,this._landscapeWideFullClipUp=-1,this._landscapeWideFullClipDown=-1,this._landscapeWideFullClipLeft=-1,this._landscapeWideFullClipRight=-1,this.curMode=LayoutManager.Mode.Invalid}function LobbyCategories(){XTLink.call(this),this.featuredCategories=null,this.featuredGames=null,this.categories=null,this.localizedSymbols=null,this.maxWidth=0,this.padding=0,this.arrangeFeaturedGamesIfLessThan=null,this.featuredGamesArrangers=null,this.searchInput=null,this.noResultsFoundLabel=null,this.featuredContent=null,this.searchContent=null,this.categorySymbols=null,this.categoriesData=null,this.cachedfeaturedCategory=null,this.lastUpdatedCategorySymbol=""}function LobbyCategoriesDesktop(){LobbyCategories.call(this),this.allGamesMinWidth=0}function LobbyCategoriesManager(){XTLink.call(this),this.catEnable=null,this.catHide=null,this.scrollableListLandscape=null,this.scrollableListPortrait=null,this.categoriesData=null,this.categoryIndex=0,this.indicesLandscape=null,this.indicesPortrait=null,this.scrollLandscape=null,this.scrollPortrait=null,this.isEnabled=!1}function LobbyCategoriesMobile(){LobbyCategories.call(this),this.selectedCategory=null,this.selectButton=null,this.selectMinWidth=0,this.animator=null,this.categorySize=null,this.categoryMargin=null,this.categoriesPerLine=1,this.categoriesArranger=null,this.selectedCategoryWidth=0,this.selectedCategoryTextWidth=0}function LobbyCategoryDisplayer(){Component.call(this),this.MLAnchors=null,this.applyLabelActive=!1,this.MLASprites=[]}function LobbyCategoryButton(){LobbyCategoryDisplayer.call(this),this.selected=null,this.unselected=null,this.disabled=null,this.sprites=null,this.colliders=null,this.lastContents=null,this.notLastContents=null,this.useSpriteScale=!1,this.spriteScale=null}function LobbyGame(t){this.name="",this.symbol="",this.launchURL="",this.atlas=null,this.sprite="",this.promoKeys=null,this.displayStyle=TournamentProtocol.DisplayStyle.Default,null!=t&&(this.name=t.name,this.symbol=t.symbol,this.launchURL=t.launchURL,this.promoKeys=t.promoKeys,this.displayStyle=t.displayStyle)}LayoutManager.prototype.Awake=function(){XTLink.prototype.Awake.call(this),Globals.isMobile=this.isMobile,Globals.isMini=this.isMini},LayoutManager.prototype.Update=function(){var t;!this.isInit||UHTScreen.width==this.curWidth&&UHTScreen.height==this.curHeight||(this.curWidth=UHTScreen.width,this.curHeight=UHTScreen.height,t=UHTScreen.width/UHTScreen.height,this.isMini?this.curMode!=LayoutManager.Mode.Landscape&&(console.log("-- LayoutManager - switched to Landscape!"),this.curMode=LayoutManager.Mode.Landscape,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout)):this.isMobile?this.curWidth>=this.curHeight&&t<this.LandscapeWideRatio&&this.curMode!=LayoutManager.Mode.Landscape?(console.log("-- LayoutManager - switched to Landscape!"),this.curMode=LayoutManager.Mode.Landscape,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout)):this.curWidth>=this.curHeight&&t>=this.LandscapeWideRatio&&t<this.LandscapeWideFullRatio&&this.curMode!=LayoutManager.Mode.LandscapeWide?(console.log("-- LayoutManager - switched to Landscape Wide!"),this.curMode=LayoutManager.Mode.LandscapeWide,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide)):this.curWidth>=this.curHeight&&t>=this.LandscapeWideFullRatio&&this.curMode!=LayoutManager.Mode.LandscapeWideFull?(console.log("-- LayoutManager - switched to Landscape Wide Full!"),this.curMode=LayoutManager.Mode.LandscapeWideFull,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull)):this.curWidth<this.curHeight&&t<this.PortraitIPhoneRatio&&this.curMode!=LayoutManager.Mode.Portrait?(console.log("-- LayoutManager - switched to Portrait!"),this.curMode=LayoutManager.Mode.Portrait,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToPortraitLayout)):this.curWidth<this.curHeight&&t>=this.PortraitIPhoneRatio&&t<this.PortraitIPadRatio&&this.curMode!=LayoutManager.Mode.PortraitIPhone?(console.log("-- LayoutManager - switched to Portrait IPhone!"),this.curMode=LayoutManager.Mode.PortraitIPhone,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone)):this.curWidth<this.curHeight&&t>=this.PortraitIPadRatio&&this.curMode!=LayoutManager.Mode.PortraitIPad&&(console.log("-- LayoutManager - switched to Portrait IPad!"),this.curMode=LayoutManager.Mode.PortraitIPad,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad)):t<this.LandscapeWideRatio&&this.curMode!=LayoutManager.Mode.Landscape?(console.log("-- LayoutManager - switched to Landscape!"),this.curMode=LayoutManager.Mode.Landscape,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout)):t>=this.LandscapeWideRatio&&t<this.LandscapeWideFullRatio&&this.curMode!=LayoutManager.Mode.LandscapeWide?(console.log("-- LayoutManager - switched to Landscape Wide!"),this.curMode=LayoutManager.Mode.LandscapeWide,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide)):t>=this.LandscapeWideFullRatio&&this.curMode!=LayoutManager.Mode.LandscapeWideFull&&(console.log("-- LayoutManager - switched to Landscape Wide Full!"),this.curMode=LayoutManager.Mode.LandscapeWideFull,XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull)),LayoutManager.layoutMode=this.curMode,0==UHT_DEVICE_TYPE.DESKTOP&&(BT_ORIENTATION_InitialSent?BT_OrientationSwitched(this.curMode-1):(this.curMode==LayoutManager.Mode.Landscape||this.curMode==LayoutManager.Mode.LandscapeWide?globalTracking.SendEvent("uht_behaviour","ORIENTATION_MOBILE_initial_landscape",1,"BehaviourTracker"):globalTracking.SendEvent("uht_behaviour","ORIENTATION_MOBILE_initial_portrait",1,"BehaviourTracker"),BT_ORIENTATION_InitialSent=!0,BT_ORIENTATION_lastTime=(new Date).getTime(),BT_ORIENTATION_currentMode=this.curMode-1,setInterval(BT_OrientationSendTimers,3e5))))},LayoutManager.GetLayoutMode=function(){return LayoutManager.I.curMode},LayoutManager.GetLayoutType=function(){var t=LayoutManager.Mode;switch(LayoutManager.I.curMode){case t.Portrait:case t.PortraitIPad:case t.PortraitIPhone:return t.Portrait}return t.Landscape},goog.require("UHT.LayoutManager"),goog.require("UHT.ArrangeableBase"),ArrangeableCameraSettings.prototype=Object.create(ArrangeableBase.prototype),(ArrangeableCameraSettings.prototype.constructor=ArrangeableCameraSettings).prototype.extraCameraSettings=null,ArrangeableCameraSettings.prototype.landscapeClipUp=-1,ArrangeableCameraSettings.prototype.landscapeClipDown=-1,ArrangeableCameraSettings.prototype.landscapeClipLeft=-1,ArrangeableCameraSettings.prototype.landscapeClipRight=-1,ArrangeableCameraSettings.prototype.portraitClipUp=-1,ArrangeableCameraSettings.prototype.portraitClipDown=-1,ArrangeableCameraSettings.prototype.portraitClipLeft=-1,ArrangeableCameraSettings.prototype.portraitClipRight=-1,ArrangeableCameraSettings.prototype.portraitIPhoneClipUp=-1,ArrangeableCameraSettings.prototype.portraitIPhoneClipDown=-1,ArrangeableCameraSettings.prototype.portraitIPhoneClipLeft=-1,ArrangeableCameraSettings.prototype.portraitIPhoneClipRight=-1,ArrangeableCameraSettings.prototype.portraitIPadClipUp=-1,ArrangeableCameraSettings.prototype.portraitIPadClipDown=-1,ArrangeableCameraSettings.prototype.portraitIPadClipLeft=-1,ArrangeableCameraSettings.prototype.portraitIPadClipRight=-1,ArrangeableCameraSettings.prototype.landscapeWideClipUp=-1,ArrangeableCameraSettings.prototype.landscapeWideClipDown=-1,ArrangeableCameraSettings.prototype.landscapeWideClipLeft=-1,ArrangeableCameraSettings.prototype.landscapeWideClipRight=-1,ArrangeableCameraSettings.prototype.landscapeWideFullClipUp=-1,ArrangeableCameraSettings.prototype.landscapeWideFullClipDown=-1,ArrangeableCameraSettings.prototype.landscapeWideFullClipLeft=-1,ArrangeableCameraSettings.prototype.landscapeWideFullClipRight=-1,Object.defineProperties(ArrangeableCameraSettings.prototype,{extraCameraSettings:{get:function(){return null==this._extraCameraSettings&&(this._extraCameraSettings=this.GetComponent(ExtraCameraSettings)),this._extraCameraSettings},set:function(t){this._extraCameraSettings=t}},landscapeClipUp:{get:function(){return this._landscapeClipUp},set:function(t){this._landscapeClipUp=t,this.curMode==LayoutManager.Mode.Landscape&&(this.extraCameraSettings.clipUp=this._landscapeClipUp)}},landscapeClipDown:{get:function(){return this._landscapeClipDown},set:function(t){this._landscapeClipDown=t,this.curMode==LayoutManager.Mode.Landscape&&(this.extraCameraSettings.clipDown=this._landscapeClipDown)}},landscapeClipLeft:{get:function(){return this._landscapeClipLeft},set:function(t){this._landscapeClipLeft=t,this.curMode==LayoutManager.Mode.Landscape&&(this.extraCameraSettings.clipLeft=this._landscapeClipLeft)}},landscapeClipRight:{get:function(){return this._landscapeClipRight},set:function(t){this._landscapeClipRight=t,this.curMode==LayoutManager.Mode.Landscape&&(this.extraCameraSettings.clipRight=this._landscapeClipRight)}},portraitClipUp:{get:function(){return this._portraitClipUp},set:function(t){this._portraitClipUp=t,this.curMode==LayoutManager.Mode.Portrait&&(this.extraCameraSettings.clipUp=this._portraitClipUp)}},portraitClipDown:{get:function(){return this._portraitClipDown},set:function(t){this._portraitClipDown=t,this.curMode==LayoutManager.Mode.Portrait&&(this.extraCameraSettings.clipDown=this._portraitClipDown)}},portraitClipLeft:{get:function(){return this._portraitClipLeft},set:function(t){this._portraitClipLeft=t,this.curMode==LayoutManager.Mode.Portrait&&(this.extraCameraSettings.clipLeft=this._portraitClipLeft)}},portraitClipRight:{get:function(){return this._portraitClipRight},set:function(t){this._portraitClipRight=t,this.curMode==LayoutManager.Mode.Portrait&&(this.extraCameraSettings.clipRight=this._portraitClipRight)}},portraitIPhoneClipUp:{get:function(){return this._portraitIPhoneClipUp},set:function(t){this._portraitIPhoneClipUp=t,this.curMode==LayoutManager.Mode.PortraitIPhone&&(this.extraCameraSettings.clipUp=this._portraitIPhoneClipUp)}},portraitIPhoneClipDown:{get:function(){return this._portraitIPhoneClipDown},set:function(t){this._portraitIPhoneClipDown=t,this.curMode==LayoutManager.Mode.PortraitIPhone&&(this.extraCameraSettings.clipDown=this._portraitIPhoneClipDown)}},portraitIPhoneClipLeft:{get:function(){return this._portraitIPhoneClipLeft},set:function(t){this._portraitIPhoneClipLeft=t,this.curMode==LayoutManager.Mode.PortraitIPhone&&(this.extraCameraSettings.clipLeft=this._portraitIPhoneClipLeft)}},portraitIPhoneClipRight:{get:function(){return this._portraitIPhoneClipRight},set:function(t){this._portraitIPhoneClipRight=t,this.curMode==LayoutManager.Mode.PortraitIPhone&&(this.extraCameraSettings.clipRight=this._portraitIPhoneClipRight)}},portraitIPadClipUp:{get:function(){return this._portraitIPadClipUp},set:function(t){this._portraitIPadClipUp=t,this.curMode==LayoutManager.Mode.PortraitIPad&&(this.extraCameraSettings.clipUp=this._portraitIPadClipUp)}},portraitIPadClipDown:{get:function(){return this._portraitIPadClipDown},set:function(t){this._portraitIPadClipDown=t,this.curMode==LayoutManager.Mode.PortraitIPad&&(this.extraCameraSettings.clipDown=this._portraitIPadClipDown)}},portraitIPadClipLeft:{get:function(){return this._portraitIPadClipLeft},set:function(t){this._portraitIPadClipLeft=t,this.curMode==LayoutManager.Mode.PortraitIPad&&(this.extraCameraSettings.clipLeft=this._portraitIPadClipLeft)}},portraitIPadClipRight:{get:function(){return this._portraitIPadClipRight},set:function(t){this._portraitIPadClipRight=t,this.curMode==LayoutManager.Mode.PortraitIPad&&(this.extraCameraSettings.clipRight=this._portraitIPadClipRight)}},landscapeWideClipUp:{get:function(){return this._landscapeWideClipUp},set:function(t){this._landscapeWideClipUp=t,this.curMode==LayoutManager.Mode.LandscapeWide&&(this.extraCameraSettings.clipUp=this._landscapeWideClipUp)}},landscapeWideClipDown:{get:function(){return this._landscapeWideClipDown},set:function(t){this._landscapeWideClipDown=t,this.curMode==LayoutManager.Mode.LandscapeWide&&(this.extraCameraSettings.clipDown=this._landscapeWideClipDown)}},landscapeWideClipLeft:{get:function(){return this._landscapeWideClipLeft},set:function(t){this._landscapeWideClipLeft=t,this.curMode==LayoutManager.Mode.LandscapeWide&&(this.extraCameraSettings.clipLeft=this._landscapeWideClipLeft)}},landscapeWideClipRight:{get:function(){return this._landscapeWideClipRight},set:function(t){this._landscapeWideClipRight=t,this.curMode==LayoutManager.Mode.LandscapeWide&&(this.extraCameraSettings.clipRight=this._landscapeWideClipRight)}},landscapeWideFullClipUp:{get:function(){return this._landscapeWideFullClipUp},set:function(t){this._landscapeWideFullClipUp=t,this.curMode==LayoutManager.Mode.LandscapeWideFull&&(this.extraCameraSettings.clipUp=this._landscapeWideFullClipUp)}},landscapeWideFullClipDown:{get:function(){return this._landscapeWideFullClipDown},set:function(t){this._landscapeWideFullClipDown=t,this.curMode==LayoutManager.Mode.LandscapeWideFull&&(this.extraCameraSettings.clipDown=this._landscapeWideFullClipDown)}},landscapeWideFullClipLeft:{get:function(){return this._landscapeWideFullClipLeft},set:function(t){this._landscapeWideFullClipLeft=t,this.curMode==LayoutManager.Mode.LandscapeWideFull&&(this.extraCameraSettings.clipLeft=this._landscapeWideFullClipLeft)}},landscapeWideFullClipRight:{get:function(){return this._landscapeWideFullClipRight},set:function(t){this._landscapeWideFullClipRight=t,this.curMode==LayoutManager.Mode.LandscapeWideFull&&(this.extraCameraSettings.clipRight=this._landscapeWideFullClipRight)}}}),ArrangeableCameraSettings.prototype.OnSwitchToPortrait=function(){this.OnLayoutChanged(LayoutManager.Mode.Portrait,this.portraitClipUp,this.portraitClipDown,this.portraitClipLeft,this.portraitClipRight)},ArrangeableCameraSettings.prototype.OnSwitchToPortraitIPhone=function(){this.separateForIPhone?this.OnLayoutChanged(LayoutManager.Mode.PortraitIPhone,this.portraitIPhoneClipUp,this.portraitIPhoneClipDown,this.portraitIPhoneClipLeft,this.portraitIPhoneClipRight):this.OnSwitchToPortrait()},ArrangeableCameraSettings.prototype.OnSwitchToPortraitIPad=function(){this.separateForIPad?this.OnLayoutChanged(LayoutManager.Mode.PortraitIPad,this.portraitIPadClipUp,this.portraitIPadClipDown,this.portraitIPadClipLeft,this.portraitIPadClipRight):this.OnSwitchToPortraitIPhone()},ArrangeableCameraSettings.prototype.OnSwitchToLandscape=function(){this.OnLayoutChanged(LayoutManager.Mode.Landscape,this.landscapeClipUp,this.landscapeClipDown,this.landscapeClipLeft,this.landscapeClipRight)},ArrangeableCameraSettings.prototype.OnSwitchToLandscapeWide=function(){this.separateForLandscapeWide?this.OnLayoutChanged(LayoutManager.Mode.LandscapeWide,this.landscapeWideClipUp,this.landscapeWideClipDown,this.landscapeWideClipLeft,this.landscapeWideClipRight):this.OnSwitchToLandscape()},ArrangeableCameraSettings.prototype.OnSwitchToLandscapeWideFull=function(){this.separateForLandscapeWideFull?this.OnLayoutChanged(LayoutManager.Mode.LandscapeWideFull,this.landscapeWideFullClipUp,this.landscapeWideFullClipDown,this.landscapeWideFullClipLeft,this.landscapeWideFullClipRight):this.OnSwitchToLandscapeWide()},ArrangeableCameraSettings.prototype.OnLayoutChanged=function(t,e,i,n,o){this.curMode=t,this.extraCameraSettings.clipUp=e,this.extraCameraSettings.clipDown=i,this.extraCameraSettings.clipLeft=n,this.extraCameraSettings.clipRight=o},goog.provide("UHT.LobbyCategories"),goog.require("UHT.XTLink"),LobbyCategories.prototype=Object.create(XTLink.prototype),(LobbyCategories.prototype.constructor=LobbyCategories).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(LobbyVars.FeaturedLobbyCategory,this.OnFeaturedCategory,this),XT.RegisterCallbackObject(LobbyVars.LobbyCategorySymbols,this.OnCategorySymbols,this),XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex,this.OnLobbyCategoryIndex,this)},LobbyCategories.prototype.OnFeaturedCategory=function(t){var e=t;if(null!=e){if(null==this.cachedfeaturedCategory&&(this.cachedfeaturedCategory=e),this.lastUpdatedCategorySymbol!=e.symbol)for(var i=0;i<this.featuredCategories.length;++i)this.featuredCategories[i].UpdateCategory(this.FindLocalizedSymbol(e.symbol));this.lastUpdatedCategorySymbol=e.symbol;for(i=0;i<this.featuredGames.length;++i)this.featuredGames[i].SetValues([].concat(e.games));for(i=0;i<this.arrangeFeaturedGamesIfLessThan.length;++i)this.featuredGamesArrangers[i].Sample(e.games.length/this.arrangeFeaturedGamesIfLessThan[i]);"searchresults"==e.symbol?(null!=this.featuredContent&&this.featuredContent.SetActive(!1),null!=this.searchContent&&this.searchContent.SetActive(!0)):(null!=this.featuredContent&&this.featuredContent.SetActive(!0),null!=this.searchContent&&this.searchContent.SetActive(!1))}},LobbyCategories.prototype.OnCategorySymbols=function(t){this.categorySymbols=t,this.categoriesData=XT.GetObject(LobbyVars.LobbyCategories),null!=this.categorySymbols&&this.UpdateCategories()},LobbyCategories.prototype.UpdateCategories=function(){},LobbyCategories.prototype.OnLobbyCategoryIndex=function(t){for(var e=0;e<this.categories.length;++e)this.categories[e].SetSelected(e==t)},LobbyCategories.prototype.FindLocalizedSymbol=function(t){for(var e=0;e<this.localizedSymbols.length;++e)if(this.localizedSymbols[e].gameObject.name==t)return this.localizedSymbols[e];return null},LobbyCategories.prototype.SearchGames=function(e){var t=XT.GetObject(LobbyVars.LobbyCategories);if(null!=t){for(var i,n=null,o=0;o<t.length;o++)if(null!=t[o]&&"allgames"==t[o].symbol){(n=new LobbyCategory(t[o])).symbol="searchresults",n.games=t[o].games;break}if(null==n)for(o=0;o<t.length;o++)if(null!=t[o]){(n=new LobbyCategory(t[o])).symbol="searchresults",n.games=t[o].games;break}null!=n&&(i=[],""!=e&&(0==(i=n.games.filter(function(t){return this.SmartSearch(t,e)}.bind(this))).length?this.noResultsFoundLabel.SetActive(!0):this.noResultsFoundLabel.SetActive(!1)),n.games=i,XT.SetObject(LobbyVars.FeaturedLobbyCategory,n))}},LobbyCategories.prototype.ChangeBackToFeatured=function(){this.searchInput.Reset(),this.noResultsFoundLabel.SetActive(!1),XT.SetObject(LobbyVars.FeaturedLobbyCategory,this.cachedfeaturedCategory)},LobbyCategories.prototype.UpdateSearchResults=function(){this.SearchGames(this.searchInput.value)},LobbyCategories.prototype.SmartSearch=function(t,e){for(var i=!0,n=e.split(" "),o=0;o<n.length;o++)if(-1==t.name.toLowerCase().indexOf(n[o].toLowerCase())){i=!1;break}return i},goog.require("UHT.LobbyCategories"),LobbyCategoriesDesktop.prototype=Object.create(LobbyCategories.prototype),(LobbyCategoriesDesktop.prototype.constructor=LobbyCategoriesDesktop).prototype.UpdateCategories=function(){var t=this.categorySymbols.indexOf(LobbyCategorySymbol.AllGames),e=0,i=this.FindLocalizedSymbol(LobbyCategorySymbol.AllGames);-1<t&&(e=Math.max(i.width,this.allGamesMinWidth));var n=this.maxWidth-e;1<this.categorySymbols.length&&(n/=this.categorySymbols.length-1);for(var o,s,r=Math.round(n-this.padding),a=this.categorySymbols[this.categorySymbols.length-1],l=0,u=0;u<this.categoriesData.length;++u)null==this.categoriesData[u]?this.categories[u].UpdateButton(null,0,0,!1):(o=Math.round(this.categoriesData[u].symbol==LobbyCategorySymbol.AllGames?e:n),s=this.categoriesData[u].symbol==a,this.categories[u].UpdateButton(this.FindLocalizedSymbol(this.categoriesData[u].symbol),o,r,s),l+=.5*o,this.categories[u].transform.localPosition(new UHTMath.Vector3(l,0,0)),l+=.5*o);for(u=this.categoriesData.length;u<this.categories.length;++u)this.categories[u].UpdateButton(null,0,0,!1)},goog.require("UHT.XTLink"),LobbyCategoriesManager.prototype=Object.create(XTLink.prototype),(LobbyCategoriesManager.prototype.constructor=LobbyCategoriesManager).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(LobbyVars.LobbyCategories,this.OnCategoriesChanged,this),XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex,this.OnCategoryIndexChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState,this.OnVSGameStateChanged,this)},LobbyCategoriesManager.prototype.OnVSGameStateChanged=function(){var t;this.isEnabled&&((t=VSGameStateManager.GetState())!=VSGameState.Spin&&t!=VSGameState.SpinBonusRounds||this.catHide.Start())},LobbyCategoriesManager.prototype.OnCategoriesChanged=function(t){this.categoriesData=t,this.OnCategoryIndexChanged(XT.GetInt(LobbyVars.LobbyCategoryIndex))},LobbyCategoriesManager.prototype.OnCategoryIndexChanged=function(t){if(null!=this.categoriesData){if(this.isEnabled)this.indicesLandscape[this.categoryIndex]=this.scrollableListLandscape.items[0].valueIdx,this.scrollLandscape[this.categoryIndex]=this.scrollableListLandscape.scrollRemain,null!=this.scrollableListPortrait&&(this.indicesPortrait[this.categoryIndex]=this.scrollableListPortrait.items[0].valueIdx,this.scrollPortrait[this.categoryIndex]=this.scrollableListPortrait.scrollRemain);else{this.catEnable.Start(),this.isEnabled=!0,this.indicesLandscape=[],this.indicesPortrait=[],this.scrollLandscape=[],this.scrollPortrait=[];for(var e=0;e<this.categoriesData.length;++e)this.indicesLandscape.push(0),this.indicesPortrait.push(0),this.scrollLandscape.push(0),this.scrollPortrait.push(0)}this.scrollableListLandscape.SetValues(this.categoriesData[t].listLandscape.slice()),this.scrollableListLandscape.scrollRemain=this.scrollLandscape[t],this.scrollableListLandscape.UpdateValuesAndIndex(null,this.indicesLandscape[t],!0),null!=this.scrollableListPortrait&&(this.scrollableListPortrait.SetValues(this.categoriesData[t].listPortrait.slice()),this.scrollableListPortrait.scrollRemain=this.scrollPortrait[t],this.scrollableListPortrait.UpdateValuesAndIndex(null,this.indicesPortrait[t],!0)),this.categoryIndex=t}},goog.require("UHT.LobbyCategories"),LobbyCategoriesMobile.prototype=Object.create(LobbyCategories.prototype),(LobbyCategoriesMobile.prototype.constructor=LobbyCategoriesMobile).prototype.XTRegisterCallbacks=function(){LobbyCategories.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndexUnconfirmed,this.OnLobbyCategoryIndexUnconfirmed,this),XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_ConfirmLobbyCategoryIndex,this.ConfirmLobbyCategory,this),XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_UnconfirmLobbyCategoryIndex,this.UnconfirmLobbyCategory,this)},LobbyCategoriesMobile.prototype.ConfirmLobbyCategory=function(){var t=XT.GetInt(LobbyVars.LobbyCategoryIndex),e=XT.GetInt(LobbyVars.LobbyCategoryIndexUnconfirmed);t!=e&&XT.SetInt(LobbyVars.LobbyCategoryIndex,e)},LobbyCategoriesMobile.prototype.UnconfirmLobbyCategory=function(){var t=XT.GetInt(LobbyVars.LobbyCategoryIndex);t!=XT.GetInt(LobbyVars.LobbyCategoryIndexUnconfirmed)&&XT.SetInt(LobbyVars.LobbyCategoryIndexUnconfirmed,t)},LobbyCategoriesMobile.prototype.UpdateCategories=function(){this.ArrangeCategories(),this.ArrangeSelectedCategory()},LobbyCategoriesMobile.prototype.ArrangeSelectedCategory=function(){var t=0;1<this.categorySymbols.length?(e=this.FindLocalizedSymbol(this.selectButton.gameObject.name),t=Math.max(e.width,this.selectMinWidth),this.selectButton.UpdateButton(e,t,Math.round(t-this.padding),!1)):this.selectButton.UpdateButton(null,0,0,!1),this.selectedCategoryWidth=Math.round(this.maxWidth-t),this.selectedCategoryTextWidth=Math.round(this.selectedCategoryWidth-this.padding),this.UpdateSelectedCategory(XT.GetInt(LobbyVars.LobbyCategoryIndex));var e=.5*this.selectedCategoryWidth;this.selectedCategory.transform.localPosition(new UHTMath.Vector3(e,0,0)),e+=.5*(this.selectedCategoryWidth+t),this.selectButton.transform.localPosition(new UHTMath.Vector3(e,0,0))},LobbyCategoriesMobile.prototype.ArrangeCategories=function(){for(var t=Math.round(this.categorySize.x-this.padding),e=0,i=0,n=[],o=0;o<this.categoriesData.length;++o)null==this.categoriesData[o]?this.categories[o].UpdateButton(null,0,0,!1):(e%this.categoriesPerLine==0&&n.push([]),this.categories[o].UpdateButton(this.FindLocalizedSymbol(this.categoriesData[o].symbol),Math.round(this.categorySize.x),t,!1),n[i].push(this.categories[o]),++e%this.categoriesPerLine==0&&i++);for(var s=0,r=this.categorySize.x+this.categoryMargin.x,a=.5*r,o=0;o<n.length;++o){for(var l=0,u=(this.categoriesPerLine-n[o].length)*a,h=0;h<n[o].length;++h)n[o][h].transform.localPosition(new UHTMath.Vector3(l+u,s,0)),l+=r;s-=this.categorySize.y+this.categoryMargin.y}this.categoriesArranger.Sample(n.length/Math.ceil(this.categories.length/this.categoriesPerLine))},LobbyCategoriesMobile.prototype.OnLobbyCategoryIndex=function(t){LobbyCategories.prototype.OnLobbyCategoryIndex.call(this,t),this.UpdateSelectedCategory(t)},LobbyCategoriesMobile.prototype.OnLobbyCategoryIndexUnconfirmed=function(t){LobbyCategories.prototype.OnLobbyCategoryIndex.call(this,t)},LobbyCategoriesMobile.prototype.UpdateSelectedCategory=function(t){null!=this.categoriesData&&this.selectedCategory.UpdateButton(this.FindLocalizedSymbol(this.categoriesData[t].symbol),this.selectedCategoryWidth,this.selectedCategoryTextWidth,!1)},goog.provide("UHT.LobbyCategoryDisplayer"),goog.require("UHT.Engine"),LobbyCategoryDisplayer.prototype=Object.create(Component.prototype),(LobbyCategoryDisplayer.prototype.constructor=LobbyCategoryDisplayer).prototype.UpdateCategory=function(t){for(var e=0;e<this.MLAnchors.length;++e)this.UpdateMLAnchor(t,this.MLAnchors[e])},LobbyCategoryDisplayer.prototype.UpdateMLAnchor=function(t,e){for(var i=0;i<t.labels.length;++i)this.UpdateLabel(t.labels[i],e.labels[i])},LobbyCategoryDisplayer.prototype.UpdateLabel=function(t,e){e.text=t.text,e.width=t.width,e.fontName=t.fontName,e.Prepare(),this.applyLabelActive&&e.gameObject.SetActive(t.gameObject.activeSelf),this.UpdateSprites(t.GetComponentsInChildren(UISprite,!0),e.GetComponentsInChildren(UISprite,!0))},LobbyCategoryDisplayer.prototype.UpdateSprites=function(t,e){this.MLASprites.push(e);for(var i=0;i<t.length;++i)GUIArranger.I.CopySprite(t[i],e[i]),GUIArranger.I.CopySpriteSize(t[i],e[i])},goog.require("UHT.LobbyCategoryDisplayer"),LobbyCategoryButton.prototype=Object.create(LobbyCategoryDisplayer.prototype),(LobbyCategoryButton.prototype.constructor=LobbyCategoryButton).prototype.UpdateButton=function(t,e,i,n){if(null!=t&&0!=e){for(var o=t.transform.localPosition(),s=0;s<this.MLAnchors.length;++s){this.UpdateMLAnchor(t,this.MLAnchors[s]),this.MLAnchors[s].maxWidth=i;var r=new UHTMath.Vector3(o.x,o.y,o.z);this.MLAnchors[s].alignment==MultipleLabelAnchor.Alignment.Left&&(r.x+=.5*i),this.MLAnchors[s].alignment==MultipleLabelAnchor.Alignment.Right&&(r.x-=.5*i),this.MLAnchors[s].transform.localPosition(r)}for(s=0;s<this.sprites.length;++s)this.sprites[s].width=Math.round(e*(this.useSpriteScale?this.spriteScale[s]:1));for(s=0;s<this.colliders.length;++s)this.UpdateCollider(this.colliders[s],e);for(s=0;s<this.lastContents.length;++s)this.lastContents[s].SetActive(n);for(s=0;s<this.notLastContents.length;++s)this.notLastContents[s].SetActive(!n)}else this.disabled.Start()},LobbyCategoryButton.prototype.UpdateCollider=function(t,e){t.size=new UHTMath.Vector3(e,t.size.y,t.size.z),this.UpdateUIButtons(t.GetComponentsInChildren(UIButton,!0))},LobbyCategoryButton.prototype.UpdateUIButtons=function(t){for(var e=0;e<t.length;++e){var i=this.FindButtonSprite(t[e]);null!=i&&(t[e].normal=i.spriteName)}},LobbyCategoryButton.prototype.FindButtonSprite=function(t){var e=t.target;if(!(e instanceof UISprite))return null;for(var i=0;i<this.MLASprites.length;++i)for(var n=0;n<this.MLASprites[i].length;++n)if(e==this.MLASprites[i][n])return this.MLASprites[i][n];return null},LobbyCategoryButton.prototype.SetSelected=function(t){(t?this.selected:this.unselected).Start()},goog.require("UHT.XTLink");var LobbyCategorySymbol={Hot:"hot",New:"new",Popular:"popular",Exclusive:"exclusive",All:"all",AllGames:"allgames"};function LobbyCategory(t){if(this.name="",this.symbol="",this.games=null,this.listLandscape=null,(this.listPortrait=null)!=t&&(this.name=t.name,this.symbol=t.symbol,null!=t.games)){this.games=[];for(var e=0;e<t.games.length;++e)this.games.push(new LobbyGame(t.games[e]))}}var LobbyVars={LobbyCategories:"LobbyCategories",LobbyCategoryIndex:"LobbyCategoryIndex",LobbyCategorySymbols:"LobbyCategorySymbols",FeaturedLobbyCategory:"FeaturedLobbyCategory",LobbyCategoryIndexUnconfirmed:"LobbyCategoryIndexUnconfirmed",Evt_DataToCode_ConfirmLobbyCategoryIndex:"Evt_DataToCode_ConfirmLobbyCategoryIndex",Evt_DataToCode_UnconfirmLobbyCategoryIndex:"Evt_DataToCode_UnconfirmLobbyCategoryIndex",Evt_Internal_LobbyGameButton_ConfirmationButtonChanged:"Evt_Internal_LobbyGameButton_ConfirmationButtonChanged"},LobbyAPIVersion={Undefined:0,V1:0,V2:1};function LobbyConnection(){XTLink.call(this),this.gamesPerLineLandscape=0,this.gamesPerLinePortrait=0,this.textureSuffix="",this.featuredTextureSuffix="",this.urlQuery="",this.categoriesURL,this.gameLaunchURL="",this.gameIconsURL="",this.categories=null,this.categoriesOrder=["New","Hot","Popular"],this.textures=null,this.featuredCategory=null,this.featuredCategoriesOrder=[LobbyCategorySymbol.Hot,LobbyCategorySymbol.New,LobbyCategorySymbol.Popular,LobbyCategorySymbol.Exclusive,LobbyCategorySymbol.All],this.featuredTextures=null,this.errorMessage="",this.loadedTexturesCount=0,this.texturesLoaded=!1,this.retryCount=0,this.promoResponse=null}function CurrencyProperties(){this.CurrencyDecimalSeparator=".",this.CurrencyGroupSeparator=",",this.CurrencyGroupSizes=[3],this.CurrencyDecimalDigits=2,this.CurrencySymbol="$",this.CurrencyPositivePattern=3,this.CurrencyNegativePattern=3}function CurrencyFontDescriptor(){this.id=0,this.trueTypeFont="",this.bitmapFont=""}function CurrencyPatch(){Component.call(this),this.currencyFile=null,this.languageFormatFile=null,this.currencyName="USD",this.languageName="en",this.localeName="en",this.fonts=null,this.revisionNumber=0,this.currencies=null,this.languageFormats=null}LobbyConnection.prototype=Object.create(XTLink.prototype),(LobbyConnection.prototype.constructor=LobbyConnection).APIVersion=LobbyAPIVersion.Undefined,LobbyConnection.Keys={categoriesURL:"ingameLobbyApiURL",gameLaunchURL:"gameLaunchURL",gameIconsURL:"gameIconsURL",lobbyCategories:"lobbyCategories",categorySymbol:"categorySymbol",categoryName:"categoryName",lobbyGames:"lobbyGames",name:"name",symbol:"symbol",activePromos:"activePromos",promoKeys:"promoKeys"},LobbyConnection.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived,this.OnInitReceived,this)},LobbyConnection.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(LobbyVars.LobbyCategories,null),XT.SetObject(LobbyVars.LobbyCategorySymbols,null),XT.SetInt(LobbyVars.LobbyCategoryIndex,0),XT.SetInt(LobbyVars.LobbyCategoryIndexUnconfirmed,0),XT.SetObject(LobbyVars.FeaturedLobbyCategory,null)},LobbyConnection.prototype.OnInitReceived=function(){var t=UHT_GAME_CONFIG_SRC.ingameLobbyApiURL;null!=t&&(globalTracking.SendEvent("uht_behaviour","Lobby_available",0|Time.time,"BehaviourTracker"),LobbyConnection.APIVersion=-1<t.indexOf("minilobby")?LobbyAPIVersion.V2:LobbyAPIVersion.V1,this.errorMessage="LobbyAPI Parsing Error "+(LobbyConnection.APIVersion==LobbyAPIVersion.V2?"(minilobby/games)":"(lobby/game/list)"),this.textures={},this.featuredTextures={},this.urlQuery=GameProtocolDictionary.mgckey+"="+ServerOptions.mgckey,this.categoriesURL=t+"?"+this.urlQuery,this.LoadCategories())},LobbyConnection.prototype.LoadCategories=function(){-1<this.categoriesURL.indexOf("lobby/game/list")?LobbyConnection.APIVersion=LobbyAPIVersion.V1:-1<this.categoriesURL.indexOf("/minilobby/games")&&(LobbyConnection.APIVersion=LobbyAPIVersion.V2);var t=new ServerRequest;t.Url=this.categoriesURL,t.Handler=new EventHandler(this,this.OnCategoriesLoaded),t.Method="GET",RequestManager.AddRequest(t)},LobbyConnection.prototype.OnCategoriesLoaded=function(t,e){if(200!=e&&this.retryCount++<5)this.LoadCategories();else{var i;try{i=JSON.parse(t)}catch(t){return void console.error(t.message)}e=TournamentProtocol.TournamentParser.ParseResponse(i);if(null!=e&&e.error==TournamentProtocol.ErrorCode.None){t=LobbyConnection.Keys;if(null!=i[t.gameLaunchURL]&&null!=i[t.gameIconsURL]&&null!=i[t.lobbyCategories]){this.gameLaunchURL=String(i[t.gameLaunchURL]),this.gameLaunchURL+=(-1<this.gameLaunchURL.indexOf("?")?"&":"?")+this.urlQuery+"&gameSymbol=",this.gameIconsURL=String(i[t.gameIconsURL]),"/"!=this.gameIconsURL[this.gameIconsURL.length-1]&&(this.gameIconsURL+="/"),null!=i[t.activePromos]&&(this.promoResponse=TournamentProtocol.TournamentParser.ParseOnlyTournamentsResponse(e,i[t.activePromos]));var n=this.categories=this.ParseCategories(i[t.lobbyCategories]);if(null!=n){if(1<n.length){var o=[],s=[],t=this.FindCategory(LobbyCategorySymbol.All);null!=t&&(this.FindUniqueGames(t,o,s),n.splice(n.indexOf(t),1));for(var r=0;r<n.length;++r)this.FindUniqueGames(n[r],o,s);for(;n.length<this.featuredCategoriesOrder.length;)n.push(null);(t=new LobbyCategory).symbol=LobbyCategorySymbol.AllGames,t.games=o,n.push(t)}for(r=0;r<this.featuredCategoriesOrder.length;++r){var a=this.FindCategory(this.featuredCategoriesOrder[r]);if(null!=a){this.featuredCategory=new LobbyCategory(a);for(var l=0;l<this.featuredCategory.games.length;++l){var u=this.featuredCategory.games[l].symbol;this.featuredTextures.hasOwnProperty(u)||(this.featuredTextures[u]=null,this.LoadTexture(u,!0))}break}}for(r in this.textures)this.textures.hasOwnProperty(r)&&this.LoadTexture(r,!1)}}else console.error(this.errorMessage)}else console.error(this.errorMessage)}},LobbyConnection.prototype.ParseCategories=function(t){if(null==t)return console.error(this.errorMessage),null;for(var e=LobbyConnection.Keys,i=LobbyConnection.APIVersion,n=(i==LobbyAPIVersion.V2?t:this.categoriesOrder).length,o=new Array(n),s=0;s<n;++s){var r,a=t[s];null!=a&&null!=a[e.categorySymbol]&&null!=a[e.lobbyGames]?((r=new LobbyCategory).symbol=String(a[e.categorySymbol]),r.games=this.ParseGames(a[e.lobbyGames]),r.name=i==LobbyAPIVersion.V2?String(a[e.categoryName]):r.symbol,-1<(a=i==LobbyAPIVersion.V2?s:this.categoriesOrder.indexOf(r.name))&&(o[a]=r)):console.error(this.errorMessage)}return o},LobbyConnection.prototype.ParseGames=function(t){if(null==t)return console.error(this.errorMessage),null;for(var e=LobbyConnection.Keys,i=[],n=0;n<t.length;++n){var o,s=t[n];null!=s&&null!=s[e.name]&&null!=s[e.symbol]?((o=new LobbyGame).name=String(s[e.name]),o.symbol=String(s[e.symbol]),o.launchURL=this.gameLaunchURL+o.symbol,null!=s[e.promoKeys]&&(o.promoKeys=TournamentProtocol.TournamentParser.ParsePromoKeys(s[e.promoKeys]),o.displayStyle=this.GetDisplayStyle(o.promoKeys)),this.textures.hasOwnProperty(o.symbol)||(this.textures[o.symbol]=null),i.push(o)):console.error(this.errorMessage)}return i},LobbyConnection.prototype.LoadTexture=function(i,n){var t="";null!=window.UHTLobbySeparateIcons&&null!=window.UHTLobbySeparateIcons[UHT_GAME_CONFIG.LANGUAGE]&&(t=window.UHTLobbySeparateIcons[UHT_GAME_CONFIG.LANGUAGE]);var t=this.gameIconsURL+t+i+"/"+i+(n?this.featuredTextureSuffix:this.textureSuffix)+".jpg",o=new Image;o.crossOrigin="";var s=null,r=this;o.onload=function(){try{var t="s_"+i,e={borderBottom:0,borderLeft:0,borderRight:0,borderTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,width:o.width,height:o.height,x:0,y:0};(s=new UIAtlas).isInit=!0,s.pixiTexture=new PIXI.Texture(new PIXI.BaseTexture(o)),s.spriteList[t]=e,s.cachedSprites[i]=e,s.cachedSpriteNames[i]=t}catch(t){s=null,console.error("Failed to load texture for "+i+". Error: "+t.message)}r.OnTextureLoaded(i,s,n)},o.onerror=function(){console.error("Failed to load texture for "+i),r.OnTextureLoaded(i,s,n)},o.src=t},LobbyConnection.prototype.OnTextureLoaded=function(t,e,i){(i?this.featuredTextures:this.textures)[t]=e,this.loadedTexturesCount++,this.texturesLoaded=this.loadedTexturesCount==Object.keys(Object(this.textures)).length+Object.keys(Object(this.featuredTextures)).length},LobbyConnection.prototype.Update=function(){if(this.texturesLoaded){this.texturesLoaded=!1;for(var t=[],e=0;e<this.categories.length;++e){var i=this.categories[e];if(null!=i){t.push(i.symbol),i.listLandscape=[],i.listPortrait=[];for(var n=null,o=null,s=0;s<i.games.length;++s){(l=i.games[s]).atlas=this.textures[l.symbol],l.sprite=l.symbol;var r=s%this.gamesPerLineLandscape,a=s%this.gamesPerLinePortrait;0==r&&(null!=n&&i.listLandscape.push(n),n=[]),0==a&&(null!=o&&i.listPortrait.push(o),o=[]),n.push(l),o.push(l)}null!=n&&i.listLandscape.push(n),null!=o&&i.listPortrait.push(o)}}for(var l,e=0;e<this.featuredCategory.games.length;++e)(l=this.featuredCategory.games[e]).atlas=this.featuredTextures[l.symbol],l.sprite=l.symbol;XT.SetObject(LobbyVars.LobbyCategories,this.categories),XT.SetObject(LobbyVars.LobbyCategorySymbols,t),XT.SetObject(LobbyVars.FeaturedLobbyCategory,this.featuredCategory)}},LobbyConnection.prototype.FindCategory=function(t){for(var e=0;e<this.categories.length;++e)if(null!=this.categories[e]&&this.categories[e].symbol.toLowerCase()==t.toLowerCase())return this.categories[e];return null},LobbyConnection.prototype.FindUniqueGames=function(t,e,i){if(null!=t)for(var n=0;n<t.games.length;++n)-1<i.indexOf(t.games[n].symbol)||(e.push(t.games[n]),i.push(t.games[n].symbol))},LobbyConnection.prototype.GetDisplayStyle=function(t){for(var e=0;e<t.length;++e){var i=this.FindPromotion(t[e].id,t[e].type);if(null!=i&&i.clientMode==TournamentProtocol.ClientMode.Visible&&i.status!=TournamentProtocol.StatusCode.Closed){if(i.displayStyle==TournamentProtocol.DisplayStyle.IDNSM)return TournamentProtocol.DisplayStyle.IDNSM;if(i.displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins)return TournamentProtocol.DisplayStyle.DropsAndWins}}return TournamentProtocol.DisplayStyle.Default},LobbyConnection.prototype.FindPromotion=function(t,e){if(null==this.promoResponse)return null;var i=null;if(e==TournamentProtocol.PromoType.Race?i=this.promoResponse.races:e==TournamentProtocol.PromoType.Tournament&&(i=this.promoResponse.tournaments),null!=i)for(var n=0;n<i.length;++n)if(t==i[n].id&&e==i[n].type)return i[n];return null},goog.provide("UHT.CurrencyPatch"),goog.require("UHT.Engine"),CurrencyPatch.prototype=Object.create(Component.prototype),CurrencyPatch.prototype.constructor=CurrencyPatch;var testCurrencyPatch=!1;function FormatOptions(){this.hasCurrency=!0,this.hasJackpotCurrency=!1,this.hasCustomCurrency=!1,this.hasDecimals=!0,this.customCurrency="",this.fontId=-1}CurrencyPatch.prototype.Update=function(){testCurrencyPatch&&(testCurrencyPatch=!1,LocaleManager.Init(this))},CurrencyPatch.prototype.InitCurrencies=function(t){console.info("Initializating currency prefab with revision "+this.revisionNumber),this.ReadFiles(),t.currencyInfo=this.InitCurrencyInfo(this.languageName,this.currencyName,this.localeName),t.jackpotCurrencyInfo=this.InitCurrencyInfo(this.languageName,"USD",this.localeName)},CurrencyPatch.prototype.InitCurrency=function(t){return this.InitCurrencyInfo(this.languageName,t,this.localeName)},CurrencyPatch.prototype.InitCurrencyInfo=function(t,e,i){var n=new CurrencyProperties;return n.CurrencySymbol=e,null!=this.currencies[e+"sym"]&&(n.CurrencySymbol=this.currencies[e+"sym"]),null!=this.languageFormats[i+"_dsep"]?this.InitLanguageFormat(n,i):null!=this.languageFormats[t+"_dsep"]&&this.InitLanguageFormat(n,t),n},CurrencyPatch.prototype.InitLanguageFormat=function(t,e){t.CurrencyDecimalSeparator=this.languageFormats[e+"_dsep"],t.CurrencyGroupSeparator=this.languageFormats[e+"_gsep"];var i,n=this.languageFormats[e+"_gnum"].split(" "),o=[];for(i in n)o.push(_number.otoi(n[i]));t.CurrencyGroupSizes=o,t.CurrencyDecimalDigits=_number.otoi(this.languageFormats[e+"_dnum"]),t.CurrencyPositivePattern=_number.otoi(this.languageFormats[e+"_symp"]),t.CurrencyNegativePattern=t.CurrencyPositivePattern},CurrencyPatch.prototype.ReadFiles=function(){this.currencies=this.ReadFileInDictionary(this.currencyFile),this.languageFormats=this.ReadFileInDictionary(this.languageFormatFile)},CurrencyPatch.prototype.ReadFileInDictionary=function(t){return Object(t.text)},goog.provide("UHT.LocaleManager"),goog.require("UHT.CurrencyPatch");var LocaleManager={};function LocalizationRoot(){Component.call(this)}function LocalizedLabels(){XTLink.call(this),this.localizedLabel=null,this.labels=null,this.useIncludedLanguages=!1,this.includedLanguages=null,this.useExcludedLanguages=!1,this.excludedLanguages=null,this.applyFontSize=!1,this.applyText=!1,this.capitalizeText=!1,this.cat=null,this.gameInitPriority=0}function ModificationsManager(){Component.call(this),this.root=null,this.EditMode=!1,this.Atlases=null,this.Transforms=null,this.Labels=null,this.Spines=[],this.revisionNumber=0}function GenericPoolObject(){XTLink.call(this),this.Id=0}function GenericObjectPooler(){XTLink.call(this),this.pool=null,this.poolObjects=[],this.objectIdToIndexMap=null,this.pooledObjects=null,this.disablePoolNextFrame=!1,this.defaultBufferAmount=10,this.initializing=!1,this.currentInitObject=-1}function OfflineServer(){Component.call(this),this.configFile=null,this.responseLog=null,this.responseString="",this.index=0,this.slotHeight=0,this.numberOfReels=0,this.stopOffset=1,this.coinValue=.01,this.lines=0,this.balance=1e5,this.reelSymbols=null,this.screenSymbols=null,this.payoutData=null,this.stopPositions=null,this.linesDef=null,this.totalWin=0,this.isFreeSpins=!1,this.currentFreeSpin=0,this.maxFreeSpins=0,this.totalFreeSpins=0,this.freeSpinsCurrentMultiplier=0,this.freeSpinsTotalMultiplier=0,this.freeSpinCurrentWin=0,this.freeSpinTotalWin=0,this.freeSpinCurrentWinMultiplied=0,this.freeSpinTotalWinMultiplied=0,this.scatterFSAwards=null,this.scatterFSMultipliers=null,this.scatterFSAdditional=null,this.linesDefString="5,6,7,8,9~0,1,2,3,4~10,11,12,13,14~0,6,12,8,4~10,6,2,8,14~5,1,2,3,9~5,11,12,13,9~0,1,7,13,14~10,11,7,3,4~5,11,7,3,9~5,1,7,13,9~0,6,7,8,4~10,6,7,8,14~0,6,2,8,4~10,6,12,8,14~5,6,2,8,9~5,6,12,8,9~0,1,12,3,4~10,11,2,13,14~0,11,12,13,4~10,1,2,3,14~5,11,2,13,9~5,1,12,3,9~0,11,2,13,4~10,1,12,3,14",this.ID_DELIMITER="::"}LocaleManager.currencyInfo=new CurrencyProperties,LocaleManager.jackpotCurrencyInfo=new CurrencyProperties,LocaleManager.patchData=null,LocaleManager.customCurrencyInfo={},LocaleManager.isInit=!1,LocaleManager.decimalsAllowed=!0,LocaleManager.FormatValue=function(t,e){if(e.hasCustomCurrency)return LocaleManager.FormatValueWithCustomCurrency(t,e.customCurrency);var i=e.hasJackpotCurrency?LocaleManager.jackpotCurrencyInfo:LocaleManager.currencyInfo,t=LocaleManager.InternalFormatValue(t,e.hasDecimals?i.CurrencyDecimalDigits:0,e.hasDecimals?i.CurrencyDecimalSeparator:"",i.CurrencyGroupSeparator);return t=e.hasCurrency?LocaleManager.FormatCurrency(t,i.CurrencySymbol,i.CurrencyPositivePattern):t},LocaleManager.FormatValueWithCustomCurrency=function(t,e){var i=LocaleManager.currencyInfo;null!=LocaleManager.patchData&&(null==LocaleManager.customCurrencyInfo[e]&&(LocaleManager.customCurrencyInfo[e]=LocaleManager.patchData.InitCurrency(e)),i=LocaleManager.customCurrencyInfo[e]);t=LocaleManager.InternalFormatValue(t,i.CurrencyDecimalDigits,i.CurrencyDecimalSeparator,i.CurrencyGroupSeparator);return(t=LocaleManager.FormatCurrency(t,i.CurrencySymbol,i.CurrencyPositivePattern)).replace(new RegExp(" ","g")," ")},LocaleManager.FormatCurrency=function(t,e,i){var n=0<=_number.otod(t)?"":"-";switch(t=t.replace("-",""),i){case 0:n+=e+t;break;case 1:n+=t+e;break;case 2:n+=e+" "+t;break;case 3:n+=t+" "+e;break;case 4:n+=t}return n},LocaleManager.InternalFormatValue=function(t,e,i,n){var o=t<0?"-":"";t=Math.abs(+t||0);var s="";if(IS_UCBROWSER){var r=t.toFixed(e),a=Math.pow(10,e);t*=a,t+=.5;var l=(t/=a).toString().split(".");for(1==l.length&&l.push("");l[1].length<e;)l[1]+="0";l[1]=l[1].slice(0,2),s=e?l[1]:"",(t=l[0]+(e?"."+l[1]:""))!=r&&console.error("      WRONG COMPUTATION, should be "+t+" but it's "+r)}else t=t.toFixed(e);a=parseInt(t,10)+"",r=3<(r=a.length)?r%3:0;return IS_UCBROWSER||(s=Math.abs(t-a).toFixed(e).slice(2)),o+(r?a.substr(0,r)+n:"")+a.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(LocaleManager.decimalsAllowed?i+s:"")},LocaleManager.ApplyFontToLabel=function(t,e){},LocaleManager.Init=function(t){LocaleManager.patchData=t,null!=LocaleManager.patchData&&(t={currencyInfo:LocaleManager.currencyInfo,jackpotCurrencyInfo:LocaleManager.jackpotCurrencyInfo},LocaleManager.patchData.InitCurrencies(t),LocaleManager.currencyInfo=t.currencyInfo,LocaleManager.jackpotCurrencyInfo=t.jackpotCurrencyInfo),null!=UHT_GAME_CONFIG_SRC.allowDecimals&&(LocaleManager.decimalsAllowed=UHT_GAME_CONFIG_SRC.allowDecimals),LocaleManager.isInit=!0,XT.TriggerEvent(Vars.Evt_Internal_LocaleChanged)},LocaleManager.GetCurrencySymbol=function(){return LocaleManager.currencyInfo.CurrencySymbol},goog.require("UHT.Engine"),LocalizationRoot.prototype=Object.create(Component.prototype),LocalizationRoot.prototype.constructor=LocalizationRoot,goog.require("UHT.XTLink"),LocalizedLabels.prototype=Object.create(XTLink.prototype),(LocalizedLabels.prototype.constructor=LocalizedLabels).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this,this.gameInitPriority)},LocalizedLabels.prototype.OnGameInit=function(){var t=!0;if(this.useIncludedLanguages&&(t=-1!=this.includedLanguages.indexOf(ServerOptions.language)),t=this.useExcludedLanguages?-1==this.excludedLanguages.indexOf(ServerOptions.language):t){for(var e=0;e<this.labels.length;++e)this.applyFontSize&&(this.labels[e].fontSize=this.localizedLabel.fontSize),this.applyText&&(this.labels[e].text=this.capitalizeText?this.localizedLabel.text.toUpperCase():this.localizedLabel.text),this.labels[e].fontName=this.localizedLabel.fontName,this.labels[e].Prepare();null!=this.cat&&this.cat.Start()}},goog.require("UHT.Engine"),goog.require("UHT.ModificationsManager_XChange"),goog.require("UHTMath.Vector3"),ModificationsManager.prototype=Object.create(Component.prototype),(ModificationsManager.prototype.constructor=ModificationsManager).Applied=!1,ModificationsManager.prototype.Start=function(){this.EditMode&&this.Init()},ModificationsManager.prototype.Update=function(){this.EditMode&&this.UpdateAllValuesFromScene()},ModificationsManager.prototype.OnDrawGizmos=function(){},ModificationsManager.prototype.Init=function(){console.info("Initializating localization prefab with revision "+this.revisionNumber),this.root=Component.FindObjectOfType(LocalizationRoot).gameObject.transform,this.UpdatePrefabReferences(),null!=this.Atlases&&0!=this.Atlases.length&&this.ApplyAtlases(),null!=this.Labels&&0!=this.Labels.length&&this.ApplyLabels(),null!=this.Transforms&&0!=this.Transforms.length&&this.ApplyTransforms(),null!=this.Spines&&0!=this.Spines.length&&this.ApplySpines(),this.EditMode||console.warn("We're NOT in edit mode, we destroy this prefab..."),ModificationsManager.Applied=!0},ModificationsManager.prototype.UpdatePrefabReferences=function(){for(var t=0;t<this.Transforms.length;++t){var e=this.Transforms[t];null==e.Target&&(e.Target=this.root.Find(e.path))}for(t=0;t<this.Atlases.length;++t){var i=this.Atlases[t];null==i.Target&&(i.Target=this.root.Find(i.oldPath))}for(t=0;t<this.Labels.length;++t){var n=this.Labels[t];n.Target=this.root.Find(n.path)}for(t=0;t<this.Spines.length;++t){var o=this.Spines[t];null==o.Target&&(o.Target=this.root.Find(o.oldPath))}},ModificationsManager.prototype.UpdateAllValuesFromScene=function(){for(var t=0;t<this.Atlases.length;++t){var e=this.Atlases[t];this.UpdateAtlasValues(e)}for(t=0;t<this.Transforms.length;++t){var i=this.Transforms[t];this.UpdateTransformValues(i)}for(t=0;t<this.Labels.length;++t){var n=this.Labels[t];this.UpdateLabelValues(n)}for(t=0;t<this.Spines.length;++t){var o=this.Spines[t];this.UpdateSpineValues(o)}},ModificationsManager.prototype.GetNamePath=function(t){for(var e=t.gameObject.name;t.parent!=this.root;){if(null==t.parent)return"";e=t.parent.gameObject.name+"/"+e,t=t.parent}return e},ModificationsManager.prototype.UpdateLabelValues=function(t){},ModificationsManager.CopyFromLabelToLabel=function(t,e,i,n){i&&(e.text=t.text),e.fontName=t.fontName;i=t.fontSize*e.resize;e.fontSize=Math.round(Math.max(2,i)),e.currentFontSize=t.fontSize,e.anchorX=t.anchorX,e.anchorY=t.anchorY,e.overflow=t.overflow,e.alignment=t.alignment,e.maxLines=t.maxLines,e.spacingY=t.spacingY*e.resize,e.mArcRadius=t.mArcRadius*e.resize,n&&ModificationsManager.CopyEffectsAndColors(t,e),t.overflow==UILabel.Overflow.ShrinkContent||t.overflow==UILabel.Overflow.ClampContent?(i=t.width*e.resize,e.width=Math.round(Math.max(2,i)),i=t.height*e.resize,e.height=Math.round(Math.max(2,i))):t.overflow==UILabel.Overflow.ResizeHeight&&(i=t.width*e.resize,e.width=Math.round(Math.max(2,i))),e.wasInitCalled=!1,e.Prepare()},ModificationsManager.CopyEffectsAndColors=function(t,e){e.effectStyle=t.effectStyle,e.effectColor=t.effectColor,e.effectWidth=t.effectWidth*e.resize,e.mBlurShadow=t.mBlurShadow,e.mBlurShadowSize=t.mBlurShadowSize*e.resize,e.mBlurShadowOffsetX=t.mBlurShadowOffsetX*e.resize,e.mBlurShadowOffsetY=t.mBlurShadowOffsetY*e.resize,e.mBlurShadowColor=t.mBlurShadowColor,e.mOutline=t.mOutline,e.mOutlineColor=t.mOutlineColor,e.mFillCenter=t.mFillCenter},ModificationsManager.prototype.UpdateTransformValues=function(t){var e;null!=t.Target&&((e=this.GetNamePath(t.Target))!=t.path?(t.path=e,t.TransformData=[],t.TransformData.push(new TransformInfo),t.TransformData[0].SetPosition(t.Target.localPosition()),t.TransformData[0].SetScale(t.Target.localScale()),t.TransformData[0].SetRotation(t.Target.localEulerAngles().z),t.isSet=!0,this.ApplyTransforms()):(t.TransformData[0].SetPosition(t.Target.localPosition()),t.TransformData[0].SetScale(t.Target.localScale()),t.TransformData[0].SetRotation(t.Target.localEulerAngles().z)))},ModificationsManager.prototype.UpdateAtlasValues=function(t){var e;null!=t.Target&&(0==(e=t.Target.GetComponentsInChildren(UISprite,!0)).length?(console.error("This transform does not contain an UISprite, you need to select another!"),t.Target=null,t.isSet=!1):(t.oldPath=this.GetNamePath(e[0].transform),t.isSet=!0,this.ApplyAtlases()))},ModificationsManager.prototype.UpdateSpineValues=function(t){var e;null!=t.Target&&(0==(e=t.Target.GetComponentsInChildren(SpineController,!0)).length?(t.Target=null,t.isSet=!1):(t.oldPath=this.GetNamePath(e[0].transform),t.isSet=!0,this.ApplySpines()))},ModificationsManager.prototype.ApplyLabels=function(){for(var t=0;t<this.Labels.length;++t){var e=this.Labels[t];e.currentPayload=this.ChooseExtraPayload(),e.isSet&&(null!=e.Target?(this.EditMode&&(e.oldContent=e.Target.GetComponent(UILabel).text),e.SetValuesToLabel()):console.error("Could not find target at path\n"+e.path))}},ModificationsManager.prototype.ApplyTransforms=function(){for(var t=0;t<this.Transforms.length;++t){var e=this.Transforms[t];e.currentPayload=this.ChooseExtraPayload(),null==e.Target&&(e.Target=this.root.Find(e.path)),null!=e.Target?e.SetValuesToElement(this.EditMode):console.error("Transform not found at path: "+e.path)}},ModificationsManager.prototype.ApplyAtlases=function(){for(var t=0;t<this.Atlases.length;++t){var e=this.Atlases[t];if(e.currentPayload=this.ChooseExtraPayload(),-1!=e.currentPayload&&e.extraPayloads&&e.extraPayloads.length>e.currentPayload&&null!=!e.extraPayloads[e.currentPayload]&&(e.NewAtlas=e.extraPayloads[e.currentPayload]),null!=e.NewAtlas&&e.isSet){var i=this.root.Find(e.oldPath);if(null!=i){i=i.GetComponent(UISprite);if(null!=i)for(var n=i.atlas,o=this.root.GetComponentsInChildren(UISprite,!0),s=0;s<o.length;++s){var r=o[s];r.atlas==n&&(r.atlas=e.NewAtlas,r.SetSpriteName(r.spriteName))}}}}},ModificationsManager.prototype.ApplySpines=function(){for(var t=0;t<this.Spines.length;++t){var e=this.Spines[t];if(e.isSet){var i=this.root.Find(e.oldPath);if(null!=i){i=i.GetComponent(SpineController);if(null!=i&&(e.currentPayload=this.ChooseExtraPayload(),-1!=e.currentPayload&&e.extraPayloads&&e.extraPayloads.length>e.currentPayload&&null!=e.extraPayloads[e.currentPayload]&&(e.NewSkeletonData=e.extraPayloads[e.currentPayload].NewSkeletonData,e.Atlases=e.extraPayloads[e.currentPayload].Atlases),null!=e.NewSkeletonData)){var n=i.spineData;i.spineData=e.NewSkeletonData,i.spineAtlases=e.Atlases;for(var o=this.root.GetComponentsInChildren(SpineController,!0),s=0;s<o.length;++s)o[s].spineData==n&&(o[s].spineData=e.NewSkeletonData,o[s].spineAtlases=e.Atlases)}}}}},ModificationsManager.prototype.ChooseExtraPayload=function(){return XT.GetBool(Vars.Jurisdiction_Text_DE)?0:-1},goog.provide("UHT.GenericPoolObject"),goog.require("UHT.XTLink"),GenericPoolObject.prototype=Object.create(XTLink.prototype),(GenericPoolObject.prototype.constructor=GenericPoolObject).prototype.Reset=function(){},goog.provide("UHT.GenericObjectPooler"),goog.require("UHT.GenericPoolObject"),GenericObjectPooler.prototype=Object.create(XTLink.prototype),(GenericObjectPooler.prototype.constructor=GenericObjectPooler).prototype.Init=function(){this.initializing=!0,this.PerformSanityCheck(),this.BuildObjectIdToIndexMap(),this.pooledObjects=[],this.pool.SetActive(!0)},GenericObjectPooler.prototype.Update=function(){if(this.initializing)if(this.currentInitObject<this.poolObjects.length){if(0<=this.currentInitObject){var t=this.poolObjects[this.currentInitObject].Id;this.pooledObjects[t]=[];for(var e=0;e<this.defaultBufferAmount;e++){var i=instantiate(this.poolObjects[this.currentInitObject].gameObject);i.SetActive(!0),this.PoolObject(t,i.GetComponent(GenericPoolObject))}}this.currentInitObject++}else this.disablePoolNextFrame=!1,this.initializing=!1},GenericObjectPooler.prototype.PerformSanityCheck=function(){for(var t=[],e=0;e<this.poolObjects.length;++e){var i=this.poolObjects[e];-1!=t.indexOf(i.Id)&&console.error("More than one obj registered with ID = "+i.Id),t.push(i.Id)}},GenericObjectPooler.prototype.BuildObjectIdToIndexMap=function(){this.objectIdToIndexMap=[];for(var t=0;t<this.poolObjects.length;t++)this.objectIdToIndexMap[this.poolObjects[t].Id]=t},GenericObjectPooler.prototype.GetFromPool=function(t,e){0==this.pooledObjects[t].length&&(console.log("Object pool capacity is too small! ID = "+t),this.pooledObjects[t].push(instantiate(this.poolObjects[this.objectIdToIndexMap[t]].gameObject).GetComponent(GenericPoolObject)),this.pooledObjects[t][this.pooledObjects[t].length-1].gameObject.SetActive(!0));var i=this.pooledObjects[t][0];return this.pooledObjects[t].splice(0,1),i.gameObject.transform.SetParent(e.transform,!1),i.gameObject.transform.localPosition(UHTMath.Vector3.zero),i.gameObject.transform.localRotation(UHTMath.Quaternion.euler(UHTMath.Vector3.zero)),i.gameObject.transform.localScale(UHTMath.Vector3.one),i},GenericObjectPooler.prototype.PoolObject=function(t,e){e.Reset(),e.gameObject.transform.SetParent(this.pool.transform,!1),this.pooledObjects[t].push(e)},GenericObjectPooler.prototype.GetObject=function(t,e){return this.GetFromPool(t,e)},GenericObjectPooler.prototype.RecycleObject=function(t){this.PoolObject(t.Id,t)},GenericObjectPooler.prototype.LateUpdate=function(){this.pool.activeSelf&&!this.initializing&&(this.disablePoolNextFrame?this.pool.SetActive(!1):this.disablePoolNextFrame=!0)},goog.provide("UHT.OfflineServer"),goog.require("UHT.Engine"),OfflineServer.prototype=Object.create(Component.prototype),(OfflineServer.prototype.constructor=OfflineServer).prototype.Start=function(){RequestProvider.Instance.ParseOfflineResponse(this.responseLog.text,!0),this.ProcessLinesDefinitions()},OfflineServer.prototype.ParseConfig=function(){var t="",e=(new DOMParser).parseFromString(this.configFile.text,"text/xml"),i=e.getElementsByTagName("slot")[0];this.lines=_number.otoi(i.getAttribute("lines")),this.AddParameterToResonse(GameProtocolDictionary.line+"="+this.lines,!1);i=e.getElementsByTagName("screen");this.AddParameterToResonse(GameProtocolDictionary.winSymbols+"="+i[0].getAttribute("array"),!1);var n=e.getElementsByTagName("reel");this.stopPositions=new Array,this.numberOfReels=n.length;var o="";this.reelSymbols=new Array;for(var s=0;s<n.length;s++){t="",t+=GameProtocolDictionary.reel(s)+"="+n[s].getAttribute("symbols"),this.AddParameterToResonse(t,!1),this.stopPositions.push(0),o+=this.stopPositions[s]+(s<n.length-1?",":"");for(var r=new Array,a=n[s].getAttribute("symbols").split(","),l=0;l<a.length;l++)r.push(_number.otoi(a[l]));this.reelSymbols.push(r)}this.AddParameterToResonse(GameProtocolDictionary.reelsPosition+"="+o,!1),this.AddParameterToResonse(GameProtocolDictionary.slotHeight+"="+i[0].getAttribute("array").split(",").length/this.numberOfReels,!1),this.slotHeight=i[0].getAttribute("array").split(",").length/this.numberOfReels,this.screenSymbols=new Array;for(var u=0;u<this.numberOfReels;u++){this.screenSymbols.push(new Array);for(var h=0;h<this.slotHeight;h++)this.screenSymbols[u].push(0)}var c=e.getElementsByTagName("symbol"),t="";t+=GameProtocolDictionary.paytable+"=",this.payoutData=new Array;for(l=0;l<c.length;l++){for(var p=new Array,a=c[l].getAttribute("payout").split(","),u=0;u<a.length/2;u++)t+=a[2*u],p.push(_number.otoi(a[2*u])),u<a.length/2-1&&(t+=",");l<c.length-1&&(t+=";"),p.reverse(),this.payoutData.push(p)}this.AddParameterToResonse(t,!1);var d=new Array;this.scatterFSAwards=JSON.parse("["+e.getElementsByTagName("spin")[0].getAttribute("array")+"]"),d.push(e.getElementsByTagName("spin")[0]),this.scatterFSAwards.reverse(),this.scatterFSMultipliers=JSON.parse("["+e.getElementsByTagName("spin_mul")[0].getAttribute("array")+"]"),d.push(e.getElementsByTagName("spin_mul")[0]),this.scatterFSMultipliers.reverse(),this.scatterFSAdditional=JSON.parse("["+e.getElementsByTagName("more_spins")[0].getAttribute("array")+"]"),d.push(e.getElementsByTagName("more_spins")[0]),this.scatterFSAdditional.reverse(),t="",t+=GameProtocolDictionary.scatters+"=";for(var m=1,l=0;l<c.length;l++)"scatter"==c[l].getAttribute.name.toLowerCase()&&(m=_number.otoi(c[l].getAttribute.i));t+=m;for(var S=0;S<d.length;S++)S<d.length-1&&(t+="~"+d[S].getAttribute("array"));this.AddParameterToResonse(t,!1)},OfflineServer.prototype.AddParameterToResonse=function(t,e){this.responseString+=t+(e?"":"&")},OfflineServer.prototype.HandleRequest=function(t){if(null!=t){for(var e=t.split("&"),i=0;i<e.length;++i)(n=e[i].split("="))[0]==GameProtocolDictionary.coin&&1<n.length&&(this.coinValue=_number.otod(n[1]));for(var n,i=0;i<e.length;++i)(n=e[i].split("="))[0]==GameProtocolDictionary.Actions.action&&(1<n.length?this.SendResponse(n[1]):console.warn("Invalid post data "+t))}else console.warn("Null post data")},OfflineServer.prototype.SendResponse=function(t){switch(this.responseString="",this.index++,t){case GameProtocolDictionary.Actions.doInit:this.responseString=this.GenerateInitResponse();break;case GameProtocolDictionary.Actions.doSpin:this.responseString=this.GenerateSpinResponse();break;case GameProtocolDictionary.Actions.doCollect:this.responseString=this.GenerateCollectResponse();break;default:console.warn("Got response for unknown action "+t)}console.log(this.responseString),RequestProvider.Instance.ParseOfflineResponse(this.responseString,!1)},OfflineServer.prototype.GenerateInitResponse=function(){return this.AddParameterToResonse(GameProtocolDictionary.Actions.doInit+this.ID_DELIMITER,!0),this.ParseConfig(),this.AddParameterToResonse("bonuses=0&sc=0.01,0.02,0.05,0.10,0.25,0.50,1.00,3.00,5.00&defc=0.01",!1),this.AddParameterToResonse(GameProtocolDictionary.coin+"="+this.coinValue.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.balance+"="+this.balance.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.index+"="+this.index,!1),this.AddParameterToResonse(GameProtocolDictionary.counter+"="+2*this.index,!1),this.AddParameterToResonse(GameProtocolDictionary.time+"="+this.GenerateTimeStamp(),!0),this.responseString},OfflineServer.prototype.GenerateSpinResponse=function(){this.GenerateTimeStamp(),this.AddParameterToResonse(GameProtocolDictionary.Actions.doSpin+this.ID_DELIMITER,!0),this.isFreeSpins||(this.balance-=this.coinValue*this.lines),this.AddParameterToResonse(GameProtocolDictionary.coin+"="+this.coinValue.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.balance+"="+this.balance.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.line+"="+this.lines,!1),this.AddParameterToResonse("sver=5&sh=3&b=0",!1),this.AddParameterToResonse(GameProtocolDictionary.index+"="+this.index,!1),this.AddParameterToResonse(GameProtocolDictionary.counter+"="+2*this.index,!1);for(var t="",e=0;e<this.numberOfReels;e++)this.stopPositions[e]=Math.floor(Math.random()*this.reelSymbols[e].length),t+=this.stopPositions[e]+(e<this.numberOfReels-1?",":"");this.AddParameterToResonse(GameProtocolDictionary.reelsPosition+"="+t,!1),this.ComputeScreenSymbols();for(var i=this.ComputeScreenWins(),n=this.totalWin=0;n<i.length;n++){var o=this.payoutData[i[n].dominatingSymbol][i[n].Positions.length-1]*this.coinValue;this.totalWin+=o;for(var s="l"+n+"="+(i[n].Id-1)+"~"+o+"~",r=0;r<i[n].Positions.length;r++)s+=i[n].Positions[r]+(r<i[n].Positions.length-1?"~":"");this.AddParameterToResonse(s,!1)}for(var a="",l=0,e=0;e<this.slotHeight;e++)for(var u=0;u<this.numberOfReels;u++)a+=this.screenSymbols[u][e]+(e==this.slotHeight-1&&u==this.numberOfReels-1?"":","),1==this.screenSymbols[u][e]&&l++;return 2<l&&(this.isFreeSpins||this.InitFreeSpins(l)),this.isFreeSpins&&(this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentNumber+"="+this.currentFreeSpin,!1),this.currentFreeSpin++,this.freeSpinTotalWin+=this.totalWin,this.freeSpinCurrentWinMultiplied=this.totalWin*this.freeSpinsCurrentMultiplier,this.currentFreeSpin<=this.maxFreeSpins?(this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentMultiplier+"="+this.freeSpinsCurrentMultiplier,!1),this.AddParameterToResonse(GameProtocolDictionary.freeSpinMaxNumber+"="+this.maxFreeSpins,!1),this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentWin+"="+this.freeSpinTotalWin.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentWinMultiplied+"="+this.freeSpinTotalWin.toFixed(2),!1)):(this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalMultipl+"="+this.freeSpinsCurrentMultiplier,!1),this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalNumber+"="+this.maxFreeSpins,!1),this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalWin+"="+this.freeSpinTotalWin.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalWinMultiplied+"="+this.freeSpinTotalWin.toFixed(2),!1))),0<this.totalWin&&(!this.isFreeSpins||this.currentFreeSpin-1==this.maxFreeSpins)?this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction+"="+GameProtocolDictionary.NextActions.Collect,!1):this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction+"="+GameProtocolDictionary.NextActions.Spin,!1),this.AddParameterToResonse(GameProtocolDictionary.winAmountShort+"="+this.totalWin.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.spinCycleWin+"="+(this.isFreeSpins?this.freeSpinTotalWin:this.totalWin).toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.winSymbols+"="+a,!1),this.AddParameterToResonse(GameProtocolDictionary.time+"="+this.GenerateTimeStamp(),!0),this.currentFreeSpin-1==this.maxFreeSpins&&this.ResetFreeSpins(),this.responseString},OfflineServer.prototype.GenerateCollectResponse=function(){return this.AddParameterToResonse(GameProtocolDictionary.Actions.doCollect+this.ID_DELIMITER,!0),this.balance+=this.totalWin,this.AddParameterToResonse(GameProtocolDictionary.balance+"="+this.balance.toFixed(2),!1),this.AddParameterToResonse("a=0&gs=0&sver=5&sh=3",!1),this.AddParameterToResonse(GameProtocolDictionary.index+"="+this.index,!1),this.AddParameterToResonse(GameProtocolDictionary.counter+"="+2*this.index,!1),this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction+"="+GameProtocolDictionary.NextActions.Spin,!1),this.AddParameterToResonse(GameProtocolDictionary.winAmountShort+"="+this.totalWin.toFixed(2),!1),this.AddParameterToResonse(GameProtocolDictionary.time+"="+this.GenerateTimeStamp(),!0),this.responseString},OfflineServer.prototype.GenerateTimeStamp=function(){return Math.round((new Date).getTime()/1e3)},OfflineServer.prototype.ProcessLinesDefinitions=function(){var t=this.linesDefString.split("~");this.linesDef=new Array;for(var e=0;e<t.length;e++){for(var i=new Array,n=0;n<t[e].split(",").length;n++)i.push(_number.otoi(t[e].split(",")[n]));this.linesDef.push(i)}},OfflineServer.prototype.ComputeScreenSymbols=function(){for(var t=0;t<this.screenSymbols.length;t++)for(var e=0;e<this.screenSymbols[t].length;e++){var i=(this.stopPositions[t]-this.stopOffset+e+(this.reelSymbols[t].length-1))%(this.reelSymbols[t].length-1);this.screenSymbols[t][e]=this.reelSymbols[t][i]}},OfflineServer.prototype.GetSymbolFromReel=function(t,e){return this.screenSymbols[e][t]},OfflineServer.prototype.SymbolIsWild=function(t){return 2==t},OfflineServer.prototype.InitFreeSpins=function(t){this.isFreeSpins=!0,this.currentFreeSpin=1,this.maxFreeSpins=this.scatterFSAwards[t-1],this.totalFreeSpins=this.scatterFSAwards[t-1],this.freeSpinsCurrentMultiplier=this.scatterFSMultipliers[t-1],this.freeSpinsTotalMultiplier=this.scatterFSMultipliers[t-1],this.freeSpinCurrentWin=0,this.freeSpinTotalWin=0,this.freeSpinCurrentWinMultiplied=0,this.freeSpinTotalWinMultiplied=0},OfflineServer.prototype.ResetFreeSpins=function(){this.isFreeSpins=!1,this.currentFreeSpin=0,this.maxFreeSpins=0,this.totalFreeSpins=0,this.freeSpinsCurrentMultiplier=0,this.freeSpinsTotalMultiplier=0,this.freeSpinCurrentWin=0,this.freeSpinTotalWin=0,this.freeSpinCurrentWinMultiplied=0,this.freeSpinTotalWinMultiplied=0},OfflineServer.prototype.ComputeScreenWins=function(){for(var t=new Array,e=0;e<this.lines;e++){t[e]=new WinLineInfo,t[e].Id=e+1,t[e].Positions=new Array,t[e].containsWild=!1;for(var i=0;i<this.numberOfReels;i++)t[e].Positions.push(this.linesDef[e][i])}for(var n=0;n<t.length;n++){for(var o=2,s=-1,r=0,e=0;e<t[n].Positions.length;e++){var a=t[n].Positions[e],l=a%this.numberOfReels,a=Math.floor(a/this.numberOfReels),l=this.GetSymbolFromReel(a,l);if(-1==s&&(s=l),this.SymbolIsWild(l))r==e&&r++;else if(l!=o&&!this.SymbolIsWild(o)||l<2){var u=e;0<r&&this.payoutData[2][r-1]>this.payoutData[o][u-1]&&(u=r,o=2);for(var h=new Array,i=0;i<u;i++)h[i]=t[n].Positions[i];t[n].Positions=h}else s=o=l;t[n].containsWild||(t[n].containsWild=this.SymbolIsWild(l))}t[n].dominatingSymbol=o}for(var c=new Array,n=0;n<t.length;n++)3<=t[n].Positions.length&&c.push(t[n]);return c},goog.require("UHT.Component"),goog.require("UHT.XTLink"),ReplayAction.prototype=Object.create(XTLink.prototype),ReplayAction.prototype.constructor=ReplayAction;var ReplayActionType={NONE:0,ANTE_BET_ON:1,ANTE_BET_OFF:2,SPIN_START:3,FS_START_CONFIRM:4,FS_OPTION_PICK:5,FS_END_CONFIRM:6,BG_ITEM_PICK:7,GAMBLE_COLLECT:8,GAMBLE_TYPE:9,GAMBLE_PICK:10};function OptionList(){this.colliders=[],this.setInt,this.triggerEvent}function ReplayAction(){XTLink.call(this),this.delay=0,this.type=ReplayActionType.NONE,this.options=[],this.bgMultiplePicks=[],this.checkOnUpdate=!1,this.cachedIndex=-1,this.cachedCollider}ReplayAction.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(ReplaySessionVars.PrepareAction,this.OnPrepare,this)},ReplayAction.prototype.OnPrepare=function(){var t=XT.GetInt(ReplaySessionVars.PrepareActionType);this.type==t&&(t=XT.GetObject(ReplaySessionVars.ReplayDirector_Queue),this.cachedIndex=XT.GetInt(ReplaySessionVars.PrepareActionIndex),this.type===ReplayActionType.BG_ITEM_PICK&&(XT.RegisterCallbackEvent("Replay_CheckBonusPickItem",this.CheckBonusPickItem,this),t.AddRoutineQueueItem(new RQIWaitForXTEventWithCallback("Replay_BonusPickItemReady","Replay_CheckBonusPickItem"))),0<this.delay&&t.AddRoutineQueueItem(new RQIWaitForSeconds(this.delay)),t.AddRoutineQueueItem(new RQITriggerCallback(this.Execute,null,this)))},ReplayAction.prototype.Execute=function(t){var e=this.cachedIndex;switch(this.type){case ReplayActionType.ANTE_BET_ON:case ReplayActionType.ANTE_BET_OFF:this.AnteBetToggle(e);break;case ReplayActionType.SPIN_START:case ReplayActionType.FS_START_CONFIRM:break;case ReplayActionType.FS_OPTION_PICK:for(var i=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.FSOptions,!0)[0].pickableOptions[this.cachedIndex].GetComponentsInChildren(Collider,!0),n=0;n<i.length;n++)i[n].enabled&&i[n].gameObject.activeInHierarchy&&(i[n].gameObject.SendMessage("OnHover"),i[n].gameObject.SendMessage("OnClick"));break;case ReplayActionType.FS_END_CONFIRM:break;case ReplayActionType.BG_ITEM_PICK:this.cachedCollider.gameObject.SendMessage("OnHover"),this.cachedCollider.gameObject.SendMessage("OnClick");break;case ReplayActionType.GAMBLE_COLLECT:case ReplayActionType.GAMBLE_TYPE:case ReplayActionType.GAMBLE_PICK:}if(e<this.options.length){for(var o=0;o<this.options[e].colliders.length;o++)this.options[e].colliders[o].GetComponent(Collider).SendMessage("OnClick");XT.SetInt(this.options[e].setInt.name,e),XT.TriggerEvent(this.options[e].triggerEvent.name)}},ReplayAction.prototype.AnteBetToggle=function(t){var e=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.BetLevelDisplayer,!0)[0];if(0<e.showBetScale[1-t].cat.transform.children.length){t=e.showBetScale[1-t].cat.transform.children[0];if(0<t.GetComponentsInChildren(CAT_Container,!0).length)for(var i=t.GetComponentsInChildren(CAT_Container,!0)[0].events,n=0;n<i.length;n++)if("Click"==i[n].userFriendlyName){i[n].Start();break}}},ReplayAction.prototype.BonusPickItemCanBeClicked=function(){for(var t=0;t<this.bgMultiplePicks.length;t++)if(this.bgMultiplePicks[t].xtEnabled&&this.bgMultiplePicks[t].pickItems[this.cachedIndex].gameObject.activeInHierarchy)for(var e=this.bgMultiplePicks[t].pickItems[this.cachedIndex].GetComponentsInChildren(Collider,!0),i=0;i<e.length;i++)if(e[i].enabled)return this.cachedCollider=e[i],!0;return!1},ReplayAction.prototype.CheckBonusPickItem=function(){this.bgMultiplePicks=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.BonusGameMultiplePicks,!0),this.checkOnUpdate=!0},ReplayAction.prototype.Update=function(){this.checkOnUpdate&&this.type==ReplayActionType.BG_ITEM_PICK&&this.BonusPickItemCanBeClicked()&&(this.checkOnUpdate=!1,XT.TriggerEvent("Replay_BonusPickItemReady"),XT.UnregisterCallbackEvent(this.CheckBonusPickItem,this))},goog.require("UHT.XTLink");var ReplayAPI={Keys:{replaySystemUrl:"replaySystemUrl",environmentId:"environmentId",envID:"envID",error:"error",description:"description",topList:"topList",roundID:"roundID",playedDate:"playedDate",bet:"bet",base_bet:"base_bet",win:"win",rtp:"rtp",sharedLink:"sharedLink",token:"token"},ErrorCode:{Undefined:-1,None:0,NotAuthorized:10,ServerError:100},WinningRound:function(){this.roundID=0,this.playedDate=0,this.bet=0,this.base_bet=0,this.win=0,this.rtp=0,this.sharedLink=""}};ReplayAPI.WinningRound.CompareByPlayedDate=function(t,e){t=e.playedDate-t.playedDate;return 0==t?0:0<t?1:-1},ReplayAPI.WinningRound.CompareByRTP=function(t,e){var i=Math.floor(e.rtp)-Math.floor(t.rtp);return 0==i?ReplayAPI.WinningRound.CompareByPlayedDate(t,e):i},ReplayAPI.GameHistoryAction=function(){this.index=0,this.request="",this.response=""},ReplayAPI.Response=function(t){this.error=ReplayAPI.ErrorCode.Undefined,this.description="",(this.dictionary=null)!=t&&(this.error=t.error,this.description=t.description)},ReplayAPI.WinningsResponse=function(t){ReplayAPI.Response.call(this,t),this.winnings=null},ReplayAPI.WinningsResponse.prototype=Object.create(ReplayAPI.Response.prototype),ReplayAPI.WinningsResponse.prototype.constructor=ReplayAPI.WinningsResponse,ReplayAPI.ShareLinkResponse=function(t){ReplayAPI.Response.call(this,t),this.sharedLink=""},ReplayAPI.ShareLinkResponse.prototype=Object.create(ReplayAPI.Response.prototype),ReplayAPI.ShareLinkResponse.prototype.constructor=ReplayAPI.ShareLinkResponse,ReplayAPI.Parser={},ReplayAPI.Parser.ParseResponse=function(t){var e=ReplayAPI.Keys,i=ReplayAPI.ErrorCode,n=ReplayAPI.Response;if(_string.IsNullOrEmpty(t))return null;t=_JSON.TryParse(t);if(null==t||null==t[e.error]||null==t[e.description])return null;var o=new n;o.dictionary=t,o.description=String(t[e.description]);var s,r=Number(t[e.error]);for(s in i)if(i.hasOwnProperty(s)&&i[s]==r){o.error=i[s];break}return o.error!=i.None?null:o},ReplayAPI.Parser.ParseWinningsResponse=function(t){var e=ReplayAPI.Parser,i=ReplayAPI.Keys,n=ReplayAPI.WinningsResponse,o=e.ParseResponse(t);if(null==o)return null;t=o.dictionary;if(null==t[i.topList])return null;o=new n(o);return o.winnings=e.ParseWinnings(t[i.topList]),o},ReplayAPI.Parser.ParseWinnings=function(t){var e=ReplayAPI.Keys,i=ReplayAPI.WinningRound;if(null==t)return null;for(var n=[],o=0;o<t.length;++o){var s,r=t[o];null!=r&&null!=r[e.roundID]&&null!=r[e.playedDate]&&null!=r[e.bet]&&null!=r[e.win]&&null!=r[e.rtp]&&((s=new i).roundID=Number(r[e.roundID]),s.playedDate=Number(r[e.playedDate]),null!=r[e.base_bet]?(s.base_bet=Number(r[e.bet]),s.bet=Number(r[e.base_bet])):s.bet=Number(r[e.bet]),s.win=Number(r[e.win]),s.rtp=Number(r[e.rtp]),null!=r[e.sharedLink]&&(s.sharedLink=String(r[e.sharedLink])),n.push(s))}return n},ReplayAPI.Parser.ParseSharedLinkResponse=function(t){var e=ReplayAPI.Parser,i=ReplayAPI.Keys,n=ReplayAPI.ShareLinkResponse,e=e.ParseResponse(t);if(null==e)return null;t=e.dictionary;if(null==t[i.sharedLink])return null;e=new n(e);return e.sharedLink=String(t[i.sharedLink]),e};var ReplayVars={Replay_Winnings:"Replay_Winnings",Replay_WinningsEnabled:"Replay_WinningsEnabled",Evt_Internal_Replay_RequestWinnings:"Evt_Internal_Replay_RequestWinnings",Evt_Internal_Replay_RequestSharedLink:"Evt_Internal_Replay_RequestSharedLink",Replay_SharedLinkRound:"Replay_SharedLinkRound",Evt_Internal_Replay_RoundSharedLinkUpdated:"Evt_Internal_Replay_RoundSharedLinkUpdated",Evt_Internal_Replay_RoundSharedLinkCopied:"Evt_Internal_Replay_RoundSharedLinkCopied",Evt_DataToCode_Replay_OpenWinnings:"Evt_DataToCode_Replay_OpenWinnings",Evt_CodeToData_Replay_OpenSelectedRound:"Evt_CodeToData_Replay_OpenSelectedRound",Replay_SelectedRound:"Replay_SelectedRound",Replay_CategoryIndex:"Replay_CategoryIndex",Evt_DataToCode_Replay_CategoryIndexUpdated:"Evt_DataToCode_Replay_CategoryIndexUpdated",Evt_Internal_Replay_WatchSelectedRound:"Evt_Internal_Replay_WatchSelectedRound"};function ReplayConnection(){XTLink.call(this),this.winningsURL="",this.sharedLinkURL="",this.sharedLinkRequests=[],this.sharedLinkRounds=[],this.winningsResponseHandler=new EventHandler(this,this.OnWinningsResponse),this.sharedLinkResponseHandler=new EventHandler(this,this.OnSharedLinkResponse)}ReplayConnection.prototype=Object.create(XTLink.prototype),(ReplayConnection.prototype.constructor=ReplayConnection).watchURL="",ReplayConnection.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RequestWinnings,this.RequestWinnings,this),XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RequestSharedLink,this.RequestSharedLink,this)},ReplayConnection.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(ReplayVars.Replay_Winnings,null),XT.SetBool(ReplayVars.Replay_WinningsEnabled,!1),XT.SetObject(ReplayVars.Replay_SelectedRound,null)};var GA_SENT_REPLAY_OPENED=!(ReplayConnection.prototype.OnGameInit=function(){var t,e,i;window.UHT_REPLAY_DISABLED||null!=(i=UHT_GAME_CONFIG_SRC)&&null!=i[ReplayAPI.Keys.environmentId]&&null!=i[ReplayAPI.Keys.replaySystemUrl]&&(1!=i.replayMode?(globalTracking.SendEvent("uht_behaviour_replay","Ingame_replay_available",1,"BehaviourTracker"),t=i[ReplayAPI.Keys.replaySystemUrl],e="?"+[GameProtocolDictionary.mgckey+"="+ServerOptions.mgckey,ReplayAPI.Keys.envID+"="+i[ReplayAPI.Keys.environmentId]].join("&"),i="?"+[ReplayAPI.Keys.token+"="+ServerOptions.mgckey,ReplayAPI.Keys.envID+"="+i[ReplayAPI.Keys.environmentId]].join("&"),ReplayConnection.watchURL=t+"/ReplayService/replayGame.do"+i,this.winningsURL=t+"/ReplayService/api/top/winnings/list"+e,this.sharedLinkURL=t+"/ReplayService/api/top/share/link"+e,XT.SetBool(ReplayVars.Replay_WinningsEnabled,!0)):globalTracking.SendEvent("uht_behaviour_replay","Shared_replay_started_watching",1,"BehaviourTracker"))});function ReplayDirector(){XTLink.call(this),this.rq,this.RDLDhandled=!1,this.currentStage=UHTStageName.No_Stage}function ReplayLineByLineSkipper(){XTLink.call(this),this.handledCurrentResult=!1}function ReplayLocationAwareButtonController(){XTLink.call(this),this.createLinkButtons=null,this.copyLinkButtons=null,this.sharedLink="",this.sharedLinkReceived=!1}ReplayConnection.prototype.RequestWinnings=function(){GA_SENT_REPLAY_OPENED||(globalTracking.SendEvent("uht_behaviour_replay","Ingame_replay_opened_window",1,"BehaviourTracker"),GA_SENT_REPLAY_OPENED=!0);var t=new ServerRequest;t.Url=this.winningsURL,t.Handler=this.winningsResponseHandler,t.Method="GET",RequestManager.AddRequest(t)},ReplayConnection.prototype.OnWinningsResponse=function(t,e){t=ReplayAPI.Parser.ParseWinningsResponse(t);null!=t?XT.SetObject(ReplayVars.Replay_Winnings,t.winnings):console.error("ReplayAPI ERROR: could not parse /top/winnings/list")},ReplayConnection.prototype.RequestSharedLink=function(){var t=XT.GetObject(ReplayVars.Replay_SharedLinkRound);if(null!=t){for(var e=0;e<this.sharedLinkRounds.length;++e)if(this.sharedLinkRounds[e].roundID==t.roundID)return;var i=new ServerRequest;i.Url=this.sharedLinkURL+"&"+ReplayAPI.Keys.roundID+"="+t.roundID,i.Handler=this.sharedLinkResponseHandler,0==this.sharedLinkRequests.length&&RequestManager.AddRequest(i),this.sharedLinkRequests.push(i),this.sharedLinkRounds.push(t)}},ReplayConnection.prototype.OnSharedLinkResponse=function(t,e){var i=ReplayAPI.Parser.ParseSharedLinkResponse(t);null!=i?((t=this.sharedLinkRounds[0]).sharedLink=i.sharedLink,XT.SetObject(ReplayVars.Replay_SharedLinkRound,t),XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkUpdated)):console.error("ReplayAPI ERROR: could not parse /top/share/link"),this.sharedLinkRequests.splice(0,1),this.sharedLinkRounds.splice(0,1),0<this.sharedLinkRequests.length&&RequestManager.AddRequest(this.sharedLinkRequests[0])},goog.require("UHT.XTLink"),ReplayDirector.prototype=Object.create(XTLink.prototype),(ReplayDirector.prototype.constructor=ReplayDirector).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(ReplaySessionVars.ReplayDirector_Start,this.OnReplayDirectorStart,this)},ReplayDirector.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(ReplaySessionVars.Replay_Paused,!1)},ReplayDirector.prototype.OnReplayDirectorStart=function(){this.rq=this.gameObject.GetComponent(RoutineQueue),XT.SetObject(ReplaySessionVars.ReplayDirector_Queue,this.rq),XT.RegisterCallbackBool(ReplaySessionVars.Replay_Paused,this.OnReplayPauseChanged,this),XT.RegisterCallbackObject(Vars.ToStageName,this.OnStageChange,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnSpinStarted,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone,this.OnResultDisplayerLoopDone,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowFSBGPick,this.OnShowFSBGPick,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_FreeSpinsShowWindowWin,this.OnFreeSpinsShowWindowWin,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusInitDone,this.OnBonusInitDone,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived,this.OnSpinStarted,this),XT.RegisterCallbackEvent(BGVars.Evt_Internal_ShowLevel,this.OnShowBonusGame,this)},ReplayDirector.prototype.OnReplayPauseChanged=function(t){Globals.InputBlocked=!t},ReplayDirector.prototype.OnStageChange=function(t){this.currentStage=t},ReplayDirector.prototype.OnShowFSBGPick=function(){this.Check(ReplayScenarioTriggerType.SHOW_FSBG_PICK)},ReplayDirector.prototype.OnShowBonusGame=function(){window.BonusGameMultiplePicks&&(this.Check(ReplayScenarioTriggerType.SHOW_BG_MULTIPLE_ITEM_PICK),XT.UnregisterCallbackEvent(this.OnBonusPickItem,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived,this.OnBonusPickItem,this))},ReplayDirector.prototype.OnBonusPickItem=function(){this.Check(ReplayScenarioTriggerType.SHOW_BG_MULTIPLE_ITEM_PICK)},ReplayDirector.prototype.OnFreeSpinsShowWindowWin=function(){this.Check(ReplayScenarioTriggerType.FS_SHOW_WINDOW_WIN),this.PatchButtonAutoClickers(2)},ReplayDirector.prototype.OnResultDisplayerLoopDone=function(){this.RDLDhandled||XT.GetBool(Vars.WaitInResultForBigWin)||XT.GetBool(Vars.LastWinIsCounting)||this.currentStage!=UHTStageName.Result||XT.GetBool(Vars.SpinBlockingFeatureIsRunning)||XT.GetBool(Vars.MustOpenBonus)||(RequestProvider.Instance.ReplayEnded()&&XT.SetBool(ReplaySessionVars.Replay_Paused,!0),XT.GetBool(ReplaySessionVars.Replay_Paused)||(this.RDLDhandled=!0,this.Check(ReplayScenarioTriggerType.IDLE_RESULT),this.PatchButtonAutoClickers(1)))},ReplayDirector.prototype.OnSpinStarted=function(){this.RDLDhandled=!1},ReplayDirector.prototype.OnBonusInitDone=function(){this.PatchRespinButtons(1)},ReplayDirector.prototype.Check=function(t){XT.GetBool(ReplaySessionVars.Replay_Paused)||(XT.SetInt(ReplaySessionVars.PrepareScenarioType,t),XT.TriggerEvent(ReplaySessionVars.PrepareScenario),0<this.rq.rqiList.length&&this.rq.StartRoutines())},ReplayDirector.prototype.PatchButtonAutoClickers=function(t){for(var e=globalRuntime.sceneRoots[1].GetComponentsInChildren(ButtonAutoClicker,!0),i=0;i<e.length;i++)e[i].delay=e[i].delayInAutoplay*t},ReplayDirector.prototype.PatchRespinButtons=function(t){if(window.BonusRespinLink_base)for(var e=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.BonusRespinLink_base,!0),i=0;i<e.length;i++)for(var n=e[i].transform.GetComponentsInChildren(CATButton,!0),o=0;o<n.length;o++)0==n[o].transform.GetComponentsInChildren(ButtonAutoClicker,!0).length&&n[o].gameObject.AddComponent("ButtonAutoClicker"),n[o].transform.GetComponentsInChildren(ButtonAutoClicker,!0)[0].delay=t,n[o].transform.GetComponentsInChildren(ButtonAutoClicker,!0)[0].delayInAutoplay=t},goog.require("UHT.Engine"),goog.require("UHT.XTLink"),ReplayLineByLineSkipper.prototype=Object.create(XTLink.prototype),(ReplayLineByLineSkipper.prototype.constructor=ReplayLineByLineSkipper).prototype.XTRegisterCallbacks=function(){ServerOptions.isReplay&&(XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnSpinStarted,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop,this.OnDoLoop,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone,this.OnLoopDone,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIBeforeEndOfDisplayLoop,this.OnBeforeEndOfDisplayLoop,this))},ReplayLineByLineSkipper.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnSpinStarted,this),XT.UnregisterCallbackEvent(this.OnDoLoop,this),XT.UnregisterCallbackEvent(this.OnLoopDone,this),XT.UnregisterCallbackEvent(this.OnBeforeEndOfDisplayLoop,this)},ReplayLineByLineSkipper.prototype.ClickedLineByLineSkipperCollider=function(){for(var t=XT.GetObject(Vars.RQManagerObject),e=[],i=0;i<t.rqiList.length;i++)"RQIMarker"==t.rqiList[i].constructor.name&&e.push(i);for(;0<e.length;)t.rqiList[e[0]].type==RQIMarker.MarkerType.StartLineByLine?(t.rqiList.splice(e[0],e[1]-e[0]),e.splice(0,2)):(t.rqiList.splice(0,e[0]),e.splice(0,1));XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),this.handledCurrentResult=!0},ReplayLineByLineSkipper.prototype.OnSpinStarted=function(){this.gameObject.SetActive(!1),this.handledCurrentResult=!1},ReplayLineByLineSkipper.prototype.OnDoLoop=function(){this.gameObject.SetActive(!0)},ReplayLineByLineSkipper.prototype.OnLoopDone=function(){this.gameObject.SetActive(!1)},ReplayLineByLineSkipper.prototype.OnBeforeEndOfDisplayLoop=function(){this.handledCurrentResult&&this.ClickedLineByLineSkipperCollider()},goog.require("UHT.XTLink"),ReplayLocationAwareButtonController.prototype=Object.create(XTLink.prototype),(ReplayLocationAwareButtonController.prototype.constructor=ReplayLocationAwareButtonController).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(ReplaySessionVars.Replay_Paused,this.OnReplayPauseChanged,this)};var GA_SENT_REPLAYED_CREATED=!(ReplayLocationAwareButtonController.prototype.OnReplayPauseChanged=function(t){if(0!=t)if(-1!=location.href.indexOf("envID")||-1!=location.href.indexOf("roundID")){this.sharedLink="";for(var e=0;e<this.createLinkButtons.length;e++)this.createLinkButtons[e].SetActive(!0);for(e=0;e<this.copyLinkButtons.length;e++)this.copyLinkButtons[e].SetActive(!1)}else{this.sharedLink=location.href;for(e=0;e<this.createLinkButtons.length;e++)this.createLinkButtons[e].SetActive(!1);for(e=0;e<this.copyLinkButtons.length;e++)this.copyLinkButtons[e].SetActive(!0)}}),GA_SENT_REPLAYED_COPIED=!(ReplayLocationAwareButtonController.prototype.CreateLink=function(){globalTracking.SendEvent("uht_behaviour_replay","Shared_replay_created_link",GA_SENT_REPLAYED_CREATED?0:1,"BehaviourTracker"),GA_SENT_REPLAYED_CREATED=!0;var t=UHT_GAME_CONFIG_SRC.replaySystemUrl+"/ReplayService/api/top/share/link?mgckey="+UHT_GAME_CONFIG_SRC.mgckey+"&roundID="+UHT_GAME_CONFIG_SRC.replayRoundId+"&envID="+UHT_GAME_CONFIG_SRC.environmentId,i=this,e=new XMLHttpRequest;e.onreadystatechange=function(t){t=t.target;if(4==t.readyState&&200==t.status)try{var e=JSON.parse(t.responseText);null!=e&&(i.sharedLink=e.sharedLink,i.sharedLinkReceived=!0)}catch(t){}},e.open("GET",t,!0),e.send(null)});ReplayLocationAwareButtonController.prototype.CopyLink=function(){globalTracking.SendEvent("uht_behaviour_replay","Shared_replay_copied_link",GA_SENT_REPLAYED_COPIED?0:1,"BehaviourTracker"),GA_SENT_REPLAYED_COPIED=!0,_Clipboard.CopyText(this.sharedLink)||prompt("",this.sharedLink)},ReplayLocationAwareButtonController.prototype.Update=function(){if(this.sharedLinkReceived){for(var t=0;t<this.createLinkButtons.length;t++)this.createLinkButtons[t].SetActive(!1);for(t=0;t<this.copyLinkButtons.length;t++)this.copyLinkButtons[t].SetActive(!0);this.sharedLinkReceived=!1}},goog.require("UHT.XTLink");var ReplaySessionVars={ReplayDirector_Start:"ReplayDirector_Start",ReplayDirector_Queue:"ReplayDirector_Queue",PrepareScenario:"PrepareScenario",PrepareScenarioType:"PrepareScenarioType",PrepareAction:"PrepareAction",PrepareActionType:"PrepareActionType",PrepareActionIndex:"PrepareActionIndex",ShowReplayTitle:"ShowReplayTitle",Replay_Paused:"Replay_Paused",Replay_UserClicked:"Replay_UserClicked"};function ReplayManager(){XTLink.call(this)}ReplayManager.prototype=Object.create(XTLink.prototype),(ReplayManager.prototype.constructor=ReplayManager).prototype.XTInitVariablesAndEvents=function(){XT.SetBool(ReplaySessionVars.ShowReplayTitle,!1)},ReplayManager.prototype.XTRegisterCallbacks=function(){ServerOptions.isReplay&&(XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SymbolManager,this.OnInitSymbolManager,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ShowBigWin,this.OnShowBigWin,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished,this.OnBigWinHasFinished,this))},ReplayManager.prototype.OnInitSymbolManager=function(){XT.SetBool(Vars.DisableIntroScreen,!0),XT.SetFloat(Vars.SoundVolume,.5),createjs.Sound.setVolume(.5)},ReplayManager.prototype.OnGameInit=function(){XT.TriggerEvent(ReplaySessionVars.ReplayDirector_Start),Globals.InputBlocked=!0,XT.SetBool(Vars.Jurisdiction_GameTitle,!1),this.HideClocks(),this.HidePragmaticPlayLabels(),this.HideBalance(),this.HideMenuItems(),this.MarkSoundButtonColliders(),this.MarkLineByLineSkipperColliders(),XT.SetBool(ReplaySessionVars.ShowReplayTitle,!0)},ReplayManager.prototype.OnShowBigWin=function(){Globals.InputBlocked=!1},ReplayManager.prototype.OnBigWinHasFinished=function(){Globals.InputBlocked=!0},ReplayManager.prototype.HideClocks=function(){for(var t=globalRuntime.sceneRoots[1].GetComponentsInChildren(ClockDisplayer,!0),e=0;e<t.length;e++)t[e].gameObject.SetActive(!1)},ReplayManager.prototype.HidePragmaticPlayLabels=function(){for(var t=globalRuntime.sceneRoots[1].GetComponentsInChildren(UILabel,!0),e=0;e<t.length;e++)"PRAGMATIC PLAY"==t[e].text&&(t[e].text="")},ReplayManager.prototype.HideBalance=function(){if(Globals.isMobile){var t=globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_1,!0),e=globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_2,!0);n=[t.balanceParent,t.bonusBalanceParent,e.balanceParent,e.bonusBalanceParent];for(o=0;o<t.toggledInBonusGame.active.length;o++)-1!=t.toggledInBonusGame.active[o].name.indexOf("Balance")&&n.push(t.toggledInBonusGame.active[o])}else for(var i=globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceController,!0),n=[i.balanceParent,i.bonusBalanceParent],o=0;o<i.visibleInSpecialFeatures.length;o++)for(var s=0;s<i.visibleInSpecialFeatures[o].transform.children.length;s++)"Information"==(r=i.visibleInSpecialFeatures[o].transform.children[s]).gameObject.name&&n.push(r.gameObject);for(o=0;o<n.length;o++)for(var r,s=0;s<n[o].transform.children.length;s++)-1!=(r=n[o].transform.children[s]).gameObject.name.indexOf("Balance")&&r.gameObject.SetActive(!1)},ReplayManager.prototype.HideMenuItems=function(){if(Globals.isMobile){var t=globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_1,!0),e=globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_2,!0);s=[t.menuButtonsParent,e.menuButtonsParent];for(var i=[globalRuntime.sceneRoots[1].GetComponentInChildren(GUIArranger,!0).landscapeObjects.BottomBar],n=0;n<e.contentInterface.transform.children.length;n++)if("BottomBar"==(u=e.contentInterface.transform.children[n]).gameObject.name){i.push(u.gameObject);break}for(n=0;n<i.length;n++)for(h=0;h<i[n].transform.children.length;h++)"AnchoredRight"==(u=i[n].transform.children[h]).gameObject.name&&s.push(u.gameObject)}else{for(var o=globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceController,!0),s=[o.payTableBtn.closed.transform.parent.gameObject,o.settingsBtns[0].closed.transform.parent.gameObject,o.settingsBtns[1].closed.transform.parent.gameObject],r=new Array(o.toggledInHiddenMode.length-1),a=0,n=0;n<o.toggledInHiddenMode.length;n++)"Paytable"!=o.toggledInHiddenMode[n].name&&(r[a]=o.toggledInHiddenMode[n],a++);o.toggledInHiddenMode=r;for(var l=o.GetComponentsInChildren(SoundButtonControllerMobile,!0),n=0;n<l.length;n++)l[n].gameObject.SetActive(!1);for(n=0;n<o.visibleInSpecialFeatures.length;n++)for(var u,h=0;h<o.visibleInSpecialFeatures[n].transform.children.length;h++)"Paytable"==(u=o.visibleInSpecialFeatures[n].transform.children[h]).gameObject.name&&s.push(u.gameObject)}for(n=0;n<s.length;n++)s[n].SetActive(!1)},ReplayManager.prototype.MarkSoundButtonColliders=function(){for(var t=this.transform.GetComponentsInChildren(SoundButtonControllerMobile,!0),e=0;e<t.length;e++)for(var i=t[e].transform.GetComponentsInChildren(Collider,!0),n=0;n<i.length;n++)i[n].usedForReplay=!0},ReplayManager.prototype.MarkLineByLineSkipperColliders=function(){for(var t=this.transform.GetComponentsInChildren(ReplayLineByLineSkipper,!0),e=0;e<t.length;e++)for(var i=t[e].transform.GetComponentsInChildren(Collider,!0),n=0;n<i.length;n++)i[n].usedForReplay=!0},goog.require("UHT.Component"),goog.require("UHT.XTLink"),ReplayScenario.prototype=Object.create(XTLink.prototype),ReplayScenario.prototype.constructor=ReplayScenario;var ReplayScenarioTriggerType={NONE:0,IDLE_RESULT:1,SHOW_FSBG_PICK:2,FS_SHOW_WINDOW_WIN:3,SHOW_BG_MULTIPLE_ITEM_PICK:4,REPLAY_SCENARIO_TYPES_COUNT:5};function ReplayScenarioCondition(){this.whenIsPresent="",this.hasValue="",this.usingParamIndex=""}function ReplayScenario(){XTLink.call(this),this.type=ReplayActionType.NONE,this.options=[],this.checkOn=ReplayScenarioTriggerType.IDLE_RESULT,this.serverParams=[],this.actions=[]}function ReplaySelectedWinningButton(){XTLink.call(this),this.winning=null,this.round=null}function ReplaySelectedWinningButtonLink(){ReplaySelectedWinningButton.call(this),this.sharedLinkContent=null,this.noSharedLinkContent=null,this.showLinkCopied=null,this.hideLinkCopied=null,this.linkCopied=!1,this.winningPos=null}ReplayScenario.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(ReplaySessionVars.PrepareScenario,this.OnPrepare,this)},ReplayScenario.prototype.OnPrepare=function(){var t=XT.GetInt(ReplaySessionVars.PrepareScenarioType);if(this.checkOn==t){for(var e=RequestProvider.Instance.GetNextReplayRequestParams(),i=!1,n=0,o=0;o<this.serverParams.length;o++){var s=this.serverParams[o];null!=e[s.whenIsPresent]&&(""!=s.hasValue&&s.hasValue!=e[s.whenIsPresent]||(""!=s.usingParamIndex&&null!=e[s.usingParamIndex]&&(n=_number.otoi(e[s.usingParamIndex])),i=!0))}if(i)for(var r=0;r<this.actions.length;r++)XT.SetInt(ReplaySessionVars.PrepareActionType,this.actions[r]),XT.SetInt(ReplaySessionVars.PrepareActionIndex,n),XT.TriggerEvent(ReplaySessionVars.PrepareAction)}},goog.provide("UHT.ReplaySelectedWinningButton"),goog.require("UHT.XTLink"),ReplaySelectedWinningButton.prototype=Object.create(XTLink.prototype),(ReplaySelectedWinningButton.prototype.constructor=ReplaySelectedWinningButton).prototype.Awake=function(){globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,new EventHandler(this,this.OnButtonUp))},ReplaySelectedWinningButton.prototype.OnButtonUp=function(){var t;this.gameObject.activeInHierarchy&&(null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),(t=new LayerMask).mask=1<<this.gameObject.layer,this.gameObject.collider==globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),t)&&this.OnRelease())},ReplaySelectedWinningButton.prototype.UpdateValue=function(t){this.round=t},ReplaySelectedWinningButton.prototype.OnRelease=function(){},goog.require("UHT.ReplaySelectedWinningButton"),ReplaySelectedWinningButtonLink.prototype=Object.create(ReplaySelectedWinningButton.prototype),(ReplaySelectedWinningButtonLink.prototype.constructor=ReplaySelectedWinningButtonLink).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkUpdated,this.OnSharedLinkUpdated,this),XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkCopied,this.HideLinkCopied,this)},ReplaySelectedWinningButtonLink.prototype.HideLinkCopied=function(){this.showLinkCopied.IsRunning()&&this.showLinkCopied.Stop(),this.hideLinkCopied.IsRunning()&&this.hideLinkCopied.Stop(),this.hideLinkCopied.Start()},ReplaySelectedWinningButtonLink.prototype.OnSharedLinkUpdated=function(){var t=XT.GetObject(ReplayVars.Replay_SharedLinkRound);t==this.round&&this.UpdateValue(t)};var GA_SENT_REPLAY_CREATED_LINK=!(ReplaySelectedWinningButtonLink.prototype.UpdateValue=function(t){this.RoundsEqual(this.round,t)||this.HideLinkCopied(),ReplaySelectedWinningButton.prototype.UpdateValue.call(this,t),null!=t&&(t=!_string.IsNullOrEmpty(t.sharedLink),this.sharedLinkContent.SetActive(t),this.noSharedLinkContent.SetActive(!t))}),GA_SENT_REPLAY_COPIED_LINK=!1;function ReplaySelectedWinningButtonWatch(){ReplaySelectedWinningButton.call(this)}ReplaySelectedWinningButtonLink.prototype.OnRelease=function(){var t=this.round.sharedLink;_string.IsNullOrEmpty(t)?(XT.SetObject(ReplayVars.Replay_SharedLinkRound,this.round),XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RequestSharedLink),globalTracking.SendEvent("uht_behaviour_replay","Ingame_replay_created_link",GA_SENT_REPLAY_CREATED_LINK?0:1,"BehaviourTracker"),GA_SENT_REPLAY_CREATED_LINK=!0):(globalTracking.SendEvent("uht_behaviour_replay","Ingame_replay_copied_link",GA_SENT_REPLAY_COPIED_LINK?0:1,"BehaviourTracker"),GA_SENT_REPLAY_COPIED_LINK=!0,this.linkCopied=_Clipboard.CopyText(t),this.linkCopied||prompt("",t))},ReplaySelectedWinningButtonLink.prototype.Update=function(){this.linkCopied&&(this.linkCopied=!1,XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkCopied),this.showLinkCopied.Start())},ReplaySelectedWinningButtonLink.prototype.LateUpdate=function(){var t;null!=this.winning&&(t=this.winning.transform.localPosition(),UHTMath.Vector3.equal(this.winningPos,t)||(this.winningPos=t,this.HideLinkCopied()))},ReplaySelectedWinningButtonLink.prototype.OnDisable=function(){this.HideLinkCopied()},ReplaySelectedWinningButtonLink.prototype.RoundsEqual=function(t,e){return null==t?null==e:null==e?null==t:t.roundID==e.roundID},goog.require("UHT.ReplaySelectedWinningButton"),ReplaySelectedWinningButtonWatch.prototype=Object.create(ReplaySelectedWinningButton.prototype),ReplaySelectedWinningButtonWatch.prototype.constructor=ReplaySelectedWinningButtonWatch;var GA_SENT_REPLAY_STARTED=!1;function ReplayWatchWinningStyle(){this.defaultWidth=0,this.defaultBorderRadius=0}function ReplayWatchWinning(){ArrangeableBase.call(this),this.open=null,this.anchorTopLeft=null,this.anchorBottomRight=null,this.styleLandscape=null,this.stylePortrait=null,this.collidersCamera=null,this.notificationsCamera=null,this.notificationsCameraDepth=0,this.mustOpen=!1,this.isRoundOpen=!1,this.isNotificationOpen=!1,this.cachedCamera=null,this.style=null,this.posC=null,this.posTL=null,this.posBR=null,this.replayRoot=null,this.replayFrame=null,this.css="width:{0}px;height:{1}px;left:{2}px;top:{3}px;border-radius:0 0 BRpx BRpx;"}ReplaySelectedWinningButtonWatch.prototype.OnRelease=function(){globalTracking.SendEvent("uht_behaviour_replay","Ingame_replay_started_watching",GA_SENT_REPLAY_STARTED?0:1,"BehaviourTracker"),GA_SENT_REPLAY_STARTED=!0,XT.SetObject(ReplayVars.Replay_SelectedRound,this.round),XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_WatchSelectedRound)},goog.require("UHT.ArrangeableBase"),ReplayWatchWinning.prototype=Object.create(ArrangeableBase.prototype),(ReplayWatchWinning.prototype.constructor=ReplayWatchWinning).prototype.XTRegisterCallbacks=function(){ArrangeableBase.prototype.XTRegisterCallbacks.call(this),EventManager.AddHandler("EVT_UHT_RESIZE",this.OnGameSizeChanged,this),XT.RegisterCallbackEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated,this.OnGameSizeChanged,this),XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_WatchSelectedRound,this.OpenRound,this),XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowIntrusiveNotification,this.OnShowNotification,this),XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowNonIntrusiveNotification,this.OnShowNotification,this),XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideIntrusiveNotification,this.OnHideNotification,this),XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideNonIntrusiveNotification,this.OnHideNotification,this)},ReplayWatchWinning.prototype.OnShowNotification=function(){this.isNotificationOpen=!0,this.UpdateCameras()},ReplayWatchWinning.prototype.OnHideNotification=function(){this.isNotificationOpen=!1,this.UpdateCameras()},ReplayWatchWinning.prototype.OnGameSizeChanged=function(){this.isRoundOpen&&this.UpdateRoundSize(!0)},ReplayWatchWinning.prototype.OnSwitchToLandscape=function(){this.style=this.styleLandscape},ReplayWatchWinning.prototype.OnSwitchToPortrait=function(){this.style=this.stylePortrait},ReplayWatchWinning.prototype.OpenRound=function(){var t,e,i;this.isRoundOpen||(i=(e=XT.GetObject(ReplayVars.Replay_SelectedRound)).sharedLink,_string.IsNullOrEmpty(i)&&(i=ReplayConnection.watchURL+"&"+ReplayAPI.Keys.roundID+"="+e.roundID),t=_HTML.CreateElement("iframe",{src:i,class:"replay-frame",frameborder:"0"},!1),(e=_HTML.CreateElement("div",{class:"replay-root"},!0)).appendChild(t),i=Globals.isMobile?1:XT.GetFloat(Vars.SoundVolume),i=isFinite(i)&&!isNaN(i)?i:1,createjs.Sound.setVolume(1e-5),Globals.WatchingReplay=!0,_HTML.AddClass(document.documentElement,"replay-visible"),this.mustOpen=!0,this.isRoundOpen=!0,this.replayRoot=e,this.replayFrame=t,this.UpdateRoundSize(!0),this.UpdateCameras())},ReplayWatchWinning.prototype.CloseRound=function(){var t;this.isRoundOpen&&(XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RequestWinnings),t=Globals.isMobile?1:XT.GetFloat(Vars.SoundVolume),t=isFinite(t)&&!isNaN(t)?t:1,createjs.Sound.setVolume(t),Globals.WatchingReplay=!1,_HTML.RemoveClass(document.documentElement,"replay-visible"),document.body.removeChild(this.replayRoot),this.isRoundOpen=!1,this.replayRoot=null,this.replayFrame=null,this.UpdateCameras())},ReplayWatchWinning.prototype.UpdateRoundSize=function(t){var e,i,n,o,s,r;this.isRoundOpen&&(null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),e=this.cachedCamera.transform.position(),i=this.anchorTopLeft.position(),n=this.anchorBottomRight.position(),!t&&UHTMath.Vector3.equal(e,this.posC)&&UHTMath.Vector3.equal(i,this.posTL)&&UHTMath.Vector3.equal(n,this.posBR)||(s=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,r=1/(s=2<(s=1==UHT_DEVICE_TYPE.DESKTOP&&1.5<s?1.5:s)?2:s),o=UHTMath.Vector3.scale(this.cachedCamera.WorldToScreenPoint(i),r),s=(t=UHTMath.Vector3.scale(this.cachedCamera.WorldToScreenPoint(n),r)).x-o.x,t=t.y-o.y,r=s/this.style.defaultWidth,r=this.style.defaultBorderRadius*r,r=this.css.replace("{0}",String(s)).replace("{1}",String(t)).replace("{2}",String(o.x)).replace("{3}",String(o.y)).replace(new RegExp("BR","g"),String(r)),this.replayRoot.setAttribute("style",r),this.replayFrame.setAttribute("style",r),this.posC=e,this.posTL=i,this.posBR=n))},ReplayWatchWinning.prototype.UpdateCameras=function(){this.isRoundOpen&&this.isNotificationOpen?(this.notificationsCamera.SetCameraDepth(this.notificationsCameraDepth),this.collidersCamera.ignoreInputBlocked=!0):(this.notificationsCamera.ResetCameraDepth(),this.collidersCamera.ignoreInputBlocked=!1)},ReplayWatchWinning.prototype.Update=function(){this.mustOpen&&(this.mustOpen=!1,this.open.Start())},ReplayWatchWinning.prototype.LateUpdate=function(){this.isRoundOpen&&this.UpdateRoundSize(!1)},goog.require("UHT.XTLink");var ReplayWinningsCategory={LastWins:0,TopWins:1};function ReplayWinnings(){XTLink.call(this),this.contents=null,this.close=null,this.open=null,this.scrollables=null,this.winnings=null,this.winSteps=null,this.betFormat="",this.dateFormat="",this.timeFormat="",this.categories=null,this.CATCategories=null,this.defaultCategory=0,this.openFrame=0,this.categoryIndex=0,this.categoriesDesc=null,this.rounds=null}ReplayWinnings.prototype=Object.create(XTLink.prototype),(ReplayWinnings.prototype.constructor=ReplayWinnings).CategoryDesc=function(){this.valueIndex=null,this.scrollRemain=null},ReplayWinnings.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen,this.CloseWinnings,this),XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows,this.OnCloseAllInterfaceWindows,this),XT.RegisterCallbackEvent(ReplayVars.Evt_DataToCode_Replay_OpenWinnings,this.OpenWinnings,this),XT.RegisterCallbackObject(ReplayVars.Replay_Winnings,this.OnReplayWinnings,this),XT.RegisterCallbackInt(ReplayVars.Replay_CategoryIndex,this.OnCategoryIndex,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState,this.OnVSGameStateChanged,this)},ReplayWinnings.prototype.XTInitVariablesAndEvents=function(){XT.SetInt(ReplayVars.Replay_CategoryIndex,this.defaultCategory)},ReplayWinnings.prototype.OnGameInit=function(){for(var t=0;t<this.scrollables.length;++t)for(var e=this.scrollables[t].items,i=0;i<e.length;++i)e[i].manager=this;for(t=0;t<this.winnings.length;++t)this.winnings[t].manager=this},ReplayWinnings.prototype.OnReplayWinnings=function(t){this.rounds=t,this.OnCategoryIndex(this.categoryIndex)},ReplayWinnings.prototype.OpenWinnings=function(){this.openFrame=Time.frameCount,this.open.Start(),XT.TriggerEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows),XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RequestWinnings),window.globalMustStopAutoplay=!0},ReplayWinnings.prototype.CloseWinnings=function(){for(var t=0;t<this.contents.length;++t)if(this.contents[t].activeInHierarchy){this.close.Start();break}},ReplayWinnings.prototype.OnCloseAllInterfaceWindows=function(){this.openFrame<Time.frameCount&&this.CloseWinnings()},ReplayWinnings.prototype.OnCategoryIndex=function(t){if(null==this.categoriesDesc){this.categoriesDesc=[];for(var e=0;e<this.categories.length;++e){var i=new ReplayWinnings.CategoryDesc;i.valueIndex=[],i.scrollRemain=[],this.categoriesDesc.push(i);for(var n=0;n<this.scrollables.length;++n)i.valueIndex.push(-1),i.scrollRemain.push(0)}}for(var o,s=this.categoriesDesc[this.categoryIndex],e=0;e<this.scrollables.length;++e)s.valueIndex[e]=this.scrollables[e].items[0].valueIdx,s.scrollRemain[e]=this.scrollables[e].scrollRemain;null!=this.rounds&&((o=this.categories[t])==ReplayWinningsCategory.LastWins?this.rounds.sort(ReplayAPI.WinningRound.CompareByPlayedDate):o==ReplayWinningsCategory.TopWins&&this.rounds.sort(ReplayAPI.WinningRound.CompareByRTP));for(var s=this.categoriesDesc[t],r=null==this.rounds?null:this.rounds.slice(),e=0;e<this.scrollables.length;++e)this.scrollables[e].scrollRemain=s.scrollRemain[e],this.scrollables[e].UpdateValuesAndIndex(r,s.valueIndex[e]);this.CATCategories[t].Start(),this.categoryIndex=t},ReplayWinnings.prototype.OnVSGameStateChanged=function(){var t=VSGameStateManager.GetState();t!=VSGameState.Spin&&t!=VSGameState.SpinBonusRounds||this.CloseWinnings()},goog.provide("UHT.UHTAction"),goog.require("UHT.Engine");var UHTStageName={No_Stage:0,Init:1,Result:2,Spin:3,ResultFreeSpin:4,Gamble:5,Bonus:6,FSBG:7,Transition:8};function UHTAction(t,e){this.continueRunning=t,this.nextStage=e}function GameLogicRuntime(){Component.call(this),this.listOfStages=[],this.startingStage=UHTStageName.No_Stage,this.debugHistory=[],this.dict=[],this.currentStage=null,this.currentStageStarted=!1}function UHTStage(){XTLink.call(this),this.featureID=0,this.catBeforeFirstUpdate=null}function JackpotInformation(t,e,i,n,o,s,r,a,l){this.JackpotID=t||-1,this.JackpotOrder=e||-1,this.JackpotAmount=i||0,this.JackpotName=n||"",this.JackpotGroupType=o||"",this.JackpotStatus=s||"",this.JackpotMinBet=r||-69,this.JackpotMinBetUSD=a||-69,this.JackpotRTP=l||-69}function Adapter(){this.methods={},this.messageOpen=!1,this.fullscreenOverlayShown=!1,UHTEventBroker.AddHandler(UHTEventBroker.Type.Game,new UHTEventBroker.Handler(this,this.Endpoint))}UHTAction.NoAction=function(){return new UHTAction(!0,UHTStageName.No_Stage)},UHTAction.ChangeStage=function(t){return new UHTAction(!1,t)},GameLogicRuntime.prototype=Object.create(Component.prototype),(GameLogicRuntime.prototype.constructor=GameLogicRuntime).prototype.Start=function(){this.dict=[];for(var t=0;t<this.listOfStages.length;t++){var e=this.listOfStages[t].GetStageName();null==this.dict[e]&&(this.dict[e]=[]),this.listOfStages[t].UHTInit(),this.dict[e].push(this.listOfStages[t])}this.currentStage=this.GetStage(this.startingStage),this.currentStageStarted=!1},GameLogicRuntime.prototype.Update=function(){var t;Globals.GamePaused||(t=this.currentStage.UHTUpdateBase(!this.currentStageStarted),this.currentStage.GetStageName()==UHTStageName.Bonus&&!this.currentStageStarted&&XT.GetBool(Vars.MustOpenAnotherBonus)&&(XT.SetBool(Vars.MustOpenBonus,!0),XT.SetBool(Vars.MustOpenAnotherBonus,!1)),this.currentStageStarted=!0,0==t.continueRunning&&(this.currentStage.UHTFinish(),null==this.dict[t.nextStage]&&console.error("GameLogicRuntime: Trying to start an invalid stage ("+t.nextStage+")"),this.currentStage=this.GetStage(t.nextStage),this.currentStageStarted=!1))},GameLogicRuntime.prototype.GetStage=function(t){if(1<this.dict[t].length){var e=0;t==UHTStageName.Bonus&&(e=XT.GetObject(Vars.BonusData).GameID);for(var i=0;i<this.dict[t].length;++i)if(this.dict[t][i].featureID==e)return this.dict[t][i]}return this.dict[t][0]},goog.require("UHT.XTLink"),goog.require("UHT.UHTAction"),goog.provide("UHT.UHTStage"),UHTStage.prototype=Object.create(XTLink.prototype),(UHTStage.prototype.constructor=UHTStage).prototype.GetStageName=function(){return UHTStageName.No_Stage},UHTStage.prototype.UHTInit=function(){},UHTStage.prototype.UHTUpdateBase=function(t){return t&&null!=this.catBeforeFirstUpdate&&this.catBeforeFirstUpdate.Start(),this.UHTUpdate(t)},UHTStage.prototype.UHTUpdate=function(t){return UHTAction.NoAction()},UHTStage.prototype.UHTFinish=function(){},goog.require("UHT.Engine"),goog.require("UHT.BaseDataStructures"),JackpotInformation.prototype.Clone=function(){return new JackpotInformation(this.JackpotID,this.JackpotOrder,this.JackpotAmount,this.JackpotName,this.JackpotGroupType,this.JackpotStatus,this.JackpotMinBet,this.JackpotMinBetUSD,this.JackpotRTP)},goog.require("UHT.Engine"),goog.provide("UHT.Adapter"),goog.require("UHT.BalanceManager"),goog.require("UHT.EventManager"),goog.require("UHT.Globals"),Adapter.prototype.Init=function(){this.InitAdapterMethods(),EventManager.AddHandler(ApplicationEvents.evtRequestAppConfiguration,this.OnRequestConfiguration,this),EventManager.AddHandler(ApplicationEvents.evtGameLoadingFinished,this.HandleGameReady,this),EventManager.AddHandler(ApplicationEvents.evtServerResponse,this.HandleServerResponse,this),EventManager.AddHandler(AdapterEvents.evtGetConfiguration,this.HandleGetConfiguration,this),EventManager.AddHandler(AdapterEvents.evtOpenCashier,this.HandleOpenCashier,this),EventManager.AddHandler(AdapterEvents.evtServerRequest,this.HandleServerRequest,this),EventManager.AddHandler(AdapterEvents.evtShowMessage,this.HandleShowMessage,this),EventManager.AddHandler(AdapterEvents.evtCloseGame,this.HandleCloseGame,this),EventManager.AddHandler(AdapterEvents.evtReload,this.HandleReloadGame,this)},Adapter.prototype.OnRequestConfiguration=function(t){this.ExternalCall(AdapterEvents.evtGetConfiguration,null)},Adapter.prototype.ExternalCall=function(t,e){var i={};i[AdapterParameters.Notify]=t,i[AdapterParameters.Arguments]=e,i[AdapterParameters.type]=AdapterParameters.unity;i=JSON.stringify(i);UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter,i)},Adapter.prototype.ExternalEvent=function(t,e){var i={};i[AdapterParameters.Notify]=t,i[AdapterParameters.Arguments]=e;i=JSON.stringify(i);UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper,i)},Adapter.prototype.InitAdapterMethods=function(){this.methods[AdapterEvents.evtGetConfiguration]=new EventHandler(this,this.OnConfigReceived),this.methods[AdapterEvents.evtUpdateBalance]=new EventHandler(this,this.OnUpdateBalance),this.methods[AdapterEvents.evtSound]=new EventHandler(this,this.OnSoundStateChanged),this.methods[AdapterEvents.evtGameStatus]=new EventHandler(this,this.OnGameStatusChanged),this.methods[AdapterEvents.evtMessageOpened]=new EventHandler(this,this.OnFlashMessageOpened),this.methods[AdapterEvents.evtMessageClosed]=new EventHandler(this,this.OnFlashMessageClosed),this.methods[AdapterEvents.evtFullscreenOverlayShown]=new EventHandler(this,this.OnFullscreenOverlayShown),this.methods[AdapterEvents.evtFullscreenOverlayHidden]=new EventHandler(this,this.OnFullscreenOverlayHidden)},Adapter.prototype.NIYMethod=function(t){},Adapter.prototype.OnConfigReceived=function(t){null!=t[AdapterParameters.Config]?this.HandleGetConfiguration(t[AdapterParameters.Config]):console.error("OnConfigReceived - config xml is missing!")},Adapter.prototype.Endpoint=function(t){console.warn("Endpoint "+t);var e=JSON.parse(t);if(null==e)return console.error("ParseExternalCall - parsedArgs are null!"),void UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper,t);if(void 0===e[AdapterParameters.Notify])return console.error("ParseExternalCall - no action was specified!"),void UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper,t);if(void 0===e[AdapterParameters.Arguments])return console.error("ParseExternalCall - no parameters were specified!"),void UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper,t);var i=_string.Trim(e[AdapterParameters.Notify]),e=e[AdapterParameters.Arguments];null!=this.methods[i]?this.methods[i].call(e):(console.info("Unhandled method "+i+" ... sending to wapper"),UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper,t))},Adapter.prototype.HandleBalanceUpdate=function(t){var e;null!=t&&((e={})[AdapterParameters.Balance]=String(t.Balance),e[AdapterParameters.BalanceUpdateTime]=String(t.Time),this.ExternalCall(AdapterEvents.evtUpdateBalance,e))},Adapter.prototype.HandleGetConfiguration=function(t){console.info("HandleGetConfiguration",t),EventManager.Trigger(ApplicationEvents.evtAppConfigurationReceived,t)},Adapter.prototype.HandleCloseGame=function(t){this.ExternalCall(AdapterEvents.evtCloseGame,null)},Adapter.prototype.HandleReloadGame=function(t){this.ExternalCall(AdapterEvents.evtReload,null)},Adapter.prototype.OnUpdateBalance=function(t){var e,i,n={};for(e in t)n[e]=String(t[e]);null!=(i=XT.GetBool(Vars.Jurisdiction_SplitBalance)?GameProtocolCommonParser.BuildBalanceData(_number.otod(t[GameProtocolDictionary.cashBalance]),_number.otod(t[GameProtocolDictionary.bonusBalance]),_number.otod(t[GameProtocolDictionary.time])):GameProtocolCommonParser.BuildBalanceData(_number.otod(t[GameProtocolDictionary.balance]),0,_number.otod(t[GameProtocolDictionary.time])))&&EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest,i)},Adapter.prototype.OnSoundStateChanged=function(t){var e,i;null!=t[AdapterParameters.GameSymbol]&&null!=t[AdapterParameters.SoundState]&&(e=t[AdapterParameters.GameSymbol],(i=new CasinoSoundState).state=_number.otoi(t[AdapterParameters.SoundState]),EventManager.Trigger(GameEvents.evtSoundState+e,i))},Adapter.prototype.OnGameStatusChanged=function(t){var e;null!=t[AdapterParameters.GameSymbol]&&null!=t[AdapterParameters.GameActive]&&(e=String(t[AdapterParameters.GameSymbol]),t=_number.otoi(t[AdapterParameters.GameActive]),EventManager.Trigger(GameEvents.evtGameStatus+e,1==t))},Adapter.prototype.HandleServerRequest=function(t){var e={};e[AdapterParameters.MethodType]=t.Fields[GameProtocolDictionary.Actions.action],e[AdapterParameters.GameSymbol]=t.Fields[GameProtocolDictionary.symbol],this.ExternalCall(AdapterEvents.evtServerRequest,e)},Adapter.prototype.HandleGameReady=function(t){var e=t,t={};t[AdapterParameters.GameSymbol]=e,this.ExternalCall(AdapterEvents.evtGameLoadComplited,t),FlashWrapperHelper.HandleGameReady(e)},Adapter.prototype.HandleOpenCashier=function(t){this.ExternalCall(AdapterEvents.evtOpenCashier,null)},Adapter.prototype.HandleServerResponse=function(t){FlashWrapperHelper.HandleServerResponse(t)},Adapter.prototype.OnFlashMessageOpened=function(t){this.messageOpen=!0,Globals.InputBlocked=!0,console.info("OnFlashMessageOpened - Globals.InputBlocked "+String(Globals.InputBlocked))},Adapter.prototype.OnFlashMessageClosed=function(t){this.messageOpen=!1,this.IsGlobalInputBlocked()||(Globals.InputBlocked=!1),console.info("OnFlashMessageClosed - Globals.InputBlocked "+String(Globals.InputBlocked))},Adapter.prototype.OnFullscreenOverlayShown=function(t){this.fullscreenOverlayShown=!0,Globals.InputBlocked=!0,console.info("OnFullscreenOverlayShown - Globals.InputBlocked "+String(Globals.InputBlocked))},Adapter.prototype.OnFullscreenOverlayHidden=function(t){this.fullscreenOverlayShown=!1,this.IsGlobalInputBlocked()||(Globals.InputBlocked=!1),console.info("OnFullscreenOverlayHidden - Globals.InputBlocked "+String(Globals.InputBlocked))},Adapter.prototype.IsGlobalInputBlocked=function(){return this.messageOpen||this.fullscreenOverlayShown},Adapter.prototype.HandleShowMessage=function(t){console.info("HandleShowMessage "+t),FlashWrapperHelper.HandleShowMessage(t)};var FlashWrapperHelper={};function RequestProvider(){Component.call(this),this.log=null,this.responseDelay=.5,this.offlineServer=null,this.replayLog=null,this.requests=null,this.requestIDs=null,this.responses=null,this.replayRequests=[],this.nextRequestParams=null,this.replayJustEnded=!1,this.replayRequestsIndex=-1,this.responseIndices=null,this.ID_DELIMITER="::",this.RESPONSE_DELIMITER="\n",this.firstRequest=!0}function DropsAndWinsIconOpt(){XTLink.call(this),this.dnwSpriteName=""}function PromotionPrizeTypeContents(){this.prizeTypes=null,this.contents=null}function PromotionContentSwitcher(){XTLink.call(this),this.switchesByStatus=!0,this.startsSoonContent=null,this.startsSoonContents=null,this.openContent=null,this.openContents=null,this.closedContent=null,this.closedContents=null,this.switchesByType=!0,this.raceContents=null,this.tournamentContents=null,this.switchesByStyle=!0,this.asiaContents=null,this.europeContents=null,this.switchOnPromoSelectionChange=!1,this.onlyIfActive=!1,this.onlyIfHideWinnersList=!1,this.switchesByPrizeType=!1,this.prizeTypeContents=null}function PromotionRuleUnit(){GenericPoolObject.call(this),this.labels=null,this.textContent=null,this.linkContentVisited=null,this.linkContentUnvisited=null,this.isVisible=!1,this.data=null,this.mustUpdateLinkContent=!1}function PromotionRuleUnitButton(){XTLink.call(this),this.unit=null,this.hoveredFrame=0,this.pressedFrame=0,this.cachedCamera=null}function PromotionRuleUnitsPooler(){GenericObjectPooler.call(this)}function PromotionsAnnouncerExtraLayout(){this.displayer=null,this.rules=null,this.label=null}function PromotionsAnnouncer(){XTLink.call(this),this.displayer=null,this.rules=null,this.label=null,this.secondaryDisplayers=null,this.secondaryRules=null,this.secondaryLabels=null,this.catShow=null,this.catShowFull=null,this.catHide=null,this.secondaryCatShow=null,this.secondaryCatShowFull=null,this.secondaryCatHide=null,this.hasExtraLayout=!1,this.extraLayout=null,this.secondaryExtraDisplayer=null,this.secondaryExtraRules=null,this.secondaryExtraLabels=null,this.catShowWin=null,this.winContentSwitcher=null,this.resultDisplayerLoopStartsPriority=0,this.styleSwitcher=null,this.tournamentSimpleOptIn=null,this.announcements=[],this.uid="",this.secondaryUID="",this.isVisible=!1,this.mustShowWin=!1,this.rq=null,this.spinBlocked=!1,this.showMerged=!1}function PromotionStyleSpriteColor(){this.name="",this.colors=null,this.sprites=null}function PromotionStyleSpriteName(){this.name="",this.names=null,this.sprites=null}function PromotionStyleButtonColors(){this.name="",this.normalColors=null,this.hoverColors=null,this.pressedColors=null,this.disabledColors=null,this.buttons=null,this.targets=null}function PromotionStyleSwitcher(){XTLink.call(this),this.styles=null,this.CATLinks=null,this.spriteColors=null,this.spriteNames=null,this.buttonColors=null,this.switchesByRegion=!0,this.regions=null,this.displayStyles=null,PromotionStyleSwitcher.I=this}function PromotionsWarning(){XTLink.call(this),this.show=null,this.hide=null,this.promoTitleLabel=null,this.label=null,this.labelLocalized=null,this.handleMessage=!1,this.details=null,this.isVisible=!1,this.wasVisible=!1}function PromotionWarning(){XTLink.call(this),this.label=null,this.details=null,this.isVisible=!1,this.uid=""}function PromotionWinningsActive(){XTLink.call(this)}function PromotionWinningsActiveMini(){PromotionWinningsActive.call(this),this.transforms=null,this.positionWinners=null,this.positionNoWinners=null,this.colliders=null,this.sizeWinners=null,this.sizeNoWinners=null,this.contentWinners=null,this.contentNoWinners=null}FlashWrapperHelper.ExternalEvent=function(t,e){var i={};i[AdapterParameters.Notify]=t,i[AdapterParameters.Arguments]=e;i=JSON.stringify(i);UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper,i)},FlashWrapperHelper.HandleGameReady=function(t){FlashWrapperHelper.ExternalEvent(AdapterEvents.evtGameReady,null)},FlashWrapperHelper.HandleServerResponse=function(t){var e;null!=t&&((e={})[AdapterParameters.ResponseData]=t.Response,e[AdapterParameters.ResponseStatusCode]=t.StatusCode,FlashWrapperHelper.ExternalEvent(AdapterEvents.evtServerResponse,e))},FlashWrapperHelper.HandleShowMessage=function(t){var e;null!=t&&((e={})[AdapterParameters.messageType]=t,FlashWrapperHelper.ExternalEvent(AdapterEvents.evtShowMessage,e))},goog.require("UHT.ServerOptions"),goog.require("UHT.Component"),goog.require("UHT.OfflineRequest"),goog.require("UHT.OfflineServer"),RequestProvider.prototype=Object.create(Component.prototype),(RequestProvider.prototype.constructor=RequestProvider).Instance=null,RequestProvider.prototype.Start=function(){RequestProvider.Instance=this,ServerOptions.isOnline||(ServerOptions.isReplay||UHT_LOCAL&&null!=this.replayLog?UHT_LOCAL?this.ParseReplay(this.replayLog.text):this.ParseReplay(window.UHT_REPLAY_DATA):this.ParseLog())},RequestProvider.prototype.NewRequest=function(t){return new(ServerOptions.isOnline?SimpleWebRequest:OfflineRequest)(t)},RequestProvider.prototype.OfflineRequest=function(t,e,i){var n=this;setTimeout(function(){n.CompleteOfflineRequest(t,e,i)},1e3*n.responseDelay),null!=this.offlineServer&&this.offlineServer.HandleRequest(e)},RequestProvider.prototype.CompleteOfflineRequest=function(t,e,i){e=0<=t.indexOf(ServerOptions.gameServiceUri)?this.GameServiceRequestID(e):this.OtherRequestID(t);null!=this.responses[e]?(t=this.responses[e][this.responseIndices[e]],/_JSON$/.test(e)&&(t=atob(t)),i.OnRequestDone(t),this.responseIndices[e]++,null==this.offlineServer&&(this.responseIndices[e]%=this.responses[e].length),ServerOptions.isReplay&&(this.replayRequestsIndex++,this.replayRequestsIndex>=this.replayRequests.length&&(this.replayJustEnded=!0),this.replayRequestsIndex%=this.replayRequests.length,this.nextRequestParams=null)):console.error("Response not found for id "+e)},RequestProvider.prototype.GameServiceRequestID=function(t){for(var e=(t||"").split("&"),i=0;i<e.length;++i){var n=e[i].split("=");if(n[0]==GameProtocolDictionary.Actions.action)return 1<n.length?n[1]:null}return null},RequestProvider.prototype.OtherRequestID=function(t){var t=t.split("?")[0],e=t.split("/");if(-1<e.indexOf("promo")||-1<e.indexOf("lobby")){t=t.split("gs2c");if(1<t.length)return t[1].replace(/^\/+|\/+$/g,"").split("/").join("_")+"_JSON"}for(var i=e.length-1;0<=i;--i)if(!_string.IsNullOrEmpty(e[i]))return e[i];return null},RequestProvider.prototype.ParseReplay=function(t){this.responses={},this.responseIndices={};var e=JSON.parse(t),t=[];t.push(e.init),t[0]="c="+GameProtocolCommonParser.SplitResponseContent(e.log[0].cr.split("&")).c+"&"+t[0],this.responses.doInit=t,this.responseIndices.doInit=0,this.replayRequests=[];var i,n=e.log;for(i in n){var o=n[i],s=o.cr,r=o.sr;this.replayRequests.push(s);o=this.GameServiceRequestID(s),s=null!=this.responses[o]?this.responses[o]:[];s.push(r),null==this.responses[o]&&(this.responses[o]=s,this.responseIndices[o]=0)}},RequestProvider.prototype.ParseLog=function(){this.responses={},this.responseIndices={};for(var t,e,i,n=this.log.text.split(this.RESPONSE_DELIMITER),o=0;o<n.length;++o)_string.IsNullOrEmpty(n[o])||(t=(i=n[o].split(this.ID_DELIMITER))[0],e=1<i.length?i[1]:"",(i=null!=this.responses[t]?this.responses[t]:[]).push(e),null==this.responses[t]&&(this.responses[t]=i,this.responseIndices[t]=0))},RequestProvider.prototype.ParseOfflineResponse=function(t,e){e&&(this.responses={},this.responseIndices={});for(var i,n,o,s=t.split(this.RESPONSE_DELIMITER),r=0;r<s.length;++r)_string.IsNullOrEmpty(s[r])||(i=(o=s[r].split(this.ID_DELIMITER))[0],n=1<o.length?o[1]:"",(o=null!=this.responses[i]?this.responses[i]:[]).push(n),null==this.responses[i]&&(this.responses[i]=o,this.responseIndices[i]=0))},RequestProvider.prototype.GetNextReplayRequestParams=function(){return null==this.nextRequestParams&&(this.nextRequestParams=GameProtocolCommonParser.SplitResponseContent(this.replayRequests[this.replayRequestsIndex].split("&"))),this.nextRequestParams},RequestProvider.prototype.ReplayEnded=function(){return!!this.replayJustEnded&&!(this.replayJustEnded=!1)},goog.require("UHT.XTLink"),DropsAndWinsIconOpt.prototype=Object.create(XTLink.prototype),(DropsAndWinsIconOpt.prototype.constructor=DropsAndWinsIconOpt).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},DropsAndWinsIconOpt.prototype.OnGameInit=function(){this.GetComponent(UISprite).SetSpriteName(this.GetDropsAndWinsSpriteName())},DropsAndWinsIconOpt.prototype.GetDNWSpriteName=function(){var t=this.gameObject.GetComponent(UISprite).spriteName;return null==UHT_GAME_CONFIG_SRC.region||"Asia"!=UHT_GAME_CONFIG_SRC.region?t:t+="_as"},DropsAndWinsIconOpt.prototype.GetDropsAndWinsSpriteName=function(){return _string.IsNullOrEmpty(this.dnwSpriteName)&&(this.dnwSpriteName=this.GetDNWSpriteName()),this.dnwSpriteName},goog.require("UHT.XTLink"),PromotionContentSwitcher.prototype=Object.create(XTLink.prototype),(PromotionContentSwitcher.prototype.constructor=PromotionContentSwitcher).prototype.XTRegisterCallbacks=function(){this.switchOnPromoSelectionChange&&(XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated,this.OnTournamentsUpdated,this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.OnSelectedTournamentIDChanged,this))},PromotionContentSwitcher.prototype.OnTournamentsUpdated=function(){this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))},PromotionContentSwitcher.prototype.OnSelectedTournamentIDChanged=function(t){!this.CanSwitch(this.switchOnPromoSelectionChange)||null!=(t=PromotionsHelper.FindPromotion(t))&&(this.onlyIfHideWinnersList&&t.type==TournamentProtocol.PromoType.Race&&t.showWinnersList||(this.SwitchByStatus(t.status),this.SwitchByType(t.type),this.SwitchByStyle(t.clientStyle)))},PromotionContentSwitcher.prototype.SwitchByStatus=function(t){if(this.CanSwitch(this.switchesByStatus)){if(this.startsSoonContent.SetActive(t==TournamentProtocol.StatusCode.StartsSoon),null!=this.startsSoonContents)for(var e=0;e<this.startsSoonContents.length;++e)this.startsSoonContents[e].SetActive(this.startsSoonContent.activeSelf);if(this.openContent.SetActive(t==TournamentProtocol.StatusCode.Open),null!=this.openContents)for(e=0;e<this.openContents.length;++e)this.openContents[e].SetActive(this.openContent.activeSelf);if(this.closedContent.SetActive(t==TournamentProtocol.StatusCode.Closed),null!=this.closedContents)for(e=0;e<this.closedContents.length;++e)this.closedContents[e].SetActive(this.closedContent.activeSelf)}},PromotionContentSwitcher.prototype.SwitchByType=function(t){if(this.CanSwitch(this.switchesByType)){for(var e=0;e<this.tournamentContents.length;++e)this.tournamentContents[e].SetActive(t==TournamentProtocol.PromoType.Tournament);for(e=0;e<this.raceContents.length;++e)this.raceContents[e].SetActive(t==TournamentProtocol.PromoType.Race)}},PromotionContentSwitcher.prototype.SwitchByStyle=function(t){if(this.CanSwitch(this.switchesByStyle)){for(var e=0;e<this.asiaContents.length;++e)this.asiaContents[e].SetActive(t==TournamentProtocol.ClientStyle.Asia);for(e=0;e<this.europeContents.length;++e)this.europeContents[e].SetActive(t==TournamentProtocol.ClientStyle.Europe)}},PromotionContentSwitcher.prototype.SwitchByPrizeType=function(t){if(this.CanSwitch(this.switchesByPrizeType))for(var e=0;e<this.prizeTypeContents.length;++e)for(var i=-1<this.prizeTypeContents[e].prizeTypes.indexOf(t),n=this.prizeTypeContents[e].contents,o=0;o<n.length;++o)n[o].SetActive(i)},PromotionContentSwitcher.prototype.CanSwitch=function(t){return(!this.onlyIfActive||this.gameObject.activeInHierarchy)&&t},goog.require("UHT.GenericPoolObject"),PromotionRuleUnit.prototype=Object.create(GenericPoolObject.prototype),(PromotionRuleUnit.prototype.constructor=PromotionRuleUnit).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Visited,this.OnPromotionRuleLinkVisited,this)},PromotionRuleUnit.prototype.OnPromotionRuleLinkVisited=function(){this.mustUpdateLinkContent=this.gameObject.activeInHierarchy&&this.data.isLink},PromotionRuleUnit.prototype.UpdateValue=function(t){this.data=t;for(var e=0;e<this.labels.length;++e)this.labels[e].text=t.text;this.textContent.SetActive(!t.isLink),this.UpdateLinkContent()},PromotionRuleUnit.prototype.UpdateLinkContent=function(){this.data.CheckVisited(),this.linkContentVisited.SetActive(this.data.isLink&&this.data.isVisited),this.linkContentUnvisited.SetActive(this.data.isLink&&!this.data.isVisited)},PromotionRuleUnit.prototype.Update=function(){this.mustUpdateLinkContent&&(this.mustUpdateLinkContent=!1,this.UpdateLinkContent())},PromotionRuleUnit.prototype.UnitButtonClicked=function(){this.data.isLink&&this.isVisible&&(window.open(this.data.url,encodeURIComponent(this.data.url)),this.data.isVisited||(this.data.SetVisited(),XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Visited)))},goog.require("UHT.XTLink"),PromotionRuleUnitButton.prototype=Object.create(XTLink.prototype),(PromotionRuleUnitButton.prototype.constructor=PromotionRuleUnitButton).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOn,this.OnPromotionLinkHoveredOn,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOff,this.OnPromotionLinkHoveredOff,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Pressed,this.OnPromotionLinkPressed,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Released,this.OnPromotionLinkReleased,this),globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,new EventHandler(this,this.OnTouchEnd))},PromotionRuleUnitButton.prototype.OnPromotionLinkHoveredOn=function(){this.InternalSendMessage(!1,!0)},PromotionRuleUnitButton.prototype.OnPromotionLinkHoveredOff=function(){this.InternalSendMessage(!1,!1)},PromotionRuleUnitButton.prototype.OnPromotionLinkPressed=function(){this.InternalSendMessage(!0,!0)},PromotionRuleUnitButton.prototype.OnPromotionLinkReleased=function(){this.InternalSendMessage(!0,!1)},PromotionRuleUnitButton.prototype.InternalSendMessage=function(t,e){this.gameObject.activeInHierarchy&&XT.GetString(TournamentVars.PromotionRuleLinkID)==this.unit.data.uid&&this.gameObject.SendMessage(t?"OnPress":"OnHover",e)},PromotionRuleUnitButton.prototype.OnTouchEnd=function(){var t;this.gameObject.activeInHierarchy&&(null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),(t=new LayerMask).mask=1<<this.gameObject.layer,this.gameObject.collider==globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),t)&&this.unit.UnitButtonClicked())},PromotionRuleUnitButton.prototype.OnHover=function(t){this.hoveredFrame!=Time.frameCount&&(this.hoveredFrame=Time.frameCount,XT.SetString(TournamentVars.PromotionRuleLinkID,this.unit.data.uid),XT.TriggerEvent(t?TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOn:TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOff))},PromotionRuleUnitButton.prototype.OnPress=function(t){this.pressedFrame!=Time.frameCount&&(this.pressedFrame=Time.frameCount,XT.SetString(TournamentVars.PromotionRuleLinkID,this.unit.data.uid),XT.TriggerEvent(t?TournamentVars.Evt_Internal_PromotionRuleLink_Pressed:TournamentVars.Evt_Internal_PromotionRuleLink_Released))},goog.require("UHT.GenericObjectPooler"),PromotionRuleUnitsPooler.prototype=Object.create(GenericObjectPooler.prototype),(PromotionRuleUnitsPooler.prototype.constructor=PromotionRuleUnitsPooler).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.Init,this)},PromotionRuleUnitsPooler.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(TournamentVars.PromotionRuleUnitsPooler,this)},goog.require("UHT.XTLink"),PromotionsAnnouncer.prototype=Object.create(XTLink.prototype),(PromotionsAnnouncer.prototype.constructor=PromotionsAnnouncer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Prepare,this.OnPrepare,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Announce,this.OnAnnounce,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_PrepareForWin,this.OnPrepareForWin,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_ShowWin,this.OnShowWin,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts,this.OnResultDisplayerLoopStarts,this,this.resultDisplayerLoopStartsPriority),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated,this.OnTournamentsUpdated,this)},PromotionsAnnouncer.prototype.Update=function(){this.OnTournamentsUpdated()},PromotionsAnnouncer.prototype.OnTournamentsUpdated=function(){this.isVisible&&!PromotionsHelper.PromotionAvailable(this.uid)&&this.NextAnnouncement()},PromotionsAnnouncer.prototype.OnResultDisplayerLoopStarts=function(){this.mustShowWin&&(null==this.rq&&(this.rq=XT.GetObject(Vars.RQManagerObject)),this.rq.AddRoutineQueueItem(new RQIWaitForXTEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_WinShown)))},PromotionsAnnouncer.prototype.OnPrepare=function(){this.BlockSpin()},PromotionsAnnouncer.prototype.OnPrepareForWin=function(){this.OnPrepare(),this.mustShowWin=!0},PromotionsAnnouncer.prototype.OnAnnounce=function(){this.BlockSpin();for(var t=PromotionsHelper.GetAnnouncements(),e=0;e<t.length;++e)this.announcements.push(t[e]);this.isVisible||this.NextAnnouncement()},PromotionsAnnouncer.prototype.NextAnnouncement=function(){if(0==this.announcements.length)return this.rules.SetVisible(!1),this.hasExtraLayout&&(this.extraLayout.rules.SetVisible(!1),this.secondaryExtraRules.SetVisible(!1)),this.catHide.Start(),this.isVisible=!1,void this.UnblockSpin();this.uid=this.announcements[0].uid,this.secondaryUID="";var t=TournamentConnection.instance.FindPromoHolder(this.uid);if(this.showMerged=!1,t.type==TournamentProtocol.PromoType.Tournament&&t.promotion.displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins&&1<this.announcements.length&&((t=TournamentConnection.instance.FindPromoHolder(this.announcements[1].uid)).type==TournamentProtocol.PromoType.Race&&t.promotion.displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins&&(this.showMerged=!0,this.secondaryUID=this.announcements[1].uid)),Globals.isMini&&(this.showMerged=!1),null!=this.tournamentSimpleOptIn&&(this.tournamentSimpleOptIn.isMergedDDW=this.showMerged,this.tournamentSimpleOptIn.OnAnnounce()),this.showMerged){for(var e=0;e<this.secondaryDisplayers.length;e++)this.secondaryDisplayers[e].UpdateTournament(this.uid),this.secondaryLabels[e].text=this.announcements[e].description;this.secondaryRules.SetVisible(!1)}else this.displayer.UpdateTournament(this.uid),this.label.text=this.announcements[0].description,this.rules.SetVisible(!1);if(this.hasExtraLayout){this.extraLayout.label.text=this.label.text,this.extraLayout.displayer.UpdateTournament(this.uid),this.extraLayout.rules.SetVisible(!1);for(e=0;e<this.secondaryExtraLabels.length;e++)this.secondaryExtraLabels[e].text=this.announcements[e].description;this.secondaryExtraDisplayer.UpdateTournament(this.uid),this.secondaryExtraRules.SetVisible(!1)}null!=this.styleSwitcher&&this.styleSwitcher.SwitchByDisplayStyle(this.uid),PromotionsHelper.PromotionCheckTournamentOptOut(this.uid),this.showMerged?(this.secondaryCatShow.Start(),this.isVisible=!0,this.announcements.splice(0,1)):(this.catShow.Start(),this.isVisible=!0),this.announcements.splice(0,1)},PromotionsAnnouncer.prototype.OnShowWin=function(){this.BlockSpin(),XT.SetDouble(TournamentVars.Promotion_WinDisplayed,0);var t=PromotionsHelper.FindPromotion(XT.GetString(TournamentVars.Promotion_WinID)),e=t.clientStyle;t.displayStyle!=TournamentProtocol.DisplayStyle.IDNSM&&t.displayStyle!=TournamentProtocol.DisplayStyle.DropsAndWins||(e=TournamentProtocol.ClientStyle.Europe),this.winContentSwitcher.SwitchByStyle(e),this.winContentSwitcher.SwitchByPrizeType(XT.GetInt(TournamentVars.PrizeDropWin_PrizeType)),null!=this.styleSwitcher&&this.styleSwitcher.SwitchByDisplayStyle(t.uid),this.catShowWin.Start()},PromotionsAnnouncer.prototype.ShowWinEnded=function(){this.mustShowWin=!1,XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_WinShown),this.UnblockSpin()},PromotionsAnnouncer.prototype.UpdateDisplayedWin=function(){XT.SetDouble(TournamentVars.Promotion_WinDisplayed,XT.GetDouble(TournamentVars.Promotion_WinReceived))},PromotionsAnnouncer.prototype.OptIn=function(){PromotionsHelper.OptIn(this.uid),this.showMerged&&PromotionsHelper.OptIn(this.secondaryUID)},PromotionsAnnouncer.prototype.OptOut=function(){PromotionsHelper.OptOut(this.uid),this.showMerged&&PromotionsHelper.OptOut(this.secondaryUID)},PromotionsAnnouncer.prototype.FullRules=function(){this.showMerged?(this.secondaryRules.SetVisible(!0),this.secondaryRules.ForceUpdate(),this.secondaryRules.UpdateRulesManually(this.uid),this.hasExtraLayout&&(this.extraLayout.rules.SetVisible(!0),this.extraLayout.rules.ForceUpdate(),this.extraLayout.rules.UpdateRulesManually(this.uid),this.secondaryExtraRules.SetVisible(!0),this.secondaryExtraRules.ForceUpdate(),this.secondaryExtraRules.UpdateRulesManually(this.uid)),this.secondaryCatShowFull.Start()):(this.rules.SetVisible(!0),this.rules.ForceUpdate(),this.rules.UpdateRulesManually(this.uid),this.hasExtraLayout&&(this.extraLayout.rules.SetVisible(!0),this.extraLayout.rules.ForceUpdate(),this.extraLayout.rules.UpdateRulesManually(this.uid)),this.catShowFull.Start())},PromotionsAnnouncer.prototype.BlockSpin=function(){this.spinBlocked||(this.spinBlocked=!0,XT.TriggerEvent(Vars.Evt_DataToCode_BlockSpin))},PromotionsAnnouncer.prototype.UnblockSpin=function(){this.spinBlocked&&(this.spinBlocked=!1,XT.TriggerEvent(Vars.Evt_DataToCode_UnblockSpin))},goog.require("UHT.XTLink"),PromotionStyleSwitcher.prototype=Object.create(XTLink.prototype),(PromotionStyleSwitcher.prototype.constructor=PromotionStyleSwitcher).I=null,PromotionStyleSwitcher.prototype.XTRegisterCallbacks=function(){this.switchesByRegion&&XT.RegisterCallbackObject(TournamentVars.Tournaments,this.OnPromotions,this)},PromotionStyleSwitcher.prototype.OnPromotions=function(t){if(null!=t){XT.UnregisterCallbackObject(this.OnPromotions,this,TournamentVars.Tournaments);for(var e=0;e<t.length;++e)if(t[e].displayStyle==TournamentProtocol.DisplayStyle.IDNSM||t[e].displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins)return;this.SwitchByRegion()}},PromotionStyleSwitcher.prototype.SwitchByRegion=function(){var t=UHT_GAME_CONFIG_SRC.region;null==t||-1<(t=this.regions.indexOf(t))&&this.SwitchPromotionStyle(t)},PromotionStyleSwitcher.prototype.SwitchByDisplayStyle=function(t){t=PromotionsHelper.FindPromotion(t);null==t||-1<(t=this.displayStyles.indexOf(t.displayStyle))&&this.SwitchPromotionStyle(t)},PromotionStyleSwitcher.prototype.SwitchPromotionStyle=function(t){this.CATLinks[t].Start();for(var e=0;e<this.spriteColors.length;++e)for(var i=this.spriteColors[e].colors[t],n=this.spriteColors[e].sprites,o=0;o<n.length;++o)n[o].color=i;for(e=0;e<this.spriteNames.length;++e)for(var s=this.spriteNames[e].names[t],n=this.spriteNames[e].sprites,o=0;o<n.length;++o)n[o].SetSpriteName(s);for(e=0;e<this.buttonColors.length;++e)for(var r=this.buttonColors[e].normalColors[t],a=this.buttonColors[e].hoverColors[t],l=this.buttonColors[e].pressedColors[t],u=this.buttonColors[e].disabledColors[t],h=this.buttonColors[e].buttons,c=this.buttonColors[e].targets,o=0;o<h.length;++o){var p=this.FindButtonByTarget(h[o],c[o]);p.color_normal=r,p.color_hover=a,p.color_pressed=l,p.color_disabled=u;var d=p.target;p.curState==UIButton.State.Hover?d.color=a:p.curState==UIButton.State.Pressed?d.color=l:p.curState==UIButton.State.Disabled?d.color=u:d.color=r}},PromotionStyleSwitcher.prototype.FindButtonByTarget=function(t,e){for(var i=t.GetComponentsInChildren(UIButton,!0),n=0;n<i.length;++n)if(null!=i[n].target&&i[n].target.gameObject==e)return i[n];return null},goog.require("UHT.XTLink"),PromotionsWarning.prototype=Object.create(XTLink.prototype),(PromotionsWarning.prototype.constructor=PromotionsWarning).I=null,PromotionsWarning.formatOptions=new FormatOptions,PromotionsWarning.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(TournamentVars.TournamentDetails,this.OnTournamentDetailsUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged,this.OnBetChanged,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_UpdatePromotionWarning,this.OnBetChanged,this),this.handleMessage&&(PromotionsWarning.I=this)},PromotionsWarning.prototype.OnTournamentDetailsUpdated=function(t){this.details=t,this.OnBetChanged()},PromotionsWarning.prototype.OnBetChanged=function(){if(null!=this.details){var t=XT.GetDouble(Vars.TotalBetDisplayed);if(!isNaN(t)){for(var e=-1,i="",n=0;n<this.details.length;++n){var o=PromotionsHelper.FindPromotion(this.details[n].uid),s=null!=o&&o.clientMode==TournamentProtocol.ClientMode.Visible&&o.status==TournamentProtocol.StatusCode.Open&&PromotionsHelper.currentPromotionsUUID==this.details[n].uid,r=null!=this.details[n].prizePoolTotal?this.details[n].prizePoolTotal:this.details[n].prizePool;null!=r&&s&&(e<0||e<r.minBetLimit)&&(e=r.minBetLimit,i=o.name)}t=t<e;t&&(this.label.text=PromotionsWarning.GetMessage(e),this.promoTitleLabel.text=i),this.SetVisible(t)}}},PromotionsWarning.prototype.SetVisible=function(t){this.isVisible!=t&&(this.isVisible=t)},PromotionsWarning.prototype.LateUpdate=function(){this.wasVisible!=this.isVisible&&(this.wasVisible=this.isVisible,this.show.IsRunning()&&this.show.Stop(),this.hide.IsRunning()&&this.hide.Stop(),(this.isVisible?this.show:this.hide).Start())},PromotionsWarning.GetMessage=function(t){return PromotionsWarning.I.labelLocalized.text.replace("{0}",LocaleManager.FormatValue(t,PromotionsWarning.formatOptions))},goog.provide("UHT.PromotionWarning"),goog.require("UHT.XTLink"),PromotionWarning.prototype=Object.create(XTLink.prototype),(PromotionWarning.prototype.constructor=PromotionWarning).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged,this.OnBetChanged,this),XT.RegisterCallbackObject(TournamentVars.TournamentDetails,this.OnTournamentDetailsUpdated,this)},PromotionWarning.prototype.OnTournamentDetailsUpdated=function(t){this.UpdatePromotion(this.uid)},PromotionWarning.prototype.UpdatePromotion=function(t){this.uid=t,this.details=PromotionsHelper.FindDetails(this.uid),this.OnBetChanged()},PromotionWarning.prototype.OnBetChanged=function(){var t,e,i;null!=this.details&&(i=XT.GetDouble(Vars.TotalBetDisplayed),isNaN(i)||(t=null!=(e=PromotionsHelper.FindPromotion(this.uid))&&e.clientMode==TournamentProtocol.ClientMode.Visible&&e.status==TournamentProtocol.StatusCode.Open,e=-1,i=i<(e=null!=(i=null!=this.details.prizePoolTotal?this.details.prizePoolTotal:this.details.prizePool)&&t?i.minBetLimit:e),null!=this.label&&i&&(this.label.text=PromotionsWarning.GetMessage(e)),this.SetVisible(i)))},PromotionWarning.prototype.SetVisible=function(t){this.isVisible!=t&&(this.isVisible=t,this.UpdateVisual(t))},PromotionWarning.prototype.UpdateVisual=function(t){this.gameObject.SetActive(t)},goog.provide("UHT.PromotionWinningsActive"),goog.require("UHT.XTLink"),PromotionWinningsActive.prototype=Object.create(XTLink.prototype),(PromotionWinningsActive.prototype.constructor=PromotionWinningsActive).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated,this.OnTournamentsUpdated,this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.OnSelectedTournamentIDChanged,this)},PromotionWinningsActive.prototype.OnTournamentsUpdated=function(){this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))},PromotionWinningsActive.prototype.OnSelectedTournamentIDChanged=function(t){t=PromotionsHelper.FindPromotion(t);null!=t&&this.gameObject.SetActive(t.showWinnersList)},goog.require("UHT.PromotionWinningsActive"),PromotionWinningsActiveMini.prototype=Object.create(PromotionWinningsActive.prototype),(PromotionWinningsActiveMini.prototype.constructor=PromotionWinningsActiveMini).prototype.OnSelectedTournamentIDChanged=function(t){t=PromotionsHelper.FindPromotion(t);if(null!=t){for(var e=t.showWinnersList,i=e?this.positionWinners:this.positionNoWinners,n=0;n<i.length;++n)this.transforms[n].localPosition(i[n]);for(var o=e?this.sizeWinners:this.sizeNoWinners,n=0;n<o.length;++n)this.colliders[n].size=o[n];for(n=0;n<this.contentWinners.length;++n)this.contentWinners[n].SetActive(e);for(n=0;n<this.contentNoWinners.length;++n)this.contentNoWinners[n].SetActive(!e)}},goog.require("UHT.Engine");var ScrollableListUpdateMethod={Update:0,LateUpdate:1};function ScrollableList(){Component.call(this),this.itemHeight=0,this.mouseWheelItems=0,this.buttonItems=0,this.items=null,this.itemValues=null,this.scrollbar=null,this.scrollbarThumb=null,this.clickThreshold=0,this.clickEvents=null,this.hasExtraItem=!1,this.numberOfExtraItemsToAdd=0,this.enabledContent=null,this.enabledContents=null,this.enabledColliders=null,this.hasInertia=!1,this.inertiaCurve=null,this.useMinValueReached=!1,this.minValueReached=null,this.minValueNotReached=null,this.strictMinValue=!1,this.minValueReachedIfEmpty=!1,this.useMaxValueReached=!1,this.maxValueReached=null,this.maxValueNotReached=null,this.strictMaxValue=!1,this.maxValueReachedIfEmpty=!1,this.buttonAnimator=null,this.updateOn=ScrollableListUpdateMethod.Update,this.scrollConfirmation=null,this.separateScrollConfirmation=!1,this.isSpringy=!1,this.springAnimator=null,this.springAmount=0,this.minThumbHeightIsWidthX=0,this.inertiaTime=0,this.isInertia=!1,this.cachedCamera=null,this.wasPressed=!1,this.wasHover=!1,this.startMousePos=UHTMath.Vector3.zero,this.prevMousePos=UHTMath.Vector3.zero,this.firstItemPos=null,this.firstItemPosInited=!1,this.isEnabled=!1,this.scrollRemain=0,this.wheelDelta=0,this.scrollDelta=0,this.reachedMin=!1,this.reachedMinInit=!1,this.reachedMax=!1,this.reachedMaxInit=!1,this.enableFrame=-1,this.numberError=.001,this.thumbYMax=0,this.thumbYMaxCurrent=0,this.itemValuesSrc=null,this.shrinkAmount=0,this.numItemsToShrink=0}function registerScrollableListAsListener(t,e,i){window.addEventListener(t,e,i)}function ScrollableListAnimator(){Component.call(this),this.target=null,this.animationCurve=null,this.animationTime=0,this.isAccumulative=!1,this.isPlaying=!1,this.valueFrom=0,this.valueTo=0,this.currentTime=0,this.currentValue=0,this.totalTime=0}function ScrollableListItem(){XTLink.call(this),this.valueIdx=-1}function LobbyGameButton(){ScrollableListItem.call(this),this.icon=null,this.altIcon=null,this.label=null,this.root=null,this.threshold=0,this.confirmation=null,this.IDNSM=null,this.dropsAndWins=null,this.gameData=null,this.cachedCamera=null,this.pressPos=null,this.dnwIconUpdated=!1}function LobbyGameButtons(){ScrollableListItem.call(this),this.animator=null,this.buttons=null}function ReplayWinning(){ScrollableListItem.call(this),this.date=null,this.time=null,this.roundID=null,this.bet=null,this.betMultipliers=null,this.win=null,this.winLevels=null,this.odd=null,this.clickThreshold=20,this.buttons=null,this.manager=null,this.round=null,this.cachedCamera=null,this.pressPos=null}function ReplaySelectedWinning(){ReplayWinning.call(this)}function PromotionRuleLine(){ScrollableListItem.call(this),this.labelsAnchor=null,this.unitId=0,this.unitsPooler=null,this.units=[]}function ScrollableListThumb(){Component.call(this),this.scrollableList=null,this.wasPressed=!1,this.prevMousePos=UHTMath.Vector3.zero}function ScrollConfirmation(){Component.call(this),this.numberError=.001}function LobbyScrollbarsController(){ScrollConfirmation.call(this),this.pageScrollbar=null,this.pageDrag=null,this.gamesScrollbar=null,this.games2PageProxy=null,this.featuredScrollbar=null,this.gameButtonsHolder=null,this.canScrollGamesNext=!1,this.canScrollPagePrevious=!1,this.gameButtons=null,this.gameButtonsCamera=null,this.gameButtonsLayerMask=null,this.featuredPressed=!1,this.featuredPressedFrame=-1,this.featuredReleasedFrame=-1,this.featuredMouse=null,this.featuredDeltas=[],this.featuredDeltasCount=10,this.canScrollFeatured=!0}function SelectedPromotionWarning(){PromotionWarning.call(this),this.offset=null,this.staticContents=null,this.dynamicContents=null,this.warningContents=null,this.scrollables=null,this.needUpdate=!1,this.staticPos=null,this.dynamicPos=null}function Tournament(){ScrollableListItem.call(this),this.selectedContent=null,this.unselectedContent=null,this.nameLabel=null,this.nameLabels=null,this.statusLabel=null,this.statusLabels=null,this.localizedStartsInLabel_0=null,this.localizedStartsInLabel_1=null,this.localizedOpenLabel_0=null,this.localizedOpenLabel_1=null,this.localizedCloseLabel=null,this.localizedDayLabel_0=null,this.localizedDayLabel_1=null,this.localizedDaysLabel_0=null,this.localizedDaysLabel_1=null,this.localizedHourLabel_0=null,this.localizedHourLabel_1=null,this.localizedHoursLabel_0=null,this.localizedHoursLabel_1=null,this.localizedMinuteLabel_0=null,this.localizedMinuteLabel_1=null,this.localizedMinutesLabel_0=null,this.localizedMinutesLabel_1=null,this.localizedSecondLabel_0=null,this.localizedSecondLabel_1=null,this.localizedSecondsLabel_0=null,this.localizedSecondsLabel_1=null,this.localizedLineBreakLabel_0=null,this.localizedLineBreakLabel_1=null,this.localizedRaceOpenLabel_0=null,this.localizedRaceOpenLabel_1=null,this.shortFormat=!1,this.contentSwitcher=null,this.maxDaysDisplayedInShortFormat=99999,this.localizedWholeWordDaysLabel_0,this.localizedWholeWordDaysLabel_1,this.showRank=!1,this.rankLabels=null,this.rankedContent=null,this.notRankedContent=null,this.showTimeInStatus=!0,this.capitalizeStatus=!1,this.formatStatus=!1,this.statusFormatStartsSoon="",this.statusFormatOpen="",this.statusFormatClosed="",this.clockDisplayer=null,this.warning=null,this.IDNSM=null,this.dropsAndWins=null,this.dropsAndWinsIcon=null,this.tournamentData=null,this.dnwIconUpdated=!1}function TournamentButton(){Tournament.call(this),this.manager=null,this.buttonEnabler=null,this.root=null,this.threshold=20,this.cachedCamera=null,this.pressPos=null}function TournamentClock(){Component.call(this),this.content=null,this.days=null,this.hours=null,this.minutes=null,this.seconds=null}function TournamentDetails(){XTLink.call(this),this.scrollableList=null,this.details=null,this.mustUpdateDetails=!1}function PromotionPrizePoolTypeLabels(){this.prizesTypes=null,this.labels=null}function PromotionPrizePoolTypeMLAnchorLabels(){this.anchor=null,this.labels=null}function PromoTypePrizePoolTypeContents(){this.promoTypes=null,this.prizesTypes=null,this.contents=null}function PromotionPrizePoolTypeSwitcher(){TournamentDetails.call(this),this.anchorLabelsByPrizesType=null,this.contentsByPromotionPrizesType=null}function TournamentDisplayer(){Tournament.call(this)}function DropsAndWinsRegionAwareContent(){XTLink.call(this),this.toEnable,this.toDisable}function SelectedTournament(){TournamentDisplayer.call(this)}function TournamentLeaderboard(){XTLink.call(this),this.scrollableList=null,this.isExpanded=!1,this.canScrollToPlayer=!1,this.uid="",this.firstUID=[],this.firstIndex=[]}function TournamentLeaderboardItem(){ScrollableListItem.call(this),this.placeLabel=null,this.playerLabel=null,this.scoreLabel=null,this.colorYou=null,this.colorNotYou=null,this.useColor=!1,this.localizedYouLabel=null,this.oddContents=null,this.capitalizeYou=!1,this.youContent=null,this.formatYou=!1,this.youFormat="",this.replaceAsterisksInPlayerID=!0,this.playerIDAsteriskReplacement="",this.alternativeText="",this.countryFlag=null,this.countryFlagPlayerOffset=0,this.countryFlagPlayerLabel=null,this.countryFlagPlayerScoreSpacing=0,this.scoreWidth=-1,this.playerWidth=-1,this.playerLocalPos=null}function TournamentLeaderboardItemPlayer(){XTLink.call(this),this.placeLabel=null,this.scoreLabel=null,this.alternativeText=""}function TournamentNoPrizeItemAGBM(){TournamentLeaderboardItem.call(this),this.defaultColor=null,this.noPrizeColorNotYou=null,this.prizeContent=null,this.noPrizeContent=null}function TournamentLeaderboardItemAGBM(){TournamentNoPrizeItemAGBM.call(this),this.prizeLabel=null,this.localizedFreeRoundsLabel_0,this.localizedFreeRoundsLabel_1,this.localizedSecondsOfTimedFreeRoundsLabel_0,this.localizedSecondsOfTimedFreeRoundsLabel_1}function TournamentPrize(){ScrollableListItem.call(this),this.currency="",this.placeLabel=null,this.prizeLabel=null,this.localizedToLabel_0=null,this.localizedToLabel_1=null,this.localizedToLabel_2=null,this.localizedFreeRoundsLabel_0,this.localizedFreeRoundsLabel_1,this.localizedSecondsOfTimedFreeRoundsLabel_0,this.localizedSecondsOfTimedFreeRoundsLabel_1,this.oddContents=null,this.currentContent=null}function PrizeDropPrizeAGBM(){TournamentPrize.call(this),this.prizesTotalLabel=null}function TournamentPrizeAGBM(){TournamentNoPrizeItemAGBM.call(this),this.betLabel=null,this.localizedFreeRoundsLabel_0,this.localizedFreeRoundsLabel_1,this.localizedSecondsOfTimedFreeRoundsLabel_0,this.localizedSecondsOfTimedFreeRoundsLabel_1,this.leaderboardItem=null}function PrizeDropWinner(){TournamentPrizeAGBM.call(this),this.defaultContent=null,this.titleContent=null,this.titleLabel=null,this.localizedTitleLabel_0=null,this.localizedTitleLabel_1=null,this.betWidth=-1}function TournamentPrizes(){TournamentDetails.call(this),this.prizes=null,this.contents=null,this.alternativeContents=null,this.hasAlternativeContents=!1}function TournamentRules(){TournamentDetails.call(this),this.maxNumberOfLinesFirstUpdate=0,this.maxNumberOfLinesPerUpdate=0,this.maxLabelWidth=0,this.sampleLabel=null,this.isManual=!1,this.tournamentID="",this.tournamentIDs=[],this.tournamentRules=[],this.tournamentRulesIndices=[],this.needUpdate=!1,this.isTournamentsVisible=!1,this.isRulesVisible=!0,this.isFirstUpdate=!1,this.isManualUpdate=!1,this.useHtmlRulesForOptIn=!1}function TournamentRulesItem(){ScrollableListItem.call(this),this.label=null}function TournamentsManager(){XTLink.call(this),this.scrollableList=null,this.tournaments=null,this.catEnableTournaments=null,this.catDisableTournaments=null,this.catShowTournaments=null,this.catHideTournaments=null,this.catShowDetails=null,this.catHideDetails=null,this.catDisableHiddenMode=null,this.catTournamentClicked=null,this.showOnlyDetailsIfOneTournament=!1,this.catShowTournamentDetails=null,this.catHideTournamentDetails=null,this.serverTime=0,this.isEnabled=!0,this.isVisible=!1,this.isHiddenMode=!0,this.enableBtnTimer=0,this.enableBtnClickedTimes=0,this.visibleTournamentsCount=0,this.useDefaultViewCats=!1,this.catDefaultViewSingle=null,this.catDefaultViewMultiple=null,this.defaultViewType=null,this.catDefaultViewByType=null}function TournamentsRank(){XTLink.call(this),this.labels=null,this.labelsPrevious=null,this.catShowRank=null,this.catHideRank=null,this.catShowEndDate=null,this.tournament=null,this.contentSwitcher=null,this.rankUp=null,this.rankDown=null,this.startRotation=null,this.stopRotation=null,this.promotionTypeChanged=null,this.enabledContents=null,this.isRankVisible=!0,this.isEndDateVisible=!1,this.infoPrev=null,this.promoTypes=[TournamentProtocol.PromoType.Race,TournamentProtocol.PromoType.Tournament],this.promoType=TournamentProtocol.PromoType.Invalid,this.isRotating=!1,this.isEnabled=!1,this.shouldAdvance=!0}function ActivatorByIndex(){Component.call(this),this.objects=null}function CameraClippingEnabler(){Component.call(this)}function ColliderProxy(){Component.call(this),this.boxColliders=[],this.sphereColliders=[],this.eventPress=null,this.eventRelease=null,this.eventClick=null,this.eventHoverOn=null,this.eventHoverOff=null,this.notifyPress=!0,this.notifyRelease=!0,this.notifyClick=!0,this.notifyHoverOn=!0,this.notifyHoverOff=!0,this.notifyOnDisable=!0,this.wasHover=!1,this.wasPressed=!1}function AnimClipChanger(){Component.call(this)}function ButtonEnabler(){Component.call(this),this.target=null,this.uibuttons=[],this.isInit=!1}function ColliderEnabler(){Component.call(this),this.includeChildren=!1,this.enable=null,this.disable=null}function MoveTransformToTarget(){Component.call(this),this.movingTransform=null,this.target=null,this.moveDuration=1,this.alsoScaleToTarget=!1,this.resetAtTheEnd=!1,this.resetStopsMovement=!1,this.useTimeChannel=!1,this.timeChannelID=0,this.speedCurve=null,this.moving=!1,this.myTimeChannel=null,this.currentTime=0,this.totalCurveTime=0,this.startPosition=UHTMath.Vector3.zero,this.resetPosition=UHTMath.Vector3.zero,this.startScale=UHTMath.Vector3.zero,this.resetScale=UHTMath.Vector3.zero}function MC_SerializeHelper(){this.id=[],this.cachedTex=[]}function MovieController(){Component.call(this),this.FPS=10,this.startFrame=0,this.loop=!0,this.playAutomatically=!0,this.pausedUntilReady=!1,this.resetOnEnable=!1,this.deltaMovie=!0,this.deltaIsOpaque=!1,this.superTrimPlayInReverse=!1,this.callback=null,this.fallback=null,this.isPlaying=!1,this.canStartCallback=!0,this.atlases=[],this.frames=-1,this.numberOfPieces=[],this.atlasIdxPerFramePerPiece=[],this.color=null,this.width=0,this.height=0,this.currentFrame=0,this.time=0,this.frameBuffer=null,this.oldFrame=-1,this.panel=null,this.pixiObject=new PIXI.Container(null),this.pixiObjectContent=null,this.movieWidth=-1,this.movieHeight=-1,this.isInit=!1,this.blendSteps=1,this.currentSubFrame=0,this.oldSubFrame=0}function MultipleParticlesEnabler(){Component.call(this),this.particlesGenerators=null,this.generateParticlesOnStart=!1}function ParticlesControlledActive(){Component.call(this),this.particles=null,this.objects=null,this.wasEnabled=!1}function ParticlesEnabler(){Component.call(this),this.particles=null,this.pEnabled=!1,this.disableIfNoEmission=!1}function ResultDisplayerDelayer(){XTLink.call(this),this.symbolsDelays=[],this.rq=null,this.rm=null,this.fastStop=!1}function SymbolDelay(){this.symbolId=0,this.reelDelay=[],this.affectedReels=[]}ScrollableList.prototype=Object.create(Component.prototype),(ScrollableList.prototype.constructor=ScrollableList).prototype.scriptUpdatePriority=6,ScrollableList.prototype.Awake=function(){function t(t){return e.OnMouseWheel(t)}var e=this;registerScrollableListAsListener("mousewheel",t,{passive:!1}),registerScrollableListAsListener("DOMMouseScroll",t,{passive:!1})},ScrollableList.prototype.OnMouseWheel=function(t){t.preventDefault(),this.isEnabled&&this.wasHover&&(!Globals.InputBlocked||null!=this.cachedCamera&&this.cachedCamera.ignoreInputBlocked)&&(this.wheelDelta=t.wheelDelta?-t.wheelDelta:t.detail,this.wheelDelta=UHTMath.clamp(this.wheelDelta,-1,1),this.scrollDelta=0)},ScrollableList.prototype.CachedCamera=function(){return null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),this.cachedCamera},ScrollableList.prototype.OnDisable=function(){this.wasPressed&&this.OnPress(!1)},ScrollableList.prototype.OnHover=function(t){this.wasHover=t,this.wasPressed&&!t&&this.OnPress(!1)},ScrollableList.prototype.OnPress=function(t){if(this.wasPressed=t,this.hasInertia||(this.scrollRemain=0),t)return this.StopSpring(),this.StopInertia(),void(this.startMousePos=this.prevMousePos=this.gameObject.transform.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)));if(this.isEnabled&&this.hasInertia&&0!=this.scrollDelta&&(this.inertiaTime=0,this.isInertia=!0),this.UpdateItems(this.items[0].valueIdx),0!=this.clickEvents.length){var e=this.gameObject.transform.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),t=UHTMath.Vector3.sub(e,this.startMousePos);if(!(Math.abs(t.y)>this.clickThreshold)){this.firstItemPosInited||(this.firstItemPosInited=!0,this.firstItemPos=this.gameObject.transform.inverseTransformPoint(this.items[0].gameObject.transform.position()));for(var i=-1,n=0;n<this.items.length;++n){var o=this.firstItemPos.y-this.itemHeight*n;if(e.y<=o&&e.y>o-this.itemHeight){i=n;break}}if(!(i<0))for(var s=String(i),n=0;n<this.clickEvents.length;++n)this.clickEvents[n].useParam&&(this.clickEvents[n].paramString=s),MessageSender.SendMessage(this.clickEvents[n])}}},ScrollableList.prototype.InternalUpdate=function(){var t,e,i;this.isEnabled&&(i=!1,this.wasHover&&0!=this.wheelDelta&&(this.ScrollItems(this.wheelDelta*this.mouseWheelItems*this.itemHeight,!0),i=!(this.wheelDelta=0)),this.wasPressed?(t=this.gameObject.transform.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),e=UHTMath.Vector3.sub(t,this.prevMousePos),this.prevMousePos=t,0!=e.y&&this.ScrollItems(e.y)):i||this.isInertia&&(i=this.inertiaCurve.Evaluate(this.inertiaTime)*this.scrollDelta,(Math.abs(i)<.001||this.inertiaTime>this.inertiaCurve.keys[this.inertiaCurve.keys.length-1].time)&&(this.isInertia=!1,this.scrollDelta=0),this.ScrollItems(i),this.inertiaTime+=Time.deltaTime))},ScrollableList.prototype.Update=function(){this.updateOn==ScrollableListUpdateMethod.Update&&this.InternalUpdate()},ScrollableList.prototype.LateUpdate=function(){var t,e;this.updateOn==ScrollableListUpdateMethod.LateUpdate&&this.InternalUpdate(),this.useMinValueReached&&(t=0==this.items[0].valueIdx&&(!this.strictMinValue||Math.abs(this.scrollRemain)<this.numberError),(t=this.minValueReachedIfEmpty&&0==this.itemValues.length?!0:t)==this.reachedMin&&this.reachedMinInit||(this.reachedMin=t,this.StartCATLink(this.reachedMin?this.minValueReached:this.minValueNotReached)),this.reachedMinInit=!0),this.useMaxValueReached&&(e=this.items[0].valueIdx+this.items.length==this.itemValues.length&&(!this.strictMaxValue||Math.abs(this.scrollRemain)<this.numberError),(e=this.maxValueReachedIfEmpty&&0==this.itemValues.length?!0:e)==this.reachedMax&&this.reachedMaxInit||(this.reachedMax=e,this.StartCATLink(this.reachedMax?this.maxValueReached:this.maxValueNotReached)),this.reachedMaxInit=!0),this.CanSpring()&&(t=0==this.items[0].valueIdx,e=this.items[0].valueIdx+this.items.length==this.itemValues.length,(t||e)&&Math.abs(this.scrollRemain)<this.springAmount&&this.Spring(t?1:-1))},ScrollableList.prototype.ScrollItems=function(t,e){if(this.CanScroll(t)){1!=e&&(this.scrollDelta=t),this.scrollRemain+=t,(0==this.items[0].valueIdx&&this.scrollRemain<0||this.items[0].valueIdx+this.items.length==this.itemValues.length&&0<this.scrollRemain)&&(this.scrollRemain=0);var i,n=Math.round(this.scrollRemain/this.itemHeight);if(this.scrollRemain-=n*this.itemHeight,n<0)for(var o=0;o<Math.abs(n);++o)0<=(i=this.items[0].valueIdx-1)&&(this.items[this.items.length-1].UpdateIndexAndValue(i,this.itemValues[i]),this.items.unshift(this.items[this.items.length-1]),this.items.pop());else if(0<n)for(o=0;o<n;++o)(i=this.items[this.items.length-1].valueIdx+1)<this.itemValues.length&&(this.items[0].UpdateIndexAndValue(i,this.itemValues[i]),this.items.push(this.items[0]),this.items.shift());this.UpdateItems(this.items[0].valueIdx)}else this.scrollDelta=0},ScrollableList.prototype.UpdateItems=function(t){t<0&&(t=0);for(var e,i=-this.itemHeight*(this.items.length-1),n=0;n<this.items.length;++n){var o=t+n;o<this.itemValues.length?this.items[n].UpdateIndexAndValue(o,this.itemValues[o]):this.items[n].UpdateIndexAndValue(o,null);o=n*-this.itemHeight+(this.isEnabled?this.scrollRemain:0);this.items[n].gameObject.transform.localPosition(new UHTMath.Vector3(0,o,0)),this.items[n].SetVisible(i<o)}this.isEnabled&&(e=this.hasInertia?this.scrollRemain/this.itemHeight:0,e=this.scrollbar.height*(t+e)/(this.itemValues.length-1),e=UHTMath.lerp(0,this.thumbYMaxCurrent,e/this.thumbYMax),this.scrollbarThumb.gameObject.transform.localPosition(new UHTMath.Vector3(0,-e,0)))},ScrollableList.prototype.InternalSetValues=function(t){if(null!=t&&0<t.length){if(this.itemValuesSrc=t,this.itemValues=t.slice(),null!=this.itemValues[this.itemValues.length-1]){this.itemValues.push(null),this.hasExtraItem&&this.itemValues.unshift(null);for(var e=0;e<this.numberOfExtraItemsToAdd;++e)this.itemValues.push(null);for(e=0;e<this.numItemsToShrink;++e)this.itemValues.push(null)}this.isEnabled=this.items.length<this.itemValues.length}else this.itemValues=[],this.isEnabled=!1;var i;if(this.isEnabled&&(i=Math.floor(this.scrollbar.height*(this.items.length-1)/(this.itemValues.length-1)),this.thumbYMax=this.scrollbar.height-i,t=Math.floor(this.scrollbarThumb.width*this.minThumbHeightIsWidthX),i=Math.max(i,t),this.scrollbarThumb.height=i,this.thumbYMaxCurrent=this.scrollbar.height-i),this.scrollbar.gameObject.SetActive(this.isEnabled),this.scrollbarThumb.gameObject.SetActive(this.isEnabled),null!=this.enabledContent&&this.enabledContent.SetActive(this.isEnabled),null!=this.enabledContents)for(e=0;e<this.enabledContents.length;++e)this.enabledContents[e].SetActive(this.isEnabled);if(null!=this.enabledColliders)for(e=0;e<this.enabledColliders.length;++e)this.enabledColliders[e].enabled=this.isEnabled},ScrollableList.prototype.SetValues=function(t,e){null==e&&(e=!0),this.InternalSetValues(t),e&&this.UpdateItems(0)},ScrollableList.prototype.UpdateValues=function(t){this.InternalSetValues(t),this.UpdateItems(this.items[0].valueIdx)},ScrollableList.prototype.UpdateValuesAndIndex=function(t,e,i){(i=null==i?!1:i)||this.InternalSetValues(t),this.UpdateItems(e)},ScrollableList.prototype.isScrollable=function(){return this.isEnabled},ScrollableList.prototype.ThumbDragged=function(t){this.ScrollItems(-t/this.scrollbar.height*this.itemHeight*(this.itemValues.length-1))},ScrollableList.prototype.BarClicked=function(){var t=this.scrollbarThumb.gameObject.transform.parent.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),e=this.scrollbarThumb.gameObject.transform.localPosition();this.ScrollItems(this.itemHeight*(this.items.length-1)*(t.y<e.y?1:-1))},ScrollableList.prototype.ButtonClicked=function(t){this.ButtonClickedInternal(t*this.buttonItems*this.itemHeight)},ScrollableList.prototype.ButtonClickedPrevious=function(){this.ButtonClicked(-1)},ScrollableList.prototype.ButtonClickedNext=function(){this.ButtonClicked(1)},ScrollableList.prototype.CanScroll=function(t){return null==this.scrollConfirmation||(this.separateScrollConfirmation?0<t?this.scrollConfirmation.CanScrollNext():this.scrollConfirmation.CanScrollPrevious():this.scrollConfirmation.CanScroll())},ScrollableList.prototype.StartCATLink=function(t){null!=t&&null!=t.cat&&t.Start()},ScrollableList.prototype.StopInertia=function(){this.isInertia=!1,this.scrollDelta=0},ScrollableList.prototype.CanSpring=function(){return this.isSpringy&&this.isEnabled&&!this.wasPressed&&!this.springAnimator.isPlaying},ScrollableList.prototype.Spring=function(t){this.StopInertia();t=(this.springAmount-Math.abs(this.scrollRemain))*t;this.enableFrame==Time.frameCount?this.ScrollItems(t):this.springAnimator.Play(t)},ScrollableList.prototype.StopSpring=function(){this.isSpringy&&this.springAnimator.Stop()},ScrollableList.prototype.OnEnable=function(){this.enableFrame=Time.frameCount},ScrollableList.prototype.ButtonClickedInternal=function(t){null!=this.buttonAnimator?this.buttonAnimator.Play(t):this.ScrollItems(t,!0)},ScrollableList.prototype.ButtonClickedFirst=function(){this.ButtonClickedInternal(-(this.items[0].valueIdx*this.itemHeight+this.scrollRemain))},ScrollableList.prototype.ButtonClickedLast=function(){this.ButtonClickedInternal((this.itemValues.length-1-this.items[0].valueIdx)*this.itemHeight+this.scrollRemain)},ScrollableList.prototype.Shrink=function(t,e){var i=this.transform.parent.inverseTransformVector(e),e=this.scrollbar.transform.parent.inverseTransformVector(e);t?(this.shrinkAmount-=i.y,this.scrollbar.height+=Math.round(e.y)):(this.shrinkAmount+=i.y,this.scrollbar.height-=Math.round(e.y)),this.numItemsToShrink=Math.ceil(this.shrinkAmount/this.itemHeight),null!=this.itemValuesSrc&&(this.InternalSetValues(this.itemValuesSrc),t?this.ScrollItems(-i.y,!0):this.ScrollItems(i.y,!0))},goog.require("UHT.Engine"),ScrollableListAnimator.prototype=Object.create(Component.prototype),(ScrollableListAnimator.prototype.constructor=ScrollableListAnimator).prototype.Play=function(t){this.isAccumulative&&this.isPlaying?(this.valueTo+=t,this.totalTime+=this.animationTime):(this.totalTime=this.animationTime,this.currentTime=0,this.valueFrom=this.currentValue=0,this.valueTo=t),this.isPlaying=!0},ScrollableListAnimator.prototype.Stop=function(){this.isPlaying=!1},ScrollableListAnimator.prototype.Update=function(){var t;this.isPlaying&&(t=UHTMath.clamp(this.currentTime/this.totalTime,0,1),t*=this.animationCurve.keys[this.animationCurve.keys.length-1].time,t=UHTMath.lerp(this.valueFrom,this.valueTo,this.animationCurve.Evaluate(t)),this.target.ScrollItems(t-this.currentValue,!0),this.currentTime>=this.totalTime&&(this.isPlaying=!1),this.currentValue=t,this.currentTime+=Time.deltaTime)},goog.provide("UHT.ScrollableListItem"),goog.require("UHT.XTLink"),ScrollableListItem.prototype=Object.create(XTLink.prototype),(ScrollableListItem.prototype.constructor=ScrollableListItem).prototype.UpdateIndexAndValue=function(t,e){this.valueIdx=t,this.UpdateValue(e)},ScrollableListItem.prototype.UpdateValue=function(t){},ScrollableListItem.prototype.SetVisible=function(t){},goog.require("UHT.ScrollableListItem"),LobbyGameButton.prototype=Object.create(ScrollableListItem.prototype),(LobbyGameButton.prototype.constructor=LobbyGameButton).confirmationButton=null,LobbyGameButton.dnwSpriteName="",LobbyGameButton.GetDNWinsSpriteName=function(){var t="drop_win_lobby";if(null==UHT_GAME_CONFIG_SRC.region||"Asia"!=UHT_GAME_CONFIG_SRC.region)return t;t+="_as";var e=ServerOptions.language;return"zh"!=e&&"zt"!=e||(t+="_zh_zt"),t},LobbyGameButton.GetDropsAndWinsSpriteName=function(){return _string.IsNullOrEmpty(LobbyGameButton.dnwSpriteName)&&(LobbyGameButton.dnwSpriteName=LobbyGameButton.GetDNWinsSpriteName()),LobbyGameButton.dnwSpriteName},LobbyGameButton.prototype.XTRegisterCallbacks=function(){ScrollableListItem.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(LobbyVars.Evt_Internal_LobbyGameButton_ConfirmationButtonChanged,this.OnConfirmationButtonChanged,this)},LobbyGameButton.prototype.OnConfirmationButtonChanged=function(){LobbyGameButton.confirmationButton!=this&&this.OnHover(!1)},LobbyGameButton.prototype.UpdateValue=function(t){var e;this.gameData=t,this.gameObject.SetActive(null!=t),null!=t&&(null!=t.atlas&&(this.icon.atlas=t.atlas,this.icon.SetSpriteName(t.sprite)),this.icon.gameObject.SetActive(null!=t.atlas),this.altIcon.SetActive(null==t.atlas),this.label.text=t.name,null!=this.dropsAndWins&&(this.dropsAndWins.SetActive(t.displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins),this.dnwIconUpdated||(this.dnwIconUpdated=!0,null!=(e=this.dropsAndWins.GetComponent(UISprite))&&e.SetSpriteName(LobbyGameButton.GetDropsAndWinsSpriteName()))),null!=this.IDNSM&&this.IDNSM.SetActive(t.displayStyle==TournamentProtocol.DisplayStyle.IDNSM))},LobbyGameButton.prototype.OnPress=function(t){null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject));var e=this.cachedCamera.gameObject.transform.inverseTransformPoint(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition));if(t)this.pressPos=e;else{e=UHTMath.Vector3.sub(e,this.pressPos);if(!(Math.abs(e.y)>this.threshold)){if(null!=this.confirmation&&!this.confirmation.activeSelf)return this.confirmation.SetActive(!0),LobbyGameButton.confirmationButton=this,void XT.TriggerEvent(LobbyVars.Evt_Internal_LobbyGameButton_ConfirmationButtonChanged);globalTracking.SendEvent("uht_behaviour","OpenedFromLobby_"+this.gameData.symbol,0|Time.time,"BehaviourTracker"),console.log("Lobby game clicked. Symbol: "+this.gameData.symbol);e=document.getElementsByTagName("canvas")[0];null!=e&&(e.style.display="none"),null!=createjs.WebAudioSoundInstance&&null!=createjs.WebAudioSoundInstance.context&&createjs.WebAudioSoundInstance.context.suspend(),this.StartGame(this.gameData)}}},LobbyGameButton.prototype.StartGame=function(t){location.assign(t.launchURL)},LobbyGameButton.TrackLobbyOpenedSent=!1,LobbyGameButton.prototype.OnEnable=function(){LobbyGameButton.TrackLobbyOpenedSent||(globalTracking.SendEvent("uht_behaviour","Lobby_opened",0|Time.time,"BehaviourTracker"),LobbyGameButton.TrackLobbyOpenedSent=!0)},LobbyGameButton.prototype.OnHover=function(t){!t&&null!=this.confirmation&&this.confirmation.activeSelf&&this.confirmation.SetActive(!1)},LobbyGameButton.prototype.OnDisable=function(){this.OnHover(!1)},goog.require("UHT.ScrollableListItem"),LobbyGameButtons.prototype=Object.create(ScrollableListItem.prototype),(LobbyGameButtons.prototype.constructor=LobbyGameButtons).prototype.UpdateValue=function(t){var e=0;if(null!=t){for(e=0;e<t.length;++e)this.buttons[e].UpdateValue(t[e]);this.animator.Sample(t.length/this.buttons.length)}for(;e<this.buttons.length;++e)this.buttons[e].UpdateValue(null)},goog.provide("UHT.ReplayWinning"),goog.require("UHT.ScrollableListItem"),ReplayWinning.prototype=Object.create(ScrollableListItem.prototype),(ReplayWinning.prototype.constructor=ReplayWinning).prototype.Start=function(){for(var t=0;t<this.buttons.length;++t)this.buttons[t].winning=this},ReplayWinning.prototype.UpdateValue=function(t){if(this.round=t,this.gameObject.SetActive(null!=this.round),null!=this.round){for(var e=0,i=0;i<this.manager.winSteps.length;i++)this.round.rtp>=this.manager.winSteps[i]&&(e=i);for(i=0;i<this.winLevels.length;i++)this.winLevels[i].SetActive(i==e);null!=this.win&&this.win.SetValueManually(this.round.win);for(var n=this.manager.betFormat.replace("{0}",Math.floor(this.round.rtp).toString()),i=0;i<this.betMultipliers.length;++i)this.betMultipliers[i].text=n;t=new Date(this.round.playedDate);null!=this.date&&(this.date.text=DateTime.ToString(t,this.manager.dateFormat)),null!=this.time&&(this.time.text=DateTime.ToString(t,this.manager.timeFormat)),null!=this.odd&&this.odd.SetActive(this.valueIdx%2==1),null!=this.bet&&this.bet.SetValueManually(this.round.bet),null!=this.roundID&&(this.roundID.text=this.round.roundID.toString());for(i=0;i<this.buttons.length;++i)this.buttons[i].UpdateValue(this.round)}},ReplayWinning.prototype.OnPress=function(t){null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject));var e=this.cachedCamera.transform.inverseTransformPoint(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition));t?this.pressPos=e:(e=UHTMath.Vector3.sub(e,this.pressPos),Math.abs(e.y)>this.clickThreshold||(XT.SetObject(ReplayVars.Replay_SelectedRound,this.round),XT.TriggerEvent(ReplayVars.Evt_CodeToData_Replay_OpenSelectedRound)))},goog.require("UHT.ReplayWinning"),ReplaySelectedWinning.prototype=Object.create(ReplayWinning.prototype),(ReplaySelectedWinning.prototype.constructor=ReplaySelectedWinning).prototype.XTRegisterCallbacks=function(){ReplayWinning.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackObject(ReplayVars.Replay_SelectedRound,this.UpdateValue,this)},goog.require("UHT.ScrollableListItem"),PromotionRuleLine.prototype=Object.create(ScrollableListItem.prototype),(PromotionRuleLine.prototype.constructor=PromotionRuleLine).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(TournamentVars.PromotionRuleUnitsPooler,this.OnPromotionRuleUnitsPooler,this)},PromotionRuleLine.prototype.OnPromotionRuleUnitsPooler=function(t){this.unitsPooler=t},PromotionRuleLine.prototype.UpdateValue=function(t){if(this.gameObject.SetActive(null!=t),null!=t){var e=t,t=this.units.length;this.RecycleUnits(this.units.length-e.units.length);for(var i=0;i<this.units.length;++i)this.units[i].UpdateValue(e.units[i]);for(i=this.units.length;i<e.units.length;++i)this.units.push(this.unitsPooler.GetObject(this.unitId,this.gameObject)),this.units[i].UpdateValue(e.units[i]),this.labelsAnchor.labels=this.labelsAnchor.labels.concat(this.units[i].labels);t!=this.units.length&&this.labelsAnchor.DiscardCache()}else this.RecycleUnits(this.units.length)},PromotionRuleLine.prototype.SetVisible=function(t){for(var e=0;e<this.units.length;++e)this.units[e].isVisible=t},PromotionRuleLine.prototype.RecycleUnits=function(t){if(!(t<0)){for(var e=0;e<t;++e)this.unitsPooler.RecycleObject(this.units[e]),this.labelsAnchor.labels.splice(0,this.units[e].labels.length);for(var i=[],e=t;e<this.units.length;++e)i.push(this.units[e]);this.units=i}},goog.require("UHT.Engine"),ScrollableListThumb.prototype=Object.create(Component.prototype),(ScrollableListThumb.prototype.constructor=ScrollableListThumb).prototype.OnHover=function(t){this.wasPressed&&!t&&this.OnPress(!1)},ScrollableListThumb.prototype.OnPress=function(t){(this.wasPressed=t)&&(this.prevMousePos=this.scrollableList.scrollbar.transform.inverseTransformPoint(this.scrollableList.CachedCamera().ScreenToWorldPoint(Input.mousePosition)))},ScrollableListThumb.prototype.Update=function(){var t,e;this.wasPressed&&(t=this.scrollableList.scrollbar.transform.inverseTransformPoint(this.scrollableList.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),e=UHTMath.Vector3.sub(t,this.prevMousePos),this.prevMousePos=t,0!=e.y&&this.scrollableList.ThumbDragged(e.y))},goog.provide("UHT.ScrollConfirmation"),goog.require("UHT.Engine"),ScrollConfirmation.prototype=Object.create(Component.prototype),(ScrollConfirmation.prototype.constructor=ScrollConfirmation).prototype.CanScroll=function(){return!0},ScrollConfirmation.prototype.CanScrollPrevious=function(){return this.CanScroll()},ScrollConfirmation.prototype.CanScrollNext=function(){return this.CanScroll()},ScrollConfirmation.prototype.VectorsEqual=function(t,e){return Math.abs(t.x-e.x)<this.numberError&&Math.abs(t.y-e.y)<this.numberError&&Math.abs(t.z-e.z)<this.numberError},goog.require("UHT.ScrollConfirmation"),LobbyScrollbarsController.prototype=Object.create(ScrollConfirmation.prototype),(LobbyScrollbarsController.prototype.constructor=LobbyScrollbarsController).prototype.scriptUpdatePriority=4,LobbyScrollbarsController.prototype.CanScroll=function(){return this.canScrollFeatured},LobbyScrollbarsController.prototype.CanScrollNext=function(){return this.canScrollGamesNext},LobbyScrollbarsController.prototype.Update=function(){var t=this.VectorsEqual(this.pageDrag.target.localPosition(),this.pageDrag.localPositionLimitMax);if(this.canScrollGamesNext!=t&&(this.canScrollGamesNext=t)&&this.pageScrollbar.isInertia&&(this.gamesScrollbar.isInertia=!0,this.gamesScrollbar.inertiaTime=this.pageScrollbar.inertiaTime,this.gamesScrollbar.scrollDelta=UHTMath.Vector3.scale(UHTMath.Vector3.sub(this.pageScrollbar.simpleLocalPositionLimitMax,this.pageScrollbar.simpleLocalPositionLimitMin),this.pageScrollbar.scrollDelta).y),this.canScrollGamesNext&&(t=this.gamesScrollbar.reachedMin,this.canScrollPagePrevious!=t&&(this.canScrollPagePrevious=t,this.pageDrag.gameObject.SetActive(t),t&&(this.games2PageProxy.NotifyIfHovered(),this.games2PageProxy.NotifyIfPressed(),this.gamesScrollbar.isInertia&&(this.pageScrollbar.isInertia=!0,this.pageScrollbar.inertiaTime=this.gamesScrollbar.inertiaTime,this.pageScrollbar.scrollDelta=this.gamesScrollbar.scrollDelta/(this.pageScrollbar.simpleLocalPositionLimitMax.y-this.pageScrollbar.simpleLocalPositionLimitMin.y))))),this.featuredPressed){var e=UHTMath.Vector3.sub(Input.mousePosition,this.featuredMouse);this.featuredMouse=Input.mousePosition,this.featuredDeltas.push(new UHTMath.Vector3(Math.abs(e.x),Math.abs(e.y),0)),this.featuredDeltas.length>this.featuredDeltasCount&&this.featuredDeltas.splice(0,1);for(var i=new UHTMath.Vector3(0,0,0),n=0;n<this.featuredDeltas.length;++n)i.add(this.featuredDeltas[n]);i.x!=i.y&&(this.canScrollFeatured=i.x>i.y),this.pageDrag.movement=new UHTMath.Vector3(0,this.canScrollFeatured?0:1,0)}e=!1;!this.featuredPressed&&this.featuredPressedFrame>this.featuredReleasedFrame&&(this.featuredPressed=!0,this.featuredMouse=Input.mousePosition,e=!0),this.featuredPressed&&this.featuredPressedFrame<this.featuredReleasedFrame&&(this.featuredPressed=!1,this.featuredDeltas.splice(0),e=!0),e&&(this.canScrollFeatured=!0,this.pageDrag.movement=new UHTMath.Vector3(0,1,0))},LobbyScrollbarsController.prototype.FeaturedColliderPressed=function(){this.featuredScrollbar.isEnabled&&(this.featuredPressedFrame=Time.frameCount)},LobbyScrollbarsController.prototype.FeaturedColliderReleased=function(){this.featuredScrollbar.isEnabled&&(this.featuredReleasedFrame=Time.frameCount)},LobbyScrollbarsController.prototype.UpdateGameButtonHover=function(){null==this.gameButtons&&(this.gameButtons=this.gameButtonsHolder.GetComponentsInChildren(LobbyGameButton,!0),this.gameButtonsCamera=Globals.GetCameraForObject(this.gameButtons[0].gameObject),this.gameButtonsLayerMask=new LayerMask,this.gameButtonsLayerMask.mask=1<<this.gameButtons[0].gameObject.layer);for(var t=globalColliderInputManager.getHoveredCollider(this.gameButtonsCamera.ScreenToWorldPoint(Input.mousePosition),this.gameButtonsLayerMask),e=0;e<this.gameButtons.length;++e)t!=this.gameButtons[e].gameObject.collider&&this.gameButtons[e].OnHover(!1)},goog.require("UHT.PromotionWarning"),SelectedPromotionWarning.prototype=Object.create(PromotionWarning.prototype),(SelectedPromotionWarning.prototype.constructor=SelectedPromotionWarning).prototype.XTRegisterCallbacks=function(){PromotionWarning.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.UpdatePromotion,this)},SelectedPromotionWarning.prototype.UpdateVisual=function(t){this.needUpdate=!0},SelectedPromotionWarning.prototype.LateUpdate=function(){if(this.needUpdate){if(this.needUpdate=!1,null==this.staticPos){this.staticPos=[],this.dynamicPos=[];for(var t=0;t<this.dynamicContents.length;++t)this.dynamicPos[t]=this.dynamicContents[t].localPosition()}for(t=0;t<this.staticContents.length;++t)this.staticPos[t]=this.staticContents[t].position();for(var e=this.transform.parent.transformVector(this.offset),t=0;t<this.dynamicContents.length;++t){var i=this.isVisible?this.dynamicContents[t].parent.inverseTransformVector(e):UHTMath.Vector3.zero;this.dynamicContents[t].localPosition(UHTMath.Vector3.add(this.dynamicPos[t],i))}for(t=0;t<this.staticContents.length;++t)this.staticContents[t].position(this.staticPos[t]);for(t=0;t<this.warningContents.length;++t)this.warningContents[t].SetActive(this.isVisible);for(t=0;t<this.scrollables.length;++t)this.scrollables[t].Shrink(this.isVisible,e)}},goog.provide("UHT.Tournament"),goog.require("UHT.ScrollableListItem"),Tournament.prototype=Object.create(ScrollableListItem.prototype),(Tournament.prototype.constructor=Tournament).DHMS=function(t){this.d=Math.floor(t/86400),t%=86400,this.h=Math.floor(t/3600),t%=3600,this.m=Math.floor(t/60),this.s=t%60},Tournament.prototype.UpdateValue=function(t){if(this.gameObject.SetActive(null!=t),this.tournamentData=t,null!=this.tournamentData){if(this.nameLabel.text=this.tournamentData.name,null!=this.nameLabels)for(var e=0;e<this.nameLabels.length;++e)this.nameLabels[e].text=this.tournamentData.name;this.UpdateTournamentStatus(),this.UpdateSelectedTournamentID(XT.GetString(TournamentVars.SelectedTournamentID)),null!=this.warning&&this.warning.UpdatePromotion(this.tournamentData.uid),null!=this.dropsAndWins&&(this.dropsAndWins.SetActive(this.tournamentData.displayStyle==TournamentProtocol.DisplayStyle.DropsAndWins),this.dnwIconUpdated||(this.dnwIconUpdated=!0,this.dropsAndWinsIcon.SetSpriteName(Tournament.GetDropsAndWinsSpriteName()))),null!=this.IDNSM&&this.IDNSM.SetActive(this.tournamentData.displayStyle==TournamentProtocol.DisplayStyle.IDNSM)}},Tournament.prototype.SetVisible=function(t){null!=this.tournamentData&&this.gameObject.SetActive(t)},Tournament.prototype.UpdateSelectedTournamentID=function(t){null!=this.tournamentData&&(this.selectedContent.SetActive(t==this.tournamentData.uid),null!=this.unselectedContent&&this.unselectedContent.SetActive(t!=this.tournamentData.uid))},Tournament.prototype.UpdateTournamentStatus=function(){if(null!=this.tournamentData){var t=this.tournamentData.status,e=0;t==TournamentProtocol.StatusCode.StartsSoon?(e=this.tournamentData.startDate-XT.GetInt(TournamentVars.ServerTime))<=0&&(t=TournamentProtocol.StatusCode.Open):this.tournamentData.status==TournamentProtocol.StatusCode.Open&&(e=this.tournamentData.endDate-XT.GetInt(TournamentVars.ServerTime))<=0&&(t=TournamentProtocol.StatusCode.Closed,XT.SetString(TournamentVars.ClosedByTimePromotionUID,this.tournamentData.uid),XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionClosedByTime));var i,n="",o=new Tournament.DHMS(e);if(t==TournamentProtocol.StatusCode.StartsSoon?this.statusLabel.text=this.ProcessText(this.localizedStartsInLabel_0.text+this.SecondsToString(o)+this.localizedStartsInLabel_1.text):t==TournamentProtocol.StatusCode.Open?(e=null!=(i=PromotionsHelper.FindDetails(this.tournamentData.uid))&&null!=i.prizePool,this.tournamentData.type==TournamentProtocol.PromoType.Race&&e&&!this.shortFormat?this.statusLabel.text=this.ProcessText(this.localizedRaceOpenLabel_0.text+this.SecondsToString(o)+this.localizedRaceOpenLabel_1.text).replace("{0}",String(i.prizePool.totalCount)):this.statusLabel.text=this.ProcessText(this.localizedOpenLabel_0.text+this.SecondsToString(o)+this.localizedOpenLabel_1.text),this.showRank&&this.tournamentData.type==TournamentProtocol.PromoType.Race&&e&&0<i.prizePool.totalCount&&(n=String(i.prizePool.totalCount))):t==TournamentProtocol.StatusCode.Closed&&(this.statusLabel.text=this.localizedCloseLabel.text),this.statusLabel.text=this.ProcessStatusText(t,this.statusLabel.text),null!=this.statusLabels)for(var s=0;s<this.statusLabels.length;++s)this.statusLabels[s].text=this.statusLabel.text;if(this.showRank){this.tournamentData.type!=TournamentProtocol.PromoType.Tournament||null!=(r=PromotionsHelper.FindLeaderboard(this.tournamentData.uid))&&-1<r.playerIndex&&(n=String(r.playerPosition));for(s=0;s<this.rankLabels.length;++s)this.rankLabels[s].text=n;var r=!_string.IsNullOrEmpty(n);this.rankedContent.SetActive(r),this.notRankedContent.SetActive(!r)}this.contentSwitcher.SwitchByStatus(t),this.contentSwitcher.SwitchByType(this.tournamentData.type),this.contentSwitcher.SwitchByStyle(this.tournamentData.clientStyle),null!=this.clockDisplayer&&this.clockDisplayer.UpdateValue(t!=TournamentProtocol.StatusCode.Closed,o),this.tournamentData.status=t}},Tournament.prototype.Update=function(){this.UpdateTournamentStatus()},Tournament.prototype.SecondsToString=function(t){var e="";if(!this.showTimeInStatus)return e;var i=t.d,n=t.h,o=t.m,t=t.s;return 1==i?e+=this.localizedDayLabel_0.text+String(i)+this.localizedDayLabel_1.text:1<i&&(e+=this.localizedDaysLabel_0.text+String(i)+this.localizedDaysLabel_1.text),i>this.maxDaysDisplayedInShortFormat?e=this.localizedWholeWordDaysLabel_0.text+String(i)+this.localizedWholeWordDaysLabel_1.text:(1==n?e+=this.localizedHourLabel_0.text+String(n)+this.localizedHourLabel_1.text:(0<i||1<n)&&(e+=this.localizedHoursLabel_0.text+String(n)+this.localizedHoursLabel_1.text),this.shortFormat&&0!=i||(1==o?e+=this.localizedMinuteLabel_0.text+String(o)+this.localizedMinuteLabel_1.text:(0<i||0<n||1<o)&&(e+=this.localizedMinutesLabel_0.text+String(o)+this.localizedMinutesLabel_1.text)),this.shortFormat&&(0!=i||0!=n)||0!=i||(1==t?e+=this.localizedSecondLabel_0.text+String(t)+this.localizedSecondLabel_1.text:(0<i||0<n||0<o||1<t)&&(e+=this.localizedSecondsLabel_0.text+String(t)+this.localizedSecondsLabel_1.text))),this.localizedLineBreakLabel_0.text+e+this.localizedLineBreakLabel_1.text},Tournament.prototype.ProcessText=function(t){for(var e=t.split("\n"),i=0;i<e.length;++i)e[i]=e[i].replace(/\s\s/g," "),e[i]=_string.Trim(e[i]);return e.join("\n")},Tournament.prototype.ProcessStatusText=function(t,e){return this.capitalizeStatus&&(e=e.toUpperCase()),e=this.formatStatus?this.GetStatusFormat(t).replace("{0}",e):e},Tournament.prototype.GetStatusFormat=function(t){return t==TournamentProtocol.StatusCode.StartsSoon?this.statusFormatStartsSoon:t==TournamentProtocol.StatusCode.Open?this.statusFormatOpen:this.statusFormatClosed},Tournament.dnwSpriteName="",Tournament.GetDNWinsSpriteName=function(){var t="drop_win_promo";if(null==UHT_GAME_CONFIG_SRC.region||"Asia"!=UHT_GAME_CONFIG_SRC.region)return t;t+="_as";var e=ServerOptions.language;return"zh"!=e&&"zt"!=e||(t+="_zh_zt"),t},Tournament.GetDropsAndWinsSpriteName=function(){return _string.IsNullOrEmpty(Tournament.dnwSpriteName)&&(Tournament.dnwSpriteName=Tournament.GetDNWinsSpriteName()),Tournament.dnwSpriteName},goog.require("UHT.Tournament"),TournamentButton.prototype=Object.create(Tournament.prototype),(TournamentButton.prototype.constructor=TournamentButton).prototype.OnPress=function(t){null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject));var e=this.root.inverseTransformPoint(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition));t?this.pressPos=e:(e=UHTMath.Vector3.sub(e,this.pressPos),Math.abs(e.y)>this.threshold||(e=this.manager.scrollableList.items.indexOf(this),this.manager.OnScrollableListItemClicked(String(e))))},TournamentButton.prototype.UpdateSelectedTournamentID=function(t){Tournament.prototype.UpdateSelectedTournamentID.call(this,t),null!=this.tournamentData&&(t!=this.tournamentData.uid?this.buttonEnabler.EnableButton():this.buttonEnabler.DisableButton())},goog.require("UHT.Engine"),TournamentClock.prototype=Object.create(Component.prototype),(TournamentClock.prototype.constructor=TournamentClock).prototype.UpdateValue=function(t,e){this.content.SetActive(t),t&&(this.days.text=this.FormatValue(e.d),this.hours.text=this.FormatValue(e.h),this.minutes.text=this.FormatValue(e.m),this.seconds.text=this.FormatValue(e.s))},TournamentClock.prototype.FormatValue=function(t){t=String(t);return t=t.length<2?"0"+t:t},goog.provide("UHT.TournamentDetails"),goog.require("UHT.XTLink"),TournamentDetails.prototype=Object.create(XTLink.prototype),(TournamentDetails.prototype.constructor=TournamentDetails).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(TournamentVars.TournamentDetails,this.OnTournamentDetailsUpdatedInternal,this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.OnSelectedTournamentIDChangedInternal,this)},TournamentDetails.prototype.OnTournamentDetailsUpdatedInternal=function(t){this.details=t,this.OnTournamentDetailsUpdated(),this.mustUpdateDetails&&(this.mustUpdateDetails=!1,this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID)))},TournamentDetails.prototype.OnSelectedTournamentIDChangedInternal=function(t){var e=PromotionsHelper.FindDetails(t);this.mustUpdateDetails=null==e,this.OnSelectedTournamentIDChanged(t)},TournamentDetails.prototype.OnTournamentDetailsUpdated=function(){},TournamentDetails.prototype.OnSelectedTournamentIDChanged=function(t){},goog.require("UHT.TournamentDetails"),PromotionPrizePoolTypeSwitcher.prototype=Object.create(TournamentDetails.prototype),(PromotionPrizePoolTypeSwitcher.prototype.constructor=PromotionPrizePoolTypeSwitcher).prototype.OnTournamentDetailsUpdated=function(){this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))},PromotionPrizePoolTypeSwitcher.prototype.OnSelectedTournamentIDChanged=function(t){var e=PromotionsHelper.FindPromotion(t);if(null!=e){for(var i=0;i<this.anchorLabelsByPrizesType.length;++i)for(var n=this.anchorLabelsByPrizesType[i].anchor,o=this.anchorLabelsByPrizesType[i].labels,s=0;s<o.length;++s)-1<o[s].prizesTypes.indexOf(e.prizesType)&&(n.labels=o[s].labels,n.DiscardCache());for(i=0;i<this.contentsByPromotionPrizesType.length;++i)for(var r=this.contentsByPromotionPrizesType[i].promoTypes,a=this.contentsByPromotionPrizesType[i].prizesTypes,l=this.contentsByPromotionPrizesType[i].contents,u=-1<r.indexOf(e.type)&&-1<a.indexOf(e.prizesType),s=0;s<l.length;++s)l[s].SetActive(u)}},goog.provide("UHT.TournamentDisplayer"),goog.require("UHT.Tournament"),TournamentDisplayer.prototype=Object.create(Tournament.prototype),(TournamentDisplayer.prototype.constructor=TournamentDisplayer).prototype.UpdateTournament=function(t){this.UpdateValue(PromotionsHelper.FindPromotion(t))},goog.require("UHT.TournamentDisplayer"),DropsAndWinsRegionAwareContent.prototype=Object.create(XTLink.prototype),(DropsAndWinsRegionAwareContent.prototype.constructor=DropsAndWinsRegionAwareContent).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},DropsAndWinsRegionAwareContent.prototype.OnGameInit=function(){if(UHT_GAME_CONFIG_SRC.region&&"Asia"==UHT_GAME_CONFIG_SRC.region){for(var t=0;t<this.toEnable.length;t++)this.toEnable[t].SetActive(!0);for(t=0;t<this.toDisable.length;t++)this.toDisable[t].SetActive(!1)}},goog.require("UHT.TournamentDisplayer"),SelectedTournament.prototype=Object.create(TournamentDisplayer.prototype),(SelectedTournament.prototype.constructor=SelectedTournament).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(TournamentVars.Tournaments,this.OnTournamentsUpdated,this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.UpdateTournament,this)},SelectedTournament.prototype.OnTournamentsUpdated=function(t){this.UpdateTournament(XT.GetString(TournamentVars.SelectedTournamentID))},goog.require("UHT.XTLink"),TournamentLeaderboard.prototype=Object.create(XTLink.prototype),(TournamentLeaderboard.prototype.constructor=TournamentLeaderboard).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(TournamentVars.TournamentLeaderboards,this.OnTournamentLeaderboardsUpdated,this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.OnSelectedTournamentIDChanged,this)},TournamentLeaderboard.prototype.OnTournamentLeaderboardsUpdated=function(t){this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))},TournamentLeaderboard.prototype.OnSelectedTournamentIDChanged=function(t){var e=PromotionsHelper.FindLeaderboard(t,this.isExpanded);if(null==e||null==e.items)this.scrollableList.SetValues(null);else{this.scrollableList.SetValues(e.items.slice(),!1);var i=this.firstUID.indexOf(this.uid);-1<i&&(this.firstIndex[i]=this.scrollableList.items[0].valueIdx),this.uid=t,(i=this.firstUID.indexOf(this.uid))<0&&(this.firstUID.push(this.uid),this.firstIndex.push(0),i=this.firstUID.length-1);var n=this.firstIndex[i];if(this.canScrollToPlayer&&this.scrollableList.isScrollable()){for(var n=0,o=0;o<e.items.length;++o)if(e.items[o].isPlayer){n=o;break}t=n+(this.scrollableList.items.length-1),i=this.scrollableList.itemValues.length-1;n-=i<t?t-i:0,0!=this.scrollableList.scrollRemain&&this.scrollableList.ScrollItems(-this.scrollableList.scrollRemain,!0)}this.scrollableList.UpdateValuesAndIndex(null,n,!0)}},TournamentLeaderboard.prototype.ScrollToPlayer=function(){this.canScrollToPlayer=!0,this.OnTournamentLeaderboardsUpdated(XT.GetObject(TournamentVars.TournamentLeaderboards)),this.canScrollToPlayer=!1},goog.provide("UHT.TournamentLeaderboardItem"),goog.require("UHT.ScrollableListItem"),TournamentLeaderboardItem.prototype=Object.create(ScrollableListItem.prototype),(TournamentLeaderboardItem.prototype.constructor=TournamentLeaderboardItem).multiplierFormat="x {0}",TournamentLeaderboardItem.defaultCountryID="zz",TournamentLeaderboardItem.prototype.UpdateValue=function(t){var e,i;this.gameObject.SetActive(null!=t),null!=t&&(e=(i=t.isPlayer)?this.colorYou:this.colorNotYou,this.placeLabel.text=String(t.position),this.scoreLabel.text=PromotionsHelper.FormatScore(t.score,t.leaderboard),this.playerLabel.text=i?this.localizedYouLabel.text:String(t.playerID),this.useColor&&(this.placeLabel.SetColor(e),this.scoreLabel.SetColor(e),this.playerLabel.SetColor(e)),null!=this.oddContents&&this.oddContents.SetActive(this.valueIdx%2==1),null!=this.youContent&&this.youContent.SetActive(i),i?(this.capitalizeYou&&(this.playerLabel.text=this.playerLabel.text.toUpperCase()),this.formatYou&&(this.playerLabel.text=this.youFormat.replace("{0}",this.playerLabel.text))):this.replaceAsterisksInPlayerID&&(this.playerLabel.text=this.playerLabel.text.replace(/\*/g,this.playerIDAsteriskReplacement)),null!=this.countryFlag&&(this.playerWidth<0&&(this.scoreWidth=this.scoreLabel.width,this.playerWidth=this.playerLabel.width,this.playerLocalPos=this.playerLabel.transform.localPosition()),e=!_string.IsNullOrEmpty(t.countryID),i=new UHTMath.Vector3(e?this.countryFlagPlayerOffset:0,0,0),this.playerLabel.width=this.playerWidth-i.x,this.playerLabel.transform.localPosition(UHTMath.Vector3.add(this.playerLocalPos,i)),this.countryFlag.gameObject.SetActive(e),e&&(t=t.countryID,null==this.countryFlag.atlas.getTextureInfoForSprite(this.countryFlag,t)&&(t=TournamentLeaderboardItem.defaultCountryID),this.countryFlag.SetSpriteNameForAnimation(t)),null!=this.countryFlagPlayerLabel&&(this.CountryFlagAdjustPlayerScoreWidths(e),this.countryFlagPlayerLabel.text=this.playerLabel.text,this.countryFlagPlayerLabel.SetColor(this.playerLabel.GetColor()),this.playerLabel.gameObject.SetActive(!e),this.countryFlagPlayerLabel.gameObject.SetActive(e))))},TournamentLeaderboardItem.prototype.FormatMultiplier=function(t){return TournamentLeaderboardItem.multiplierFormat.replace("{0}",String(t))},TournamentLeaderboardItem.prototype.CountryFlagAdjustPlayerScoreWidths=function(t){var e;t?(e=this.countryFlagPlayerLabel.transform.localPosition(),t=this.scoreLabel.transform.localPosition(),this.scoreLabel.width=Math.round(t.x-e.x-this.countryFlagPlayerLabel.GetWidth()-this.countryFlagPlayerScoreSpacing)):this.scoreLabel.width=this.scoreWidth},goog.require("UHT.XTLink"),TournamentLeaderboardItemPlayer.prototype=Object.create(XTLink.prototype),(TournamentLeaderboardItemPlayer.prototype.constructor=TournamentLeaderboardItemPlayer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(TournamentVars.TournamentLeaderboards,this.OnTournamentLeaderboards,this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.OnSelectedTournamentID,this)},TournamentLeaderboardItemPlayer.prototype.OnTournamentLeaderboards=function(t){this.OnSelectedTournamentID(XT.GetString(TournamentVars.SelectedTournamentID))},TournamentLeaderboardItemPlayer.prototype.OnSelectedTournamentID=function(t){var e=PromotionsHelper.FindPlayerInLeaderboard(t);null!=e?(this.placeLabel.text=PromotionsHelper.FormatRank(t,e.position),this.scoreLabel.text=PromotionsHelper.FormatScore(e.score,e.leaderboard)):this.placeLabel.text=this.scoreLabel.text=this.alternativeText},goog.provide("UHT.TournamentNoPrizeItemAGBM"),goog.require("UHT.TournamentLeaderboardItem"),TournamentNoPrizeItemAGBM.prototype=Object.create(TournamentLeaderboardItem.prototype),(TournamentNoPrizeItemAGBM.prototype.constructor=TournamentNoPrizeItemAGBM).prototype.UpdatePrizeContent=function(t){null!=this.prizeContent&&this.prizeContent.SetActive(t),null!=this.noPrizeContent&&this.noPrizeContent.SetActive(!t)},goog.require("UHT.TournamentNoPrizeItemAGBM"),TournamentLeaderboardItemAGBM.prototype=Object.create(TournamentNoPrizeItemAGBM.prototype),(TournamentLeaderboardItemAGBM.prototype.constructor=TournamentLeaderboardItemAGBM).prototype.UpdateValue=function(t){var e,i;TournamentNoPrizeItemAGBM.prototype.UpdateValue.call(this,t),null!=t&&(t.isRanked||t.isPlayer||(this.playerLabel.text=this.alternativeText),t.isRanked||(this.placeLabel.text=this.scoreLabel.text=this.alternativeText),t.type!=TournamentProtocol.PrizeType.Gift||_string.IsNullOrEmpty(t.gift)?t.type==TournamentProtocol.PrizeType.Amount&&0<t.amount?this.prizeLabel.text=LocaleManager.FormatValueWithCustomCurrency(t.amount,t.currency):t.type==TournamentProtocol.PrizeType.BetMultiplier?this.prizeLabel.text=this.FormatMultiplier(t.betMultiplier):this.prizeLabel.text=this.alternativeText:this.prizeLabel.text=t.gift,t.type==TournamentProtocol.PrizeType.FreeRounds&&("N"==t.freeRoundLimitType?this.prizeLabel.text=this.localizedFreeRoundsLabel_0.text+t.freeRoundAmount+this.localizedFreeRoundsLabel_1.text:"T"==t.freeRoundLimitType&&(this.prizeLabel.text=this.localizedSecondsOfTimedFreeRoundsLabel_0.text+t.freeRoundAmount+this.localizedSecondsOfTimedFreeRoundsLabel_1.text)),(e=t.type!=TournamentProtocol.PrizeType.Invalid)||t.isPlayer?(i=t.isPlayer?this.colorYou:this.colorNotYou,t=this.useColor?i:this.defaultColor,this.placeLabel.SetColor(i),this.prizeLabel.SetColor(i),this.playerLabel.SetColor(t),this.scoreLabel.SetColor(t)):(this.placeLabel.SetColor(this.noPrizeColorNotYou),this.playerLabel.SetColor(this.noPrizeColorNotYou),this.scoreLabel.SetColor(this.noPrizeColorNotYou),this.prizeLabel.SetColor(this.noPrizeColorNotYou)),null!=this.countryFlagPlayerLabel&&(this.countryFlagPlayerLabel.text=this.playerLabel.text,this.countryFlagPlayerLabel.SetColor(this.playerLabel.GetColor())),this.UpdatePrizeContent(e))},goog.provide("UHT.TournamentPrize"),goog.require("UHT.ScrollableListItem"),TournamentPrize.prototype=Object.create(ScrollableListItem.prototype),(TournamentPrize.prototype.constructor=TournamentPrize).prototype.UpdateValue=function(t){var e,i,n;this.gameObject.SetActive(null!=t),null!=t&&(n=XT.GetString(TournamentVars.SelectedTournamentID),e=PromotionsHelper.FindPromotion(n).type,i=this.prizeLabel,e==TournamentProtocol.PromoType.Tournament?t.placeFrom==t.placeTo?this.placeLabel.text=String(t.placeFrom):this.placeLabel.text=this.localizedToLabel_0.text+t.placeFrom+this.localizedToLabel_1.text+t.placeTo+this.localizedToLabel_2.text:e==TournamentProtocol.PromoType.Race&&(i=this.placeLabel,this.prizeLabel.text=String(t.count)),t.type==TournamentProtocol.PrizeType.FreeRounds?"N"==t.freeRoundLimitType?i.text=this.localizedFreeRoundsLabel_0.text+t.freeRoundAmount+this.localizedFreeRoundsLabel_1.text:"T"==t.freeRoundLimitType&&(i.text=this.localizedSecondsOfTimedFreeRoundsLabel_0.text+t.freeRoundAmount+this.localizedSecondsOfTimedFreeRoundsLabel_1.text):_string.IsNullOrEmpty(t.gift)?i.text=LocaleManager.FormatValueWithCustomCurrency(t.amount,this.currency):i.text=t.gift,null!=this.oddContents&&this.oddContents.SetActive(this.valueIdx%2==1),n=PromotionsHelper.FindPlayerLeaderboardPosition(n),t=t.placeFrom<=n&&n<=t.placeTo,null!=this.currentContent&&this.currentContent.SetActive(t))},goog.require("UHT.TournamentPrize"),PrizeDropPrizeAGBM.prototype=Object.create(TournamentPrize.prototype),(PrizeDropPrizeAGBM.prototype.constructor=PrizeDropPrizeAGBM).multiplierFormat="x {0}",PrizeDropPrizeAGBM.prototype.UpdateValue=function(t){TournamentPrize.prototype.UpdateValue.call(this,t),null!=t&&(this.prizesTotalLabel.text=String(t.totalCount),t.type==TournamentProtocol.PrizeType.BetMultiplier&&(this.placeLabel.text=PrizeDropPrizeAGBM.multiplierFormat.replace("{0}",String(t.betMultiplier))))},goog.provide("UHT.TournamentPrizeAGBM"),goog.require("UHT.TournamentNoPrizeItemAGBM"),TournamentPrizeAGBM.prototype=Object.create(TournamentNoPrizeItemAGBM.prototype),(TournamentPrizeAGBM.prototype.constructor=TournamentPrizeAGBM).prototype.XTRegisterCallbacks=function(){TournamentNoPrizeItemAGBM.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged,this.OnBetChanged,this)},TournamentPrizeAGBM.prototype.OnBetChanged=function(){null!=this.leaderboardItem&&this.leaderboardItem.isPlayer&&!this.leaderboardItem.isRanked&&(this.betLabel.text=LocaleManager.FormatValueWithCustomCurrency(XT.GetDouble(Vars.TotalBetDisplayed),ServerOptions.currency))},TournamentPrizeAGBM.prototype.UpdateValue=function(t){var e,i;TournamentNoPrizeItemAGBM.prototype.UpdateValue.call(this,t),null!=(this.leaderboardItem=t)&&(t.type==TournamentProtocol.PrizeType.BetMultiplier?this.placeLabel.text=this.FormatMultiplier(t.betMultiplier):this.placeLabel.text=this.alternativeText,t.isRanked||t.isPlayer||(this.playerLabel.text=this.alternativeText),t.type!=TournamentProtocol.PrizeType.Gift||_string.IsNullOrEmpty(t.gift)?t.type==TournamentProtocol.PrizeType.Amount&&0<t.amount?this.scoreLabel.text=LocaleManager.FormatValueWithCustomCurrency(t.amount,t.currency):t.type==TournamentProtocol.PrizeType.BetMultiplier&&t.isRanked&&0<t.prize?this.scoreLabel.text=LocaleManager.FormatValueWithCustomCurrency(t.prize,t.memberCurrency):this.scoreLabel.text=this.alternativeText:this.scoreLabel.text=t.gift,t.isRanked&&0<t.effectiveBetForBetMultiplier?this.betLabel.text=LocaleManager.FormatValueWithCustomCurrency(t.effectiveBetForBetMultiplier,t.memberCurrency):this.betLabel.text=this.alternativeText,t.type==TournamentProtocol.PrizeType.FreeRounds&&("N"==t.freeRoundLimitType?this.scoreLabel.text=this.localizedFreeRoundsLabel_0.text+t.freeRoundAmount+this.localizedFreeRoundsLabel_1.text:"T"==t.freeRoundLimitType&&(this.scoreLabel.text=this.localizedSecondsOfTimedFreeRoundsLabel_0.text+t.freeRoundAmount+this.localizedSecondsOfTimedFreeRoundsLabel_1.text)),(e=t.type!=TournamentProtocol.PrizeType.Invalid)||t.isPlayer?(i=t.isPlayer?this.colorYou:this.colorNotYou,t=this.useColor?i:this.defaultColor,this.placeLabel.SetColor(i),this.playerLabel.SetColor(t),this.scoreLabel.SetColor(t),this.betLabel.SetColor(t)):(this.placeLabel.SetColor(this.noPrizeColorNotYou),this.playerLabel.SetColor(this.noPrizeColorNotYou),this.scoreLabel.SetColor(this.noPrizeColorNotYou),this.betLabel.SetColor(this.noPrizeColorNotYou)),this.UpdatePrizeContent(e),this.OnBetChanged())},goog.require("UHT.TournamentPrizeAGBM"),PrizeDropWinner.prototype=Object.create(TournamentPrizeAGBM.prototype),(PrizeDropWinner.prototype.constructor=PrizeDropWinner).prototype.UpdateValue=function(t){TournamentPrizeAGBM.prototype.UpdateValue.call(this,t),null!=t&&(t.type!=TournamentProtocol.PrizeType.Invalid&&this.placeLabel.SetColor(this.colorNotYou),null!=this.countryFlagPlayerLabel&&this.countryFlagPlayerLabel.SetColor(this.playerLabel.GetColor()),null!=this.youContent&&this.youContent.SetActive(!1),null!=this.oddContents&&this.oddContents.SetActive((this.valueIdx+t.valueIndexExtra)%2==1),this.defaultContent.SetActive(t.winnerContent==TournamentProtocol.WinnerContentType.Default),this.titleContent.SetActive(t.winnerContent!=TournamentProtocol.WinnerContentType.Default),t.winnerContent==TournamentProtocol.WinnerContentType.Title_0&&(this.titleLabel.text=this.localizedTitleLabel_0.text),t.winnerContent==TournamentProtocol.WinnerContentType.Title_1&&(this.titleLabel.text=this.localizedTitleLabel_1.text))},PrizeDropWinner.prototype.CountryFlagAdjustPlayerScoreWidths=function(t){var e;this.betLabel.gameObject.activeSelf&&(this.betWidth<0&&(this.betWidth=this.betLabel.width),t?(e=this.countryFlagPlayerLabel.transform.localPosition(),t=this.betLabel.transform.localPosition(),e=Math.round(.5*(t.x-e.x-this.countryFlagPlayerScoreSpacing)),this.betLabel.width=this.countryFlagPlayerLabel.width=e*this.betLabel.resize):this.betLabel.width=this.betWidth)},goog.require("UHT.TournamentDetails"),TournamentPrizes.prototype=Object.create(TournamentDetails.prototype),(TournamentPrizes.prototype.constructor=TournamentPrizes).prototype.OnTournamentDetailsUpdated=function(){this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))},TournamentPrizes.prototype.OnSelectedTournamentIDChanged=function(t){var e=PromotionsHelper.FindDetails(t);if(this.UpdateContents(e),null!=e){for(var i=0;i<this.prizes.length;++i)this.prizes[i].currency=e.prizePool.currency;if(null!=e.prizePool.prizesList)return void this.scrollableList.SetValues(e.prizePool.prizesList.slice())}this.scrollableList.SetValues(null)},TournamentPrizes.prototype.UpdateContents=function(t){if(this.hasAlternativeContents){for(var e=null!=t&&null!=t.prizePool&&null!=t.prizePool.prizesList&&0<t.prizePool.prizesList.length,i=0;i<this.contents.length;++i)this.contents[i].SetActive(e);for(i=0;i<this.alternativeContents.length;++i)this.alternativeContents[i].SetActive(!e)}},goog.require("UHT.TournamentDetails"),goog.require("UHT.PromotionRule"),TournamentRules.prototype=Object.create(TournamentDetails.prototype),(TournamentRules.prototype.constructor=TournamentRules).prototype.ForceUpdate=function(){this.OnTournamentDetailsUpdated()},TournamentRules.prototype.OnTournamentDetailsUpdated=function(){if(null!=this.details)for(var t=0;t<this.details.length;++t){var e,i=this.tournamentIDs.indexOf(this.details[t].uid);i<0?(this.needUpdate=!0,(e=new PromotionRule).uid=this.details[t].uid,e.sampleLabel=this.sampleLabel,e.maxLabelWidth=this.maxLabelWidth,e.UpdateRules(this.useHtmlRulesForOptIn?this.details[t].htmlRulesForOptIn:this.details[t].htmlRules),this.tournamentIDs.push(this.details[t].uid),this.tournamentRules.push(e),this.tournamentRulesIndices.push(0)):this.tournamentRules[i].rules!=(this.useHtmlRulesForOptIn?this.details[t].htmlRulesForOptIn:this.details[t].htmlRules)&&(this.needUpdate=!0,this.tournamentRules[i].UpdateRules(this.useHtmlRulesForOptIn?this.details[t].htmlRulesForOptIn:this.details[t].htmlRules))}},TournamentRules.prototype.OnSelectedTournamentIDChanged=function(t){if(!this.isManual||this.isManualUpdate){var e=this.tournamentIDs.indexOf(this.tournamentID);if(0<=e&&(this.tournamentRulesIndices[e]=this.scrollableList.items[0].valueIdx),this.tournamentID=t,this.needUpdate=!0,0<=(e=this.tournamentIDs.indexOf(this.tournamentID))){if(this.tournamentRules[e].isSplit)return void this.scrollableList.UpdateValuesAndIndex(this.tournamentRules[e].GetSplitLines().slice(),this.tournamentRulesIndices[e]);if(this.tournamentRules[e].splitRules.length<this.maxNumberOfLinesFirstUpdate)return void(this.isFirstUpdate=!0)}this.scrollableList.SetValues(null)}},TournamentRules.prototype.Update=function(){var t;this.isTournamentsVisible&&this.isRulesVisible&&this.needUpdate&&(0<=(t=this.tournamentIDs.indexOf(this.tournamentID))&&!this.tournamentRules[t].isSplit?this.isFirstUpdate?(this.isFirstUpdate=!1,this.tournamentRules[t].maxNumberOfLines=this.maxNumberOfLinesFirstUpdate,this.scrollableList.UpdateValuesAndIndex(this.tournamentRules[t].GetSplitLines().slice(),this.tournamentRulesIndices[t])):(this.tournamentRules[t].maxNumberOfLines=this.maxNumberOfLinesPerUpdate,this.scrollableList.UpdateValues(this.tournamentRules[t].GetSplitLines().slice())):this.needUpdate=!1)},TournamentRules.prototype.RulesVisible=function(t){this.isRulesVisible=_bool.Parse(t)},TournamentRules.prototype.TournamentsVisible=function(t){this.isTournamentsVisible=_bool.Parse(t)},TournamentRules.prototype.SetVisible=function(t){this.isRulesVisible=t,this.isTournamentsVisible=t},TournamentRules.prototype.UpdateRulesManually=function(t){this.isManualUpdate=!0,this.OnSelectedTournamentIDChanged(t),this.isManualUpdate=!1},goog.require("UHT.ScrollableListItem"),TournamentRulesItem.prototype=Object.create(ScrollableListItem.prototype),(TournamentRulesItem.prototype.constructor=TournamentRulesItem).prototype.UpdateValue=function(t){this.gameObject.SetActive(null!=t),null!=t&&(this.label.text=t)},goog.require("UHT.XTLink"),TournamentsManager.prototype=Object.create(XTLink.prototype),(TournamentsManager.prototype.constructor=TournamentsManager).updateDefaultView=!0,TournamentsManager.showTournamentsFrame=-1,TournamentsManager.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackInt(TournamentVars.ServerTime,this.OnServerTimeUpdated,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated,this.OnTournamentsUpdated,this),XT.RegisterCallbackString(TournamentVars.SelectedTournamentID,this.OnSelectedTournamentIDChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState,this.OnVSGameStateChanged,this),XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen,this.HideTournaments,this)},TournamentsManager.prototype.XTInitVariablesAndEvents=function(){XT.SetString(TournamentVars.SelectedTournamentID,""),XT.SetString(TournamentVars.RankPromotionID,""),XT.SetInt(TournamentVars.MenuPromotionType,TournamentProtocol.PromoType.Invalid)},TournamentsManager.prototype.OnVSGameStateChanged=function(){var t=VSGameStateManager.GetState();t!=VSGameState.Spin&&t!=VSGameState.SpinBonusRounds||this.HideTournaments()},TournamentsManager.prototype.OnServerTimeUpdated=function(t){this.serverTime=t},TournamentsManager.prototype.OnTournamentsUpdated=function(){this.UpdateTournaments(XT.GetObject(TournamentVars.Tournaments))},TournamentsManager.prototype.UpdateTournaments=function(t){if(this.visibleTournamentsCount=null!=t?t.length:0,0<this.visibleTournamentsCount)return this.EnableTournaments(),this.scrollableList.UpdateValues(t.slice()),_string.IsNullOrEmpty(XT.GetString(TournamentVars.SelectedTournamentID))&&XT.SetString(TournamentVars.SelectedTournamentID,t[0].uid),void(this.isHiddenMode&&this.DisableTournaments());this.scrollableList.UpdateValues(null),this.DisableTournaments()},TournamentsManager.prototype.OnSelectedTournamentIDChanged=function(t){for(var e=0;e<this.tournaments.length;++e)this.tournaments[e].UpdateSelectedTournamentID(t)},TournamentsManager.prototype.OnScrollableListItemClicked=function(t){t=_number.otoi(t),t=this.scrollableList.items[t];null!=t.tournamentData&&(XT.SetString(TournamentVars.SelectedTournamentID,t.tournamentData.uid),null!=this.catTournamentClicked&&(this.catTournamentClicked.IsRunning()&&this.catTournamentClicked.Stop(),this.catTournamentClicked.Start()))},TournamentsManager.prototype.Update=function(){this.serverTime+=Time.deltaTime,XT.SetInt(TournamentVars.ServerTime,_number.otoi(this.serverTime)),this.enableBtnTimer+=Time.deltaTime},TournamentsManager.prototype.DisableTournaments=function(){this.isEnabled&&(this.isEnabled=!1,this.StopRunningEvents(),this.catDisableTournaments.Start())},TournamentsManager.prototype.EnableTournaments=function(){this.isEnabled||(this.isEnabled=!0,this.StopRunningEvents(),this.catEnableTournaments.Start())},TournamentsManager.prototype.ShowTournaments=function(){var t,e,i;this.isEnabled&&(this.isVisible||(i=XT.GetString(TournamentVars.RankPromotionID),e=PromotionsHelper.GetPromotionType(i),e=((t=XT.GetInt(TournamentVars.MenuPromotionType))==TournamentProtocol.PromoType.Invalid||t==e)&&TournamentsManager.showTournamentsFrame!=Time.frameCount,TournamentsManager.showTournamentsFrame=Time.frameCount,XT.SetInt(TournamentVars.MenuPromotionType,TournamentProtocol.PromoType.Invalid),e&&XT.GetString(TournamentVars.SelectedTournamentID)!=i&&XT.SetString(TournamentVars.SelectedTournamentID,i),this.isVisible=!0,this.StopRunningEvents(),i=this.catShowTournaments,(i=this.showOnlyDetailsIfOneTournament&&1==this.visibleTournamentsCount?this.catShowTournamentDetails:i).Start(),TournamentsManager.updateDefaultView&&(TournamentsManager.updateDefaultView=!1,this.useDefaultViewCats&&((i=1==this.visibleTournamentsCount?this.catDefaultViewSingle:this.catDefaultViewMultiple).Start(),i=PromotionsHelper.GetPromotionType(XT.GetString(TournamentVars.SelectedTournamentID)),-1<(i=this.defaultViewType.indexOf(i))&&this.catDefaultViewByType[i].Start()))))},TournamentsManager.prototype.HideTournaments=function(){var t;this.isEnabled&&this.isVisible&&(this.isVisible=!1,this.StopRunningEvents(),t=this.catHideTournaments,(t=this.showOnlyDetailsIfOneTournament&&1==this.visibleTournamentsCount?this.catHideTournamentDetails:t).Start())},TournamentsManager.prototype.StopRunningEvents=function(){this.catEnableTournaments.IsRunning()&&this.catEnableTournaments.Stop(),this.catDisableTournaments.IsRunning()&&this.catDisableTournaments.Stop(),this.catShowTournaments.IsRunning()&&this.catShowTournaments.Stop(),this.catHideTournaments.IsRunning()&&this.catHideTournaments.Stop(),this.showOnlyDetailsIfOneTournament&&(this.catShowTournamentDetails.IsRunning()&&this.catShowTournamentDetails.Stop(),this.catHideTournamentDetails.IsRunning()&&this.catHideTournamentDetails.Stop())},TournamentsManager.prototype.StopRunningDetailsEvents=function(){this.catShowDetails.IsRunning()&&this.catShowDetails.Stop(),this.catHideDetails.IsRunning()&&this.catHideDetails.Stop()},TournamentsManager.prototype.ShowDetails=function(){this.catShowTournaments.IsRunning()?this.catShowTournaments.RegisterCallback(this.OnShowTournamentsEnded,this):(this.StopRunningDetailsEvents(),this.catShowDetails.Start())},TournamentsManager.prototype.HideDetails=function(){this.StopRunningDetailsEvents(),this.catHideDetails.Start()},TournamentsManager.prototype.OnShowTournamentsEnded=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&(this.ShowDetails(),this.catShowTournaments.UnregisterCallback(this.OnShowTournamentsEnded,this))},TournamentsManager.prototype.EnableBtnClicked=function(){1<this.enableBtnTimer&&(this.enableBtnTimer=0,this.enableBtnClickedTimes=0),this.enableBtnClickedTimes++,5==this.enableBtnClickedTimes&&this.DisableHiddenMode()},TournamentsManager.prototype.DisableHiddenMode=function(){this.isHiddenMode=!1,this.catDisableHiddenMode.Start(),this.UpdateTournaments(XT.GetObject(TournamentVars.Tournaments))},TournamentsManager.prototype.ScrollToSelectedPromotion=function(){var t=XT.GetString(TournamentVars.SelectedTournamentID);if(this.scrollableList.isScrollable()){for(var e=0,i=this.scrollableList.itemValues,n=0;n<i.length;++n){var o=i[n];if(null!=o&&o.uid==t){e=n;break}}this.scrollableList.hasExtraItem&&e--;var s=e+(this.scrollableList.items.length-1),r=this.scrollableList.itemValues.length-1;e-=r<s?s-r:0,this.scrollableList.scrollRemain=0,this.scrollableList.UpdateValuesAndIndex(null,e,!0)}},goog.require("UHT.XTLink"),TournamentsRank.prototype=Object.create(XTLink.prototype),(TournamentsRank.prototype.constructor=TournamentsRank).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated,this.OnTournamentsUpdated,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionClosedByTime,this.OnPromotionClosedByTime,this)},TournamentsRank.prototype.OnTournamentsUpdated=function(){if(this.SetEnabled(null!=XT.GetObject(TournamentVars.Tournaments)),this.isEnabled){var t=PromotionsHelper.GetRankInfo();if(this.isRotating||(this.isRotating=!0,this.startRotation.Start()),null!=this.contentSwitcher&&(this.contentSwitcher.SwitchByType(t.type),this.contentSwitcher.SwitchByStyle(t.style)),_string.IsNullOrEmpty(t.uid))this.HideRank(t),this.isRotating=!1;else if(XT.SetString(TournamentVars.RankPromotionID,t.uid),null!=this.tournament&&this.tournament.UpdateTournament(t.uid),t.value<0)this.isEndDateVisible||(this.isEndDateVisible=!0,this.isRankVisible=!1,this.catShowEndDate.Start());else{for(var e=t.type==TournamentProtocol.PromoType.Tournament?PromotionsHelper.FormatRank(t.uid,t.value):String(t.value),i=this.labels[0].text,n=0;n<this.labels.length;++n)this.labels[n].text=e;for(var o,n=0;n<this.labelsPrevious.length;++n)this.labelsPrevious[n].text=i;this.isRankVisible?null==this.infoPrev||t.type!=this.infoPrev.type||t.uid!=this.infoPrev.uid||e==i||null!=(o=t.value<this.infoPrev.value?this.rankUp:this.rankDown)&&null!=o.cat&&o.Start():(this.isRankVisible=!0,this.isEndDateVisible=!1,this.catShowRank.Start())}null!=this.infoPrev&&t.type!=this.infoPrev.type&&this.promotionTypeChanged.Start(),this.infoPrev=t}},TournamentsRank.prototype.NextPromotionType=function(){this.shouldAdvance&&PromotionsHelper.lastPromotionShownIndex++,this.OnTournamentsUpdated()},TournamentsRank.prototype.SetEnabled=function(t){if(this.isEnabled!=t&&(this.isEnabled=t,null!=this.enabledContents))for(var e=0;e<this.enabledContents.length;++e)this.enabledContents[e].SetActive(t)},TournamentsRank.prototype.HideRank=function(t){(this.isRankVisible||this.isEndDateVisible||t.type==TournamentProtocol.PromoType.Invalid)&&(this.isRankVisible=!1,this.isEndDateVisible=!1,this.catHideRank.Start())},TournamentsRank.prototype.OnPromotionClosedByTime=function(){var t;null!=this.infoPrev&&(t=XT.GetString(TournamentVars.ClosedByTimePromotionUID),this.infoPrev.uid==t&&this.HideRank(this.infoPrev))},goog.require("UHT.Engine"),ActivatorByIndex.prototype=Object.create(Component.prototype),(ActivatorByIndex.prototype.constructor=ActivatorByIndex).prototype.Activate=function(t,e){this.objects[t].SetActive(e)},goog.require("UHT.Engine"),CameraClippingEnabler.prototype=Object.create(Component.prototype),(CameraClippingEnabler.prototype.constructor=CameraClippingEnabler).prototype.EnableClipping=function(){this.gameObject.GetComponent(ExtraCameraSettings).enabled=!0,this.gameObject.GetComponent(ExtraCameraSettings).dirtyFlag=!0},CameraClippingEnabler.prototype.DisableClipping=function(){this.gameObject.GetComponent(ExtraCameraSettings).enabled=!1},goog.require("UHT.Engine"),ColliderProxy.prototype=Object.create(Component.prototype),(ColliderProxy.prototype.constructor=ColliderProxy).prototype.OnDisable=function(){this.enabled&&this.notifyOnDisable&&this.OnPress(!1)},ColliderProxy.prototype.OnClick=function(){if(this.enabled&&this.notifyClick){var t=this.gameObject.GetComponent(ClickDelay);if(null==t||t.CanClick()){for(var e=0;e<this.boxColliders.length;++e)this.boxColliders[e].gameObject.SendMessage("OnClick");for(e=0;e<this.sphereColliders.length;++e)this.sphereColliders[e].gameObject.SendMessage("OnClick");this.SendMessageData(this.eventClick)}}},ColliderProxy.prototype.OnHover=function(t){this.enabled&&(this.Notify("OnHover",t,t?this.eventHoverOn:this.eventHoverOff),this.wasHover=t)},ColliderProxy.prototype.OnPress=function(t){this.enabled&&(this.Notify("OnPress",t,t?this.eventPress:this.eventRelease),this.wasPressed=t,this.wasHover&&this.OnHover(!1))},ColliderProxy.prototype.Notify=function(t,e,i){if("OnPress"==t&&(this.notifyPress&&e||this.notifyRelease&&!e)||"OnHover"==t&&(this.notifyHoverOn&&e||this.notifyHoverOff&&!e)){for(var n=0;n<this.boxColliders.length;++n)this.boxColliders[n].gameObject.SendMessage(t,e);for(n=0;n<this.sphereColliders.length;++n)this.sphereColliders[n].gameObject.SendMessage(t,e);this.SendMessageData(i)}},ColliderProxy.prototype.SendMessageData=function(t){for(var e=0;e<t.length;++e)MessageSender.SendMessage(t[e])},ColliderProxy.prototype.SetEnabled=function(t){t||this.OnDisable(),this.enabled=t},ColliderProxy.prototype.NotifyIfHovered=function(){this.wasHover&&this.OnHover(this.wasHover)},ColliderProxy.prototype.NotifyIfPressed=function(){this.wasPressed&&this.OnPress(this.wasPressed)},goog.require("UHT.Engine"),AnimClipChanger.prototype=Object.create(Component.prototype),(AnimClipChanger.prototype.constructor=AnimClipChanger).prototype.PlayAnim=function(t){this.gameObject.animation.Play(t)},goog.require("UHT.Engine"),ButtonEnabler.prototype=Object.create(Component.prototype),(ButtonEnabler.prototype.constructor=ButtonEnabler).prototype.Init=function(){this.uibuttons=this.target.GetComponents(UIButton),this.isInit=!0},ButtonEnabler.prototype.EnableButton=function(){this.isInit||this.Init();for(var t=0;t<this.uibuttons.length;t++)this.uibuttons[t].SetEnabled(!0)},ButtonEnabler.prototype.DisableButton=function(){this.isInit||this.Init();for(var t=0;t<this.uibuttons.length;t++)this.uibuttons[t].SetEnabled(!1)},goog.require("UHT.Engine"),ColliderEnabler.prototype=Object.create(Component.prototype),(ColliderEnabler.prototype.constructor=ColliderEnabler).prototype.EnableCollider=function(){if(this.includeChildren)for(var t=this.GetComponentsInChildren(Collider,!0),e=0;e<t.length;++e)t[e].enabled=!0;else this.gameObject.collider.enabled=!0;this.StartCATLink(this.enable)},ColliderEnabler.prototype.DisableCollider=function(){if(this.includeChildren)for(var t=this.GetComponentsInChildren(Collider,!0),e=0;e<t.length;++e)t[e].enabled=!1;else this.gameObject.collider.enabled=!1;this.StartCATLink(this.disable)},ColliderEnabler.prototype.StartCATLink=function(t){null==t&&null==t.cat||t.Start()},goog.require("UHT.Engine"),MoveTransformToTarget.prototype=Object.create(Component.prototype),(MoveTransformToTarget.prototype.constructor=MoveTransformToTarget).prototype.StartMoving=function(){this.moving=!0,this.currentTime=0,this.useTimeChannel&&(this.myTimeChannel=Globals.RegisterToTimeChannel(this,this.timeChannelID)),this.totalCurveTime=this.speedCurve.keys[this.speedCurve.keys.length-1].time-this.speedCurve.keys[0].time,this.startPosition=new UHTMath.Vector3(this.movingTransform.position().x,this.movingTransform.position().y,this.movingTransform.position().z),this.resetPosition=new UHTMath.Vector3(this.movingTransform.localPosition().x,this.movingTransform.localPosition().y,this.movingTransform.localPosition().z),this.startScale=new UHTMath.Vector3(this.movingTransform.localScale().x,this.movingTransform.localScale().y,this.movingTransform.localScale().z),this.resetScale=new UHTMath.Vector3(this.movingTransform.localScale().x,this.movingTransform.localScale().y,this.movingTransform.localScale().z)},MoveTransformToTarget.prototype.ResetPosition=function(){this.resetStopsMovement&&(this.moving=!1),this.alsoScaleToTarget&&this.movingTransform.localScale(this.resetScale),this.movingTransform.localPosition(this.resetPosition)},MoveTransformToTarget.prototype.Update=function(){var t,e;this.moving&&(e=this.currentTime/this.moveDuration,2<=this.speedCurve.keys.length&&(t=e*this.totalCurveTime,e=this.speedCurve.Evaluate(t+this.speedCurve.keys[0].time),e=UHTMath.clamp(e,0,1)),0<=e&&e<=1&&(this.alsoScaleToTarget&&this.movingTransform.localScale(UHTMath.Vector3.lerp(this.startScale,this.target.localScale(),e)),this.movingTransform.position(UHTMath.Vector3.lerp(this.startPosition,this.target.position(),e))),this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(this.currentTime<this.moveDuration&&(this.currentTime+=Time.deltaTime),this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:this.currentTime<this.moveDuration&&(this.currentTime+=Time.deltaTime),this.currentTime>=this.moveDuration&&(this.useTimeChannel&&Globals.UnregisterFromTimeChannel(this,this.timeChannelID),this.alsoScaleToTarget&&this.movingTransform.localScale(this.target.localScale()),this.movingTransform.position(this.target.position()),this.moving=!1,this.resetAtTheEnd&&this.ResetPosition()))},MoveTransformToTarget.prototype.Stop=function(){this.moving=!1},goog.require("UHT.Engine"),MovieController.prototype=Object.create(Component.prototype),(MovieController.prototype.constructor=MovieController).prototype.Init=function(){if(!this.isInit){for(var t=!0,e=0;e<this.frames;e++)for(var i=0;i<this.numberOfPieces[e];i++){var n=this.atlases[this.atlasIdxPerFramePerPiece[e].id[i]];n.isLoaded()||(n.initAtlas(),t=!1)}if(t){for(var o=0;o<this.frames;o++){this.atlasIdxPerFramePerPiece[o].cachedTex=_array.create(this.atlasIdxPerFramePerPiece[o].id.length);for(var s=0;s<this.numberOfPieces[o];s++){var r=this.atlases[this.atlasIdxPerFramePerPiece[o].id[s]];this.atlasIdxPerFramePerPiece[o].cachedTex[s]=r.getTextureForSimpleSprite(null,"Frame_"+o+"_p"+s)}}this.panel=this.gameObject.GetComponent(UIPanel);var a=this.atlasIdxPerFramePerPiece[0].cachedTex[0];0<this.movieWidth?(this.width=this.movieWidth,this.height=this.movieHeight):(this.width=a.trim.width,this.height=a.trim.height),this.deltaMovie?(this.frameBuffer=new PIXI.RenderTexture(globalRenderer.renderer,this.width,this.height),this.pixiObjectContent=new PIXI.Sprite(this.frameBuffer),this.pixiObjectContent.blendMode=this.atlases[0].blendMode,this.pixiObjectContent.anchor.x=.5,this.pixiObjectContent.anchor.y=.5):this.pixiObjectContent=new PIXI.Container(null),this.pixiObject.addChild(this.pixiObjectContent),this.isInit=!0,null!=this.fallback&&this.fallback.activeSelf&&this.fallback.SetActive(!1)}}},MovieController.prototype.Start=function(){this.Init()},MovieController.prototype.OnWillRenderObject=function(){if(this.isInit||(this.Init(),this.isInit))if(this.pixiObject.dirtyWT=!0,this.deltaMovie){(a=this.pixiObjectContent).tint=this.color.rgbAsHex,null!=this.panel?a.alpha=this.color.a*this.panel.alpha:a.alpha=this.color.a,a.worldAlpha=a.alpha;var t=this.gameObject.transform,e=this.pixiObject,i=t.parent.transform;e.x=i._dangerous_get_position().x,e.y=-i._dangerous_get_position().y,a.x=t._dangerous_get_localPosition().x,a.y=-t._dangerous_get_localPosition().y,e.rotation=-i._dangerous_get_rotation().eulerAnglesRad().z,a.rotation=-t._dangerous_get_localRotation().eulerAnglesRad().z,e.scale.x=i._dangerous_get_scale().x,e.scale.y=i._dangerous_get_scale().y,a.width=this.width*t._dangerous_get_localScale().x,a.height=this.height*t._dangerous_get_localScale().y}else{if(this.oldFrame!=this.currentFrame){this.pixiObjectContent.children=[];for(var n=this.currentFrame,o=0;o<this.numberOfPieces[n];o++){var s=new PIXI.Sprite(this.atlasIdxPerFramePerPiece[n].cachedTex[o]),r=this.atlases[this.atlasIdxPerFramePerPiece[n].id[o]].resize/100;s.width=this.width/r,s.height=this.height/r,s.anchor.x=.5,s.anchor.y=.5,s.blendMode=this.atlases[0].blendMode,this.pixiObjectContent.addChild(s)}this.oldFrame=this.currentFrame}for(var a=this.pixiObjectContent,l=0;l<a.children.length;l++){var u=a.children[l];u.tint=this.color.rgbAsHex,null!=this.panel?u.alpha=this.color.a*this.panel.alpha:u.alpha=this.color.a,u.worldAlpha=u.alpha}t=this.gameObject.transform,e=this.pixiObject,i=t.parent.transform;e.x=i._dangerous_get_position().x,e.y=-i._dangerous_get_position().y,a.x=t._dangerous_get_localPosition().x,a.y=-t._dangerous_get_localPosition().y,e.rotation=-i._dangerous_get_rotation().eulerAnglesRad().z,a.rotation=-t._dangerous_get_localRotation().eulerAnglesRad().z,e.scale.x=i._dangerous_get_scale().x,e.scale.y=i._dangerous_get_scale().y,a.scale.x=t._dangerous_get_localScale().x,a.scale.y=t._dangerous_get_localScale().y}},MovieController.prototype.StartPlaying=function(){this.deltaMovie&&!this.deltaIsOpaque&&this.ClearFrameBuffer(),this.time=0,this.currentFrame=this.startFrame,this.isPlaying=!0},MovieController.prototype.Reset=function(){this.time=0,this.currentFrame=this.startFrame},MovieController.prototype.OnEnable=function(){this.playAutomatically&&this.StartPlaying(),this.resetOnEnable&&this.Reset(),this.isInit||null==this.fallback||this.fallback.SetActive(!0)},MovieController.prototype.OnDisable=function(){null!=this.fallback&&this.fallback.activeSelf&&this.fallback.SetActive(!1)},MovieController.prototype.OnUpdateRenderTexture=function(){if(this.deltaMovie&&(this.isInit||(this.Init(),this.isInit))){var t,e,i;if(this.oldFrame>this.currentFrame&&(this.oldFrame=-1),this.oldFrame!=this.currentFrame){for(o=new PIXI.Container(null),s=this.oldFrame+1;s<=this.currentFrame;s++)for(i=0;i<this.numberOfPieces[s];i++)t=new PIXI.Sprite(this.atlasIdxPerFramePerPiece[s].cachedTex[i]),e=this.atlases[this.atlasIdxPerFramePerPiece[s].id[i]].resize/100,t.width=this.width/e,t.height=this.height/e,o.addChild(t);this.frameBuffer.render(o),this.oldFrame=this.currentFrame,this.oldSubFrame=this.currentSubFrame=0}if(this.currentSubFrame=this.time/(1/this.FPS/this.blendSteps)|0,this.oldSubFrame!=this.currentSubFrame){var n=1/this.blendSteps,o=new PIXI.Container(null),s=this.currentFrame+1;for(this.loop&&(s%=this.frames),i=0;i<this.numberOfPieces[s];i++)t=new PIXI.Sprite(this.atlasIdxPerFramePerPiece[s].cachedTex[i]),e=this.atlases[this.atlasIdxPerFramePerPiece[s].id[i]].resize/100,t.width=this.width/e,t.height=this.height/e,t.alpha=n,o.addChild(t);this.frameBuffer.render(o),this.oldSubFrame=this.currentSubFrame}}},MovieController.prototype.Update=function(){if((this.isInit||!this.pausedUntilReady)&&this.isPlaying)for(this.time+=Time.deltaTime;this.time>1/this.FPS;)this.superTrimPlayInReverse?this.currentFrame--:this.currentFrame++,this.currentFrame==this.frames&&(this.currentFrame--,this.loop?this.currentFrame=0:this.isPlaying=!1),this.currentFrame<0&&(this.currentFrame=0,this.loop?this.currentFrame+=this.frames:this.isPlaying=!1),!this.isPlaying&&null!=this.callback&&this.canStartCallback&&this.callback.Start(),this.time=this.time-1/this.FPS},MovieController.prototype.SetIsPlaying=function(t){this.isPlaying=_bool.Parse(t)},MovieController.prototype.SetLoop=function(t){this.loop=_bool.Parse(t)},MovieController.prototype.SetCanStartCallback=function(t){this.canStartCallback=_bool.Parse(t)},MovieController.prototype.Pause=function(){this.isPlaying=!1},MovieController.prototype.Resume=function(){this.isPlaying=!0},MovieController.prototype.ClearFrameBuffer=function(){var t=this.frameBuffer;null!=t&&t.clear()},MovieController.prototype.GoToFrame=function(t){this.currentFrame!=t&&(this.deltaMovie&&(this.oldFrame=-1,this.deltaIsOpaque||this.ClearFrameBuffer()),this.currentFrame=t)},goog.require("UHT.Engine"),MultipleParticlesEnabler.prototype=Object.create(Component.prototype),(MultipleParticlesEnabler.prototype.constructor=MultipleParticlesEnabler).prototype.Awake=function(){0==this.particlesGenerators.length&&(this.particlesGenerators=this.gameObject.GetComponentsInChildren(ParticleSystem,!0));for(var t=0;t<this.particlesGenerators.length;t++)this.particlesGenerators[t].enableEmission=this.generateParticlesOnStart,this.particlesGenerators[t].gameObject.SetActive(!0)},MultipleParticlesEnabler.prototype.EnableEmission=function(){this.ChangeEmissionState(!0)},MultipleParticlesEnabler.prototype.DisableEmission=function(){this.ChangeEmissionState(!1)},MultipleParticlesEnabler.prototype.ChangeEmissionState=function(t){null==this.particlesGenerators&&this.Awake();for(var e=0;e<this.particlesGenerators.length;e++)this.particlesGenerators[e].enableEmission=t},goog.require("UHT.Engine"),ParticlesControlledActive.prototype=Object.create(Component.prototype),(ParticlesControlledActive.prototype.constructor=ParticlesControlledActive).prototype.Update=function(){for(var t,e=0,i=0;i<this.particles.length;++i)e+=this.particles[i].particleCount;if((t=0<e)!=this.wasEnabled){this.wasEnabled=t;for(i=0;i<this.objects.length;++i)this.objects[i].SetActive(t)}},goog.require("UHT.Engine"),ParticlesEnabler.prototype=Object.create(Component.prototype),(ParticlesEnabler.prototype.constructor=ParticlesEnabler).prototype.Awake=function(){null==this.particles&&(this.particles=this.gameObject.GetComponentsInChildren(ParticleSystem,!0)[0]),this.pEnabled=this.particles.enableEmission,this.pEnabled||this.particles.gameObject.SetActive(!1)},ParticlesEnabler.prototype.OnDisable=function(){this.particles.gameObject!==this.gameObject&&this.particles.gameObject.SetActive(this.pEnabled)},ParticlesEnabler.prototype.EnableEmission=function(t){null==this.particles&&this.Awake(),this.pEnabled=t,(this.particles.enableEmission=t)?this.particles.gameObject.SetActive(!0):this.gameObject.activeInHierarchy&&(this.disableIfNoEmission=!0)},ParticlesEnabler.prototype.SetEmissionEnabled=function(){this.EnableEmission(!0)},ParticlesEnabler.prototype.SetEmissionDisabled=function(){this.EnableEmission(!1)},ParticlesEnabler.prototype.Update=function(){this.disableIfNoEmission&&0==this.particles.particleCount&&(this.particles.gameObject.SetActive(!1),this.disableIfNoEmission=!1)},goog.require("UHT.XTLink"),ResultDisplayerDelayer.prototype=Object.create(XTLink.prototype),(ResultDisplayerDelayer.prototype.constructor=ResultDisplayerDelayer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived,this.OnResultReceived,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin,this.OnFastStop,this)},ResultDisplayerDelayer.prototype.OnFastStop=function(){this.fastStop=!0},ResultDisplayerDelayer.prototype.OnGameInit=function(){this.rq=XT.GetObject(Vars.RQManagerObject),this.rm=XT.GetObject(Vars.ReelsManagerObject)},ResultDisplayerDelayer.prototype.OnResultReceived=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts,this.OnLoopStarts,this)},ResultDisplayerDelayer.prototype.OnLoopStarts=function(t){0==this.fastStop&&this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.GetDelay())),this.fastStop=!1,XT.UnregisterCallbackEvent(this.OnLoopStarts,this)},ResultDisplayerDelayer.prototype.GetDelay=function(){for(var t=0,e=0;e<this.symbolsDelays.length;e++)for(var i=0;i<this.symbolsDelays[e].affectedReels.length;i++)for(var n=this.symbolsDelays[e].affectedReels[i],o=0;o<this.rm.reels[n].symbolHolders.length;o++)if(this.rm.reels[n].symbolHolders[o].currentSymbol.symbolId==this.symbolsDelays[e].symbolId){t<this.symbolsDelays[e].reelDelay[i]&&(t=this.symbolsDelays[e].reelDelay[i]);break}return t},goog.require("UHT.Engine");var SpineControllerMode={Default:0,DefaultThenReset:1,Loop:2},SpineControllerAction={Reset:0,Play:1,Resume:2,Pause:3,NoAction:69},SpineControllerCATAction={Reset:0,Play:1,Resume:2,Pause:3,Stop:4,Sample:5,NoAction:69};function UHTSpineAtlases(){this.atlases=null}function UHTSpine(){this.name="",this.spineJSON="",this.spineAtlas=null,this.resource=null,this.scale=1}function SpineController(){Component.call(this),this.spine=null,this.spineData=null,this.spineAtlases=null,this.animationName="",this.animationTime=-1,this.animationMode=SpineControllerMode.Default,this.onEnable=SpineControllerAction.Reset,this.onComplete=null,this.color=null,this.duration=0,this.speed=0,this.trackTime=0,this.sampleTime=0,this.sampleTimeIsNormalized=!1,this.isPlaying=!1,this.prevAnimationName="",this.direction=1,this.trackEntry=null,this.actions=[],this.panel=null,this.pixiObject=new PIXI.Container(null),this.isInit=!1,this.exportedWithPMA=!1,this.isUpdated=!1,this.frameOfLastUpdate=-1,this.needUpdateSpine=!1,this.waitForLocalization=!0}function SpineCustomAnimator(){Component.call(this),this.spineController=null,this.animationName="",this.animationTime=1,this.playAutomatically=!1,this.playReverse=!1,this.useTimeChannel=!1,this.timeChannelID=0,this.StopOnDisable=!0,this.noPauseAtPingPongEnd=!1,this.playMode=SpineCustomAnimator.PlayMode.Default,this.animationCurve=null,this.loopDelay=0,this.timeScale=1,this.firstCurveKey=null,this.lastCurveKey=null,this.totalCurveTime=0,this.currentTime=0,this.direction=1,this.playing=!1,this.reset=!1,this.myTimeChannel=null,this.elapsedDelay=0}function SpriteFramesAnimator(){Component.call(this),this.animationTime=1,this.spriteNamePrefix="",this.playAutomatically=!1,this.playReverse=!1,this.useTimeChannel=!1,this.timeChannelID=0,this.Snap=!0,this.StopOnDisable=!0,this.SameFrameSize=!1,this.noPauseAtPingPongEnd=!1,this.playMode=SpriteFramesAnimator.PlayMode.Default,this.animationCurve=null,this.animationAtlases=null,this.loopDelay=0,this.timeScale=1,this.mSprite=null,this.firstCurveKey=null,this.lastCurveKey=null,this.totalCurveTime=0,this.currentTime=0,this.direction=1,this.playing=!1,this.reset=!1,this.mSpriteNames=null,this.myTimeChannel=null,this.elapsedDelay=0}function SpriteNameAtlasPair(t,e){this.name=t,this.atlas=e}function SpriteSizeAnimator(){Component.call(this),this.targetSprite=null,this.animationTime=1,this.startSize=null,this.endSize=null,this.playAutomatically=!1,this.resetOnDisable=!1,this.playMode=SpriteFramesAnimator.PlayMode.Default,this.animationCurve=null,this.affectsWidth=!0,this.affectsHeight=!0,this.targetCollider=null,this.extraSize=!1,this.playing=!1,this.mustStop=!1,this.currentTime=0,this.totalCurveTime=1,this.direction=1}function CurveValueAnimator(){Component.call(this),this.descriptiom="",this.animatedMemberTargets=[],this.curve=null,this.Loop=!0,this.isStarted=!1,this.startTime=0,this.lastKeyTime=0}function FloatAnimatedMonoBehaviour(){Component.call(this),this.AnimatedF=0}function AlphaAnimatedSprite(){FloatAnimatedMonoBehaviour.call(this),this.resetValue=.75,this.oldAlpha=-1,this.mySprite=null}function CustomDragObject(){Component.call(this),this.target=null,this.movement=null,this.messageDragStarts=null,this.messageDragEnds=null,this.swipeOverridesDrag=!1,this.swipeMaxTime=.3,this.swipeMinDistance=.05,this.messageSwipeUp=null,this.messageSwipeDown=null,this.messageSwipeLeft=null,this.messageSwipeRight=null,this.swipeStartTime=0,this.cachedCamera=null,this.lastMousePosition=null,this.mouseTotalDelta=null,this.isPressed=!1,this.isStarted=!1,this.isHover=!1,this.limitPosition=!1,this.localPositionLimitMin=null,this.localPositionLimitMax=null,this.useScrollWheel=!1,this.scrollWheelMovement=null,this.wheelDirection=0,this.useOnlyScrollWheel=!1}function registerCustomDragObjectAsListener(t,e,i){window.addEventListener(t,e,i)}function ElementsFader(){TwoFloatsAnimatedMonoBehaviour.call(this),this.labelsToFade=[],this.spritesToFade=[],this.resetValue_1=1,this.resetValue_2=1,this.alphaValue=-1,this.oldAlpha=-1}function GameWindow(){XTLink.call(this),this.isEnabled=!0,this.showOnEvents=[],this.hideOnEvents=[],this.triggerAfterShow=[],this.triggerAfterHide=[],this.cat=null,this.showEventId=null,this.hideEventId=null,this.waitForBigWin=!1,this.waitForWinCount=!1,this.showAfterWinCount=!1,this.showAfterBigWinClear=!1}SpineController.prototype=Object.create(Component.prototype),(SpineController.prototype.constructor=SpineController).spineAtlasParser=null,SpineController.prototype.Init=function(){this.spineData.spineJSON instanceof Object||(this.spineData.spineJSON=JSON.parse(atob(String(this.spineData.spineJSON))));for(var t=!0,e=0;e<this.spineAtlases.length;++e)for(var i=0;i<this.spineAtlases[e].atlases.length;++i)(r=this.spineAtlases[e].atlases[i]).isLoaded()||(r.initAtlas(),t=!1);if(t){if(null==this.spineData.spineAtlas){var n=PIXI.spine.core;this.spineData.spineAtlas=new n.TextureAtlas;for(var o=this.spineData.spineAtlas.pages,s=this.spineData.spineAtlas.regions,e=0;e<this.spineAtlases.length;++e)for(i=0;i<this.spineAtlases[e].atlases.length;++i){var r,a=(r=this.spineAtlases[e].atlases[i]).pixiTexture.baseTexture;a.premultipliedAlpha=!this.exportedWithPMA;var l,u=new n.TextureAtlasPage;for(l in u.name=r.gameObject.name,u.width=a.realWidth,u.height=a.realHeight,u.baseTexture=a,u.minFilter=u.magFilter=n.TextureFilter.Linear,u.uWrap=n.TextureWrap.ClampToEdge,u.vWrap=n.TextureWrap.ClampToEdge,o.push(u),r.cachedSprites){var h=r.cachedSprites[l],c=h.rotate?h.height:h.width,p=h.rotate?h.width:h.height,d=h.rotate?6:0,m=new PIXI.Rectangle(h.x,h.y,c,p),S=new PIXI.Rectangle(h.x,h.y,c,p),p=h.rotate?new PIXI.Rectangle(h.paddingBottom,h.paddingLeft,c+h.paddingBottom+h.paddingTop,p+h.paddingLeft+h.paddingRight):new PIXI.Rectangle(h.paddingLeft,h.paddingTop,c+h.paddingLeft+h.paddingRight,p+h.paddingTop+h.paddingBottom),p=new PIXI.Texture(r.pixiTexture,m,S,p,d),d=new n.TextureAtlasRegion;d.name=l,d.page=u,d.texture=p,d.index=h.index,d.texture._updateUvs(),s.push(d),r.cachedSimpleSpriteInfo[r.cachedSpriteNames[l]]=p}}this.spineData.resource={data:this.spineData.spineJSON,metadata:{spineAtlas:this.spineData.spineAtlas}},null==SpineController.spineAtlasParser&&(SpineController.spineAtlasParser=PIXI.spine.atlasParser()),SpineController.spineAtlasParser(this.spineData.resource,SpineController.OnAtlasParsed)}this.spine=new PIXI.spine.Spine(this.spineData.resource.spineData),this.spine.autoUpdate=!1,this.panel=this.gameObject.GetComponent(UIPanel),this.isInit=!0}},SpineController.OnAtlasParsed=function(){},SpineController.prototype.OnEnable=function(){this.actions.push(this.onEnable),this.Update()},SpineController.prototype.OnDisable=function(){null!=this.spine&&this.spine.state.clearTracks()},SpineController.prototype.Update=function(){if((!this.waitForLocalization||ModificationsManager.Applied)&&this.frameOfLastUpdate!=Time.frameCount){if(!this.isInit){if(this.Init(),!this.isInit)return;this.pixiObject.addChild(this.spine)}this.frameOfLastUpdate=Time.frameCount,this.SetupAnimation();for(var t=0;t<this.actions.length;++t)this.actions[t]==SpineControllerCATAction.Reset?this.Reset():this.actions[t]==SpineControllerCATAction.Play?this.PlayInternal():this.actions[t]==SpineControllerCATAction.Resume?this.Resume():this.actions[t]==SpineControllerCATAction.Pause?this.PauseInternal():this.actions[t]==SpineControllerCATAction.Stop?this.Stop():this.actions[t]==SpineControllerCATAction.Sample&&(this.sampleTimeIsNormalized&&(this.sampleTime*=this.duration),this.SampleTime(this.sampleTime));this.actions.splice(0),this.UpdateSpine(),this.isUpdated=!0}},SpineController.prototype.UpdateSpine=function(){null!=this.trackEntry&&(this.needUpdateSpine||Math.abs(this.trackEntry.timeScale)>UHTMath.numberError)&&(this.needUpdateSpine=!1,this.spine.update(Time.deltaTime))},SpineController.prototype.LateUpdate=function(){null!=this.trackEntry&&(this.trackTime=this.trackEntry.animationLast)},SpineController.prototype.SetupAnimation=function(){var i;this.prevAnimationName!=this.animationName&&(this.prevAnimationName=this.animationName,this.spine.state.clearTracks(),this.SetToSetupPose()),this.trackEntry=this.spine.state.getCurrent(0),null==this.trackEntry&&((i=this).spine.loop=this.animationMode==SpineControllerMode.Loop,this.trackEntry=this.spine.state.addAnimation(0,this.animationName,this.spine.loop,0),this.trackEntry.listener={complete:function(t,e){SpineController.prototype.OnAnimationComplete.call(i,t)}},this.needUpdateSpine=!0),this.duration=this.trackEntry.animation.duration,this.speed=0<this.animationTime?this.duration/this.animationTime:1},SpineController.prototype.OnAnimationComplete=function(t){this.animationMode==SpineControllerMode.DefaultThenReset&&this.Reset(),this.animationMode!=SpineControllerMode.Loop&&(this.isPlaying=!1,this.trackEntry.timeScale=0,null!=this.onComplete&&this.onComplete.Start())},SpineController.prototype.Reset=function(){null!=this.trackEntry?(this.prevAnimationName="",this.SampleTime(0),this.isPlaying=!1):this.actions.push(SpineControllerCATAction.Reset)},SpineController.prototype.PlayInternal=function(){null!=this.trackEntry?(this.SetToSetupPose(),this.SampleTime(0),this.trackEntry.timeScale=this.speed*this.direction):this.actions.push(SpineControllerCATAction.Play)},SpineController.prototype.Play=function(){this.PlayInternal(),this.isPlaying=!0},SpineController.prototype.Stop=function(){this.Reset()},SpineController.prototype.PauseInternal=function(){null!=this.trackEntry?(this.SampleTime(this.trackTime),this.isPlaying=!1):this.actions.push(SpineControllerCATAction.Pause)},SpineController.prototype.Pause=function(){null!=this.trackEntry&&(this.trackTime=this.trackEntry.animationLast),this.PauseInternal()},SpineController.prototype.Resume=function(){null!=this.trackEntry?(this.SampleTime(this.trackTime),this.trackEntry.timeScale=this.speed*this.direction,this.isPlaying=!0):this.actions.push(SpineControllerCATAction.Resume)},SpineController.prototype.SampleTime=function(t){if(null==this.trackEntry)return this.sampleTime=t,this.sampleTimeIsNormalized=!1,void this.actions.push(SpineControllerCATAction.Sample);this.SetupAnimation(),this.trackTime=t,this.trackEntry.trackTime=t,this.trackEntry.timeScale=0,this.needUpdateSpine=!0,this.frameOfLastUpdate==Time.frameCount&&this.UpdateSpine()},SpineController.prototype.Sample=function(t){if(null==this.trackEntry)return this.sampleTime=t,this.sampleTimeIsNormalized=!0,void this.actions.push(SpineControllerCATAction.Sample);this.SampleTime(t*this.duration)},SpineController.prototype.IsPlaying=function(){return this.isPlaying},SpineController.prototype.OnWillRenderObject=function(){var t,e,i,n,o;(this.isUpdated||(this.Update(),this.isUpdated))&&(this.pixiObject.dirtyWT=!0,(t=this.spine).tint=this.color.rgbAsHex,null!=this.panel?t.alpha=this.color.a*this.panel.alpha:t.alpha=this.color.a,t.worldAlpha=t.alpha,(e=this.gameObject.transform).IsDirtyUserFlag(Transform._DirtyFlagSpine)&&(e._internal_get_position(),e._internal_get_rotation(),e._internal_get_scale(),e.ClearDirtyUserFlag(Transform._DirtyFlagSpine),i=this.pixiObject,o=(n=e.parent.transform)._dangerous_get_position(),i.x=o.x,i.y=-o.y,o=e._dangerous_get_localPosition(),t.x=o.x,t.y=-o.y,i.rotation=-n._dangerous_get_rotation().eulerAnglesRad().z,t.rotation=-e._dangerous_get_localRotation().eulerAnglesRad().z,o=n._dangerous_get_scale(),i.scale.x=o.x,i.scale.y=o.y,o=e._dangerous_get_localScale(),t.scale.x=o.x*this.spineData.scale,t.scale.y=o.y*this.spineData.scale))},SpineController.prototype.SetToSetupPose=function(){null!=this.spine&&null!=this.spine.skeleton&&this.spine.skeleton.setToSetupPose()},SpineController.prototype.SetDirection=function(t){this.direction=t<0?-1:1},goog.require("UHT.Engine"),SpineCustomAnimator.prototype=Object.create(Component.prototype),(SpineCustomAnimator.prototype.constructor=SpineCustomAnimator).PlayMode={Default:0,Loop:1,PingPong:2,DefaultThenFirstFrame:3},SpineCustomAnimator.prototype.Play=function(){this.playing=!0},SpineCustomAnimator.prototype.Pause=function(){this.playing=!1},SpineCustomAnimator.prototype.Stop=function(){this.playing=!1,this.direction=this.playReverse?-1:1,this.currentTime=this.playReverse?this.animationTime-1e-5:0},SpineCustomAnimator.prototype.Reset=function(){this.reset=!0,this.Stop(),this.Update()},SpineCustomAnimator.prototype.OnEnable=function(){this.playAutomatically&&(this.playing=!0),this.useTimeChannel&&(this.myTimeChannel=Globals.RegisterToTimeChannel(this,this.timeChannelID),this.myTimeChannel.IsChannelMaster(this)||(this.currentTime=this.myTimeChannel.currentTime,this.Update()))},SpineCustomAnimator.prototype.OnDisable=function(){this.StopOnDisable&&this.Reset(),this.useTimeChannel&&Globals.UnregisterFromTimeChannel(this,this.timeChannelID)},SpineCustomAnimator.prototype.Awake=function(){this.direction=this.playReverse?-1:1,this.currentTime=this.playReverse?this.animationTime-1e-5:0,this.firstCurveKey=this.animationCurve.keys[0],this.lastCurveKey=this.animationCurve.keys[this.animationCurve.keys.length-1],this.totalCurveTime=this.lastCurveKey.time},SpineCustomAnimator.prototype.Update=function(){var t,e;_string.IsNullOrEmpty(this.animationName)||!this.playing&&!this.reset||(this.reset?this.reset=!1:this.ComputeTime(),e=this.currentTime/this.animationTime,2<=this.animationCurve.keys.length&&(t=e*this.totalCurveTime,e=this.animationCurve.Evaluate(t),e=UHTMath.clamp(e,0,1)),this.spineController.Sample(e))},SpineCustomAnimator.prototype.Sample=function(t){this.spineController.Sample(t)},SpineCustomAnimator.prototype.ChangeAnimation=function(t){this.animationName=t,this.spineController.animationName=t,this.Reset(),this.Play()},SpineCustomAnimator.prototype.ComputeTime=function(){if(0<this.direction)if(this.currentTime>=this.animationTime)switch(this.playMode){case SpriteFramesAnimator.PlayMode.Loop:this.elapsedDelay>=this.loopDelay?(this.elapsedDelay=0,this.currentTime-=this.animationTime):this.elapsedDelay+=Time.deltaTime*this.timeScale;break;case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:this.Stop();break;case SpriteFramesAnimator.PlayMode.PingPong:this.direction=-1,this.noPauseAtPingPongEnd&&(this.currentTime-=this.animationTime+Time.deltaTime);break;default:this.Stop(),this.currentTime=this.animationTime}else this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(this.currentTime+=Time.deltaTime*this.timeScale,this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:this.currentTime+=Time.deltaTime*this.timeScale;if(this.direction<0)if(this.currentTime<=0)switch(this.playMode){case SpriteFramesAnimator.PlayMode.Loop:this.elapsedDelay>=this.loopDelay?(this.elapsedDelay=0,this.currentTime+=this.animationTime):this.elapsedDelay+=Time.deltaTime*this.timeScale;break;case SpriteFramesAnimator.PlayMode.PingPong:this.direction=1;break;case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:this.Stop();break;default:this.Stop(),this.currentTime=0}else this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(this.currentTime-=Time.deltaTime*this.timeScale,this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:this.currentTime-=Time.deltaTime*this.timeScale},goog.require("UHT.Engine"),SpriteFramesAnimator.prototype=Object.create(Component.prototype),(SpriteFramesAnimator.prototype.constructor=SpriteFramesAnimator).PlayMode={Default:0,Loop:1,PingPong:2,DefaultThenFirstFrame:3},SpriteFramesAnimator.prototype.Play=function(){this.playing=!0},SpriteFramesAnimator.prototype.Pause=function(){this.playing=!1},SpriteFramesAnimator.prototype.Stop=function(){this.playing=!1,this.direction=this.playReverse?-1:1,this.currentTime=this.playReverse?this.animationTime-1e-5:0},SpriteFramesAnimator.prototype.SetTimeScale=function(t){this.timeScale=_number.otod(t)},SpriteFramesAnimator.prototype.Reset=function(){this.reset=!0,this.Stop(),this.Update()},SpriteFramesAnimator.prototype.OnEnable=function(){this.playAutomatically&&(this.playing=!0),this.useTimeChannel&&(this.myTimeChannel=Globals.RegisterToTimeChannel(this,this.timeChannelID),this.myTimeChannel.IsChannelMaster(this)||(this.currentTime=this.myTimeChannel.currentTime,this.Update()))},SpriteFramesAnimator.prototype.OnDisable=function(){this.StopOnDisable&&this.Reset(),this.useTimeChannel&&Globals.UnregisterFromTimeChannel(this,this.timeChannelID)},SpriteFramesAnimator.prototype.Awake=function(){this.direction=this.playReverse?-1:1,this.currentTime=this.playReverse?this.animationTime-1e-5:0,this.firstCurveKey=this.animationCurve.keys[0],this.lastCurveKey=this.animationCurve.keys[this.animationCurve.keys.length-1],this.totalCurveTime=this.lastCurveKey.time-this.firstCurveKey.time,this.RebuildSpriteList()},SpriteFramesAnimator.prototype.Update=function(){var t,e;this.AllAtlasesAreDownloaded()&&(this.playing||this.reset)&&null!=this.mSpriteNames&&1<this.mSpriteNames.length&&(this.reset?this.reset=!1:this.ComputeTime(),e=this.currentTime/this.animationTime,2<=this.animationCurve.keys.length&&(t=e*this.totalCurveTime,e=this.animationCurve.Evaluate(t),e=UHTMath.clamp(e,0,1)),(e=Math.floor(e*this.mSpriteNames.length))>this.mSpriteNames.length-1?e=this.mSpriteNames.length-1:e<0&&(e=0),this.ChangeAtlas(e),this.SameFrameSize?this.mSprite.SetSpriteNameForAnimation(this.mSpriteNames[e].name):this.mSprite.SetSpriteName(this.mSpriteNames[e].name))},SpriteFramesAnimator.prototype.AllAtlasesAreDownloaded=function(){for(var t=0;t<this.animationAtlases.length;t++)if(!this.animationAtlases[t].isLoaded())return!1;return!0},SpriteFramesAnimator.prototype.ComputeTime=function(){if(0<this.direction)if(this.currentTime>=this.animationTime)switch(this.playMode){case SpriteFramesAnimator.PlayMode.Loop:this.elapsedDelay>=this.loopDelay?(this.elapsedDelay=0,this.currentTime-=this.animationTime):this.elapsedDelay+=Time.deltaTime*this.timeScale;break;case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:this.Stop();break;case SpriteFramesAnimator.PlayMode.PingPong:this.direction=-1,this.noPauseAtPingPongEnd&&(this.currentTime-=this.animationTime/this.mSpriteNames.length+Time.deltaTime);break;default:this.Stop(),this.currentTime=this.animationTime}else this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(this.currentTime+=Time.deltaTime*this.timeScale,this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:this.currentTime+=Time.deltaTime*this.timeScale;if(this.direction<0)if(this.currentTime<=0)switch(this.playMode){case SpriteFramesAnimator.PlayMode.Loop:this.elapsedDelay>=this.loopDelay?(this.elapsedDelay=0,this.currentTime+=this.animationTime):this.elapsedDelay+=Time.deltaTime*this.timeScale;break;case SpriteFramesAnimator.PlayMode.PingPong:this.direction=1;break;case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:this.Stop();break;default:this.Stop(),this.currentTime=0}else this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(this.currentTime-=Time.deltaTime*this.timeScale,this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:this.currentTime-=Time.deltaTime*this.timeScale},SpriteFramesAnimator.prototype.RebuildSpriteList=function(){null==this.mSprite&&(this.mSprite=this.gameObject.GetComponent(UISprite)),this.mSpriteNames=[];var t=[];0==this.animationAtlases.length?t.push(this.mSprite.atlas):t=this.animationAtlases.slice(0);for(var e=0;e<t.length;e++)if(null!=this.mSprite&&null!=t[e])for(var i,n=t[e].getSpriteNames(),o=n.length,s=0;s<o;++s)!_string.IsNullOrEmpty(this.spriteNamePrefix)&&0!=n[s].indexOf(this.spriteNamePrefix)||(i=new SpriteNameAtlasPair(n[s],t[e]),this.mSpriteNames.push(i));this.mSpriteNames.sort(function(t,e){return t.name==e.name?0:t.name>e.name?1:-1})},SpriteFramesAnimator.prototype.ChangeAtlas=function(t){this.mSprite.atlas!=this.mSpriteNames[t].atlas&&(this.mSprite.atlas=this.mSpriteNames[t].atlas)},goog.require("UHT.Engine"),SpriteSizeAnimator.prototype=Object.create(Component.prototype),(SpriteSizeAnimator.prototype.constructor=SpriteSizeAnimator).prototype.Play=function(){this.playing=!0},SpriteSizeAnimator.prototype.Pause=function(){this.playing=!1},SpriteSizeAnimator.prototype.Stop=function(){this.playing=!1,this.mustStop=!1,this.direction=1,this.currentTime=0},SpriteSizeAnimator.prototype.Reset=function(){this.Stop(),this.playing=!0,this.Update()},SpriteSizeAnimator.prototype.Awake=function(){this.currentTime=0;var t=this.animationCurve.keys[0],e=this.animationCurve.keys[this.animationCurve.keys.length-1];this.totalCurveTime=e.time-t.time},SpriteSizeAnimator.prototype.OnEnable=function(){this.playAutomatically&&(this.playing=!0)},SpriteSizeAnimator.prototype.OnDisable=function(){this.resetOnDisable&&this.Reset()},SpriteSizeAnimator.prototype.Update=function(){var t,e;this.playing&&(this.ComputeTime(),e=this.currentTime/this.animationTime,2<=this.animationCurve.keys.length&&(t=e*this.totalCurveTime,e=this.animationCurve.Evaluate(t),e=UHTMath.clamp(e,0,1)),e=UHTMath.Vector3.lerp(this.startSize,this.endSize,e),this.targetSprite.width=Math.ceil(e.x),this.targetSprite.height=Math.ceil(e.y),this.mustStop&&this.Stop())},SpriteSizeAnimator.prototype.ComputeTime=function(){if(0<this.direction)if(this.currentTime>=this.animationTime)switch(this.playMode){case SpriteFramesAnimator.PlayMode.Default:this.currentTime=this.animationTime,this.mustStop=!0;break;case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:this.currentTime=0,this.mustStop=!0;break;case SpriteFramesAnimator.PlayMode.Loop:this.currentTime-=this.animationTime;break;case SpriteFramesAnimator.PlayMode.PingPong:this.direction=-1}else this.currentTime+=Time.deltaTime;else if(this.currentTime<=0)switch(this.playMode){case SpriteFramesAnimator.PlayMode.Default:case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:this.currentTime=0,this.mustStop=!0;break;case SpriteFramesAnimator.PlayMode.Loop:this.currentTime+=this.animationTime;break;case SpriteFramesAnimator.PlayMode.PingPong:this.direction=1}else this.currentTime-=Time.deltaTime},SpriteSizeAnimator.prototype.Sample=function(t){var e=(t=Number(t))*this.totalCurveTime;t=this.animationCurve.Evaluate(e),t=UHTMath.clamp(t,0,1);t=UHTMath.Vector3.lerp(this.startSize,this.endSize,t);this.affectsWidth&&(null!=this.targetSprite&&(this.targetSprite.width=Math.ceil(t.x+(this.extraSize?this.targetSprite.width:0))),null!=this.targetCollider&&(this.targetCollider.size=new UHTMath.Vector3(t.x+(this.extraSize?this.targetCollider.size.x:0),this.targetCollider.size.y,this.targetCollider.size.z))),this.affectsHeight&&(null!=this.targetSprite&&(this.targetSprite.height=Math.ceil(t.y+(this.extraSize?this.targetSprite.height:0))),null!=this.targetCollider&&(this.targetCollider.size=new UHTMath.Vector3(this.targetCollider.size.x,t.y+(this.extraSize?this.targetCollider.size.y:0),this.targetCollider.size.z)))},goog.provide("UHT.FloatAnimatedMonoBehaviour"),goog.require("UHT.Engine"),CurveValueAnimator.prototype=Object.create(Component.prototype),CurveValueAnimator.prototype.constructor=CurveValueAnimator,FloatAnimatedMonoBehaviour.prototype=Object.create(Component.prototype),(FloatAnimatedMonoBehaviour.prototype.constructor=FloatAnimatedMonoBehaviour).prototype.ResetF=function(){},CurveValueAnimator.prototype.Awake=function(){this.lastKeyTime=this.curve.keys[this.curve.keys.length-1].time},CurveValueAnimator.prototype.StartCurveAnimation=function(){this.isStarted=!0,this.startTime=Time.time},CurveValueAnimator.prototype.StopCurveAnimation=function(){this.isStarted=!1;for(var t=0;t<this.animatedMemberTargets.length;t++)this.animatedMemberTargets[t].ResetF()},CurveValueAnimator.prototype.Update=function(){var t=Time.time;if(this.isStarted){for(var e=0;e<this.animatedMemberTargets.length;e++)this.animatedMemberTargets[e].AnimatedF=this.curve.Evaluate(this.Loop?(t-this.startTime)%this.lastKeyTime:UHTMath.clamp(t-this.startTime,0,this.lastKeyTime));this.Loop||t-this.startTime>this.lastKeyTime&&(this.isStarted=!1)}},goog.require("UHT.Engine"),goog.require("UHT.FloatAnimatedMonoBehaviour"),AlphaAnimatedSprite.prototype=Object.create(FloatAnimatedMonoBehaviour.prototype),(AlphaAnimatedSprite.prototype.constructor=AlphaAnimatedSprite).prototype.ResetF=function(){this.AnimatedF=this.resetValue,this.oldAlpha=this.resetValue,this.mySprite.color.a=UHTMath.clamp(this.resetValue,0,1)},AlphaAnimatedSprite.prototype.Awake=function(){this.mySprite=this.gameObject.GetComponent(UISprite)},AlphaAnimatedSprite.prototype.Update=function(){this.AnimatedF!=this.oldAlpha&&(this.mySprite.color.a=UHTMath.clamp(this.AnimatedF,0,1),this.oldAlpha=this.AnimatedF)},AlphaAnimatedSprite.prototype.CAT_GoToCustomValue=function(t){this.AnimatedF=_number.otod(t),this.oldAlpha=this.AnimatedF,this.mySprite.color.a=UHTMath.clamp(this.AnimatedF,0,1)},goog.require("UHT.Globals"),goog.require("UHT.MessageSender"),CustomDragObject.prototype=Object.create(Component.prototype),(CustomDragObject.prototype.constructor=CustomDragObject).prototype.scriptUpdatePriority=7,CustomDragObject.prototype.Awake=function(){function t(t){return e.OnMouseWheel(t)}var e=this;registerCustomDragObjectAsListener("mousewheel",t,{passive:!1}),registerCustomDragObjectAsListener("DOMMouseScroll",t,{passive:!1})},CustomDragObject.prototype.OnMouseWheel=function(t){t.preventDefault(),this.gameObject.activeInHierarchy&&this.isHover&&(!Globals.InputBlocked||null!=this.cachedCamera&&this.cachedCamera.ignoreInputBlocked)&&(this.wheelDirection=t.wheelDelta?-t.wheelDelta:t.detail,this.wheelDirection=UHTMath.clamp(this.wheelDirection,-1,1))},CustomDragObject.prototype.OnEnable=function(){null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.target.gameObject)),this.isPressed=!1,this.isStarted=!1},CustomDragObject.prototype.OnPress=function(t){(this.isPressed=t)?(this.lastMousePosition=Input.mousePosition,this.mouseTotalDelta=new UHTMath.Vector3(0,0,0),this.isStarted=!1):this.isStarted&&(t=this.isStarted=!1,Time.time-this.swipeStartTime<=this.swipeMaxTime&&(this.mouseTotalDelta.x>this.swipeMinDistance*UHTScreen.height?(MessageSender.SendMessage(this.messageSwipeRight),t=!0):this.mouseTotalDelta.x<-this.swipeMinDistance*UHTScreen.height&&(MessageSender.SendMessage(this.messageSwipeLeft),t=!0),this.mouseTotalDelta.y>this.swipeMinDistance*UHTScreen.height?(MessageSender.SendMessage(this.messageSwipeDown),t=!0):this.mouseTotalDelta.y<-this.swipeMinDistance*UHTScreen.height&&(MessageSender.SendMessage(this.messageSwipeUp),t=!0)),this.swipeOverridesDrag&&t||MessageSender.SendMessage(this.messageDragEnds))},CustomDragObject.prototype.Update=function(){var t;this.isPressed?this.useOnlyScrollWheel||(t=UHTMath.Vector3.sub(Input.mousePosition,this.lastMousePosition),this.mouseTotalDelta.add(t),this.lastMousePosition=Input.mousePosition,this.isStarted||20<this.mouseTotalDelta.sqrMagnitude()&&(this.isStarted=!0,this.swipeStartTime=Time.time,MessageSender.SendMessage(this.messageDragStarts)),this.isStarted&&(null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.target.gameObject)),(t=UHTMath.Vector3.sub(this.cachedCamera.ScreenToWorldPoint(this.lastMousePosition),this.cachedCamera.ScreenToWorldPoint(UHTMath.Vector3.add(this.lastMousePosition,t)))).x*=this.movement.x,t.y*=this.movement.y,t.z*=this.movement.z,this.target.position(this.GetPosition(UHTMath.Vector3.sub(this.target.position(),t))))):this.isHover&&0!=this.wheelDirection&&(this.ScrollWheel(this.wheelDirection),this.wheelDirection=0)},CustomDragObject.prototype.OnHover=function(t){this.isHover=t},CustomDragObject.prototype.ScrollWheel=function(t){this.useScrollWheel&&this.target.position(this.GetPosition(UHTMath.Vector3.add(this.target.position(),UHTMath.Vector3.scale(this.scrollWheelMovement,t))))},CustomDragObject.prototype.GetPosition=function(t){if(this.limitPosition){var e=this.target.parent.transformPoint(this.localPositionLimitMin),i=this.target.parent.transformPoint(this.localPositionLimitMax),n=UHTMath.clamp(t.x,e.x,i.x),o=UHTMath.clamp(t.y,e.y,i.y),i=UHTMath.clamp(t.z,e.z,i.z);return new UHTMath.Vector3(n,o,i)}return t},goog.require("UHT.Engine"),goog.require("UHT.TwoFloatsAnimatedMonoBehaviour"),ElementsFader.prototype=Object.create(TwoFloatsAnimatedMonoBehaviour.prototype),(ElementsFader.prototype.constructor=ElementsFader).prototype.SetAnimatedF_1=function(t){this.alphaValue=t,this.Update()},ElementsFader.prototype.SetAnimatedF_2=function(t){this.alphaValue=t,this.Update()},ElementsFader.prototype.ResetF_1=function(){this.alphaValue=this.resetValue_1,this.Update()},ElementsFader.prototype.ResetF_2=function(){this.alphaValue=this.resetValue_2,this.Update()},ElementsFader.prototype.Update=function(){if(this.oldAlpha!=this.alphaValue){this.alphaValue=UHTMath.clamp(this.alphaValue,0,1);for(var t,e=0;e<this.labelsToFade.length;e++)this.alphaValue<.05?this.labelsToFade[e].enabled=!1:(this.labelsToFade[e].enabled||(this.labelsToFade[e].enabled=!0),(t=this.labelsToFade[e].GetColor()).a=this.alphaValue,this.labelsToFade[e].SetColor(t));for(var i=0;i<this.spritesToFade.length;i++)this.alphaValue<.05?this.spritesToFade[i].enabled=!1:(this.spritesToFade[i].enabled||(this.spritesToFade[i].enabled=!0),this.spritesToFade[i].color.a=this.alphaValue);this.oldAlpha=this.alphaValue}},goog.require("UHT.XTLink"),GameWindow.prototype=Object.create(XTLink.prototype),(GameWindow.prototype.constructor=GameWindow).prototype.XTRegisterCallbacks=function(){if(this.isEnabled){for(var t=0;t<this.showOnEvents.length;t++)XT.RegisterCallbackEvent(this.showOnEvents[t].name,this.OnShowWindow,this);for(var e=0;e<this.hideOnEvents.length;e++)XT.RegisterCallbackEvent(this.hideOnEvents[e].name,this.OnHideWindow,this);XT.RegisterCallbackBool(Vars.LastWinIsCounting,this.OnLastWinIsCountingChanged,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished,this.OnBigWinHasFinished,this)}},GameWindow.prototype.OnDestroy=function(){this.isEnabled&&(XT.UnregisterCallbackEvent(this.OnShowWindow,this),XT.UnregisterCallbackEvent(this.OnHideWindow,this),XT.UnregisterCallbackBool(this.OnLastWinIsCountingChanged,this))},GameWindow.prototype.OnCloseButtonPressed=function(){this.isEnabled&&this.OnHideWindow()},GameWindow.prototype.OnShowWindow=function(){this.isEnabled&&(this.waitForBigWin&&XT.GetBool(Vars.WaitInResultForBigWin)?this.showAfterBigWinClear=!0:this.waitForWinCount&&XT.GetBool(Vars.LastWinIsCounting)?this.showAfterWinCount=!0:this.ShowWindow())},GameWindow.prototype.OnHideWindow=function(){if(null!=this.cat&&null!=this.hideEventId.cat)null!=this.showEventId&&this.showEventId.IsRunning()&&this.showEventId.Stop(),this.cat.RegisterCallback(this.hideEventId.id,this.HideEventFinished,this),this.cat.StartEvent(this.hideEventId.id);else{this.gameObject.SetActive(!1);for(var t=0;t<this.triggerAfterHide.length;t++)XT.TriggerEvent(this.triggerAfterHide[t].name)}},GameWindow.prototype.ShowEventFinished=function(t,e){if(t==CAT_Event.CallbackType.EndOfEvent){for(var i=0;i<this.triggerAfterShow.length;i++)XT.TriggerEvent(this.triggerAfterShow[i].name);null!=this.cat&&this.cat.UnregisterCallback(this.showEventId.id,this.ShowEventFinished,this)}},GameWindow.prototype.HideEventFinished=function(t,e){if(t==CAT_Event.CallbackType.EndOfEvent){this.gameObject.SetActive(!1);for(var i=0;i<this.triggerAfterHide.length;i++)XT.TriggerEvent(this.triggerAfterHide[i].name);null!=this.cat&&this.cat.UnregisterCallback(this.hideEventId.id,this.HideEventFinished,this)}},GameWindow.prototype.OnLastWinIsCountingChanged=function(t){this.isEnabled&&this.showAfterWinCount&&!t&&(this.ShowWindow(),this.showAfterWinCount=!1)},GameWindow.prototype.OnBigWinHasFinished=function(){this.isEnabled&&this.showAfterBigWinClear&&(this.ShowWindow(),this.showAfterBigWinClear=!1)},GameWindow.prototype.ShowWindow=function(){this.isEnabled&&(this.gameObject.SetActive(!0),null!=this.cat&&null!=this.showEventId.cat&&(this.cat.RegisterCallback(this.showEventId.id,this.ShowEventFinished,this),this.cat.StartEvent(this.showEventId.id)))},goog.require("UHT.Engine");var FSWindow_WinAmount={FSWindow_TotalWinDisplayed:"FSWindow_TotalWinDisplayed"};function GameWindow_FSWindow(){GameWindow.call(this),this.variable=null}function JurisdictionCustomization(){XTLink.call(this),this.jurisdiction="",this.jurisdictionRequirement=null,this.jurisdictionCustomization=null,this.jurisdictionCustomizationF=null}function MoveSource(){Component.call(this),this.targetID=MoveTargetID.Invalid}GameWindow_FSWindow.prototype=Object.create(GameWindow.prototype),(GameWindow_FSWindow.prototype.constructor=GameWindow_FSWindow).prototype.OnShowWindow=function(){var t=XT.GetDouble(this.variable.name);XT.SetDouble(FSWindow_WinAmount.FSWindow_TotalWinDisplayed,0),XT.SetDouble(FSWindow_WinAmount.FSWindow_TotalWinDisplayed,t),GameWindow.prototype.OnShowWindow.call(this)},goog.require("UHT.XTLink"),JurisdictionCustomization.prototype=Object.create(XTLink.prototype),(JurisdictionCustomization.prototype.constructor=JurisdictionCustomization).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this)},JurisdictionCustomization.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGUIInit,this)},JurisdictionCustomization.prototype.OnGUIInit=function(){var t=!1,e=this.jurisdictionRequirement.name;null!=e&&""!=e&&"*None*"!=e&&(t=XT.GetBool(e)),(ServerOptions.jurisdiction==this.jurisdiction||t?this.jurisdictionCustomization:this.jurisdictionCustomizationF).Start()},goog.require("UHT.Engine"),MoveSource.prototype=Object.create(Component.prototype),(MoveSource.prototype.constructor=MoveSource).prototype.Awake=function(){for(var t=globalRuntime.sceneRoots,e=0;e<t.length;++e)for(var i=t[e].GetComponentsInChildren(MoveTarget,!0),n=0;n<i.length;++n)if(i[n].targetID==this.targetID){this.gameObject.transform.position(i[n].transform.position());break}},goog.require("UHT.Engine");var MoveTargetID={Invalid:0,SpinButton:1};function MoveTarget(){Component.call(this),this.targetID=MoveTargetID.Invalid}function ObjectsDisablerByPath(){XTLink.call(this),this.paths=null,this.useOnGameInit=!0}MoveTarget.prototype=Object.create(Component.prototype),MoveTarget.prototype.constructor=MoveTarget,goog.require("UHT.XTLink"),ObjectsDisablerByPath.prototype=Object.create(XTLink.prototype),(ObjectsDisablerByPath.prototype.constructor=ObjectsDisablerByPath).prototype.XTRegisterCallbacks=function(){this.useOnGameInit&&XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},ObjectsDisablerByPath.prototype.OnGameInit=function(){for(var t=globalRuntime.sceneRoots,e=t[1].transform.GetComponentsInChildren(LocalizationRoot,!0)[0].transform,i=0;i<t.length;++i)for(var n=0;n<this.paths.length;++n){var o=t[i].transform.Find(this.paths[n]);if(null!=o)o.gameObject.SetActive(!1);else{for(var s=this.paths[n].split("/"),r="",a=3;a<s.length;a++)r+=s[a]+(a<s.length-1?"/":"");null!=(o=e.Find(r))?o.gameObject.SetActive(!1):console.log("Couldn't find object at path: "+this.paths[n])}}},goog.require("UHT.XTLink"),PageFlipper.prototype=Object.create(XTLink.prototype),PageFlipper.prototype.constructor=PageFlipper;var MobilePageContentType={Normal:0,Jackpot:1};function PageFlipper(){XTLink.call(this),this.topPages=[],this.bottomPages=[],this.pageContentType=[],this.gambleTopPageIndex=-1,this.gambleBottomPageIndex=-1,this.dragObject=null,this.dragMovementOffset=300,this.flippingPanelDepth=1,this.staticPanelDepth=0,this.pageSpringStrength=5,this.animationTime=0,this.followDragObject=!1,this.topPageIsFlipping=!1,this.bottomPageIsFlipping=!1,this.flippingPage=null,this.currentSpring=null,this.cachedCamera=null,this.dragReleaseTime=0,this.lastDragObjHeight=0,this.isDragged=!1,this.fakeIsNotDraggedUp=!1,this.fakeIsNotDraggedDown=!1,this.isFlippingEnabled=!0,this.jpData=null}function PanelAlphaProxy(){Component.call(this),this.alpha=-1,this.includeChildren=!0,this.oldAlpha=-1,this.panels=null,this.mustGetPanels=!0}function PanelFader(){TwoFloatsAnimatedMonoBehaviour.call(this),this.panelToFade=null,this.resetValue_1=1,this.resetValue_2=1,this.alphaValue=-1,this.oldAlpha=-1}function ParticleScaleFromLabel(){Component.call(this),this.targetLabel=null,this.extraScaleX=1,this.extraScaleY=1,this.extraSizeX=0,this.extraSizeY=0}function RandomGameObjectActivator(){Component.call(this),this.targetGameObject=null,this.minActiveDuration=1,this.maxActiveDuration=1,this.minInactiveDuration=1,this.maxInactiveDuration=5,this.useRandomScaleOnEnable=!1,this.minScaleMultiplier=1,this.maxScaleMultiplier=2,this.timer=0,this.duration=0,this.isInactive=!0,this.initialScale=new UHTMath.Vector3(1,1,1)}function RandomIntervalCATLink(){Component.call(this),this.catLink=null,this.minInterval=0,this.maxInterval=0,this.timer=0,this.targetTimer=0}function RequirementChecker(){XTLink.call(this),this.jurisdictionRequirement=null,this.isActiveWhenRequirementIsTrue=!0,this.isActive=!1}function RoutineQueueHelper(){}function ScheduledRQItem(){this.rqItem,this.time=0}function SpriteFillProxy(){Component.call(this),this.targetSprite=null,this.fillAmount=0,this.topFillAmount=0,this.bottomFillAmount=0,this.leftFillAmount=0,this.rightFillAmount=0,this.previousFillAmount=0,this.previousTopFillAmount=0,this.previousBottomFillAmount=0,this.previousLeftFillAmount=0,this.previousRightFillAmount=0,this.fillChanged=!1}PageFlipper.visibleTopPage=0,PageFlipper.visibleBottomPage=0,PageFlipper.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableMobileUpdatePages,this.OnMustUpdatePages,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this),EventManager.AddHandler(JackpotEvents.evtJackpotStateChanged,this.OnJackpotStateChanged,this)},PageFlipper.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnMustUpdatePages,this),XT.UnregisterCallbackEvent(this.OnGUIInit,this)},PageFlipper.prototype.OnJackpotStateChanged=function(t){this.jpData=t},PageFlipper.prototype.OnGUIInit=function(){0==XT.GetBool(Vars.CanGamble_Spin)&&0<=this.gambleTopPageIndex&&0<=this.gambleBottomPageIndex&&(this.topPages.splice(this.gambleTopPageIndex,1),this.bottomPages.splice(this.gambleBottomPageIndex,1)),this.ProcessJackpotPages(),this.ProcessRequirementChecker()},PageFlipper.prototype.ProcessJackpotPages=function(){if(null!=this.jpData&&!this.jpData.IsActive&&-1!=this.pageContentType.indexOf(PageContentType.Jackpot)){for(var t=0,e=0;e<this.pageContentType.length;e++)this.topPages[e-t].gameObject.SetActive(!1),this.bottomPages[e-t].gameObject.SetActive(!1),this.pageContentType[e]==PageContentType.Jackpot&&(this.topPages.splice(e-t,1),this.bottomPages.splice(e-t,1),t++);for(var i=0;i<this.topPages.length;i++)this.topPages[i].gameObject.SetActive(0==i),this.bottomPages[i].gameObject.SetActive(0==i)}},PageFlipper.prototype.OnMustUpdatePages=function(){for(var t=0;t<this.topPages.length;t++)this.topPages[t].gameObject.SetActive(PageFlipper.visibleTopPage==t);for(var e=0;e<this.bottomPages.length;e++)this.bottomPages[e].gameObject.SetActive(PageFlipper.visibleBottomPage==e)},PageFlipper.prototype.OnDisable=function(){if(this.isFlippingEnabled){null!=this.flippingPage&&(this.dragObject.localPosition(new UHTMath.Vector3(0,0,0)),this.SpringPositionFinised()),this.isDragged=!1,this.topPageIsFlipping=!1,this.bottomPageIsFlipping=!1;for(var t=0;t<this.topPages.length;t++)this.topPages[t].gameObject.activeSelf&&(PageFlipper.visibleTopPage=t);for(var e=0;e<this.bottomPages.length;e++)this.bottomPages[e].gameObject.activeSelf&&(PageFlipper.visibleBottomPage=e);XT.TriggerEvent(Vars.Evt_Internal_PaytableMobileUpdatePages)}},PageFlipper.prototype.Update=function(){if(this.isFlippingEnabled&&this.followDragObject){if(this.animationTime=this.dragObject.localPosition().y/this.dragMovementOffset,0<this.animationTime){if(this.topPageIsFlipping)this.isDragged&&!this.fakeIsNotDraggedUp?(this.lastDragObjHeight>this.dragObject.localPosition().y&&this.dragObject.localPosition(new UHTMath.Vector3(0,0,0)),this.animationTime=0):(this.fakeIsNotDraggedUp=!1,this.StopFlippingTopPage());else if(1<this.animationTime){if(null==this.flippingPage)return void this.dragObject.localPosition(this.dragObject.localPosition().x,0,this.dragObject.localPosition().z);this.fakeIsNotDraggedDown=!1,this.fakeIsNotDraggedUp=!1,this.SwitchFromBotToTopPageFlipping();var t=new UHTMath.Vector3(this.dragObject.localPosition().x,-(this.dragMovementOffset-1),this.dragObject.localPosition().z);return this.dragObject.localPosition(t.x,t.y,t.z),this.animationTime=this.dragObject.localPosition().y/this.dragMovementOffset,this.animationTime<0&&(this.animationTime*=-1),void this.SampleAnimation(this.flippingPage.gameObject.animation,this.animationTime)}null==this.flippingPage&&this.BottomPageStartsFlipping()}if(this.animationTime<0){if(this.animationTime*=-1,this.bottomPageIsFlipping)this.isDragged&&!this.fakeIsNotDraggedDown?(this.lastDragObjHeight<this.dragObject.localPosition().y&&this.dragObject.localPosition(new UHTMath.Vector3(0,0,0)),this.animationTime=0):(this.fakeIsNotDraggedDown=!1,this.StopFlippingBottomPage());else if(1<this.animationTime){if(null==this.flippingPage)return void this.dragObject.localPosition(this.dragObject.localPosition().x,0,this.dragObject.localPosition().z);this.fakeIsNotDraggedDown=!1,this.fakeIsNotDraggedUp=!1,this.SwitchFromTopToBottomPageFlipping();t=new UHTMath.Vector3(this.dragObject.localPosition().x,this.dragMovementOffset-1,this.dragObject.localPosition().z);return this.dragObject.localPosition(t.x,t.y,t.z),this.animationTime=this.dragObject.localPosition().y/this.dragMovementOffset,this.animationTime<0&&(this.animationTime*=-1),void this.SampleAnimation(this.flippingPage.gameObject.animation,this.animationTime)}null==this.flippingPage&&this.TopPageStartsFlipping()}this.lastDragObjHeight=this.dragObject.localPosition().y,null!=this.flippingPage&&this.SampleAnimation(this.flippingPage.gameObject.animation,this.animationTime)}},PageFlipper.prototype.OnClick=function(){var t,e;this.isFlippingEnabled&&(Time.time-this.dragReleaseTime<.2||(null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),t=this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),e=this.gameObject.collider.center,e=this.gameObject.transform.transformPoint(e),t.y<=e.y?this.currentSpring=SpringPosition.Begin(this.dragObject.gameObject,new UHTMath.Vector3(0,1.7*this.dragMovementOffset,0),this.pageSpringStrength):this.currentSpring=SpringPosition.Begin(this.dragObject.gameObject,new UHTMath.Vector3(0,1.7*-this.dragMovementOffset,0),this.pageSpringStrength),this.currentSpring.callWhenFinished="SpringPositionFinised",(this.currentSpring.eventReceiver=this).followDragObject=!0))},PageFlipper.prototype.OnDragStarts=function(){this.isDragged=!0,this.followDragObject=!0,null!=this.currentSpring&&this.currentSpring.enabled&&(this.animationTime<.2&&(this.topPageIsFlipping?this.fakeIsNotDraggedUp=!0:this.bottomPageIsFlipping&&(this.fakeIsNotDraggedDown=!0),this.dragObject.localPosition(new UHTMath.Vector3(0,0,0))),this.currentSpring.enabled=!1)},PageFlipper.prototype.OnDragEnds=function(){this.isDragged=!1,this.dragReleaseTime=Time.time,this.animationTime<.05?(this.dragObject.localPosition(new UHTMath.Vector3(0,0,0)),this.SpringPositionFinised()):(this.currentSpring=SpringPosition.Begin(this.dragObject.gameObject,new UHTMath.Vector3(0,0,0),this.pageSpringStrength),this.currentSpring.callWhenFinished="SpringPositionFinised",this.currentSpring.eventReceiver=this)},PageFlipper.prototype.OnSwipe=function(t){this.isDragged=!1,this.dragReleaseTime=Time.time;t="DOWN"==t?-1:1;this.animationTime<.05&&(this.dragObject.localPosition(new UHTMath.Vector3(0,0,0)),this.SpringPositionFinised()),0<t&&this.topPageIsFlipping||t<0&&this.bottomPageIsFlipping?this.currentSpring=SpringPosition.Begin(this.dragObject.gameObject,new UHTMath.Vector3(0,0,0),this.pageSpringStrength):this.currentSpring=SpringPosition.Begin(this.dragObject.gameObject,new UHTMath.Vector3(0,t*this.dragMovementOffset*1.7,0),this.pageSpringStrength),this.currentSpring.callWhenFinished="SpringPositionFinised",this.currentSpring.eventReceiver=this},PageFlipper.prototype.SpringPositionFinised=function(){this.followDragObject=!1,this.topPageIsFlipping?this.StopFlippingTopPage():this.bottomPageIsFlipping&&this.StopFlippingBottomPage()},PageFlipper.prototype.StopFlippingTopPage=function(){this.topPageIsFlipping=!1,this.SampleAnimation(this.flippingPage.gameObject.animation,0);for(var t=0;t<this.topPages.length;t++)if(this.flippingPage==this.topPages[t]){(0==t?this.topPages[this.topPages.length-1]:this.topPages[t-1]).gameObject.SetActive(!1),this.flippingPage.GetComponent(UIPanel).depth=this.staticPanelDepth,this.flippingPage=null;break}},PageFlipper.prototype.StopFlippingBottomPage=function(){this.bottomPageIsFlipping=!1,this.SampleAnimation(this.flippingPage.gameObject.animation,0);for(var t=0;t<this.bottomPages.length;t++)if(this.flippingPage==this.bottomPages[t]){(t==this.bottomPages.length-1?this.bottomPages[0]:this.bottomPages[t+1]).gameObject.SetActive(!1),this.flippingPage.GetComponent(UIPanel).depth=this.staticPanelDepth,this.flippingPage=null;break}},PageFlipper.prototype.SwitchFromBotToTopPageFlipping=function(){this.bottomPageIsFlipping=!1,this.topPageIsFlipping=!0,this.flippingPage.gameObject.SetActive(!1),this.flippingPage.GetComponent(UIPanel).depth=this.staticPanelDepth,this.SampleAnimation(this.flippingPage.gameObject.animation,0);for(var t=0;t<this.topPages.length;t++)if(this.topPages[t].gameObject.activeSelf){t==this.topPages.length-1?this.flippingPage=this.topPages[0]:this.flippingPage=this.topPages[t+1],this.flippingPage.GetComponent(UIPanel).depth=this.flippingPanelDepth,this.flippingPage.gameObject.SetActive(!0);break}null!=this.currentSpring&&this.currentSpring.enabled&&(this.currentSpring=SpringPosition.Begin(this.dragObject.gameObject,new UHTMath.Vector3(0,0,0),this.pageSpringStrength),this.currentSpring.callWhenFinished="SpringPositionFinised",this.currentSpring.eventReceiver=this)},PageFlipper.prototype.SwitchFromTopToBottomPageFlipping=function(){this.topPageIsFlipping=!1,this.bottomPageIsFlipping=!0,this.flippingPage.gameObject.SetActive(!1),this.flippingPage.GetComponent(UIPanel).depth=this.staticPanelDepth,this.SampleAnimation(this.flippingPage.gameObject.animation,0);for(var t=0;t<this.bottomPages.length;t++)if(this.bottomPages[t].gameObject.activeSelf){this.flippingPage=0==t?this.bottomPages[this.bottomPages.length-1]:this.bottomPages[t-1],this.flippingPage.GetComponent(UIPanel).depth=this.flippingPanelDepth,this.flippingPage.gameObject.SetActive(!0);break}null!=this.currentSpring&&this.currentSpring.enabled&&(this.currentSpring=SpringPosition.Begin(this.dragObject.gameObject,new UHTMath.Vector3(0,0,0),this.pageSpringStrength),this.currentSpring.callWhenFinished="SpringPositionFinised",this.currentSpring.eventReceiver=this)},PageFlipper.prototype.BottomPageStartsFlipping=function(){this.bottomPageIsFlipping=!0,this.topPageIsFlipping=!1;for(var t=0;t<this.bottomPages.length;t++)if(this.bottomPages[t].gameObject.activeSelf){this.flippingPage=this.bottomPages[t],this.flippingPage.GetComponent(UIPanel).depth=this.flippingPanelDepth,(t==this.bottomPages.length-1?this.bottomPages[0]:this.bottomPages[t+1]).gameObject.SetActive(!0);break}},PageFlipper.prototype.TopPageStartsFlipping=function(){this.topPageIsFlipping=!0,this.bottomPageIsFlipping=!1;for(var t=0;t<this.topPages.length;t++)if(this.topPages[t].gameObject.activeSelf){this.flippingPage=this.topPages[t],this.flippingPage.GetComponent(UIPanel).depth=this.flippingPanelDepth,(0==t?this.topPages[this.topPages.length-1]:this.topPages[t-1]).gameObject.SetActive(!0);break}},PageFlipper.prototype.SampleAnimation=function(t,e){var i=t.GetAnimationState(t.clip.name);i.enabled=!0,i.weight=1,i.time=e,t.Sample(),i.enabled=!1},PageFlipper.prototype.ProcessRequirementChecker=function(){for(var t=0,e=this.topPages.length,i=0;i<e;i++){this.topPages[i-t].gameObject.SetActive(!1),this.bottomPages[i-t].gameObject.SetActive(!1);var n=this.topPages[i-t].GetComponent(window.RequirementChecker);null==n||n.isActive||(this.topPages.splice(i-t,1),this.bottomPages.splice(i-t,1),t++)}for(var o=0;o<this.topPages.length;o++)this.topPages[o].gameObject.SetActive(0==o),this.bottomPages[o].gameObject.SetActive(0==o)},goog.require("UHT.Engine"),PanelAlphaProxy.prototype=Object.create(Component.prototype),(PanelAlphaProxy.prototype.constructor=PanelAlphaProxy).prototype.Start=function(){this.FindPanels()},PanelAlphaProxy.prototype.FindPanels=function(){this.includeChildren?this.panels=this.gameObject.GetComponentsInChildren(UIPanel,!0):this.panels=this.gameObject.GetComponents(UIPanel)},PanelAlphaProxy.prototype.Update=function(){if(.001<Math.abs(this.alpha-this.oldAlpha)){this.mustGetPanels&&(this.FindPanels(),this.mustGetPanels=!1),this.oldAlpha=this.alpha;for(var t=0;t<this.panels.length;t++)this.panels[t].alpha=this.alpha}else this.mustGetPanels=!0},PanelAlphaProxy.prototype.SetAlpha=function(t){this.alpha=t},goog.require("UHT.Engine"),goog.require("UHT.TwoFloatsAnimatedMonoBehaviour"),PanelFader.prototype=Object.create(TwoFloatsAnimatedMonoBehaviour.prototype),(PanelFader.prototype.constructor=PanelFader).prototype.SetAnimatedF_1=function(t){this.alphaValue=UHTMath.clamp(t,0,1)},PanelFader.prototype.SetAnimatedF_2=function(t){this.alphaValue=UHTMath.clamp(t,0,1)},PanelFader.prototype.ResetF_1=function(){this.alphaValue=UHTMath.clamp(this.resetValue_1,0,1)},PanelFader.prototype.ResetF_2=function(){this.alphaValue=UHTMath.clamp(this.resetValue_2,0,1)},PanelFader.prototype.Update=function(){this.oldAlpha!=this.alphaValue&&(this.alphaValue<.05?this.panelToFade.enabled=!1:(this.panelToFade.enabled||(this.panelToFade.enabled=!0),this.panelToFade.alpha=this.alphaValue,this.oldAlpha=this.alphaValue))},goog.require("UHT.Engine"),ParticleScaleFromLabel.prototype=Object.create(Component.prototype),(ParticleScaleFromLabel.prototype.constructor=ParticleScaleFromLabel).prototype.OnEnable=function(){var t=new UHTMath.Vector3(this.targetLabel.GetWidth()*this.extraScaleX+this.extraSizeX,this.targetLabel.GetHeight()*this.extraScaleY+this.extraSizeY,1);this.gameObject.transform.localScale(t)},goog.require("UHT.Engine"),RandomGameObjectActivator.prototype=Object.create(Component.prototype),(RandomGameObjectActivator.prototype.constructor=RandomGameObjectActivator).prototype.Start=function(){this.isInactive=0<Random.Range(0,2),this.initialScale=new UHTMath.Vector3(this.targetGameObject.transform.localScale().x,this.targetGameObject.transform.localScale().y,this.targetGameObject.transform.localScale().z),this.UpdateState()},RandomGameObjectActivator.prototype.Update=function(){this.timer>=this.duration?this.UpdateState():this.timer+=Time.deltaTime},RandomGameObjectActivator.prototype.UpdateState=function(){var t;this.isInactive?(this.duration=Random.Range(this.minActiveDuration,this.maxActiveDuration),this.useRandomScaleOnEnable&&(t=Random.Range(this.minScaleMultiplier,this.maxScaleMultiplier),this.targetGameObject.transform.localScale(this.initialScale.x*t,this.initialScale.y*t,this.initialScale.z*t))):this.duration=Random.Range(this.minInactiveDuration,this.maxInactiveDuration),this.targetGameObject.SetActive(this.isInactive),this.isInactive=!this.isInactive,this.timer=0},goog.require("UHT.Engine"),RandomIntervalCATLink.prototype=Object.create(Component.prototype),(RandomIntervalCATLink.prototype.constructor=RandomIntervalCATLink).prototype.StartCATLink=function(){this.catLink.Start(),this.timer=0,this.targetTimer=Random.Range(this.minInterval,this.maxInterval)},RandomIntervalCATLink.prototype.Start=function(){this.targetTimer=Random.Range(this.minInterval,this.maxInterval)},RandomIntervalCATLink.prototype.Update=function(){this.timer>=this.targetTimer&&this.StartCATLink(),this.timer+=Time.deltaTime},goog.require("UHT.XTLink"),RequirementChecker.prototype=Object.create(XTLink.prototype),(RequirementChecker.prototype.constructor=RequirementChecker).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this,-1)},RequirementChecker.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGUIInit,this)},RequirementChecker.prototype.OnGUIInit=function(){var t=!1,e=this.jurisdictionRequirement.name;null!=e&&""!=e&&"*None*"!=e&&(t=XT.GetBool(e)),this.isActiveWhenRequirementIsTrue?this.isActive=t:this.isActive=!t},RoutineQueueHelper.scheduledRQItems=[],RoutineQueueHelper.ClearScheduledRQItems=function(){RoutineQueueHelper.scheduledRQItems=[]},RoutineQueueHelper.AddScheduledRQItem=function(t,e){var i=new ScheduledRQItem;i.rqItem=t,i.time=e,RoutineQueueHelper.scheduledRQItems.push(i)},RoutineQueueHelper.PutScheduledItemsToRQ=function(t){RoutineQueueHelper.scheduledRQItems.sort(function(t,e){return t.time-e.time}),0!=RoutineQueueHelper.scheduledRQItems[0].time&&t.AddRoutineQueueItem(new RQIWaitForSeconds(RoutineQueueHelper.scheduledRQItems[0].time)),t.AddRoutineQueueItem(RoutineQueueHelper.scheduledRQItems[0].rqItem);for(var e=1;e<RoutineQueueHelper.scheduledRQItems.length;e++){var i=RoutineQueueHelper.scheduledRQItems[e].time-RoutineQueueHelper.scheduledRQItems[e-1].time;0!=i&&t.AddRoutineQueueItem(new RQIWaitForSeconds(i)),t.AddRoutineQueueItem(RoutineQueueHelper.scheduledRQItems[e].rqItem)}},goog.require("UHT.Engine"),SpriteFillProxy.prototype=Object.create(Component.prototype),(SpriteFillProxy.prototype.constructor=SpriteFillProxy).prototype.LateUpdate=function(){this.fillChanged=!1,.001<Math.abs(this.previousFillAmount-this.fillAmount)&&(this.previousFillAmount=this.fillAmount,this.targetSprite.fillAmount=this.fillAmount,this.fillChanged=!0),.001<Math.abs(this.previousTopFillAmount-this.topFillAmount)&&(this.previousTopFillAmount=this.topFillAmount,this.targetSprite.fillAmountTop=this.topFillAmount,this.fillChanged=!0),.001<Math.abs(this.previousBottomFillAmount-this.bottomFillAmount)&&(this.previousBottomFillAmount=this.bottomFillAmount,this.targetSprite.fillAmountBottom=this.bottomFillAmount,this.fillChanged=!0),.001<Math.abs(this.previousLeftFillAmount-this.leftFillAmount)&&(this.previousLeftFillAmount=this.leftFillAmount,this.targetSprite.fillAmountLeft=this.leftFillAmount,this.fillChanged=!0),.001<Math.abs(this.previousRightFillAmount-this.rightFillAmount)&&(this.previousRightFillAmount=this.rightFillAmount,this.targetSprite.fillAmountRight=this.rightFillAmount,this.fillChanged=!0),this.fillChanged&&this.targetSprite.SetSpriteName(this.targetSprite.spriteName)},goog.require("UHT.Engine");var AnimationControllerUpdateMethod={Update:0,LateUpdate:1};function AnimationController(){Component.call(this),this.target=null,this.clip=null,this.animationTime=0,this.useWrapMode=!1,this.wrapMode=WrapMode.Default,this.playOnEnable=!1,this.callWhenFinished=null,this.normalizedTimeCurve=null,this.useNormalizedTimeCurve=!1,this.randomClips=null,this.updateOn=AnimationControllerUpdateMethod.Update,this.isPlaying=!1,this.startNormalizedTime=0,this.targetNormalizedTime=0,this.deltaAnimationTime=0,this.curNormalizedTime=0,this.curAnimationTime=0,this.randomIndex=-1,this.randomIndices=[]}function ExtraParticleModule(){Component.call(this)}function AnimatedParticleFrames(){ExtraParticleModule.call(this),this.atlas=null,this.FPS=15,this.frameInfo=[]}function PanelAlphaAnimator(){Component.call(this),this.targetPanels=[],this.startAlpha=null,this.endAlpha=null,this.autoIncludeChildPanels=!1,this.animationTime=1,this.playAutomatically=!1,this.playReverse=!1,this.useAnimationCurve=!0,this.useTimeChannel=!1,this.timeChannelID=0,this.playMode=WidgetColorAnimator.PlayMode.Default,this.animationCurve=null,this.firstCurveKey=null,this.lastCurveKey=null,this.totalCurveTime=0,this.currentTime=0,this.direction=1,this.playing=!1,this.reset=!1,this.myTimeChannel=null}function RandomAnimationPlayer(){Component.call(this),this.anim=null,this.animationClips=[],this.resetClip=null,this.startOnEnable=!1,this.useDelayOnStart=!1,this.waitForPreviousClipToFinish=!1,this.playResetAnimOnStop=!0,this.minRandomTime=1,this.maxRandomTime=5,this.minRandomSpeed=1,this.maxRandomSpeed=5,this.noRepetition=!1,this.isRunning=!1,this.currentTime=0,this.randomIndex=-1,this.randomIndices=[]}function SplitLabelV3FX(){XTLink.call(this),this.source=null,this.labelsAnchor=null,this.charSources=null,this.charsPooler=null,this.charPoolID=0,this.colorAnimators=null,this.useExtraSpaces=!1,this.extraSpaces=null,this.keepCharsInMemory=!1,this.prevText="",this.prevWidth=-1,this.prevScale=null,this.chars=[],this.removedChars=[],this.widgets=[],this.isGameInit=!1,this.extraSpaceWidths=[]}function SplitLabelV3FXChar(){GenericPoolObject.call(this),this.label=null,this.panel=null,this.samplers=null,this.transformToScale=null,this.isInit=!1,this.initialDepth=0}function UILabelForceFallbackFont(){XTLink.call(this),this.fontFamily="Verdana",this.labels=null,this.forceFontAfterLocalization=!1,this.forceFontOnAwake=!1}function UILabelPropertyCopy(){Component.call(this),this.FromLabel=null,this.ToLabel=null,this.CopyText=!1,this.CopyColor=!1}function WidgetColorAnimator(){Component.call(this),this.targetWidgets=[],this.colorA=null,this.colorB=null,this.animationTime=1,this.playAutomatically=!1,this.playReverse=!1,this.useAnimationCurve=!0,this.useTimeChannel=!1,this.timeChannelID=0,this.playMode=WidgetColorAnimator.PlayMode.Default,this.animationCurve=null,this.animators=null,this.firstCurveKey=null,this.lastCurveKey=null,this.totalCurveTime=0,this.currentTime=0,this.direction=1,this.playing=!1,this.reset=!1,this.myTimeChannel=null}function GraphicsShape(){Component.call(this),this.points=null,this.positions=[],this.pixiPoints=[]}function GraphicsShapeCircle(){GraphicsShape.call(this)}function GraphicsShapePolygon(){GraphicsShape.call(this)}function GraphicsShapeRect(){GraphicsShape.call(this)}function WidgetMask(){Component.call(this)}function WidgetsMaskGraphics(){XTLink.call(this),this.widgets=null,this.shapes=null,this.mask=new PIXI.Graphics,this.cachedCamera=null,this.needUpdate=!1,this.screenWidth=-1,this.screenHeight=-1,this.cameraPos=null}function WidgetsEnabler(){Component.call(this),this.root=null,this.sprites=null,this.spritesActive=null,this.labels=null,this.labelsActive=null,this.isInit=!1}function WidgetsUtils(){Component.call(this),this.sprites=null,this.labels=null,this.labelAnchors=null}AnimationController.prototype=Object.create(Component.prototype),(AnimationController.prototype.constructor=AnimationController).prototype.ChooseRandomClip=function(){if(this.randomIndices.length<=0)for(var t=0;t<this.randomClips.length;++t)this.randomIndex!=t&&this.randomIndices.push(t);var e=Random.Range(0,this.randomIndices.length);this.randomIndex=this.randomIndices[e],this.randomIndices.splice(e,1),this.clip=this.randomClips[this.randomIndex]},AnimationController.prototype.Sample=function(t){this.curNormalizedTime=Number(t);t=this.target.GetAnimationState(this.clip.name);t.enabled=!0,t.weight=1,t.time=this.curNormalizedTime*t.length,this.target.Sample(),t.enabled=!1},AnimationController.prototype.Play=function(){var t;this.animationTime<=0?this.Sample(1):(t=this.target.GetAnimationState(this.clip.name),this.useWrapMode&&(t.wrapMode=this.wrapMode),t.speed=this.clip.length/this.animationTime,t.time=0,this.target.Play(this.clip.name))},AnimationController.prototype.Stop=function(){this.target.Stop()},AnimationController.prototype.Pause=function(){this.target.GetAnimationState(this.clip.name).speed=0},AnimationController.prototype.Resume=function(){this.target.GetAnimationState(this.clip.name).speed=this.clip.length/this.animationTime},AnimationController.prototype.IsPlaying=function(){return this.isPlaying||this.target.IsPlaying(this.clip.name)},AnimationController.prototype.PlayTo=function(t){this.startNormalizedTime=this.curNormalizedTime,this.targetNormalizedTime=Number(t),this.deltaAnimationTime=Math.abs(this.targetNormalizedTime-this.startNormalizedTime)*this.animationTime,this.isPlaying=!0,this.curAnimationTime=0},AnimationController.prototype.InternalUpdate=function(){var t;this.isPlaying&&(this.curAnimationTime>=this.deltaAnimationTime?(this.Sample(this.targetNormalizedTime),this.isPlaying=!1,null!=this.callWhenFinished&&this.callWhenFinished.Start()):0!=this.deltaAnimationTime?(t=this.curAnimationTime/this.deltaAnimationTime,this.useNormalizedTimeCurve&&(t=this.normalizedTimeCurve.Evaluate(t)),this.Sample(UHTMath.lerp(this.startNormalizedTime,this.targetNormalizedTime,t)),this.curAnimationTime+=Time.deltaTime):console.error("AnimationController.Update - Gonna divide by 0 ... aborting"))},AnimationController.prototype.OnEnable=function(){this.playOnEnable&&this.Play()},AnimationController.prototype.GetNormalizedTime=function(){return this.curNormalizedTime},AnimationController.prototype.Update=function(){this.updateOn==AnimationControllerUpdateMethod.Update&&this.InternalUpdate()},AnimationController.prototype.LateUpdate=function(){this.updateOn==AnimationControllerUpdateMethod.LateUpdate&&this.InternalUpdate()},goog.require("UHT.Random"),goog.require("UHT.Engine"),goog.provide("UHT.ExtraParticleModule"),ExtraParticleModule.prototype=Object.create(Component.prototype),(ExtraParticleModule.prototype.constructor=ExtraParticleModule).prototype.SupportsFastParticleContainer=function(){return!0},ExtraParticleModule.prototype.OnNewParticle=function(t){},ExtraParticleModule.prototype.OnUpdateParticle=function(t){},goog.require("UHT.Random"),goog.require("UHT.Engine"),goog.require("UHT.ExtraParticleModule"),AnimatedParticleFrames.prototype=Object.create(ExtraParticleModule.prototype),(AnimatedParticleFrames.prototype.constructor=AnimatedParticleFrames).prototype.Awake=function(){this.BuildSprites()},AnimatedParticleFrames.prototype.BuildSprites=function(){var t=this.atlas.getSpriteNames();t.sort(function(t,e){return t==e?0:e<t?1:-1});for(var e=0;e<t.length;e++)this.frameInfo.push(this.atlas.getTextureForSimpleSprite(null,t[e]))},AnimatedParticleFrames.prototype.SupportsFastParticleContainer=function(){return!1},AnimatedParticleFrames.prototype.OnNewParticle=function(t){t._epm_apf_frame=Random.Range(0,this.frameInfo.length-1),t._epm_apf_frameTime=Random.Range(.01,1/this.FPS),t.sprite=new PIXI.Sprite(this.frameInfo[t._epm_apf_frame])},AnimatedParticleFrames.prototype.OnUpdateParticle=function(t){t._epm_apf_frameTime+=Time.deltaTime;for(var e=t._epm_apf_frame;t._epm_apf_frameTime>1/this.FPS;)t._epm_apf_frameTime-=1/this.FPS,e++;if((e%=this.frameInfo.length)!=t._epm_apf_frame){for(var i=-1,n=t.parent.pixiZOrderedContainer.children,o=0;o<n.length;o++)n[o]==t.sprite&&(i=o);t._epm_apf_frame=e,t.sprite=new PIXI.Sprite(this.frameInfo[t._epm_apf_frame]),t.sprite.blendMode=t.parent.blendMode,t.sprite.anchor.x=.5,t.sprite.anchor.y=.5,-1!=i?(t.sprite.parent=t.parent.pixiZOrderedContainer,n[i]=t.sprite):t.parent.pixiZOrderedContainer.addChild(t.sprite)}},goog.require("UHT.Engine"),PanelAlphaAnimator.prototype=Object.create(Component.prototype),(PanelAlphaAnimator.prototype.constructor=PanelAlphaAnimator).PlayMode={Default:0,Loop:1,PingPong:2},PanelAlphaAnimator.prototype.FindChildPanels=function(){this.targetPanels=this.gameObject.GetComponentsInChildren(UIPanel,!0)},PanelAlphaAnimator.prototype.Play=function(){this.autoIncludeChildPanels&&this.FindChildPanels(),this.playing=!0,this.direction=this.playReverse?-1:1,this.Update()},PanelAlphaAnimator.prototype.PlayReversed=function(){this.autoIncludeChildPanels&&this.FindChildPanels(),this.direction=-1,this.currentTime=this.animationTime-1e-5,this.playing=!0,this.Update()},PanelAlphaAnimator.prototype.PlayReversedFromCurrentTime=function(){this.autoIncludeChildPanels&&this.FindChildPanels(),this.playing||(this.currentTime=this.animationTime-1e-5),this.playing=!0,this.direction=-1,this.useAnimationCurve||this.Update()},PanelAlphaAnimator.prototype.Pause=function(){this.playing=!1},PanelAlphaAnimator.prototype.Stop=function(){if(this.playing){if(this.useAnimationCurve)if(1==this.direction)for(var t=0;t<this.targetPanels.length;t++)this.targetPanels[t].alpha=UHTMath.lerp(this.startAlpha,this.endAlpha,this.animationCurve.keys[this.animationCurve.keys.length-1].value);else for(var e=0;e<this.targetPanels.length;e++)this.targetPanels[e].alpha=UHTMath.lerp(this.startAlpha,this.endAlpha,this.animationCurve.keys[0].value);this.playing=!1,this.direction=this.playReverse?-1:1,this.currentTime=this.playReverse?this.animationTime-1e-5:0}},PanelAlphaAnimator.prototype.Reset=function(){this.reset=!0,this.Stop()},PanelAlphaAnimator.prototype.OnEnable=function(){this.useTimeChannel&&(this.myTimeChannel=Globals.RegisterToTimeChannel(this,this.timeChannelID)),this.playAutomatically&&this.Play()},PanelAlphaAnimator.prototype.OnDisable=function(){this.Stop(),this.useTimeChannel&&Globals.UnregisterFromTimeChannel(this,this.timeChannelID)},PanelAlphaAnimator.prototype.Start=function(){this.direction=this.playReverse?-1:1,this.firstCurveKey=this.animationCurve.keys[0],this.lastCurveKey=this.animationCurve.keys[this.animationCurve.keys.length-1],this.totalCurveTime=this.lastCurveKey.time-this.firstCurveKey.time},PanelAlphaAnimator.prototype.Update=function(){if((this.playing||this.reset)&&0<this.targetPanels.length){this.reset&&(this.reset=!1),this.useAnimationCurve||(0<this.direction?this.currentTime=this.animationTime:this.currentTime=0);var t,e=this.currentTime/this.animationTime;if(2<=this.animationCurve.keys.length&&(t=e*this.totalCurveTime,e=this.animationCurve.Evaluate(t),e=UHTMath.clamp(e,0,1)),0<=e&&e<=1)for(var i=0;i<this.targetPanels.length;i++)this.targetPanels[i].alpha=UHTMath.lerp(this.startAlpha,this.endAlpha,e);if(0<this.direction&&(this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(this.currentTime<this.animationTime&&(this.currentTime+=Time.deltaTime),this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:this.currentTime<this.animationTime&&(this.currentTime+=Time.deltaTime),this.currentTime>=this.animationTime))switch(this.playMode){case WidgetColorAnimator.PlayMode.Loop:this.currentTime-=this.animationTime;break;case WidgetColorAnimator.PlayMode.PingPong:this.direction=-1;break;default:this.Stop()}if(this.direction<0&&(this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(0<this.currentTime&&(this.currentTime-=Time.deltaTime),this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:0<this.currentTime&&(this.currentTime-=Time.deltaTime),this.currentTime<=0))switch(this.playMode){case WidgetColorAnimator.PlayMode.Loop:this.currentTime+=this.animationTime;break;case WidgetColorAnimator.PlayMode.PingPong:this.direction=1;break;default:this.Stop()}}},PanelAlphaAnimator.prototype.Sample=function(t){for(var e=0;e<this.targetPanels.length;e++)this.targetPanels[e].alpha=UHTMath.lerp(this.startAlpha,this.endAlpha,t)},goog.require("UHT.Random"),goog.require("UHT.Engine"),RandomAnimationPlayer.prototype=Object.create(Component.prototype),(RandomAnimationPlayer.prototype.constructor=RandomAnimationPlayer).prototype.GetRandomIndex=function(){if(this.randomIndices.length<=0)for(var t=0;t<this.animationClips.length;++t)this.randomIndex!=t&&this.randomIndices.push(t);var e=Random.Range(0,this.randomIndices.length);return this.randomIndex=this.randomIndices[e],this.randomIndices.splice(e,1),this.randomIndex},RandomAnimationPlayer.prototype.OnEnable=function(){this.startOnEnable&&this.StartAnimating()},RandomAnimationPlayer.prototype.PlayRandomClip=function(){var t=this.noRepetition?this.GetRandomIndex():Random.Range(0,this.animationClips.length),e=Random.Range(this.minRandomSpeed,this.maxRandomSpeed);this.anim.IsPlaying(this.animationClips[t].name)||(this.anim.GetAnimationState(this.animationClips[t].name).speed=e,this.anim.Play(this.animationClips[t].name))},RandomAnimationPlayer.prototype.StartAnimating=function(){this.isRunning=!0,this.useDelayOnStart?this.currentTime=Random.Range(this.minRandomTime,this.maxRandomTime):this.currentTime=0},RandomAnimationPlayer.prototype.StopAnimating=function(){this.isRunning=!1,this.playResetAnimOnStop&&this.anim.Play(this.resetClip.name)},RandomAnimationPlayer.prototype.Update=function(){!this.isRunning||this.waitForPreviousClipToFinish&&this.anim.isPlaying||(this.currentTime<=0?(this.currentTime=Random.Range(this.minRandomTime,this.maxRandomTime),this.PlayRandomClip()):this.currentTime-=Time.deltaTime)},goog.require("UHT.XTLink"),SplitLabelV3FX.prototype=Object.create(XTLink.prototype),(SplitLabelV3FX.prototype.constructor=SplitLabelV3FX).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},SplitLabelV3FX.prototype.OnGameInit=function(){if(this.isGameInit=!0,this.PrepareCharSources(),this.useExtraSpaces)for(var t=0;t<this.extraSpaces.length;++t)this.extraSpaceWidths.push(this.extraSpaces[t].GetWidth())},SplitLabelV3FX.prototype.LateUpdate=function(){var t,e,i;this.isGameInit&&!this.charsPooler.initializing&&(t=this.source.GetWidth(),e=this.source.transform.localScale(),(i=this.prevText!=this.source.text)&&this.UpdateText(),!i&&t==this.prevWidth&&e.equals(this.prevScale)||(this.UpdateWidth(t,e),this.labelsAnchor.ForceNextUpdate(),this.labelsAnchor.Update(),this.UpdateExtraSpaces(t)))},SplitLabelV3FX.prototype.UpdateText=function(){this.removedChars.splice(0);for(var t=this.source.text,e=this.chars.length-t.length,i=0;i<e;++i)this.removedChars.push(this.chars[0]),this.chars[0].label.keepInMemory=!1,this.charsPooler.RecycleObject(this.chars[0]),this.chars.splice(0,1),this.labelsAnchor.labels.splice(0,1);for(i=0;i<t.length;++i)i==this.chars.length&&(this.chars.push(this.charsPooler.GetObject(this.charPoolID,this.labelsAnchor.gameObject)),this.labelsAnchor.labels.push(this.chars[i].label),this.chars[i].label.keepInMemory=this.keepCharsInMemory),this.chars[i].UpdateValue(this.GetCharSource(t[i]),t,i);this.prevText.length!=t.length&&this.labelsAnchor.DiscardCache();for(i=0;i<this.colorAnimators.length;++i)this.UpdateColorAnimator(this.colorAnimators[i]);this.prevText=t},SplitLabelV3FX.prototype.UpdateColorAnimator=function(t){this.widgets.splice(0),this.widgets=this.widgets.concat(t.targetWidgets);for(var e=0;e<this.removedChars.length;++e)-1<(i=this.widgets.indexOf(this.removedChars[e].label))&&this.widgets.splice(i,1);for(var i,e=0;e<this.chars.length;++e)(i=this.widgets.indexOf(this.chars[e].label))<0&&this.widgets.push(this.chars[e].label);t.targetWidgets=this.widgets.slice()},SplitLabelV3FX.prototype.PrepareCharSources=function(){this.source.Prepare();for(var t=0;t<this.charSources.length;++t)this.charSources[t].Prepare()},SplitLabelV3FX.prototype.GetCharSource=function(t){for(var e=0;e<this.charSources.length;++e)if(t==this.charSources[e].text)return this.charSources[e];return this.source},SplitLabelV3FX.prototype.UpdateWidth=function(t,e){this.source.overflow==UILabel.Overflow.ShrinkContent&&(this.labelsAnchor.maxWidth=t);for(var i=0;i<this.chars.length;++i)this.chars[i].transformToScale.localScale(e);this.prevWidth=t,this.prevScale=e},SplitLabelV3FX.prototype.UpdateExtraSpaces=function(t){if(this.useExtraSpaces)for(var t=this.labelsAnchor.width-t,e=Math.round(t/this.extraSpaces.length),i=0;i<this.extraSpaces.length;++i)this.extraSpaces[i].width=Math.round((this.extraSpaceWidths[i]+e)*this.extraSpaces[i].resize)},goog.require("UHT.GenericPoolObject"),SplitLabelV3FXChar.prototype=Object.create(GenericPoolObject.prototype),(SplitLabelV3FXChar.prototype.constructor=SplitLabelV3FXChar).prototype.UpdateValue=function(t,e,i){this.label.text=e[i],this.isInit||this.Init(t),this.panel.depth=this.initialDepth+i;for(var n=UHTMath.inverseLerp(0,e.length-1,i),o=0;o<this.samplers.length;++o)this.samplers[o].Sample(n)},SplitLabelV3FXChar.prototype.Init=function(t){this.isInit=!0,this.initialDepth=this.panel.depth,this.label.fontSize=t.fontSize,this.label.fontName=t.fontName,this.label.IOSresized=!0,this.label.resize=t.resize,this.label.Prepare(),null==this.transformToScale&&(this.transformToScale=this.transform)},goog.require("UHT.XTLink"),UILabelForceFallbackFont.prototype=Object.create(XTLink.prototype),(UILabelForceFallbackFont.prototype.constructor=UILabelForceFallbackFont).prototype.XTRegisterCallbacks=function(){this.forceFontAfterLocalization&&XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.ForceFallbackFont,this,1)},UILabelForceFallbackFont.prototype.Awake=function(){FontLoader.LoadFont(this.fontFamily,null),this.forceFontAfterLocalization&&!this.forceFontOnAwake||this.ForceFallbackFont()},UILabelForceFallbackFont.prototype.ForceFallbackFont=function(){for(var t=0;t<this.labels.length;++t)this.labels[t].fontName=this.fontFamily,this.labels[t].Prepare()},goog.require("UHT.Engine"),UILabelPropertyCopy.prototype=Object.create(Component.prototype),(UILabelPropertyCopy.prototype.constructor=UILabelPropertyCopy).prototype.CopyProperties=function(){null!=this.FromLabel&&null!=this.ToLabel&&(1==this.CopyText&&(this.ToLabel.text=this.FromLabel.text),1==this.CopyColor&&this.ToLabel.SetColor(this.FromLabel.GetColor()))},goog.require("UHT.Engine"),WidgetColorAnimator.prototype=Object.create(Component.prototype),(WidgetColorAnimator.prototype.constructor=WidgetColorAnimator).PlayMode={Default:0,Loop:1,PingPong:2},WidgetColorAnimator.prototype.Play=function(){this.playing=!0,this.direction=this.playReverse?-1:1,this.useAnimationCurve||this.Update()},WidgetColorAnimator.prototype.PlayReversed=function(){this.direction=-1,this.currentTime=this.animationTime-1e-5,this.playing=!0,this.useAnimationCurve||this.Update()},WidgetColorAnimator.prototype.PlayReversedFromCurrentTime=function(){this.playing||(this.currentTime=this.animationTime-1e-5),this.playing=!0,this.direction=-1,this.useAnimationCurve||this.Update()},WidgetColorAnimator.prototype.Pause=function(){this.playing=!1},WidgetColorAnimator.prototype.Resume=function(){this.playing=!0},WidgetColorAnimator.prototype.Stop=function(){if(this.playing){if(this.useAnimationCurve)if(1==this.direction)for(var t=0;t<this.targetWidgets.length;t++)Color.qLerp(this.targetWidgets[t].color,this.colorA,this.colorB,this.animationCurve.keys[this.animationCurve.keys.length-1].value);else for(var e=0;e<this.targetWidgets.length;e++)Color.qLerp(this.targetWidgets[e].color,this.colorA,this.colorB,this.animationCurve.keys[0].value);this.playing=!1,this.direction=this.playReverse?-1:1,this.currentTime=this.playReverse?this.animationTime-1e-5:0}},WidgetColorAnimator.prototype.Reset=function(){this.reset=!0,this.Stop()},WidgetColorAnimator.prototype.OnEnable=function(){this.useTimeChannel&&(this.myTimeChannel=Globals.RegisterToTimeChannel(this,this.timeChannelID)),this.playAutomatically&&(this.playing=!0,this.Update())},WidgetColorAnimator.prototype.OnDisable=function(){this.Stop(),this.useTimeChannel&&Globals.UnregisterFromTimeChannel(this,this.timeChannelID)},WidgetColorAnimator.prototype.Start=function(){this.direction=this.playReverse?-1:1,this.firstCurveKey=this.animationCurve.keys[0],this.lastCurveKey=this.animationCurve.keys[this.animationCurve.keys.length-1],this.totalCurveTime=this.lastCurveKey.time-this.firstCurveKey.time},WidgetColorAnimator.prototype.Update=function(){if((this.playing||this.reset)&&0<this.targetWidgets.length){this.reset&&(this.reset=!1),this.useAnimationCurve||(0<this.direction?this.currentTime=this.animationTime:this.currentTime=0);var t,e=this.currentTime/this.animationTime;if(2<=this.animationCurve.keys.length&&(t=e*this.totalCurveTime,e=this.animationCurve.Evaluate(t),e=UHTMath.clamp(e,0,1)),0<=e&&e<=1)for(var i=0;i<this.targetWidgets.length;i++)Color.qLerp(this.targetWidgets[i].color,this.colorA,this.colorB,e);if(0<this.direction&&(this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(this.currentTime<this.animationTime&&(this.currentTime+=Time.deltaTime),this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:this.currentTime<this.animationTime&&(this.currentTime+=Time.deltaTime),this.currentTime>=this.animationTime))switch(this.playMode){case WidgetColorAnimator.PlayMode.Loop:this.currentTime-=this.animationTime;break;case WidgetColorAnimator.PlayMode.PingPong:this.direction=-1;break;default:this.Stop()}if(this.direction<0&&(this.useTimeChannel?this.myTimeChannel.IsChannelMaster(this)?(0<this.currentTime&&(this.currentTime-=Time.deltaTime),this.myTimeChannel.currentTime=this.currentTime):this.currentTime=this.myTimeChannel.currentTime:0<this.currentTime&&(this.currentTime-=Time.deltaTime),this.currentTime<=0))switch(this.playMode){case WidgetColorAnimator.PlayMode.Loop:this.currentTime+=this.animationTime;break;case WidgetColorAnimator.PlayMode.PingPong:this.direction=1;break;default:this.Stop()}}},WidgetColorAnimator.prototype.FindLabels=function(){for(var t=this.gameObject.GetComponentsInChildren(UILabel,!0),e=0;e<t.length;++e)this.targetWidgets.indexOf(t[e])<0&&this.targetWidgets.push(t[e])},WidgetColorAnimator.prototype.Sample=function(t){t=_number.otod(t);for(var e=0;e<this.targetWidgets.length;e++)Color.qLerp(this.targetWidgets[e].color,this.colorA,this.colorB,t)},WidgetColorAnimator.prototype.SampleAndSetCurrentTime=function(t){t=Number(t),this.Sample(t),this.currentTime=t*this.animationTime},WidgetColorAnimator.prototype.SyncCurrentTimeWithAnimator=function(t){this.currentTime=this.animators[t].currentTime},goog.provide("UHT.GraphicsShape"),goog.require("UHT.Engine"),GraphicsShape.prototype=Object.create(Component.prototype),(GraphicsShape.prototype.constructor=GraphicsShape).prototype.Init=function(){for(var t=0;t<this.points.length;++t)this.positions.push(new UHTMath.Vector3(-69,-69,-69)),this.pixiPoints.push(new PIXI.Point(-69,-69))},GraphicsShape.prototype.NeedUpdate=function(){for(var t=!1,e=0;e<this.points.length;++e){var i=this.points[e].position();this.positions[e].equals(i)||(t=!0,this.positions[e]=i)}return t},GraphicsShape.prototype.UpdatePoints=function(t){for(var e=0;e<this.points.length;++e)this.UpdatePoint(this.pixiPoints[e],this.points[e].position(),t)},GraphicsShape.prototype.UpdatePoint=function(t,e,i){e=i.WorldToScreenPoint(e);t.set(e.x,e.y)},GraphicsShape.prototype.Draw=function(t,e){},goog.require("UHT.GraphicsShape"),GraphicsShapeCircle.prototype=Object.create(GraphicsShape.prototype),(GraphicsShapeCircle.prototype.constructor=GraphicsShapeCircle).prototype.Draw=function(t,e){this.UpdatePoints(t);var i=this.pixiPoints[0].x,n=this.pixiPoints[0].y,o=this.pixiPoints[1].x,s=this.pixiPoints[1].y,r=UHTMath.lerp(i,o,.5),t=UHTMath.lerp(n,s,.5),s=.5*new UHTMath.Vector3(i-o,n-s,0).magnitude();e.beginFill(16777215),e.drawCircle(r,t,s),e.endFill()},goog.require("UHT.GraphicsShape"),GraphicsShapePolygon.prototype=Object.create(GraphicsShape.prototype),(GraphicsShapePolygon.prototype.constructor=GraphicsShapePolygon).prototype.Draw=function(t,e){this.UpdatePoints(t),e.beginFill(16777215),e.drawPolygon(this.pixiPoints),e.endFill()},goog.require("UHT.GraphicsShape"),GraphicsShapeRect.prototype=Object.create(GraphicsShape.prototype),(GraphicsShapeRect.prototype.constructor=GraphicsShapeRect).prototype.Draw=function(t,e){this.UpdatePoints(t);var i=this.pixiPoints[0].x,n=this.pixiPoints[0].y,o=this.pixiPoints[1].x-i,t=this.pixiPoints[1].y-n;e.beginFill(16777215),e.drawRect(i,n,o,t),e.endFill()},goog.require("UHT.Component"),WidgetMask.prototype=Object.create(Component.prototype),WidgetMask.prototype.constructor=WidgetMask,goog.require("UHT.XTLink"),WidgetsMaskGraphics.prototype=Object.create(XTLink.prototype),(WidgetsMaskGraphics.prototype.constructor=WidgetsMaskGraphics).pixiTypes=[UIPanel],WidgetsMaskGraphics.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated,this.OnGameSizeChanged,this)},WidgetsMaskGraphics.prototype.OnGameSizeChanged=function(){this.needUpdate=!0,this.gameObject.activeInHierarchy&&this.LateUpdate()},WidgetsMaskGraphics.prototype.Start=function(){for(var t=0;t<this.shapes.length;++t)this.shapes[t].Init()},WidgetsMaskGraphics.prototype.LateUpdate=function(){var t=this.GetCamera();if(null!=t&&this.NeedUpdate()){this.needUpdate=!1,this.mask.clear();for(var e=0;e<this.shapes.length;++e)this.shapes[e].Draw(t,this.mask);for(e=0;e<this.widgets.length;++e){var i=this.FindPixi(this.widgets[e]);null!=i&&(i.mask=this.mask)}}},WidgetsMaskGraphics.prototype.IsScreenSizeChanged=function(){var t=this.screenWidth!=UHTScreen.width||this.screenHeight!=UHTScreen.height;return t&&(this.screenWidth=UHTScreen.width,this.screenHeight=UHTScreen.height),t},WidgetsMaskGraphics.prototype.IsCameraPositionChanged=function(){var t=this.GetCamera();if(null==t)return!1;var e=t.transform.position(),t=null==this.cameraPos||!this.cameraPos.equals(e);return t&&(this.cameraPos=e),t},WidgetsMaskGraphics.prototype.NeedUpdate=function(){if(this.IsScreenSizeChanged()||this.IsCameraPositionChanged())return!0;for(var t=0;t<this.shapes.length;++t)if(this.shapes[t].NeedUpdate())return!0;return this.needUpdate},WidgetsMaskGraphics.prototype.GetCamera=function(){return null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),this.cachedCamera},WidgetsMaskGraphics.prototype.FindPixi=function(t){for(var e=WidgetsMaskGraphics.pixiTypes,i=0;i<e.length;++i){var n=t.GetComponent(e[i]);if(null!=n)return n instanceof Camera||n instanceof UIPanel?n:n.pixiObject}return null},goog.require("UHT.Engine"),WidgetsEnabler.prototype=Object.create(Component.prototype),(WidgetsEnabler.prototype.constructor=WidgetsEnabler).prototype.EnableWidgets=function(){this.isInit||this.FindWidgets();for(var t=0;t<this.sprites.length;++t)this.sprites[t].gameObject.SetActive(this.spritesActive[t]);for(t=0;t<this.labels.length;++t)this.labels[t].gameObject.SetActive(this.labelsActive[t])},WidgetsEnabler.prototype.DisableWidgets=function(){this.isInit||this.FindWidgets();for(var t=0;t<this.sprites.length;++t)this.sprites[t].gameObject.SetActive(!1);for(t=0;t<this.labels.length;++t)this.labels[t].gameObject.SetActive(!1)},WidgetsEnabler.prototype.FindWidgets=function(){this.sprites=this.root.GetComponentsInChildren(UISprite,!0),this.spritesActive=_array.create(this.sprites.length);for(var t=0;t<this.sprites.length;++t)this.spritesActive[t]=this.sprites[t].gameObject.activeSelf;this.labels=this.root.GetComponentsInChildren(UILabel,!0),this.labelsActive=_array.create(this.labels.length);for(t=0;t<this.labels.length;++t)this.labelsActive[t]=this.labels[t].gameObject.activeSelf;this.isInit=!0},goog.require("UHT.Engine"),WidgetsUtils.prototype=Object.create(Component.prototype),(WidgetsUtils.prototype.constructor=WidgetsUtils).prototype.SetWidth=function(t){for(var e=0;e<this.sprites.length;++e)this.sprites[e].width=t;for(e=0;e<this.labels.length;++e)this.labels[e].width=t},WidgetsUtils.prototype.SetHeight=function(t){for(var e=0;e<this.sprites.length;++e)this.sprites[e].height=t;for(e=0;e<this.labels.length;++e)this.labels[e].height=t},WidgetsUtils.prototype.SetFontSize=function(t){for(var e=0;e<this.labels.length;++e)this.labels[e].fontSize=t},WidgetsUtils.prototype.SetMaxWidth=function(t){for(var e=0;e<this.labelAnchors.length;++e){var i=this.labelAnchors[e];i.maxWidth!=t&&(i.maxWidth=t,i.ForceNextUpdate(),i.gameObject.activeInHierarchy&&i.Update())}},goog.provide("UHT.FOXLink"),goog.require("UHT.XTLink");var FOXVars={FOX_Response:"FOX_Response",Evt_FOX_InitReceived:"Evt_FOX_InitReceived",Evt_FOX_SpinReceived:"Evt_FOX_SpinReceived",Evt_FOX_CollectReceived:"Evt_FOX_CollectReceived",Evt_FOX_InitBonusReceived:"Evt_FOX_InitBonusReceived",Evt_FOX_PickBonusReceived:"Evt_FOX_PickBonusReceived",Evt_FOX_BonusRespinReceived:"Evt_FOX_BonusRespinReceived",Evt_FOX_CollectBonusReceived:"Evt_FOX_CollectBonusReceived",Evt_FOX_GambleReceived:"Evt_FOX_GambleReceived",Evt_FOX_GambleCollectReceived:"Evt_FOX_GambleCollectReceived",Evt_FOX_JackpotCollectReceived:"Evt_FOX_JackpotCollectReceived",Evt_FOX_PickFSOptionReceived:"Evt_FOX_PickFSOptionReceived",Evt_FOX_InitFSBGReceived:"Evt_FOX_InitFSBGReceived",Evt_FOX_PickFSBGReceived:"Evt_FOX_PickFSBGReceived",Evt_FOX_GetMysteryScatterReceived:"Evt_FOX_GetMysteryScatterReceived",Evt_FOX_AfterInitReceived:"Evt_FOX_AfterInitReceived",Evt_FOX_AfterSpinReceived:"Evt_FOX_AfterSpinReceived",Evt_FOX_AfterCollectReceived:"Evt_FOX_AfterCollectReceived",Evt_FOX_AfterInitBonusReceived:"Evt_FOX_AfterInitBonusReceived",Evt_FOX_AfterPickBonusReceived:"Evt_FOX_AfterPickBonusReceived",Evt_FOX_AfterBonusRespinReceived:"Evt_FOX_AfterBonusRespinReceived",Evt_FOX_AfterCollectBonusReceived:"Evt_FOX_AfterCollectBonusReceived",Evt_FOX_AfterGambleReceived:"Evt_FOX_AfterGambleReceived",Evt_FOX_AfterGambleCollectReceived:"Evt_FOX_AfterGambleCollectReceived",Evt_FOX_AfterJackpotCollectReceived:"Evt_FOX_AfterJackpotCollectReceived",Evt_FOX_AfterPickFSOptionReceived:"Evt_FOX_AfterPickFSOptionReceived",Evt_FOX_AfterInitFSBGReceived:"Evt_FOX_AfterInitFSBGReceived",Evt_FOX_AfterPickFSBGReceived:"Evt_FOX_AfterPickFSBGReceived",Evt_FOX_AfterGetMysteryScatterReceived:"Evt_FOX_AfterGetMysteryScatterReceived",Evt_FOX_TriggerAfterEvent:"Evt_FOX_TriggerAfterEvent"};function FOXLink(){XTLink.call(this),this.afterResponseProcessed=!1,this.priority=0}function TournamentConnectionXTLayer(){FOXLink.call(this),this.connection=null,this.isFirstResult=!0,this.useResultDisplayerDoLoop=!0,this.isPrizeDrop=!1}FOXLink.prototype=Object.create(XTLink.prototype),(FOXLink.prototype.constructor=FOXLink).prototype.XTRegisterCallbacks=function(){this.afterResponseProcessed?(XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterInitReceived,this.OnInitReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterSpinReceived,this.OnSpinReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterCollectReceived,this.OnCollectReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterInitBonusReceived,this.OnInitBonusReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterPickBonusReceived,this.OnPickBonusReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterBonusRespinReceived,this.OnBonusRespinReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterCollectBonusReceived,this.OnCollectBonusReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterGambleReceived,this.OnGambleReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterGambleCollectReceived,this.OnGambleCollectReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterJackpotCollectReceived,this.OnJackpotCollectReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterPickFSOptionReceived,this.OnPickFSOptionReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterInitFSBGReceived,this.OnInitFSBGReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterPickFSBGReceived,this.OnPickFSBGReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterGetMysteryScatterReceived,this.OnGetMysteryScatterReceived,this,this.priority)):(XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitReceived,this.OnInitReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_SpinReceived,this.OnSpinReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_CollectReceived,this.OnCollectReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitBonusReceived,this.OnInitBonusReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_PickBonusReceived,this.OnPickBonusReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_BonusRespinReceived,this.OnBonusRespinReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_CollectBonusReceived,this.OnCollectBonusReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_GambleReceived,this.OnGambleReceived,this),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_GambleCollectReceived,this.OnGambleCollectReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_JackpotCollectReceived,this.OnJackpotCollectReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_PickFSOptionReceived,this.OnPickFSOptionReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitFSBGReceived,this.OnInitFSBGReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_PickFSBGReceived,this.OnPickFSBGReceived,this,this.priority),XT.RegisterCallbackEvent(FOXVars.Evt_FOX_GetMysteryScatterReceived,this.OnGetMysteryScatterReceived,this,this.priority))},FOXLink.prototype.GetResponse=function(){return XT.GetObject(FOXVars.FOX_Response)},FOXLink.prototype.OnInitReceived=function(){this.HandleInitResponse(this.GetResponse())},FOXLink.prototype.OnSpinReceived=function(){this.HandleSpinResponse(this.GetResponse())},FOXLink.prototype.OnCollectReceived=function(){this.HandleCollectResponse(this.GetResponse())},FOXLink.prototype.OnInitBonusReceived=function(){this.HandleInitBonusResponse(this.GetResponse())},FOXLink.prototype.OnPickBonusReceived=function(){this.HandlePickBonusResponse(this.GetResponse())},FOXLink.prototype.OnBonusRespinReceived=function(){this.HandleBonusRespinResponse(this.GetResponse())},FOXLink.prototype.OnCollectBonusReceived=function(){this.HandleBonusCollectResponse(this.GetResponse())},FOXLink.prototype.OnGambleReceived=function(){this.HandleGambleResponse(this.GetResponse())},FOXLink.prototype.OnGambleCollectReceived=function(){this.HandleGambleCollectResponse(this.GetResponse())},FOXLink.prototype.OnJackpotCollectReceived=function(){this.HandleJackpotCollectResponse(this.GetResponse())},FOXLink.prototype.OnPickFSOptionReceived=function(){this.HandlePickFSOptionResponse(this.GetResponse())},FOXLink.prototype.OnInitFSBGReceived=function(){this.HandleInitFSBGResponse(this.GetResponse())},FOXLink.prototype.OnPickFSBGReceived=function(){this.HandlePickFSBGResponse(this.GetResponse())},FOXLink.prototype.OnGetMysteryScatterReceived=function(){this.HandleGetMysteryScatterResponse(this.GetResponse())},FOXLink.prototype.HandleInitResponse=function(t){},FOXLink.prototype.HandleSpinResponse=function(t){},FOXLink.prototype.HandleCollectResponse=function(t){},FOXLink.prototype.HandleInitBonusResponse=function(t){},FOXLink.prototype.HandlePickBonusResponse=function(t){},FOXLink.prototype.HandleBonusRespinResponse=function(t){},FOXLink.prototype.HandleBonusCollectResponse=function(t){},FOXLink.prototype.HandleGambleResponse=function(t){},FOXLink.prototype.HandleGambleCollectResponse=function(t){},FOXLink.prototype.HandleJackpotCollectResponse=function(t){},FOXLink.prototype.HandlePickFSOptionResponse=function(t){},FOXLink.prototype.HandleInitFSBGResponse=function(t){},FOXLink.prototype.HandlePickFSBGResponse=function(t){},FOXLink.prototype.HandleGetMysteryScatterResponse=function(t){},goog.require("UHT.FOXLink"),goog.require("UHT.TournamentConnection"),TournamentConnectionXTLayer.prototype=Object.create(FOXLink.prototype),(TournamentConnectionXTLayer.prototype.constructor=TournamentConnectionXTLayer).prototype.XTRegisterCallbacks=function(){FOXLink.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_Prepare,this.OnResultDisplayerPrepare,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop,this.OnResultDisplayerDoLoop,this),XT.RegisterCallbackBool(Vars.LastWinIsCounting,this.OnLastWinIsCountingChanged,this),XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_WinShown,this.OnPromotionWinShown,this)},TournamentConnectionXTLayer.prototype.XTInitVariablesAndEvents=function(){XT.SetString(TournamentVars.Promotion_WinID,""),XT.SetDouble(TournamentVars.Promotion_WinReceived,0),XT.SetString(TournamentVars.Promotion_GiftReceived,""),XT.SetDouble(TournamentVars.PrizeDropWin_Bet,0),XT.SetInt(TournamentVars.PrizeDropWin_BetMultiplier,0),XT.SetInt(TournamentVars.PrizeDropWin_PrizeType,TournamentProtocol.PrizeType.Invalid),XT.SetBool(TournamentVars.PrizeDropManuallyCredited,!1),XT.SetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut,!1),XT.SetString(TournamentVars.PrizeDropWin_FreeRoundsType,"N"),this.SetTournaments(null)},TournamentConnectionXTLayer.prototype.OnGameInit=function(){UHT_GAME_CONFIG.demoMode||(this.connection=new TournamentConnection,this.connection.xtLayer=this)},TournamentConnectionXTLayer.prototype.OnResultDisplayerPrepare=function(){null!=this.connection&&(this.isPrizeDrop&&XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_PrepareForWin),this.connection.hasUpdates&&(this.useResultDisplayerDoLoop=!1,XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Prepare)),this.UpdatePromotions(),this.isFirstResult&&(this.isFirstResult=!1,this.OnLastWinIsCountingChanged(XT.GetBool(Vars.LastWinIsCounting))))},TournamentConnectionXTLayer.prototype.OnResultDisplayerDoLoop=function(){this.useResultDisplayerDoLoop&&null!=this.connection&&this.connection.hasUpdates&&this.OnResultDisplayerPrepare()},TournamentConnectionXTLayer.prototype.OnLastWinIsCountingChanged=function(t){},TournamentConnectionXTLayer.prototype.UpdatePromotions=function(){this.isPrizeDrop?XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_ShowWin):this.connection.canUpdate=!0},TournamentConnectionXTLayer.prototype.OnPromotionWinShown=function(){this.connection.canUpdate=!0,this.isPrizeDrop=!1},TournamentConnectionXTLayer.prototype.Update=function(){null!=this.connection&&this.connection.Update()},TournamentConnectionXTLayer.prototype.SetServerTime=function(t){XT.SetInt(TournamentVars.ServerTime,t)},TournamentConnectionXTLayer.prototype.SetTournaments=function(t){XT.SetObject(TournamentVars.Tournaments,t),XT.TriggerEvent(TournamentVars.Evt_Internal_TournamentsUpdated)},TournamentConnectionXTLayer.prototype.SetDetails=function(t){XT.SetObject(TournamentVars.TournamentDetails,t)},TournamentConnectionXTLayer.prototype.SetLeaderboards=function(t){XT.SetObject(TournamentVars.TournamentLeaderboards,t)},TournamentConnectionXTLayer.prototype.AnnouncePromotions=function(){XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Announce)},TournamentConnectionXTLayer.prototype.HandleSpinResponse=function(t){this.isPrizeDrop=!1;var e,i,n="",o=0,s="",r=0,a=0,l=TournamentProtocol.PrizeType.Invalid,u="N",h=-1;null==t.ev||1<(i=t.ev.split("~")).length&&"MR"==i[0]&&1<(i=i[1].split(",")).length&&(e=PromotionsHelper.GetUID(_number.otoi(i[0]),TournamentProtocol.PromoType.Race),null!=(t=PromotionsHelper.FindPromotion(e))&&t.clientMode==TournamentProtocol.ClientMode.Visible&&("A"==i[1]?o=_number.otod(i[2]):"G"==i[1]?s=decodeURIComponent(atob(i[2]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join("")):"BM"==i[1]?(o=_number.otod(i[2]),r=_number.otod(i[3]),a=_number.otoi(i[4])):"FR"==i[1]&&(u=i[3],r=_number.otod(i[2]),h=_number.otoi(i[4])),n=e,this.isPrizeDrop=!0,this.connection.racePrizesTimer=this.connection.reloadRacePrizesInterval,this.connection.raceWinnersTimer=this.connection.reloadRaceWinnersInterval,l=TournamentProtocol.PrizeTypeConverter.Convert(i[1]))),XT.SetString(TournamentVars.Promotion_WinID,n),XT.SetDouble(TournamentVars.Promotion_WinReceived,o),XT.SetString(TournamentVars.Promotion_GiftReceived,s),XT.SetDouble(TournamentVars.PrizeDropWin_Bet,r),XT.SetInt(TournamentVars.PrizeDropWin_BetMultiplier,a),XT.SetInt(TournamentVars.PrizeDropWin_PrizeType,l),XT.SetString(TournamentVars.PrizeDropWin_FreeRoundsType,u),XT.SetInt(TournamentVars.PrizeDropWin_FreeRoundsAmount,h)};var BGVars={Evt_Internal_ShowLevel:"Evt_Internal_ShowLevel",Evt_Internal_ResumeLevel:"Evt_Internal_ResumeLevel",Evt_DataToCode_BonusPickItemClicked:"Evt_DataToCode_BonusPickItemClicked",Evt_DataToCode_BonusMultiplierItemClicked:"Evt_DataToCode_BonusMultiplierItemClicked",Evt_ToServer_BonusPickedItem:"Evt_ToServer_BonusPickedItem",Evt_ToServer_BonusPickedCustomItem:"Evt_ToServer_BonusPickedCustomItem",Evt_ToServer_SendBonusRespin:"Evt_ToServer_SendBonusRespin",Evt_ToServer_BonusGameFinished:"Evt_ToServer_BonusGameFinished",BonusPickItemIndex:"BonusPickItemIndex",Evt_CodeToData_BonusResultWindowShow:"Evt_CodeToData_BonusResultWindowShow",Evt_DataToCode_BonusResultWindowCollect:"Evt_DataToCode_BonusResultWindowCollect",Evt_DataToCode_BonusResultWindowClosed:"Evt_DataToCode_BonusResultWindowClosed",Evt_CodeToData_BonusResultWindowClose:"Evt_CodeToData_BonusResultWindowClose",BonusRealWinDisplayed:"BonusRealWinDisplayed",BonusBetPerLine:"BonusBetPerLine",BonusDataReceived:"BonusDataReceived",HasMultipleLevelsNoItemMarkers:"HasMultipleLevelsNoItemMarkers",ShowResultAfterBigWin:"ShowResultAfterBigWin"},Vars={Evt_Internal_GameInit:"Evt_Internal_GameInit",Evt_Internal_Init_SoundManager:"Evt_Internal_Init_SoundManager",Evt_Internal_Init_SymbolManager:"Evt_Internal_Init_SymbolManager",Evt_Internal_Init_ReelsManager:"Evt_Internal_Init_ReelsManager",Evt_Internal_GUIInit:"Evt_Internal_GUIInit",GameHasCustomGamble:"GameHasCustomGamble",ScatterSymbolIsWild:"ScatterSymbolIsWild",DefaultGameWindowOverrideData:"DefaultGameWindowOverrideData",GameHasIntro:"GameHasIntro",ShouldDisplayIntro:"ShouldDisplayIntro",Evt_DataToCode_IntroClosePressed:"Evt_DataToCode_IntroClosePressed",MobileTapToStopMessageShowCount:"MobileTapToStopMessageShowCount",DesktopTurboSpinMessageShowCount:"DesktopTurboSpinMessageShowCount",GameIsRated:"GameIsRated",RatingSkipped:"RatingSkipped",BrowserWarningShown:"BrowserWarningShown",Evt_ToServer_UpdateSettingsOnServer:"Evt_ToServer_UpdateSettingsOnServer",SkipCooldownWhenUpdatingSettingsOnServer:"SkipCooldownWhenUpdatingSettingsOnServer",HasGameHistory:"HasGameHistory",Jurisdiction_LineByLineFreespin:"Jurisdiction_LineByLineFreespin",Jurisdiction_LineByLineGlobal:"Jurisdiction_LineByLineGlobal",Jurisdiction_ClientRevision:"Jurisdiction_ClientRevision",Jurisdiction_GameSymbol:"Jurisdiction_GameSymbol",HasAdvancedAutoplay:"HasAdvancedAutoplay",Jurisdiction_SpinLimit:"Jurisdiction_SpinLimit",Jurisdiction_SpinLimit_Value:"Jurisdiction_SpinLimit_Value",Jurisdiction_MandatoryAutoplayLossLimit:"Jurisdiction_MandatoryAutoplayLossLimit",Jurisdiction_ResultMinimumTime:"Jurisdiction_ResultMinimumTime",Jurisdiction_ResultMinimumTime_Value:"Jurisdiction_ResultMinimumTime_Value",Jurisdiction_ResultMinimumTimeTurbo:"Jurisdiction_ResultMinimumTimeTurbo",Jurisdiction_ResultMinimumTimeTurbo_Value:"Jurisdiction_ResultMinimumTimeTurbo_Value",Jurisdiction_MaxBetCents:"Jurisdiction_MaxBetCents",Jurisdiction_ResultMinimumTimeBetweenSpins:"Jurisdiction_ResultMinimumTimeBetweenSpins",Jurisdiction_ResultMinimumTimeBetweenSpins_Value:"Jurisdiction_ResultMinimumTimeBetweenSpins_Value",SpinDuration:"SpinDuration",Jurisdiction_FinishCountersBeforeSpin:"Jurisdiction_FinishCountersBeforeSpin",Jurisdiction_Clock:"Jurisdiction_Clock",Jurisdiction_Clock_Server:"Jurisdiction_Clock_Server",Jurisdiction_ServerTime:"Jurisdiction_ServerTime",Jurisdiction_DisableAutoplay:"Jurisdiction_DisableAutoplay",Jurisdiction_GameTitle:"Jurisdiction_GameTitle",Jurisdiction_SplitBalance:"Jurisdiction_SplitBalance",Jurisdiction_PromotionURL:"Jurisdiction_PromotionURL",Jurisdiction_CLMBcurrency:"Jurisdiction_CLMBcurrency",AdvancedAutoplaySettings:"AdvancedAutoplaySettings",BatterySaver:"BatterySaver",HasCoins:"HasCoins",FromServer_AllowCoins:"FromServer_AllowCoins",AlternativeFreeRoundsText:"AlternativeFreeRoundsText",DontShowFRBEndWindowOnInit:"DontShowFRBEndWindowOnInit",Jurisdiction_TournamentOptOut:"Jurisdiction_TournamentOptOut",Jurisdiction_DisableBuyFeature:"Jurisdiction_DisableBuyFeature",Jurisdiction_GameLobbyInfoVisible:"Jurisdiction_GameLobbyInfoVisible",Jurisdiction_GameHistoryInfoVisible:"Jurisdiction_GameHistoryInfoVisible",Jurisdiction_Text_DE:"Jurisdiction_Text_DE",Jurisdiction_Show_X_Chance:"Jurisdiction_Show_X_Chance",Jurisdiction_Autoplay_StopOnFeatureWin:"Jurisdiction_Autoplay_StopOnFeatureWin",Jurisdiction_Autoplay_NoSkipScreens:"Jurisdiction_Autoplay_NoSkipScreens",DisableIntroScreen:"DisableIntroScreen",DisableStopButton:"DisableStopButton",DisableFastPlay:"DisableFastPlay",DisableNoMoneyMessageFromServer:"DisableNoMoneyMessageFromServer",ShowIncompleteGame:"ShowIncompleteGame",ShowNetPosition:"ShowNetPosition",Jurisdiction_DisableAnteBet:"Jurisdiction_DisableAnteBet",Jurisdiction_ShowSessionUptime:"Jurisdiction_ShowSessionUptime",Evt_Internal_ChangeVSGameState:"Evt_Internal_ChangeVSGameState",UpdateVSGameStateOnSpin:"UpdateVSGameStateOnSpin",ResetProgressMode:"ResetProgressMode",KeepSpinning:"KeepSpinning",Evt_Internal_SpinStarted:"Evt_Internal_SpinStarted",Evt_Internal_SpinEnded:"Evt_Internal_SpinEnded",SpinNeedsConfirmation:"SpinNeedsConfirmation",CanUpdateLinkedLoopersPosition:"CanUpdateLinkedLoopersPosition",IsDifferentSpinType:"IsDifferentSpinType",StartDifferentSpin:"StartDifferentSpin",Evt_CodeToData_ShowSpinConfirmationWindow:"Evt_CodeToData_ShowSpinConfirmationWindow",Evt_DataToCode_ConfirmSpinStart:"Evt_DataToCode_ConfirmSpinStart",Evt_Internal_UpdateSymbolsDepth:"Evt_Internal_UpdateSymbolsDepth",Evt_Internal_StartIdleSpinCounter:"Evt_Internal_StartIdleSpinCounter",Evt_Internal_StopIdleSpinCounter:"Evt_Internal_StopIdleSpinCounter",Evt_Internal_EnterIdleSpinState:"Evt_Internal_EnterIdleSpinState",Evt_Internal_ExitIdleSpinState:"Evt_Internal_ExitIdleSpinState",IdleStateActive:"IdleStateActive",LastExcitedReelIndex:"LastExcitedReelIndex",ReelsCanBeExcited:"ReelsCanBeExcited",LastStopEndedReelIndex:"LastStopEndedReelIndex",LastStartedReelIndices:"LastStartedReelIndices",LastStoppedReelIndices:"LastStoppedReelIndices",ReelsStartOrder:"ReelsStartOrder",ReelsStopOrder:"ReelsStopOrder",ReelsStartOrderDefault:"ReelsStartOrderDefault",ReelsStopOrderDefault:"ReelsStopOrderDefault",ReelsWinInfo:"ReelsWinInfo",ExtraReelDelayStop:"ExtraReelDelayStop",ExtraReelDelayStopDefault:"ExtraReelDelayStopDefault",ExtraReelDelayStart:"ExtraReelDelayStart",ExtraReelDelayStartDefault:"ExtraReelDelayStartDefault",PossibleWinComboSymbols:"PossibleWinComboSymbols",StillPossibleWinComboPerSymbol:"StillPossibleWinComboPerSymbol",StillPossibleWinComboBonus:"StillPossibleWinComboBonus",StillPossibleWinComboScatter:"StillPossibleWinComboScatter",StillPossibleWinComboWild:"StillPossibleWinComboWild",ExcitedImportantSymbols:"ExcitedImportantSymbols",Evt_Internal_ReelStarted:"Evt_Internal_ReelStarted",Evt_Internal_ReelStopStarted:"Evt_Internal_ReelStopStarted",Evt_Internal_ReelStopEnded:"Evt_Internal_ReelStopEnded",Evt_Internal_ExcitedReel:"Evt_Internal_ExcitedReel",ResultSymbolWinID:"ResultSymbolWinID",Evt_Internal_ResultSymbolWinPlaySound:"Evt_Internal_ResultSymbolWinPlaySound",Evt_Internal_StartVSLogicSounds:"Evt_Internal_StartVSLogicSounds",Evt_Internal_StopVSLogicSounds:"Evt_Internal_StopVSLogicSounds",Evt_Internal_StartBGLogicSounds:"Evt_Internal_StartBGLogicSounds",Evt_Internal_StopBGLogicSounds:"Evt_Internal_StopBGLogicSounds",Evt_Internal_StartFSBGLogicSounds:"Evt_Internal_StartFSBGLogicSounds",Evt_Internal_StopFSBGLogicSounds:"Evt_Internal_StopFSBGLogicSounds",ValueAnimatorSoundIndex:"ValueAnimatorSoundIndex",Evt_Internal_PlayValueAnimatorSound:"Evt_Internal_PlayValueAnimatorSound",Evt_Internal_StopValueAnimatorSound:"Evt_Internal_StopValueAnimatorSound",Evt_Internal_PlayGambleShuffleCard:"Evt_Internal_PlayGambleShuffleCard",Evt_Internal_PlayGambleShufflingStop:"Evt_Internal_PlayGambleShufflingStop",Evt_Internal_StopGambleShuffleCard:"Evt_Internal_StopGambleShuffleCard",Evt_DataToCode_PlayGambleNewProgressItem:"Evt_DataToCode_PlayGambleNewProgressItem",Evt_DataToCode_PlayGambleResultWin:"Evt_DataToCode_PlayGambleResultWin",Evt_DataToCode_PlayGambleResultLose:"Evt_DataToCode_PlayGambleResultLose",SoundManagerObject:"SoundManagerObject",TRexManagerObject:"TRexManagerObject",MusicLogicObject:"MusicLogicObject",MusicDuckByOneShotObject:"MusicDuckByOneShotObject",OneShotCooldownObject:"OneShotCooldownObject",SoundState:"SoundState",MusicIsOn:"MusicIsOn",CanPlayReelStopSounds:"CanPlayReelStopSounds",Evt_Internal_SoundStateChanged:"Evt_Internal_SoundStateChanged",Evt_Internal_SwitchToFSSounds:"Evt_Internal_SwitchToFSSounds",Evt_CodeToData_SettingsWindowOpened:"Evt_CodeToData_SettingsWindowOpened",Evt_CodeToData_SettingsWindowClosed:"Evt_CodeToData_SettingsWindowClosed",Evt_Internal_MuteMusic:"Evt_Internal_MuteMusic",Evt_Internal_UnmuteMusic:"Evt_Internal_UnmuteMusic",Evt_DataToCode_Pressed_SoundBtn:"Evt_DataToCode_Pressed_SoundBtn",Evt_DataToCode_Pressed_MusicBtn:"Evt_DataToCode_Pressed_MusicBtn",Evt_DataToCode_Pressed_SoundFXBtn:"Evt_DataToCode_Pressed_SoundFXBtn",VSSoundLogic_IgnoreFastStop:"VSSoundLogic_IgnoreFastStop",Evt_Internal_LocaleChanged:"Evt_Internal_LocaleChanged",CustomGameStoredData:"CustomGameStoredData",Evt_Internal_CustomGameStoredDataReceived:"Evt_Internal_CustomGameStoredDataReceived",TotalNumberOfLines:"TotalNumberOfLines",Lines:"Lines",GameHasWaysInsteadOfLines:"GameHasWaysInsteadOfLines",GameHasLinesWithBetMultiplier:"GameHasLinesWithBetMultiplier",LinesPaysBothWays:"LinesPaysBothWays",HasReelAwareSymbolContent:"HasReelAwareSymbolContent",HiddenMathematics:"HiddenMathematics",LinesForMinBet:"LinesForMinBet",LinesForMaxBet:"LinesForMaxBet",FastPlay:"FastPlay",ContinuousSpin:"ContinuousSpin",AllowContinuousSpin:"AllowContinuousSpin",ForceContinuousSpin:"ForceContinuousSpin",AutoplayContinuousSpin:"AutoplayContinuousSpin",AutoplaySpinsRequested:"AutoplaySpinsRequested",AutoplaySpinsLeft:"AutoplaySpinsLeft",AutoplaySpinsLeftDisplayed:"AutoplaySpinsLeftDisplayed",InstantAutoplay:"InstantAutoplay",Evt_DataToCode_StartAutoplay:"Evt_DataToCode_StartAutoplay",Evt_DataToCode_StopAutoplay:"Evt_DataToCode_StopAutoplay",Evt_Internal_StoppedAutoplayByCondition:"Evt_Internal_StoppedAutoplayByCondition",WinReceived:"WinReceived",WinDisplayed:"WinDisplayed",SpinCycleWinReceived:"SpinCycleWinReceived",SpinCycleWinDisplayed:"SpinCycleWinDisplayed",ExtraAwardWin:"ExtraAwardWin",RespinCycleWin:"RespinCycleWin",RespinCycleWinDisplayed:"RespinCycleWinDisplayed",TotalLinesWinReceived:"TotalLinesWinReceived",TotalLinesWinDisplayed:"TotalLinesWinDisplayed",TotalScattersWinDisplayed:"TotalScattersWinDisplayed",MysteryScatterWinDisplayed:"MysteryScatterWinDisplayed",CanUpdateBalanceDisplayed:"CanUpdateBalanceDisplayed",BalanceReceived:"BalanceReceived",BalanceDisplayed:"BalanceDisplayed",BonusBalance:"BonusBalance",BonusBalanceReceived:"BonusBalanceReceived",BalanceDisplayedIsAnimating:"BalanceDisplayedIsAnimating",Evt_FromServer_BalanceUpdated:"Evt_FromServer_BalanceUpdated",IgnoreServerBalanceRequest:"IgnoreServerBalanceRequest",Evt_FromServer_BalanceUpdatedFromResult:"Evt_FromServer_BalanceUpdatedFromResult",Evt_Internal_FinalizeDisplayedWin:"Evt_Internal_FinalizeDisplayedWin",Evt_Internal_UpdateDisplayedWinInUI:"Evt_Internal_UpdateDisplayedWinInUI",Evt_Internal_UpdateDisplayedWin:"Evt_Internal_UpdateDisplayedWin",RespinData:"RespinData",ManualRespin:"ManualRespin",RespinsLeft:"RespinsLeft",RespinsAmountWon:"RespinsAmountWon",ProgressiveFeatureConfig:"ProgressiveFeatureConfig",ProgressiveFeatureData:"ProgressiveFeatureData",MoneySymbolConfig:"MoneySymbolConfig",MoneySymbolData:"MoneySymbolData",StickySymbolsData:"StickySymbolsData",MergingSymbolsData:"MergingSymbolsData",Bets:"Bets",TotalBets:"TotalBets",BetToTotalBetMultiplier:"BetToTotalBetMultiplier",NextBetIndex:"NextBetIndex",NumberOfBetLevels:"NumberOfBetLevels",CoinValues:"CoinValues",CoinValueIndex:"CoinValueIndex",Evt_Internal_CoinValueChanged:"Evt_Internal_CoinValueChanged",Evt_Internal_LastBetsChanged:"Evt_Internal_LastBetsChanged",Evt_Internal_BetChanged:"Evt_Internal_BetChanged",TotalBetDisplayed:"TotalBetDisplayed",BetDisplayed:"BetDisplayed",CoinValueDisplayed:"CoinValueDisplayed",AccumulatedWinProgress:"AccumulatedWinProgress",Evt_DataToCode_RevertToLastBet:"Evt_DataToCode_RevertToLastBet",Evt_Internal_ForceUpdateBetValues:"Evt_Internal_ForceUpdateBetValues",MaxBetReached:"MaxBetReached",MinBetReached:"MinBetReached",MaxTotalBetFromServer:"MaxTotalBetFromServer",ExplicitMaxTotalBetFromServer:"ExplicitMaxTotalBetFromServer",MinTotalBetFromServer:"MinTotalBetFromServer",Evt_DataToCode_IncreaseBet:"Evt_DataToCode_IncreaseBet",Evt_DataToCode_DecreaseBet:"Evt_DataToCode_DecreaseBet",MaxCoinValueReached:"MaxCoinValueReached",MinCoinValueReached:"MinCoinValueReached",Evt_DataToCode_IncreaseCoinValue:"Evt_DataToCode_IncreaseCoinValue",Evt_DataToCode_DecreaseCoinValue:"Evt_DataToCode_DecreaseCoinValue",Evt_DataToCode_SmartIncreaseBet:"Evt_DataToCode_SmartIncreaseBet",Evt_DataToCode_SmartDecreaseBet:"Evt_DataToCode_SmartDecreaseBet",MaxBetAndCoinValueReached:"MaxBetAndCoinValueReached",MinBetAndCoinValueReached:"MinBetAndCoinValueReached",AlternativeWager:"AlternativeWager",StackedSymbolIndex:"StackedSymbolIndex",ReelSets:"ReelSets",ReelSetIndexPrevious:"ReelSetIndexPrevious",ReelSetIndexCurrent:"ReelSetIndexCurrent",ReelSymbols:"ReelSymbols",NextReelSymbols:"NextReelSymbols",ReelInitialPositions:"ReelInitialPositions",ReelStopPositions:"ReelStopPositions",FirstScreenSymbols:"FirstScreenSymbols",ResultScreenSymbols:"ResultScreenSymbols",InitialResultScreenSymbols:"InitialResultScreenSymbols",CustomResultScreenSymbols:"CustomResultScreenSymbols",SymbolsAboveReels:"SymbolsAboveReels",SymbolsBelowReels:"SymbolsBelowReels",NextReelsSymbolsList:"NextReelsSymbolsList",ExtraScatters:"ExtraScatters",MarkedSymbolPositions:"MarkedSymbolPositions",AdditionalBonusScatters:"AdditionalBonusScatters",NudgedSymbols:"NudgedSymbols",LinesDefinitionsObject:"LinesDefinitionsObject",SpinExciterObject:"SpinExciterObject",Evt_Internal_ExciterComputeEnded:"Evt_Internal_ExciterComputeEnded",FloatingWinEventsObject:"FloatingWinEventsObject",ReelsManagerObject:"ReelsManagerObject",SymbolsManagerObject:"SymbolsManagerObject",ReceivedWinLines:"ReceivedWinLines",ProcessedWinLines:"ProcessedWinLines",RQManagerObject:"RQManagerObject",Evt_Internal_InjectRQIOnResultDisplayerLoopStarts:"Evt_Internal_InjectRQIOnResultDisplayerLoopStarts",Evt_Internal_InjectRQIAfterBonusAnimate:"Evt_Internal_InjectRQIAfterBonusAnimate",Evt_Internal_InjectRQIBeforeLinesShow:"Evt_Internal_InjectRQIBeforeLinesShow",Evt_Internal_InjectRQIAfterLinesShow:"Evt_Internal_InjectRQIAfterLinesShow",Evt_Internal_InjectRQIBeforeEndOfDisplayLoop:"Evt_Internal_InjectRQIBeforeEndOfDisplayLoop",Evt_Internal_InjectRQIWhileShowingAllLines:"Evt_Internal_InjectRQIWhileShowingAllLines",SpinRoutineQueue:"SpinRoutineQueue",Evt_Internal_InjectRQIBeforeSpinStart:"Evt_Internal_InjectRQIBeforeSpinStart",StackedSymbolsData:"StackedSymbolsData",Evt_ToServer_OnShowResult:"Evt_ToServer_OnShowResult",Evt_ToServer_RequestInit:"Evt_ToServer_RequestInit",Evt_ToServer_RequestSpin:"Evt_ToServer_RequestSpin",Evt_FromServer_InitReceived:"Evt_FromServer_InitReceived",Evt_FromServer_SpinResultReceived:"Evt_FromServer_SpinResultReceived",NASymbolId:"NASymbolId",WildRandomLineMpConfig:"WildRandomLineMpConfig",WRLMResponse:"WRLMResponse",WRLMCurrentSets:"WRLMCurrentSets",RandomAwardsConfig:"RandomAwardsConfig",RandomAwardsResponse:"RandomAwardsResponse",FreeSpinsPurchaseConfig:"FreeSpinsPurchaseConfig",FreeSpinsPurchaseData:"FreeSpinsPurchaseData",FeaturePurchase:"FeaturePurchase",BetLevelSettings:"BetLevelSettings",BetLevelChanged:"BetLevelChanged",HasAnteBet:"HasAnteBet",RandomSymbolMultipliers:"RandomSymbolMultipliers",PossibleRandomSymbolMultipliers:"PossibleRandomSymbolMultipliers",FreeSpinsChainData:"FreeSpinsChainData",OpeningSymbolsData:"OpeningSymbolsData",RandomMysterySymbolId:"RandomMysterySymbolId",InitialMysterySymbolId:"InitialMysterySymbolId",InitBGItemValues:"InitBGItemValues",InitBGItemMasks:"InitBGItemMasks",InitBGIData:"InitBGIData",PatternedMysterySymbols:"PatternedMysterySymbols",SpinOneReelData:"SpinOneReelData",ReelToBeSpun:"ReelToBeSpun",TumblingData:"TumblingData",TumblingWin:"TumblingWin",TumblingWinDisplayed:"TumblingWinDisplayed",RandomWildsData:"RandomWildsData",UpSymbols_RandomWilds:"UpSymbols_RandomWilds",Evt_Internal_RandomWildsDataSet:"Evt_Internal_RandomWildsDataSet",WildRandomMultipliers:"WildRandomMultipliers",Evt_Internal_WildRandomMultipliersReceived:"Evt_Internal_WildRandomMultipliersReceived",Evt_Internal_ShowStackedSymbols:"Evt_Internal_ShowStackedSymbols",Evt_Internal_ResumeStackedSymbols:"Evt_Internal_ResumeStackedSymbols",CurrentAnimatingStackedReel:"CurrentAnimatingStackedReel",ExpandingSymbolsData:"ExpandingSymbolsData",ExpandableDelayNeededAtTheEnd:"ExpandableDelayNeededAtTheEnd",Evt_Internal_ExpandingSymbolsDataSet:"Evt_Internal_ExpandingSymbolsDataSet",Evt_Internal_ShowExpandingSymbol:"Evt_Internal_ShowExpandingSymbol",CurrentAnimatingExpandingSymbolID:"CurrentAnimatingExpandingSymbolID",FreeSpinOptions:"FreeSpinOptions",MustResumeFreeSpinOptions:"MustResumeFreeSpinOptions",Logic_IsFreeSpin:"Logic_IsFreeSpin",Evt_CodeToData_ShowFSWonBeforeResult:"Evt_CodeToData_ShowFSWonBeforeResult",FreeSpinsEndedOverride:"FreeSpinsEndedOverride",FSStartNeedsConfirmation:"FSStartNeedsConfirmation",Evt_DataToCode_ConfirmFSStart:"Evt_DataToCode_ConfirmFSStart",Evt_Internal_FreeSpinsStarted:"Evt_Internal_FreeSpinsStarted",Evt_CodeToData_FreeSpinsShowWindowWin:"Evt_CodeToData_FreeSpinsShowWindowWin",Evt_CodeToData_FreeSpinsShowWindowLose:"Evt_CodeToData_FreeSpinsShowWindowLose",Evt_CodeToData_FreeSpinsCloseWindowWin:"Evt_CodeToData_FreeSpinsCloseWindowWin",Evt_CodeToData_FreeSpinsCloseWindowLose:"Evt_CodeToData_FreeSpinsCloseWindowLose",Evt_DataToCode_FreeSpinsWindowWinCollectPressed:"Evt_DataToCode_FreeSpinsWindowWinCollectPressed",Evt_DataToCode_FreeSpinsWindowLoseCollectPressed:"Evt_DataToCode_FreeSpinsWindowLoseCollectPressed",Evt_Internal_FreeSpinsEnded:"Evt_Internal_FreeSpinsEnded",Evt_ToServer_OnFreeSpinsClosed:"Evt_ToServer_OnFreeSpinsClosed",ReceivedFreeSpinsResponse:"ReceivedFreeSpinsResponse",TruncatedFreeSpinsResponse:"TruncatedFreeSpinsResponse",TruncateFSResponseDuringRespin:"TruncateFSResponseDuringRespin",UpdateFSResponseOnBonusPick:"UpdateFSResponseOnBonusPick",PartiallyUpdateSpinResponseOnBonusPick:"PartiallyUpdateSpinResponseOnBonusPick",UpdateBonusPickDataDuringRespins:"UpdateBonusPickDataDuringRespins",CurrentFreeSpinDisplayed:"CurrentFreeSpinDisplayed",FreeSpinsLeftDisplayed:"FreeSpinsLeftDisplayed",MaxFreeSpinsDisplayed:"MaxFreeSpinsDisplayed",AdditionalFreeSpinsWon:"AdditionalFreeSpinsWon",AdditionalFreeSpinsWonDisplayed:"AdditionalFreeSpinsWonDisplayed",TotalFreeSpinsDisplayed:"TotalFreeSpinsDisplayed",TotalFreeSpinsChainDisplayed:"TotalFreeSpinsChainDisplayed",FreeSpinsTotalMultiplierDisplayed:"FreeSpinsTotalMultiplierDisplayed",FreeSpinsWinDisplayed:"FreeSpinsWinDisplayed",FreeSpinsLastWinDisplayed:"FreeSpinsLastWinDisplayed",FreeSpinsWinMultipliedDisplayed:"FreeSpinsWinMultipliedDisplayed",FreeSpinsTotalWinDisplayed:"FreeSpinsTotalWinDisplayed",FreeSpinsTotalWinMultipliedDisplayed:"FreeSpinsTotalWinMultipliedDisplayed",FSResultWindowTotalWinMultipliedDisplayed:"FSResultWindowTotalWinMultipliedDisplayed",FreeSpinsConsolationPrize:"FreeSpinsConsolationPrize",Evt_Internal_ReelManager_StopSpin:"Evt_Internal_ReelManager_StopSpin",Evt_Internal_ReelManager_SpinEnded:"Evt_Internal_ReelManager_SpinEnded",AllowFastStop:"AllowFastStop",Evt_DataToCode_Pressed_Spin:"Evt_DataToCode_Pressed_Spin",Evt_DataToCode_Pressed_Stop:"Evt_DataToCode_Pressed_Stop",Evt_CodeToData_NotEnoughMoneyForSpin:"Evt_CodeToData_NotEnoughMoneyForSpin",Evt_CodeToData_HideNoMoneyWindow:"Evt_CodeToData_HideNoMoneyWindow",Evt_DataToCode_NotEnoughMoney_pressedOK:"Evt_DataToCode_NotEnoughMoney_pressedOK",CurrentDisplayedWinLineId:"CurrentDisplayedWinLineId",Evt_Internal_ShowWinLine:"Evt_Internal_ShowWinLine",Evt_Internal_HideWinLine:"Evt_Internal_HideWinLine",ShowSymbolSquaresOnLineVisual:"ShowSymbolSquaresOnLineVisual",ResultDisplayerMinimalMode:"ResultDisplayerMinimalMode",ForceResultMinimalMode:"ForceResultMinimalMode",Evt_Internal_ResultDisplayer_SkipNextLoopOccasion:"Evt_Internal_ResultDisplayer_SkipNextLoopOccasion",ResultDisplayer_CanAnimateScatters:"ResultDisplayer_CanAnimateScatters",ResultDisplayer_CanAnimateBonuses:"ResultDisplayer_CanAnimateBonuses",Evt_Internal_ResultDisplayer_Prepare:"Evt_Internal_ResultDisplayer_Prepare",Evt_Internal_ResultDisplayer_DoLoop:"Evt_Internal_ResultDisplayer_DoLoop",Evt_Internal_ResultDisplayer_DoCleanup:"Evt_Internal_ResultDisplayer_DoCleanup",Evt_Internal_ResultDisplayer_LoopDone:"Evt_Internal_ResultDisplayer_LoopDone",Evt_CodeToData_ShowAllLinesWin:"Evt_CodeToData_ShowAllLinesWin",Evt_CodeToData_HideAllLinesWin:"Evt_CodeToData_HideAllLinesWin",Evt_CodeToData_ShowJackpotWin:"Evt_CodeToData_ShowJackpotWin",Evt_CodeToData_HideJackpotWin:"Evt_CodeToData_HideJackpotWin",CurrentDisplayedWinLineIndex:"CurrentDisplayedWinLineIndex",CurrentDisplayedWinLineWin:"CurrentDisplayedWinLineWin",CurrentWinMultiplier:"CurrentWinMultiplier",Evt_CodeToData_ShowScattersWin:"Evt_CodeToData_ShowScattersWin",Evt_CodeToData_HideScattersWin:"Evt_CodeToData_HideScattersWin",Evt_Internal_UpdateCurrentDisplayedWinLineIndex:"Evt_Internal_UpdateCurrentDisplayedWinLineIndex",Evt_Internal_StartDisplayWinLine:"Evt_Internal_StartDisplayWinLine",Evt_Internal_StopDisplayWinLine:"Evt_Internal_StopDisplayWinLine",Evt_CodeToData_ShowMysteryScatterWin:"Evt_CodeToData_ShowMysteryScatterWin",Evt_CodeToData_HideMysteryScatterWin:"Evt_CodeToData_HideMysteryScatterWin",OrderedSymbolList:"OrderedSymbolList",OrderedSymbolHoldersList:"OrderedSymbolHoldersList",FromServer_CanGambleSpinWin:"FromServer_CanGambleSpinWin",ForceDisableGambleSpinWin:"ForceDisableGambleSpinWin",Evt_Internal_EnableGambleButton:"Evt_Internal_EnableGambleButton",Evt_Internal_DisableGambleButton:"Evt_Internal_DisableGambleButton",CanGamble_Spin:"CanGamble_Spin",CanGamble_FreeSpin:"CanGamble_FreeSpin",CanGamble_Bonus:"CanGamble_Bonus",Gamble_ColorMultiplier:"Gamble_ColorMultiplier",Gamble_SuitMultiplier:"Gamble_SuitMultiplier",Gamble_CurrentBalance:"Gamble_CurrentBalance",Gamble_CurrentBalanceDisplayed:"Gamble_CurrentBalanceDisplayed",Gamble_FinalBalanceDisplayed:"Gamble_FinalBalanceDisplayed",Gamble_ColorWinDisplayed:"Gamble_ColorWinDisplayed",Gamble_SuitWinDisplayed:"Gamble_SuitWinDisplayed",Evt_DataToCode_Pressed_Gamble:"Evt_DataToCode_Pressed_Gamble",Evt_DataToCode_Pressed_Gamble_FreeSpinsResult:"Evt_DataToCode_Pressed_Gamble_FreeSpinsResult",Evt_DataToCode_Pressed_Gamble_BonusResult:"Evt_DataToCode_Pressed_Gamble_BonusResult",Evt_DataToCode_Pressed_GamblePick:"Evt_DataToCode_Pressed_GamblePick",Evt_DataToCode_Pressed_GambleCollect:"Evt_DataToCode_Pressed_GambleCollect",FromServer_GambleResult:"FromServer_GambleResult",FromServer_GambleHistory:"FromServer_GambleHistory",Evt_Internal_Gamble_DisplayHistory:"Evt_Internal_Gamble_DisplayHistory",Evt_DataToCode_Gamble_DisplayProgress:"Evt_DataToCode_Gamble_DisplayProgress",Evt_Internal_Gamble_ClearProgress:"Evt_Internal_Gamble_ClearProgress",Gamble_CurrentProgressObject:"Gamble_CurrentProgressObject",Evt_Internal_Gamble_UpdateCurrentProgress:"Evt_Internal_Gamble_UpdateCurrentProgress",Evt_DataToCode_Gamble_UpdateDisplayedLabels:"Evt_DataToCode_Gamble_UpdateDisplayedLabels",Evt_CodeToData_Gamble_PickResult_Win:"Evt_CodeToData_Gamble_PickResult_Win",Evt_CodeToData_Gamble_PickResult_Lose:"Evt_CodeToData_Gamble_PickResult_Lose",Evt_CodeToData_Gamble_PickResult_WinLimit:"Evt_CodeToData_Gamble_PickResult_WinLimit",Gamble_PickResult_ItemID:"Gamble_PickResult_ItemID",Evt_Internal_Gamble_PickResult_Handled:"Evt_Internal_Gamble_PickResult_Handled",Gamble_Choice:"Gamble_Choice",Evt_ToServer_GamblePicked:"Evt_ToServer_GamblePicked",Evt_ToServer_RequestGambleOpen:"Evt_ToServer_RequestGambleOpen",Evt_ToServer_RequestGambleClose:"Evt_ToServer_RequestGambleClose",Evt_FromServer_GambleOpen:"Evt_FromServer_GambleOpen",Evt_FromServer_GambleClose:"Evt_FromServer_GambleClose",Evt_CodeToData_GambleShowResultWindowWin:"Evt_CodeToData_GambleShowResultWindowWin",Evt_CodeToData_GambleCloseResultWindowWin:"Evt_CodeToData_GambleCloseResultWindowWin",Evt_CodeToData_GambleShowResultWindowLose:"Evt_CodeToData_GambleShowResultWindowLose",Evt_CodeToData_GambleCloseResultWindowLose:"Evt_CodeToData_GambleCloseResultWindowLose",Evt_Internal_GambleCloseCurrentResultWindow:"Evt_Internal_GambleCloseCurrentResultWindow",Evt_CodeToData_ShowBonusWonBeforeResult:"Evt_CodeToData_ShowBonusWonBeforeResult",TriggerBonusBeforeResult:"TriggerBonusBeforeResult",BonusWinIsSeparated:"BonusWinIsSeparated",BonusData:"BonusData",BonusItemsIndexes:"BonusItemsIndexes",MustOpenBonus:"MustOpenBonus",InstantlyCollectBonus:"InstantlyCollectBonus",MustOpenAnotherBonus:"MustOpenAnotherBonus",Evt_FromServer_BonusInitDone:"Evt_FromServer_BonusInitDone",Evt_BonusAfterInit:"Evt_BonusAfterInit",Evt_FromServer_BonusResponseReceived:"Evt_FromServer_BonusResponseReceived",Evt_DataToCode_Pressed_BonusPickItem:"Evt_DataToCode_Pressed_BonusPickItem",Evt_DataToCode_BonusGameLevelChange:"Evt_DataToCode_BonusGameLevelChange",Evt_DataToCode_BonusGameActNext:"Evt_DataToCode_BonusGameActNext",BonusPickItemIndex:"BonusPickItemIndex",Evt_ToServer_BonusPickItem:"Evt_ToServer_BonusPickItem",Evt_ToServer_BonusGameFinished:"Evt_ToServer_BonusGameFinished",BonusPickItemIndexLocal:"BonusPickItemIndexLocal",Evt_DataToCode_BonusResultShowWindow:"Evt_DataToCode_BonusResultShowWindow",Evt_DataToCode_BonusResultWindow_PressedCollect:"Evt_DataToCode_BonusResultWindow_PressedCollect",Evt_CodeToData_BonusResultShowWindow:"Evt_CodeToData_BonusResultShowWindow",Evt_CodeToData_BonusResultCloseWindow:"Evt_CodeToData_BonusResultCloseWindow",BonusRealWinDisplayed:"BonusRealWinDisplayed",BonusBetPerLine:"BonusBetPerLine",BonusTotalWinDisplayed:"BonusTotalWinDisplayed",BonusFSPremultipliedWinDisplayed:"BonusFSPremultipliedWinDisplayed",BonusFSPickMultiplierDisplayed:"BonusFSPickMultiplierDisplayed",BonusTriggersFSBG:"BonusTriggersFSBG",BonusTriggeredFSBGIsMystery:"BonusTriggeredFSBGIsMystery",OpenFSBGForMysteryScatter:"OpenFSBGForMysteryScatter",SendSeparateMysteryScatter:"SendSeparateMysteryScatter",Evt_ToServer_SendGetMysteryScatter:"Evt_ToServer_SendGetMysteryScatter",PaytablePayoutData:"PaytablePayoutData",Evt_Internal_PaytablePayoutUpdate:"Evt_Internal_PaytablePayoutUpdate",Evt_Internal_PaytableOpen:"Evt_Internal_PaytableOpen",Evt_Internal_PaytableClose:"Evt_Internal_PaytableClose",Evt_DataToCode_Pressed_PaytableClosed:"Evt_DataToCode_Pressed_PaytableClosed",Evt_DataToCode_Pressed_PaytableNext:"Evt_DataToCode_Pressed_PaytableNext",Evt_DataToCode_Pressed_PaytablePrevious:"Evt_DataToCode_Pressed_PaytablePrevious",Evt_Internal_PaytableMobileUpdatePages:"Evt_Internal_PaytableMobileUpdatePages",Evt_Internal_PlaySpinEndedBWSound:"Evt_Internal_PlaySpinEndedBWSound",SpinResultIsBigWin:"SpinResultIsBigWin",SpinResultBigWinLevel:"SpinResultBigWinLevel",SpinResultWinLevel:"SpinResultWinLevel",BigWinLevel:"BigWinLevel",Evt_Internal_ShowBigWin:"Evt_Internal_ShowBigWin",Evt_Internal_ClearBigWin:"Evt_Internal_ClearBigWin",Evt_DataToCode_BigWinHasFinished:"Evt_DataToCode_BigWinHasFinished",WaitInResultForBigWin:"WaitInResultForBigWin",VAWBWCounters:"VAWBWCounters",LastWinIsCounting:"LastWinIsCounting",BalanceIsCounting:"BalanceIsCounting",SkipNextBigWin:"SkipNextBigWin",CanAnimateValues:"CanAnimateValues",CurrentCoinCountTarget:"CurrentCoinCountTarget",Evt_Internal_CoinCounterStart:"Evt_Internal_CoinCounterStart",Evt_Internal_CoinCounterStop:"Evt_Internal_CoinCounterStop",CoinCounterObject:"CoinCounterObject",FromStageName:"FromStageName",ToStageName:"ToStageName",Evt_Internal_UpdateJackpotUI:"Evt_Internal_UpdateJackpotUI",CurrentlyDisplayedJackpot:"CurrentlyDisplayedJackpot",FromServer_IsJackpotWin:"FromServer_IsJackpotWin",FromServer_JackpotAmountWon:"FromServer_JackpotAmountWon",FromServer_JackpotWonID:"FromServer_JackpotWonID",FromServer_JackpotWonOrder:"FromServer_JackpotWonOrder",FromServer_JackpotsInformation:"FromServer_JackpotsInformation",FromServer_LastValidJackpotsInformation:"FromServer_LastValidJackpotsInformation",DisplayedJackpotAmount:"DisplayedJackpotAmount",JackpotAmountWonDisplayed:"JackpotAmountWonDisplayed",Evt_DataToCode_CollectJackpotPressed:"Evt_DataToCode_CollectJackpotPressed",Evt_DataToCode_ContinueWithJackpot:"Evt_DataToCode_ContinueWithJackpot",Evt_Internal_InjectRQIForMysteryJackpotWin:"Evt_Internal_InjectRQIForMysteryJackpotWin",Evt_Internal_JackpotCounterStart:"Evt_Internal_JackpotCounterStart",Evt_Internal_JackpotCounterEnded:"Evt_Internal_JackpotCounterEnded",Evt_Internal_ShowMysteryJackpotWon:"Evt_Internal_ShowMysteryJackpotWon",Evt_Internal_HideMysteryJackpotWon:"Evt_Internal_HideMysteryJackpotWon",MustShowJackpotWon:"MustShowJackpotWon",CurrentJackpotAmountDisplayedMini:"CurrentJackpotAmountDisplayedMini",CurrentJackpotAmountDisplayedMaxi:"CurrentJackpotAmountDisplayedMaxi",CurrentJackpotAmountDisplayedMajor:"CurrentJackpotAmountDisplayedMajor",CurrentJackpotAmountDisplayedMega:"CurrentJackpotAmountDisplayedMega",MinimumJackpotBigWinDuration:"MinimumJackpotBigWinDuration",JackpotMinBetEligible:"JackpotMinBetEligible",ReturnToPlayerWithJackpot:"ReturnToPlayerWithJackpot",ReturnToPlayerMinWithJackpot:"ReturnToPlayerMinWithJackpot",JackpotVisualization:"JackpotVisualization",GoldSymbol:"GoldSymbol",SymbolReplacementData:"SymbolReplacementData",FromServer_MustOpenFSBG:"FromServer_MustOpenFSBG",Internal_FSBGJustClosed:"Internal_FSBGJustClosed",Evt_CodeToData_StartMysteryFSBG_Resume:"Evt_CodeToData_StartMysteryFSBG_Resume",Evt_CodeToData_StartMysteryFSBG:"Evt_CodeToData_StartMysteryFSBG",Evt_CodeToData_StopMysteryFSBG:"Evt_CodeToData_StopMysteryFSBG",Evt_CodeToData_MysteryScatterIsVisible:"Evt_CodeToData_MysteryScatterIsVisible",Evt_DataToCode_StopMysteryFSBG:"Evt_DataToCode_StopMysteryFSBG",MysteryScatterSymbolIds:"MysteryScatterSymbolIds",MysteryScatterSymbol_GameObject:"MysteryScatterSymbol_GameObject",MysteryScatterSymbol_ParentGameObject:"MysteryScatterSymbol_ParentGameObject",Evt_Internal_MysteryScatterSymbol_Show:"Evt_Internal_MysteryScatterSymbol_Show",Evt_Internal_MysteryScatterSymbol_Hide:"Evt_Internal_MysteryScatterSymbol_Hide",NextGameActionIsMysteryScatter:"NextGameActionIsMysteryScatter",PickedItemIndexLocal_FSBGPick:"PickedItemIndexLocal_FSBGPick",SpinsWon_FSBGPick:"SpinsWon_FSBGPick",MultiplierWon_FSBGPick:"MultiplierWon_FSBGPick",Evt_FromServer_InitFSBGPick:"Evt_FromServer_InitFSBGPick",Evt_FromServer_ResponseFSBGPick:"Evt_FromServer_ResponseFSBGPick",Evt_ToServer_ItemPickedFSBGPick:"Evt_ToServer_ItemPickedFSBGPick",Evt_CodeToData_ShowFSBGPick:"Evt_CodeToData_ShowFSBGPick",Evt_CodeToData_ResumeFSBGPick:"Evt_CodeToData_ResumeFSBGPick",Evt_CodeToData_InitReceivedFSBGPick:"Evt_CodeToData_InitReceivedFSBGPick",Evt_CodeToData_EndGameFSBGPick:"Evt_CodeToData_EndGameFSBGPick",Evt_DataToCode_InfoClosedFSBGPick:"Evt_DataToCode_InfoClosedFSBGPick",Evt_DataToCode_ShowGameOverFSBGPick:"Evt_DataToCode_ShowGameOverFSBGPick",Evt_DataToCode_ItemPickedFSBGPick:"Evt_DataToCode_ItemPickedFSBGPick",Evt_DataToCode_EndGameFSBGPick:"Evt_DataToCode_EndGameFSBGPick",Evt_DataToCode_FSBG_CloseConfirmation:"Evt_DataToCode_FSBG_CloseConfirmation",Evt_ToServer_OpenCashier:"Evt_ToServer_OpenCashier",Evt_ToServer_CloseGame:"Evt_ToServer_CloseGame",Evt_ToServer_ReloadGame:"Evt_ToServer_ReloadGame",CanSpin:"CanSpin",CanSpinAfterResultMinimumTime:"CanSpinAfterResultMinimumTime",SpinBlockingFeatureIsRunning:"SpinBlockingFeatureIsRunning",DynamicColorSet:"DynamicColorSet",BonusRoundsLeftDisplayed:"BonusRoundsLeftDisplayed",BonusRoundsWinDisplayed:"BonusRoundsWinDisplayed",BonusRoundsEvents:"BonusRoundsEvents",BonusRoundsData:"BonusRoundsData",Evt_Internal_BonusRoundsInfoUpdated:"Evt_Internal_BonusRoundsInfoUpdated",Evt_CodeToData_BonusRoundsStarted:"Evt_CodeToData_BonusRoundsStarted",Evt_CodeToData_BonusRoundsFinished:"Evt_CodeToData_BonusRoundsFinished",Evt_CodeToData_BonusRoundsError:"Evt_CodeToData_BonusRoundsError",Evt_CodeToData_TimedBonusRoundsStarted:"Evt_CodeToData_TimedBonusRoundsStarted",Evt_CodeToData_TimedBonusRoundsFinished:"Evt_CodeToData_TimedBonusRoundsFinished",Evt_CodeToData_TimedBonusRoundsError:"Evt_CodeToData_TimedBonusRoundsError",TimedBonusRoundIsOngoing:"TimedBonusRoundIsOngoing",TimedBonusRoundsSeconds:"TimedBonusRoundsSeconds",ShouldIgnoreNextFinishEventFromServer:"ShouldIgnoreNextFinishEventFromServer",BonusRoundCanBePlayedLater:"BonusRoundCanBePlayedLater",UserChoseToPlayLater:"UserChoseToPlayLater",BonusRoundEndDateTimestamp:"BonusRoundEndDateTimestamp",BonusRoundWonFromDDW:"BonusRoundWonFromDDW",BonusRoundPromoType:"BonusRoundPromoType",Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows:"Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows",Evt_DataToCode_BonusRoundsOnContinuePressed:"Evt_DataToCode_BonusRoundsOnContinuePressed",ReturnToPlayer:"ReturnToPlayer",ReturnToPlayerMin:"ReturnToPlayerMin",LevelSymbolIndex:"LevelSymbolIndex",Evt_AnimateLevelIndicatorOnReel:"Evt_AnimateLevelIndicatorOnReel",LevelIndicatorAnimTarget:"LevelIndicatorAnimTarget",Autoplay_SkipScreens:"Autoplay_SkipScreens",Evt_CodeToData_IntroClosedOrSkipped:"Evt_CodeToData_IntroClosedOrSkipped",OpaqueInterface:"OpaqueInterface",ShowInGameTutorial:"ShowInGameTutorial",Evt_Internal_ProgressiveFeaturePickedSymbolPositionUpdated:"Evt_Internal_ProgressiveFeaturePickedSymbolPositionUpdated",ProgressiveFeaturePointsWon:"ProgressiveFeaturePointsWon",GambleV2Data:"GambleV2Data",MustOpenGambleV2:"MustOpenGambleV2",Evt_FromServer_GambleV2Response:"Evt_FromServer_GambleV2Response",Evt_Internal_GambleV2Closed:"Evt_Internal_GambleV2Closed",GoldenReelsIndexes:"GoldenReelsIndexes",ShowedRandomWildPosition:"ShowedRandomWildPosition",Evt_Internal_ShowedRandomWild:"Evt_Internal_ShowedRandomWild",MobilePaytableObject:"MobilePaytableObject",SoundVolume:"SoundVolume",Evt_DataToCode_BlockSpin:"Evt_DataToCode_BlockSpin",Evt_DataToCode_UnblockSpin:"Evt_DataToCode_UnblockSpin",InitialScreen:"InitialScreen",IsNoMoneySpin:"IsNoMoneySpin",InitialRandomAward:"InitialRandomAward",GameTitle:"GameTitle",ShowPendingNotifications:"ShowPendingNotifications",WinLimitReached:"WinLimitReached"};function SoundState(){this.globalSoundIsOn=!0,this.gameSoundIsOn=!0,this.musicIsOn=!0,this.soundFXIsOn=!0,this.oldMusicIsOn=!1,this.oldSoundFXIsOn=!1}goog.provide("UHT.Paytable"),goog.require("UHT.Engine"),Paytable.prototype=Object.create(XTLink.prototype),Paytable.prototype.constructor=Paytable;var PageContentType={Normal:0,Jackpot:1};function Paytable(){XTLink.call(this),this.cat=null,this.paytable=null,this.pages=[],this.pageContentType=[],this.gamblePageIndex=-1,this.jackpotPageCounter=0,this.currentPageIndex=1,this.pagesCount=0,this.pageIndexLabel=null,this.paytableActive=!1,this.pageIdx=0,this.pageRoot=[],this.hasFeatureDependentPages=!1,this.hasRequirementAwarePages=!1,this.jpData=null}function CAT_Set(){this.show=null,this.hide=null}Paytable.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen,this.OnPressedPaytableOpen,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose,this.OnPressedPaytableClose,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytableNext,this.OnPressedPaytableNext,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytablePrevious,this.OnPressedPaytablePrevious,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this),EventManager.AddHandler(JackpotEvents.evtJackpotStateChanged,this.OnJackpotStateChanged,this)},Paytable.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.MobilePaytableObject,this)},Paytable.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnPressedPaytableOpen,this),XT.UnregisterCallbackEvent(this.OnPressedPaytableClose,this),XT.UnregisterCallbackEvent(this.OnPressedPaytableNext,this),XT.UnregisterCallbackEvent(this.OnPressedPaytablePrevious,this),XT.UnregisterCallbackEvent(this.OnGUIInit,this)},Paytable.prototype.OnJackpotStateChanged=function(t){this.jpData=t},Paytable.prototype.OnGUIInit=function(){0==XT.GetBool(Vars.CanGamble_Spin)&&0<=this.gamblePageIndex&&this.pages.splice(this.gamblePageIndex,1),this.pageRoot=[];for(var t=0;t<this.pages.length;t++)for(var e=0;e<this.cat.events.length;e++)if(this.cat.events[e].id==this.pages[t].show.id){var i=this.cat.events[e].actions[0];0<i.ToEnableList.length&&this.pageRoot.push(i.ToEnableList[0]);break}this.ProcessJackpotPages(),this.ProcessRequirementChecker()},Paytable.prototype.ProcessJackpotPages=function(){if(!this.hasFeatureDependentPages&&null!=this.jpData&&!this.jpData.IsActive&&-1!=this.pageContentType.indexOf(PageContentType.Jackpot)){this.hasFeatureDependentPages=!0;for(var t=this.jackpotPageCounter=0;t<this.pageContentType.length;t++)this.pageContentType[t]!=PageContentType.Normal&&this.jackpotPageCounter++;for(var e=0,i=0;i<this.pageRoot.length;i++)for(var n=this.pageRoot[i].transform.children,o=0;o<n.length;o++)if("PageIndicator"==n[o].gameObject.name)for(var s=this.jackpotPageCounter,r=!1,a=n[o].transform.children,l=0;l<a.length;l++)if(0<s)a[l].transform.gameObject.SetActive(!1),s--;else if(this.pageContentType[i]==PageContentType.Normal){var u=a[l].transform.gameObject.GetComponentsInChildren(UISprite,!0)[0];if(null==u)break;s+e==0?(u.spriteName="PaytablePageDot_Over",e++,r=!0):u.spriteName="PaytablePageDot_Normal",r||s--}}0==this.pageContentType.length||this.hasFeatureDependentPages?this.pagesCount=this.pages.length-this.jackpotPageCounter:this.pagesCount=this.pages.length,null!=this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel")&&(this.pageIndexLabel=this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel").GetComponent(UILabel))};var BT_PAYTABLE_SENT=!(Paytable.prototype.ChangePaytableStatus=function(t){this.paytableActive!=t&&(this.paytableActive=t,this.cat.StartEvent((t?this.paytable.show:this.paytable.hide).id))});function PaytableScrollValues(){this.pagesOffset=new UHTMath.Vector3(0,-2385,0),this.topPageExtraOffset=new UHTMath.Vector3(0,0,0),this.bottomPageExtraOffset=new UHTMath.Vector3(0,1,0),this.firstPageExtraDrag=new UHTMath.Vector3(0,-50,0),this.lastPageExtraDrag=new UHTMath.Vector3(0,1475,0),this.scrollWheelMovement=new UHTMath.Vector3(0,200,0)}function Paytable_mobile(){XTLink.call(this),this.miniScrollValues=null,this.miniPageFlipper=null,this.miniDragObject=null,this.miniInitialPos=null,this.portraitScrollValues=null,this.portraitPageFlipper=null,this.portraitDragObject=null,this.landscapeScrollValues=null,this.landscapePageFlipper=null,this.landscapeDragObject=null,this.hasAutoplayPages=!0,this.noIntroScreenButtonPatched=!1}Paytable.prototype.OnPressedPaytableOpen=function(){var t;BT_PAYTABLE_SENT||(t=globalTracking.GetTimerValue("uht_behaviour","Session_timer","BehaviourTracker"),globalTracking.SendEvent("uht_behaviour","PAYTABLE_opened_once",t,"BehaviourTracker"),BT_PAYTABLE_SENT=!0),this.ChangePaytableStatus(!0),this.currentPageIndex=1,null!=this.pageIndexLabel&&(this.pageIndexLabel.text=this.currentPageIndex+"/"+this.pagesCount)},Paytable.prototype.OnPressedPaytableClose=function(){this.ChangePaytableStatus(!1)},Paytable.prototype.OnPressedPaytableNext=function(){this.ShowPageInt(this.pageIdx+1),this.currentPageIndex+1>this.pagesCount?this.currentPageIndex=1:this.currentPageIndex=this.currentPageIndex+1,null!=this.pageIndexLabel&&(this.pageIndexLabel.text=this.currentPageIndex+"/"+this.pagesCount)},Paytable.prototype.OnPressedPaytablePrevious=function(){this.ShowPageInt(this.pageIdx-1),this.currentPageIndex-1<=0?this.currentPageIndex=this.pagesCount:this.currentPageIndex=this.currentPageIndex-1,null!=this.pageIndexLabel&&(this.pageIndexLabel.text=this.currentPageIndex+"/"+this.pagesCount)},Paytable.prototype.ShowPageInt=function(t){if(this.hasFeatureDependentPages||this.hasRequirementAwarePages){var e=1;t<this.pageIdx&&(e*=-1),this.pageIdx=t<0?this.pageRoot.length-1:t%this.pageRoot.length;var i=!1,n=this.pageRoot[this.pageIdx].GetComponent(window.RequirementChecker);if(i=null!=n?!n.isActive:i)this.ShowPageInt(this.pageIdx+e);else if(this.hasFeatureDependentPages&&this.pageContentType.length>this.pageIdx&&this.pageContentType[this.pageIdx]!=PageContentType.Normal)this.ShowPageInt(this.pageIdx+e);else for(var o=0;o<this.pageRoot.length;o++)this.pageRoot[o].SetActive(o==this.pageIdx)}else this.cat.StartEvent(this.pages[this.pageIdx].hide.id),this.pageIdx=t<0?this.pages.length-1:t%this.pages.length,this.cat.StartEvent(this.pages[this.pageIdx].show.id)},Paytable.prototype.ShowPage=function(t){this.ShowPageInt(_number.otoi(t))},Paytable.prototype.ProcessRequirementChecker=function(){for(var t=0,e=0;e<this.pageRoot.length;e++)null==(r=this.pageRoot[e].GetComponent(window.RequirementChecker))||r.isActive||t++;0<t&&(this.hasRequirementAwarePages=!0);for(var i=0,n=0;n<this.pageRoot.length;n++)for(var o=this.pageRoot[n].transform.children,s=0;s<o.length;s++)if("PageIndicator"==o[s].gameObject.name)for(var r,a=t,l=!1,u=o[s].transform.children,h=0;h<u.length;h++)if(0<a)u[h].transform.gameObject.SetActive(!1),a--;else if(null!=(r=this.pageRoot[n].GetComponent(window.RequirementChecker))&&r.isActive){var c=u[h].transform.gameObject.GetComponentsInChildren(UISprite,!0)[0];if(null==c)break;a+i==0?(c.spriteName="PaytablePageDot_Over",i++,l=!0):c.spriteName="PaytablePageDot_Normal",l||a--}this.pagesCount-=t,null!=this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel")&&(this.pageIndexLabel=this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel").GetComponent(UILabel))},goog.require("UHT.XTLink"),Paytable_mobile.prototype=Object.create(XTLink.prototype),(Paytable_mobile.prototype.constructor=Paytable_mobile).prototype.XTInitVariablesAndEvents=function(){this.UpdateZOrder(),XT.SetObject(Vars.MobilePaytableObject,this)},Paytable_mobile.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen,this.OnPressedPaytableOpen,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose,this.OnPressedPaytableClose,this)};var BT_PAYTABLE_MOBILE_SENT=!(Paytable_mobile.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnPressedPaytableOpen,this),XT.UnregisterCallbackEvent(this.OnPressedPaytableClose,this)});Paytable_mobile.prototype.OnPressedPaytableOpen=function(){var t;if(BT_PAYTABLE_MOBILE_SENT||(t=globalTracking.GetTimerValue("uht_behaviour","Session_timer","BehaviourTracker"),globalTracking.SendEvent("uht_behaviour","PAYTABLE_opened_once",t,"BehaviourTracker"),BT_PAYTABLE_MOBILE_SENT=!0),Globals.isMini?this.UpdateMini():this.UpdateMobile(),this.gameObject.SetActive(!0),!this.noIntroScreenButtonPatched&&XT.GetBool(Vars.DisableIntroScreen)){for(var e=this.gameObject.GetComponentsInChildren(SkipIntroButtonController,!0),i=0;i<e.length;i++)e[i].gameObject.SetActive(!1);this.noIntroScreenButtonPatched=!0}},Paytable_mobile.prototype.OnPressedPaytableClose=function(){this.gameObject.SetActive(!1)},Paytable_mobile.prototype.UpdateMini=function(){null==this.miniPageFlipper&&this.InitMini(),this.miniDragObject.target.position(this.miniInitialPos)},Paytable_mobile.prototype.InitMini=function(){for(var t=this.GetComponentsInChildren(PageFlipper,!0),e=0;e<t.length;++e){var i=t[e].GetComponent(ArrangeableActive);null!=i&&(i.activeInLandscape&&(i.activeInLandscape=!1,i.gameObject.SetActive(!1)),i.activeInPortrait&&(i.activeInLandscape=!0,i.gameObject.SetActive(!0),this.miniPageFlipper=t[e],this.miniDragObject=this.miniPageFlipper.GetComponent(CustomDragObject),this.miniInitialPos=this.miniDragObject.target.position(),XT.GetBool(Vars.Jurisdiction_Show_X_Chance)&&(this.miniScrollValues.topPageExtraOffset.y-=300,this.miniScrollValues.bottomPageExtraOffset.y-=299,this.miniScrollValues.lastPageExtraDrag.y+=300),this.InitPageFlipper(this.miniPageFlipper,this.miniDragObject,this.miniScrollValues)))}},Paytable_mobile.prototype.UpdateMobile=function(){null==this.landscapePageFlipper&&this.InitMobile(),this.landscapeDragObject.target.position(this.landscapeDragObject.target.parent.transformPoint(this.landscapeDragObject.localPositionLimitMin)),this.portraitDragObject.target.position(this.portraitDragObject.target.parent.transformPoint(this.portraitDragObject.localPositionLimitMin))},Paytable_mobile.prototype.InitMobile=function(){for(var t=this.GetComponentsInChildren(PageFlipper,!0),e=0;e<t.length;++e){var i=t[e].GetComponent(ArrangeableActive);null!=i&&(i.activeInLandscape&&(this.landscapePageFlipper=t[e],this.landscapeDragObject=this.landscapePageFlipper.GetComponent(CustomDragObject),this.landscapeScrollValues.pagesOffset=new UHTMath.Vector3(0,-854,0),this.landscapeScrollValues.firstPageExtraDrag=new UHTMath.Vector3(0,-50,0),this.hasAutoplayPages&&!XT.GetBool(Vars.Jurisdiction_DisableAutoplay)?this.landscapeScrollValues.lastPageExtraDrag=XT.GetBool(Vars.HasAdvancedAutoplay)?new UHTMath.Vector3(0,-73,0):new UHTMath.Vector3(0,-483,0):this.landscapeScrollValues.lastPageExtraDrag=new UHTMath.Vector3(0,-56,0),XT.GetBool(Vars.ShowIncompleteGame)&&(this.landscapeScrollValues.lastPageExtraDrag=new UHTMath.Vector3(0,-433,0)),XT.GetBool(Vars.Jurisdiction_Show_X_Chance)&&(this.landscapeScrollValues.topPageExtraOffset.y-=120,this.landscapeScrollValues.bottomPageExtraOffset.y-=119,this.landscapeScrollValues.lastPageExtraDrag.y+=120),this.landscapeScrollValues.scrollWheelMovement=new UHTMath.Vector3(0,7.95,0),this.InitPageFlipper(this.landscapePageFlipper,this.landscapeDragObject,this.landscapeScrollValues)),i.activeInPortrait&&(this.portraitPageFlipper=t[e],this.portraitDragObject=this.portraitPageFlipper.GetComponent(CustomDragObject),this.portraitScrollValues.firstPageExtraDrag=new UHTMath.Vector3(0,8.5,0),this.hasAutoplayPages&&!XT.GetBool(Vars.Jurisdiction_DisableAutoplay)?this.portraitScrollValues.lastPageExtraDrag=XT.GetBool(Vars.HasAdvancedAutoplay)?new UHTMath.Vector3(0,0,0):new UHTMath.Vector3(0,-1450,0):this.portraitScrollValues.lastPageExtraDrag=new UHTMath.Vector3(0,0,0),XT.GetBool(Vars.ShowIncompleteGame)&&(this.portraitScrollValues.lastPageExtraDrag=new UHTMath.Vector3(0,-1450,0)),XT.GetBool(Vars.Jurisdiction_Show_X_Chance)&&(this.portraitScrollValues.topPageExtraOffset.y-=300,this.portraitScrollValues.bottomPageExtraOffset.y-=299,this.portraitScrollValues.lastPageExtraDrag.y+=300),this.portraitScrollValues.scrollWheelMovement=new UHTMath.Vector3(0,23.85,0),this.InitPageFlipper(this.portraitPageFlipper,this.portraitDragObject,this.portraitScrollValues)))}},Paytable_mobile.prototype.InitPageFlipper=function(t,e,i){var n=UHTMath.Vector3;t.isFlippingEnabled=!1,Globals.isMini||t.transform.localScale(new n(.93,.93,1)),e.movement=new n(0,1,0),e.target=t.transform,e.cachedCamera=null,e.limitPosition=!0;var o=e.target.localPosition();e.localPositionLimitMin=n.add(o,i.firstPageExtraDrag),e.localPositionLimitMax=n.add(o,n.add(i.lastPageExtraDrag,n.scale(n.scale(n.scale(i.pagesOffset,-1),e.target.localScale()),t.topPages.length-1))),e.useScrollWheel=!0,e.scrollWheelMovement=this.transform.transformPoint(i.scrollWheelMovement);for(var s=t.topPages[0].localPosition(),r=0;r<t.topPages.length;++r)t.topPages[r].gameObject.SetActive(!0),t.topPages[r].localPosition(n.add(n.add(s,i.topPageExtraOffset),n.scale(i.pagesOffset,r))),t.bottomPages[r].gameObject.SetActive(!0),t.bottomPages[r].localPosition(n.add(n.add(s,i.bottomPageExtraOffset),n.scale(i.pagesOffset,r)));e=t.GetComponent(Collider);e.size=new n(e.size.x,Math.abs(i.pagesOffset.y)*t.topPages.length,e.size.z),e.center=new n(e.center.x,i.pagesOffset.y/2*(t.topPages.length-1),e.center.z);e=t.transform.Find("middleLine").gameObject;null!=e&&e.SetActive(!1);for(var a=0;a<t.topPages.length;++a)t.topPages[a].Find("Content/Background").gameObject.SetActive(!1);for(a=0;a<t.bottomPages.length;++a)t.bottomPages[a].Find("Content/Background").gameObject.SetActive(!1)},Paytable_mobile.prototype.UpdateZOrder=function(){for(var t=this.GetComponentsInChildren(Collider,!0),e=0;e<t.length;++e){var i=t[e].transform.localPosition();t[e].transform.localPosition(new UHTMath.Vector3(i.x,i.y,0)),null==t[e].GetComponent(Paytable_mobile)&&null==t[e].GetComponent(PageFlipper)||(t[e].enabled=!1)}},goog.provide("UHT.VideoSlotsConnection"),goog.require("UHT.Engine"),goog.require("UHT.JackpotHelpers");var VSCStagedHandler={None:0,Spin:1},VSCHandlerStage={Stage_0:0,Stage_1:1,Stage_2:2};function VideoSlotsConnection(){Component.call(this),this.xtLayer=null,this.serverRequestSent=!1,this.realMoney=!1,this.isInit=!0,this.lastResponse=null,this.fsbgLastResponse=null,this.fsgbResponse=null,this.storedPaytable=null,this.storedMaxFS=-1,this.Bets=null,this.gambleResponse=null,this.gambleColorMultiplier=-1,this.gambleSuitMultiplier=-1,this.gambleDiceMultiplier=-1,this.gambleCardHistory=null,this.canGamble=!1,this.stagedHandler=VSCStagedHandler.None,this.handlerStage=VSCHandlerStage.Stage_0}function BonusPickConnection(){Component.call(this),this.lastResponse=null,this.vsResponse=null,this.xtLayer=null}function FreeSpinsResponse(){this._currentSpin=0,this._maxSpins=0,this._oldMaxSpins=0,this._additionalSpins=0,this._totalSpins=0,this._totalMultiplier=0,this._currentWin=0,this._currentWinMultiplied=0,this._totalWin=0,this._totalWinMultiplied=0,this._pickedOptionIndex=-1,this._bonusGameData=null,this._mysteryScatter=[],this._needGetMysteryScatter=!1,this._isFreeSpin=!1,this._isFreeSpinsStart=!1,this._isFreeSpinsGambled=!1,Object.defineProperty(this,"CurrentSpin",{get:function(){return this._currentSpin}}),Object.defineProperty(this,"MaxSpins",{get:function(){return this._maxSpins}}),Object.defineProperty(this,"OldMaxSpins",{get:function(){return this._oldMaxSpins}}),Object.defineProperty(this,"AdditionalSpins",{get:function(){return this._additionalSpins}}),Object.defineProperty(this,"TotalSpins",{get:function(){return this._totalSpins},set:function(t){this._totalSpins=t}}),Object.defineProperty(this,"TotalMultiplier",{get:function(){return this._totalMultiplier}}),Object.defineProperty(this,"CurrentWin",{get:function(){return this._currentWin},set:function(t){this._currentWin=t}}),Object.defineProperty(this,"CurrentWinMultiplied",{get:function(){return this._currentWinMultiplied}}),Object.defineProperty(this,"TotalWin",{get:function(){return this._totalWin}}),Object.defineProperty(this,"TotalWinMultiplied",{get:function(){return this._totalWinMultiplied}}),Object.defineProperty(this,"PickedOptionIndex",{get:function(){return this._pickedOptionIndex}}),Object.defineProperty(this,"IsFreeSpin",{get:function(){return this._isFreeSpin}}),Object.defineProperty(this,"IsFreeSpinsStart",{get:function(){return this._isFreeSpinsStart||this.IsFreeSpinsCollected&&null!=this._bonusGameData}}),Object.defineProperty(this,"IsLastFreeSpin",{get:function(){return this.IsFreeSpin&&0<this.TotalSpins}}),Object.defineProperty(this,"IsFreeSpinsCollected",{get:function(){return this.IsFreeSpin&&0==this._currentSpin&&0==this._maxSpins&&0==this._totalSpins}}),Object.defineProperty(this,"IsFreeSpinsGambled",{get:function(){return this._isFreeSpinsGambled},set:function(t){this._isFreeSpinsGambled=t}}),Object.defineProperty(this,"IsNeedGetMysteryScatter",{get:function(){return this._needGetMysteryScatter}}),Object.defineProperty(this,"BonusGameData",{get:function(){return this._bonusGameData},set:function(t){this._bonusGameData=t}}),Object.defineProperty(this,"MysteryScatter",{get:function(){return this._mysteryScatter}}),this.FreeSpinsType=-1}function VideoSlotsConnectionXTLayer(){XTLink.call(this),this.vsc=null,this.bonusConnection=null,this.gameSymbol=null,this.fsr=null,this.bonusData=null,this.needToSendSettingsToServer=!1,this.isInCoolDown=!1,this.timeInCooldown=0,this.internalGlobalSoundIsOn=!1,this.handlerGameInitReceived=!1,this.settingsReceived=!1,this.resourcesLoaded=!1,this.mustTriggerDelayedGameLoadingFinished=!1,this.delayedGameLoadingFinishedFrameCount=0}VideoSlotsConnection.prototype=Object.create(Component.prototype),(VideoSlotsConnection.prototype.constructor=VideoSlotsConnection).cleanupPreviousWin=!1,VideoSlotsConnection.isUnfinishedGame=!1,VideoSlotsConnection.prototype.Awake=function(){this.Bets=[.01,.02,.05,.1,.25,.5,1,3,5]},VideoSlotsConnection.prototype.Update=function(){this.stagedHandler!=VSCStagedHandler.None&&this.stagedHandler===VSCStagedHandler.Spin&&this.HandlerSpinResult(this.lastResponse)},VideoSlotsConnection.prototype.AddServerCallbacks=function(){EventManager.AddHandler(GameEvents.evtInitResponse+this.xtLayer.gameSymbol,this.HandlerGameInit,this),EventManager.AddHandler(GameEvents.evtSpinResponse+this.xtLayer.gameSymbol,this.HandlerSpinResult,this),EventManager.AddHandler(GameEvents.evtNoMoneySpinResponse,this.HandlerNoMoneySpinResult,this),EventManager.AddHandler(GameEvents.evtConfigSwitchedResponse+this.xtLayer.gameSymbol,this.HandlerConfigSwitched,this),EventManager.AddHandler(GameEvents.evtGambleResponse+this.xtLayer.gameSymbol,this.HandlerGambleV2Response,this),EventManager.AddHandler(JackpotEvents.evtJackpotsUpdated,this.HandlerJackpotsUpdated,this),EventManager.AddHandler(GameEvents.evtFSBGInitResponse+this.xtLayer.gameSymbol,this.HandlerFSBGInit,this),EventManager.AddHandler(GameEvents.evtFSBGPickResponse+this.xtLayer.gameSymbol,this.HandlerFSBGResponse,this),EventManager.AddHandler(GameEvents.evtMysteryScatterResponse+this.xtLayer.gameSymbol,this.HandlerMysteryScatter,this),EventManager.AddHandler(GameEvents.evtFreeRoundsUpdate,this.HandlerFreeRoundUpdate,this),EventManager.AddHandler(GameEvents.evtFSOptionsUpdate+this.xtLayer.gameSymbol,this.HandlerFreeSpinOptionsUpdate,this),EventManager.AddHandler(GameEvents.evtServerTimeUpdate,this.HandlerServerTimeUpdate,this),EventManager.AddHandler(ApplicationEvents.evtServerOptionsParsed,this.OnServerOptionsParsed,this)},VideoSlotsConnection.prototype.OnServerOptionsParsed=function(){this.xtLayer.RequirementsSetup()},VideoSlotsConnection.prototype.SpinPressed=function(t,e){var i=new VsRequest;i.Symbol=String(this.xtLayer.gameSymbol),i.Bet=e,i.Line=t;t=XT.GetObject(Vars.ProgressiveFeatureConfig);null!=t&&-1!=t.pickedSymbolPosition&&(i.ProgressPick=t.pickedSymbolPosition),console.log("Sending spin request"),this.serverRequestSent=!0,EventManager.Trigger(GameEvents.evtSpinRequest+this.xtLayer.gameSymbol,i)},VideoSlotsConnection.prototype.InitReels=function(){if(this.xtLayer.InitReelSymbols(this.lastResponse.VsInitData.ReelSymbols),null==this.lastResponse.ReelPositions){XT.SetBool(Vars.HiddenMathematics,!0),this.lastResponse.ReelPositions=[];for(var t=0;t<this.lastResponse.WinScreenSymbols.length;t++)this.lastResponse.ReelPositions.push(0)}this.xtLayer.InitReelsPositions(this.lastResponse.ReelPositions),this.xtLayer.SetReelStopPositions(this.lastResponse.ReelPositions)},VideoSlotsConnection.prototype.InitNextReels=function(){var t=[];t=0<=this.lastResponse.ReelSetIndex?XT.GetObject(Vars.ReelSets)[this.lastResponse.ReelSetIndex]:this.lastResponse.VsInitData.NextReelSymbols,this.xtLayer.InitNextReelSymbols(t)},VideoSlotsConnection.prototype.InitReelSets=function(){this.xtLayer.UpdateReelSetIndexes(this.lastResponse.ReelSetIndexCurrent),this.xtLayer.SetReelSets(this.lastResponse.VsInitData.ReelSets)},VideoSlotsConnection.prototype.Start=function(){},VideoSlotsConnection.prototype.Init=function(){console.log("VideoSlotsConnection - Init")},VideoSlotsConnection.prototype.OnDestroy=function(){},VideoSlotsConnection.prototype.OnShowResult=function(){},VideoSlotsConnection.prototype.OnFreeSpinsClosed=function(){EventManager.Trigger(GameEvents.evtFreespinsFinished+this.xtLayer.gameSymbol,null)},VideoSlotsConnection.prototype.IsInit=function(){return this.isInit},VideoSlotsConnection.prototype.Vs_InitData=function(){return this.lastResponse.VsInitData},VideoSlotsConnection.prototype.GetSymbolPaytable=function(t){return this.storedPaytable[t]},VideoSlotsConnection.prototype.WonTheJackpot=function(){return null!=this.lastResponse&&this.lastResponse.IsJackpotWin()},VideoSlotsConnection.prototype.IsFreeSpin=function(){return this.lastResponse.IsFreeSpins()&&0!=this.lastResponse.VsFreeSpin.GetMaxNumber()},VideoSlotsConnection.prototype.IsNeedMysteryScatter=function(){return this.lastResponse.VsFreeSpin.IsNeedGetMysteryScatter()},VideoSlotsConnection.prototype.HasMysteryScatter=function(){return this.lastResponse.IsFreeSpins()&&0<this.lastResponse.VsFreeSpin.GetMysteryScatter().length},VideoSlotsConnection.prototype.GetMysteryScatter=function(){return this.lastResponse.VsFreeSpin.GetMysteryScatter()},VideoSlotsConnection.prototype.SetLastFreesSpinsNull=function(){this.lastResponse.SetVsFreeSpin(null)},VideoSlotsConnection.prototype.GetWinValue=function(){return this.lastResponse.Win},VideoSlotsConnection.prototype.IsFreeSpinWin=function(){return this.IsFreeSpin()?0<this.FreeSpinMaxNumber()&&this.storedMaxFS<this.FreeSpinMaxNumber()&&(this.storedMaxFS=this.FreeSpinMaxNumber(),!0):!(this.storedMaxFS=-1)},VideoSlotsConnection.prototype.IsLastFreeSpin=function(){return this.lastResponse.IsFreeSpins()&&this.lastResponse.VsFreeSpin.IsLastFreeSpin()},VideoSlotsConnection.prototype.FreeSpinTotalNumber=function(){return this.lastResponse.VsFreeSpin.GetTotalNumber()},VideoSlotsConnection.prototype.FreeSpinCurrentNumber=function(){return this.lastResponse.VsFreeSpin.GetCurrentNumber()},VideoSlotsConnection.prototype.FreeSpinMaxNumber=function(){return this.lastResponse.VsFreeSpin.GetMaxNumber()},VideoSlotsConnection.prototype.FreeSpinTotalMultipl=function(){return this.lastResponse.VsFreeSpin.GetTotalMultipl()},VideoSlotsConnection.prototype.FreeSpinCurrentWin=function(){return this.lastResponse.VsFreeSpin.GetCurrentWin()},VideoSlotsConnection.prototype.FreeSpinTotalWin=function(){return this.lastResponse.VsFreeSpin.GetTotalWin()},VideoSlotsConnection.prototype.FreeSpinCurrentWinMultiplied=function(){return this.lastResponse.VsFreeSpin.GetCurrentWinMultiplied()},VideoSlotsConnection.prototype.FreeSpinTotalWinMultiplied=function(){return this.lastResponse.VsFreeSpin.GetTotalWinMultiplied()},VideoSlotsConnection.prototype.GambleGetBalance=function(){return this.gambleResponse.Balance},VideoSlotsConnection.prototype.GambleGetCard=function(){return this.gambleResponse.Card},VideoSlotsConnection.prototype.GambleGetDice1=function(){return this.gambleResponse.Dice1},VideoSlotsConnection.prototype.GambleGetDice2=function(){return this.gambleResponse.Dice2},VideoSlotsConnection.prototype.GambleIsNoMoney=function(){return this.gambleResponse.NoMoney},VideoSlotsConnection.prototype.HasFreeSpinOptions=function(){return this.lastResponse.HasFreeSpinOptions()},VideoSlotsConnection.prototype.IsFreeSpinsBonusGame=function(){return this.lastResponse.IsFreeSpinBonusGame()},VideoSlotsConnection.prototype.FSBG_GameOver=function(){return this.fsbgLastResponse.VsFreeSpin.BonusGame.GameOver},VideoSlotsConnection.prototype.FSBG_Lives=function(){return Number(this.fsbgLastResponse.VsFreeSpin.BonusGame.Lifes)},VideoSlotsConnection.prototype.FSBG_Level=function(){return this.fsbgLastResponse.VsFreeSpin.BonusGame.Level},VideoSlotsConnection.prototype.FSBG_Items=function(){return this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems},VideoSlotsConnection.prototype.FSBG_Close=function(){var t=this.fsbgLastResponse.VsFreeSpin;t.SetCurrentNumber(1),t.SetMaxNumber(t.BonusGame.SpinsWin),t.SetTotalMultipl(t.BonusGame.MultipliersWin),t.BonusGame=null,this.lastResponse.SetVsFreeSpin(t),this.IsFreeSpinWin()},VideoSlotsConnection.prototype.FSBG_WinMultipliers=function(){return this.fsbgLastResponse.VsFreeSpin.BonusGame.MultipliersWin},VideoSlotsConnection.prototype.FSBG_WinSpins=function(){return this.fsbgLastResponse.VsFreeSpin.BonusGame.SpinsWin},VideoSlotsConnection.prototype.FSBG_InProgress=function(){if(null!=this.fsbgLastResponse){if(this.fsbgLastResponse.VsFreeSpin.BonusGame.GameOver)return!0;if(null!=this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems&&0<this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems.length)for(var t=0;t<this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems.length;++t)if(this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems[t].Status==VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Selected)return!0}return!1},VideoSlotsConnection.prototype.InitFakeGambleState=function(){null==this.gambleResponse&&(this.gambleResponse=new VsGamblingResponse),this.gambleResponse.State=GamblingState.Win},VideoSlotsConnection.prototype.SendGambleOpen=function(){this.InitFakeGambleState(),XT.TriggerEvent(Vars.Evt_FromServer_GambleOpen)},VideoSlotsConnection.prototype.SendGambleBack=function(){XT.TriggerEvent(Vars.Evt_FromServer_GambleClose),EventManager.Trigger(GameEvents.evtGambleClose+this.xtLayer.gameSymbol,null)},VideoSlotsConnection.prototype.SendGambleChoice=function(t){var e=new VsGamblingRequest;e.Choice=t,this.serverRequestSent=!0,EventManager.Trigger(GameEvents.evtGambleRequest+this.xtLayer.gameSymbol,e)},VideoSlotsConnection.prototype.FSOption_SendPick=function(t){t=new VsBonusGamePlayerChoice(t);EventManager.Trigger(GameEvents.evtFSOptionPickRequest+this.xtLayer.gameSymbol,t)},VideoSlotsConnection.prototype.FSBG_SendPick=function(t){t=new VsBonusGamePlayerChoice(t);EventManager.Trigger(GameEvents.evtFSBGPickRequest+this.xtLayer.gameSymbol,t)},VideoSlotsConnection.prototype.SendGetJackpots=function(){},VideoSlotsConnection.prototype.SendGetJackpotsGames=function(){},VideoSlotsConnection.prototype.HandlerJackpotsUpdated=function(t){this.xtLayer.SetJackpotsInfo(t)},VideoSlotsConnection.prototype.HandlerGameInit=function(t){if(console.log("VideoSlotsConnection - this.HandlerGameInit"),this.isInit=!0,this.lastResponse=t,null!=this.lastResponse){VideoSlotsConnection.cleanupPreviousWin&&(null!=this.lastResponse.VsBonusGame&&this.lastResponse.VsBonusGame.currentBonusRespin==this.lastResponse.VsBonusGame.maxBonusRespins&&0!=this.lastResponse.VsBonusGame.currentBonusRespin&&(this.lastResponse.VsBonusGame=null),this.lastResponse.Win=0,this.lastResponse.VsWinLines=[],VideoSlotsConnection.isUnfinishedGame||(this.lastResponse.SpinCycleWin=0)),this.storedPaytable=this.lastResponse.VsInitData.Paytable,this.xtLayer.SetPaytableInfo(this.storedPaytable);var e,i=this.lastResponse.VsInitData.GamblingSettings;null!=i&&(null!=i.GetGamblingSettings(GamblingType.CardColor)&&(this.gambleColorMultiplier=Number(i.GetGamblingSettings(GamblingType.CardColor))),null!=i.GetGamblingSettings(GamblingType.Suit)&&(this.gambleSuitMultiplier=Number(i.GetGamblingSettings(GamblingType.Suit))),e=i.IsOccasionEnable(GamblingOccasions.Spin),t=i.IsOccasionEnable(GamblingOccasions.FreeSpin),n=i.IsOccasionEnable(GamblingOccasions.Bonus),this.xtLayer.SetGambleSettings(e,t,n,this.gambleColorMultiplier,this.gambleSuitMultiplier));var n=this.lastResponse.VsInitData.GamblingHistory;if(null!=n){var o=n.History;this.gambleCardHistory=[];for(var s=0;s<o.length;++s)this.gambleCardHistory[s]=o[s].Card;this.gambleResponse=n.History[n.History.length-1],this.gambleResponse.Balance=n.WinAmount}this.xtLayer.SetGambleHistory(n),this.canGamble=this.lastResponse.VsGamblingButtonState.GamblingOnSpinAvailable,this.canGamble&&null!=n&&i.InitGamblingOccasion==GamblingOccasions.Spin&&(this.canGamble=!1),this.xtLayer.SetCanGambleSpinWin(this.canGamble),(i.IsOccasionEnable(GamblingOccasions.Bonus)||i.IsOccasionEnable(GamblingOccasions.Spin)||i.IsOccasionEnable(GamblingOccasions.FreeSpin))&&(i.SkipGambleOnInit||this.lastResponse.Win<=0)&&this.xtLayer.SkipResultDisplayOnInit(),this.IsFreeSpin()&&(this.storedMaxFS=this.FreeSpinMaxNumber()),this.InitReels(),this.InitReelSets(),(null!=this.lastResponse.VsInitData&&null!=this.lastResponse.VsInitData.NextReelSymbols||0<=this.lastResponse.ReelSetIndex)&&this.InitNextReels(),this.xtLayer.SetStackedSymbolIndex(this.lastResponse.StackedSymbolIndex),this.xtLayer.SetBetLines(this.lastResponse.VsInitData.Line),this.xtLayer.SetRandomWildsData(this.lastResponse.RandomWildsData,this.lastResponse.UpSymbols),this.xtLayer.SetWildRandomLineMpConfig(this.lastResponse.VsInitData.WildRandomLineMpConfig),this.xtLayer.SetNASymbolId(this.lastResponse.VsInitData.naSymbolId),this.xtLayer.SetWRLMResponse(this.lastResponse.WRLMResponse),this.xtLayer.SetWRLMCurrentSets(this.lastResponse.WRLMCurrentSets),this.xtLayer.SetRandomAwardsConfig(this.lastResponse.VsInitData.RandomAwardConfig),this.xtLayer.SetRandomAwardResponse(this.lastResponse.RandomAwardResponse),this.xtLayer.SetRandomSymbolMultipliers(this.lastResponse.RandomSymbolMultipliers),this.xtLayer.SetPossibleRandomSymbolMultipliers(this.lastResponse.PossibleRandomSymbolMultipliers),this.xtLayer.SetFreeSpinsChainData(this.lastResponse.FreeSpinsChainData),this.xtLayer.SetOpeningSymbolsData(this.lastResponse.OpeningSymbolsData),this.xtLayer.SetRandomMysterySymbolsIds(this.lastResponse.RandomMysterySymbolId),this.xtLayer.SetPatternedMysterySymbols(this.lastResponse.PatternedMysterySymbols),this.xtLayer.SetInitialMysterySymbolsIds(this.lastResponse.VsInitData.InitialMysterySymbolId),this.xtLayer.SetInitialBGItemValues(this.lastResponse.VsInitData.BGItemValues),this.xtLayer.SetInitialBGItemMasks(this.lastResponse.VsInitData.BGItemMasks),this.xtLayer.InitFirstScreenSymbols(this.lastResponse.WinScreenSymbols),null!=this.lastResponse.SymbolsBeforeExpanding&&0<this.lastResponse.SymbolsBeforeExpanding.length?this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.SymbolsBeforeExpanding):this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.WinScreenSymbols),this.xtLayer.SetGoldSymbol(this.lastResponse.GoldSymbol),this.xtLayer.SetSymbolReplacementData(this.lastResponse.SymbolReplacementData),this.xtLayer.SetResultScreenSymbols(this.lastResponse.WinScreenSymbols),this.xtLayer.SetSymbolsAbove(this.lastResponse.SymbolsAbove),this.xtLayer.SetSymbolsBelow(this.lastResponse.SymbolsBelow),this.xtLayer.SetNextReelsSymbolsList(this.lastResponse.NextReelsSymbolsList),this.xtLayer.SetHasCoins("CURRENCY"!=ServerOptions.amountType),this.Bets=this.lastResponse.VsInitData.Bets,this.xtLayer.SetExplicitMaxTotalBet(this.lastResponse.VsInitData.ExplicitMaxTotalBet),ServerOptions.isReplay&&(this.Bets=[this.lastResponse.VsInitData.Bet],this.lastResponse.VsInitData.DefaultBet=this.lastResponse.VsInitData.Bet),this.xtLayer.SetBets(this.Bets,this.lastResponse.VsInitData.Bet,this.lastResponse.VsInitData.DefaultBet),this.xtLayer.SetBalance(this.lastResponse.Balance,!1),this.xtLayer.SetWinValue(this.lastResponse.Win),this.xtLayer.SetSpinCycleWinValue(this.lastResponse.SpinCycleWin),this.xtLayer.SetExtraAwardWin(this.lastResponse.ExtraAwardWin),this.xtLayer.SetRespinCycleWin(this.lastResponse.RespinCycleWin);for(var r=0,s=0;s<this.lastResponse.VsWinLines.length;++s)r+=this.lastResponse.VsWinLines[s].WinAmount;this.xtLayer.SetLinesWinValue(r),this.xtLayer.SetWinLines(this.lastResponse.VsWinLines);var a,i=this.lastResponse.isGambleV2();this.xtLayer.SetGambleV2Response(this.lastResponse.gambleV2Data),this.xtLayer.SetMustOpenGambleV2(i),this.xtLayer.SetMustOpenBonus(this.lastResponse.IsBonus()&&!i,this.lastResponse.IsBonusGameOver()&&-1<this.lastResponse.NextGameActions.indexOf(NextGameAction.Bonus)),this.isInit=!1,this.xtLayer.SetExpandingSymbolsData(this.lastResponse.ExpandingSymbolsData),this.xtLayer.SetRespinData(this.lastResponse.Respin),this.xtLayer.SetProgressiveFeatureConfig(this.lastResponse.VsInitData.ProgressiveConfig),this.xtLayer.SetProgressiveFeatureData(this.lastResponse.ProgressiveData),this.xtLayer.SetMoneySymbolConfig(this.lastResponse.VsInitData.MoneySymbolConfig),this.xtLayer.SetMoneySymbolData(this.lastResponse.MoneySymbolData),this.xtLayer.SetStickySymbolsData(this.lastResponse.StickySymbols),this.xtLayer.SetMergingSymbolsData(this.lastResponse.MergingSymbols),this.xtLayer.SetJackpotState(this.lastResponse.VsJackpotData),this.WonTheJackpot()&&(a=this.lastResponse.VsJackpotData,this.xtLayer.SetJackpotWon(a.JackpotID,a.JackpotOrder,a.WinJackpotAmount)),this.xtLayer.SetJackpotVisualization(this.lastResponse.JackpotVisualisation),this.HasFreeSpinOptions()&&this.xtLayer.MustOpenFSOptions(this.lastResponse.FreeSpinsOptions),this.IsFreeSpinsBonusGame()&&this.lastResponse.VsFreeSpin.BonusGame.GameOver?(this.fsgbResponse=this.lastResponse.Clone(),this.fsgbResponse.VsFreeSpin.SetTotalMultipl(this.lastResponse.VsFreeSpin.BonusGame.MultipliersWin),this.fsgbResponse.VsFreeSpin.SetMaxNumber(this.lastResponse.VsFreeSpin.BonusGame.SpinsWin),this.fsgbResponse.VsFreeSpin.SetCurrentNumber(1),this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin)):(this.xtLayer.SetFreeSpinResponseReceived(this.lastResponse.VsFreeSpin),XT.GetBool(Vars.TruncateFSResponseDuringRespin)&&this.xtLayer.SetTruncatedFSResponseReceived(this.lastResponse.TruncatedVsFreeSpin)),(null!=this.lastResponse.GetVsFreeSpin()&&this.lastResponse.GetVsFreeSpin().IsLastFreeSpin()||null==this.lastResponse.GetVsFreeSpin())&&XT.GetBool(Vars.OpenFSBGForMysteryScatter)&&this.xtLayer.SetStartFSBG(!1),null==this.lastResponse.VsFreeSpin||0<(a=this.lastResponse.VsFreeSpin.GetMysteryScatter()).length&&this.xtLayer.SetMysteryScatterSymbolIds(a),this.IsFreeSpin()&&this.IsNeedMysteryScatter()?(this.fsgbResponse=this.lastResponse.Clone(),this.xtLayer.SetStartFSBG(!0)):this.IsFreeSpinsBonusGame()&&!this.lastResponse.VsFreeSpin.BonusGame.GameOver&&(this.fsgbResponse=this.lastResponse.Clone(),this.xtLayer.SetStartFSBG(!1)),this.xtLayer.SetWildRandomMultipliers(this.lastResponse.WildRandomMultipliers),this.xtLayer.UpdateBonusRoundsInfo(this.lastResponse),this.xtLayer.SetReturnToPlayer(this.lastResponse.ReturnToPlayer),this.xtLayer.SetReturnToPlayerMin(this.lastResponse.ReturnToPlayerMin),this.xtLayer.SetNudgedSymbolsData(this.lastResponse.NudgedSymbolsData),this.xtLayer.SetSpinOneReelValues(this.lastResponse.SpinOneReelData),this.xtLayer.SetTumblingWin(this.lastResponse.TumblingWin),this.xtLayer.SetTumblingData(this.lastResponse.TumblingData),this.xtLayer.SetBetLevelSettings(this.lastResponse.VsInitData.BetLevelSettings),this.xtLayer.SetFSPurchaseConfig(this.lastResponse.VsInitData.FreeSpinsPurchaseConfig),this.xtLayer.SetFSPurchaseData(this.lastResponse.FreeSpinsPurchaseData),XT.TriggerEvent(FOXVars.Evt_FOX_AfterInitReceived),this.xtLayer.InitReceived(),this.xtLayer.SetBonusBalance(this.lastResponse.BonusBalance)}else console.error("Null response from server!")},VideoSlotsConnection.prototype.HandlerConfigSwitched=function(t){var e,i;console.log("VideoSlotsConnection - HandlerConfigSwitched"),this.lastResponse=t,null!=this.lastResponse?(this.storedPaytable=this.lastResponse.VsInitData.Paytable,this.xtLayer.SetPaytableInfo(this.storedPaytable),null!=(i=this.lastResponse.VsInitData.GamblingSettings)&&(null!=i.GetGamblingSettings(GamblingType.CardColor)&&(this.gambleColorMultiplier=Number(i.GetGamblingSettings(GamblingType.CardColor))),null!=i.GetGamblingSettings(GamblingType.Suit)&&(this.gambleSuitMultiplier=Number(i.GetGamblingSettings(GamblingType.Suit))),e=i.IsOccasionEnable(GamblingOccasions.Spin),t=i.IsOccasionEnable(GamblingOccasions.FreeSpin),i=i.IsOccasionEnable(GamblingOccasions.Bonus),this.xtLayer.SetGambleSettings(e,t,i,this.gambleColorMultiplier,this.gambleSuitMultiplier)),this.InitReels(),this.InitReelSets(),(null!=this.lastResponse.VsInitData&&null!=this.lastResponse.VsInitData.NextReelSymbols||0<=this.lastResponse.ReelSetIndex)&&this.InitNextReels(),this.xtLayer.SetStackedSymbolIndex(this.lastResponse.StackedSymbolIndex),this.xtLayer.SetReturnToPlayer(this.lastResponse.ReturnToPlayer),this.xtLayer.SetReturnToPlayerMin(this.lastResponse.ReturnToPlayerMin)):console.error("Null response from server!")},VideoSlotsConnection.prototype.HandlerSpinResult=function(t){if(console.log("VideoSlotsConnection - this.HandlerSpinResult"),this.serverRequestSent=!1,this.lastResponse=t,null!=this.lastResponse)switch(this.handlerStage){case VSCHandlerStage.Stage_0:if(null!=this.lastResponse.VsInitData&&null!=this.lastResponse.VsInitData.ReelSymbols&&this.InitReels(),0<=this.lastResponse.ReelSetIndexCurrent&&(this.xtLayer.UpdateReelSetIndexes(this.lastResponse.ReelSetIndexCurrent),this.xtLayer.InitReelSymbols(XT.GetObject(Vars.ReelSets)[this.lastResponse.ReelSetIndexCurrent])),(null!=this.lastResponse.VsInitData&&null!=this.lastResponse.VsInitData.NextReelSymbols||0<=this.lastResponse.ReelSetIndex)&&this.InitNextReels(),this.canGamble=this.lastResponse.VsGamblingButtonState.GamblingOnSpinAvailable,this.xtLayer.SetStackedSymbolIndex(this.lastResponse.StackedSymbolIndex),this.xtLayer.SetCanGambleSpinWin(this.canGamble),this.xtLayer.SetWRLMResponse(this.lastResponse.WRLMResponse),this.xtLayer.SetWinLines(this.lastResponse.VsWinLines),null==this.lastResponse.ReelPositions){this.lastResponse.ReelPositions=[];for(var e=0;e<this.lastResponse.WinScreenSymbols.length;e++)this.lastResponse.ReelPositions.push(0)}this.xtLayer.SetReelStopPositions(this.lastResponse.ReelPositions),this.xtLayer.SetExpandingSymbolsData(this.lastResponse.ExpandingSymbolsData),this.xtLayer.SetRandomWildsData(this.lastResponse.RandomWildsData,this.lastResponse.UpSymbols),this.xtLayer.SetWRLMCurrentSets(this.lastResponse.WRLMCurrentSets),this.xtLayer.SetRandomAwardResponse(this.lastResponse.RandomAwardResponse),this.xtLayer.SetRandomSymbolMultipliers(this.lastResponse.RandomSymbolMultipliers),this.xtLayer.SetPossibleRandomSymbolMultipliers(this.lastResponse.PossibleRandomSymbolMultipliers),this.xtLayer.SetFreeSpinsChainData(this.lastResponse.FreeSpinsChainData),this.xtLayer.SetOpeningSymbolsData(this.lastResponse.OpeningSymbolsData),this.xtLayer.SetSpinOneReelValues(this.lastResponse.SpinOneReelData),this.xtLayer.SetTumblingWin(this.lastResponse.TumblingWin),this.xtLayer.SetTumblingData(this.lastResponse.TumblingData),this.xtLayer.SetRandomMysterySymbolsIds(this.lastResponse.RandomMysterySymbolId),this.xtLayer.SetPatternedMysterySymbols(this.lastResponse.PatternedMysterySymbols),null!=this.lastResponse.SymbolsBeforeExpanding&&0<this.lastResponse.SymbolsBeforeExpanding.length?this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.SymbolsBeforeExpanding):this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.WinScreenSymbols),this.xtLayer.SetGoldSymbol(this.lastResponse.GoldSymbol),this.xtLayer.SetSymbolReplacementData(this.lastResponse.SymbolReplacementData),this.xtLayer.SetResultScreenSymbols(this.lastResponse.WinScreenSymbols),this.xtLayer.SetSymbolsAbove(this.lastResponse.SymbolsAbove),this.xtLayer.SetSymbolsBelow(this.lastResponse.SymbolsBelow),this.xtLayer.SetNextReelsSymbolsList(this.lastResponse.NextReelsSymbolsList),this.stagedHandler=VSCStagedHandler.Spin,this.handlerStage=VSCHandlerStage.Stage_1;break;case VSCHandlerStage.Stage_1:var i;this.xtLayer.SetRespinData(this.lastResponse.Respin),this.xtLayer.SetProgressiveFeatureData(this.lastResponse.ProgressiveData),this.xtLayer.SetMoneySymbolData(this.lastResponse.MoneySymbolData),this.xtLayer.SetStickySymbolsData(this.lastResponse.StickySymbols),this.xtLayer.SetMergingSymbolsData(this.lastResponse.MergingSymbols),this.xtLayer.SetJackpotState(this.lastResponse.VsJackpotData),this.WonTheJackpot()&&(i=this.lastResponse.VsJackpotData,this.xtLayer.SetJackpotWon(i.JackpotID,i.JackpotOrder,i.WinJackpotAmount)),this.xtLayer.SetJackpotVisualization(this.lastResponse.JackpotVisualisation),this.xtLayer.SetBalance(this.lastResponse.Balance,!0),this.xtLayer.SetBonusBalance(this.lastResponse.BonusBalance),this.xtLayer.SetWinValue(this.lastResponse.Win),this.xtLayer.SetSpinCycleWinValue(this.lastResponse.SpinCycleWin),this.xtLayer.SetExtraAwardWin(this.lastResponse.ExtraAwardWin),this.xtLayer.SetRespinCycleWin(this.lastResponse.RespinCycleWin);var n,o=0;for(n in this.lastResponse.VsWinLines)o+=this.lastResponse.VsWinLines[n].WinAmount;this.xtLayer.SetLinesWinValue(o),this.HasFreeSpinOptions()&&this.xtLayer.MustOpenFSOptions(this.lastResponse.FreeSpinsOptions),this.xtLayer.SetFreeSpinResponseReceived(this.lastResponse.GetVsFreeSpin()),this.xtLayer.SetFSPurchaseData(this.lastResponse.FreeSpinsPurchaseData),XT.GetBool(Vars.TruncateFSResponseDuringRespin)&&this.xtLayer.SetTruncatedFSResponseReceived(this.lastResponse.TruncatedVsFreeSpin),(null!=this.lastResponse.GetVsFreeSpin()&&this.lastResponse.GetVsFreeSpin().IsLastFreeSpin()||null==this.lastResponse.GetVsFreeSpin())&&XT.GetBool(Vars.OpenFSBGForMysteryScatter)&&this.xtLayer.SetStartFSBG(!1),this.IsFreeSpin()&&this.IsNeedMysteryScatter()?(this.fsgbResponse=this.lastResponse.Clone(),this.xtLayer.SetStartFSBG(!0)):this.IsFreeSpinsBonusGame()&&(this.fsgbResponse=this.lastResponse.Clone(),this.xtLayer.SetStartFSBG(!1)),this.xtLayer.SetWildRandomMultipliers(this.lastResponse.WildRandomMultipliers),this.xtLayer.SetMustOpenBonus(this.lastResponse.IsBonus(),!1),this.xtLayer.UpdateBonusRoundsInfo(this.lastResponse),this.xtLayer.SetGambleV2Response(this.lastResponse.gambleV2Data),this.xtLayer.SetNudgedSymbolsData(this.lastResponse.NudgedSymbolsData),this.handlerStage=VSCHandlerStage.Stage_2;break;case VSCHandlerStage.Stage_2:XT.TriggerEvent(FOXVars.Evt_FOX_AfterSpinReceived),this.xtLayer.SpinResultReceived(),this.stagedHandler=VSCStagedHandler.None,this.handlerStage=VSCHandlerStage.Stage_0}},VideoSlotsConnection.prototype.HandlerNoMoneySpinResult=function(t){var e=new VsResponse;e.ReelPositions=this.lastResponse.ReelPositions,e.SymbolsAbove=this.lastResponse.SymbolsAbove,e.SymbolsBelow=this.lastResponse.SymbolsBelow,e.RandomAwardResponse=this.lastResponse.RandomAwardResponse,e.ProgressiveData=this.lastResponse.ProgressiveData,e.WinScreenSymbols=XT.GetObject(Vars.InitialScreen),null==e.WinScreenSymbols&&(e.WinScreenSymbols=XT.GetObject(Vars.FirstScreenSymbols));var i=XT.GetObject(DefaultStateVars.DefaultSymbolsAbove);null!=i&&(e.SymbolsAbove=i),null!=(i=XT.GetObject(DefaultStateVars.DefaultSymbolsBelow))&&(e.SymbolsBelow=i);i=XT.GetObject(Vars.InitialRandomAward);null!=i&&null!=e.RandomAwardResponse&&(e.RandomAwardResponse.awardIndex=i.awardIndex,e.RandomAwardResponse.awardPositionInReel=i.awardPositionInReel),XT.SetBool(Vars.IsNoMoneySpin,!0);i=t;null!=i&&(null!=(t=GameProtocolCommonParser.ParseBalance(i))&&(e.Balance=t.Balance,e.BonusBalance=t.BonusBalance),i=VSProtocolParser.ParseVsFreeRoundEvents(i),e.FreeRoundEvents=i),this.HandlerSpinResult(e),this.HandlerSpinResult(e),this.HandlerSpinResult(e),XT.SetBool(Vars.IsNoMoneySpin,!1),window.globalMustStopAutoplay=!0},VideoSlotsConnection.prototype.HandlerMysteryScatter=function(t){console.log("VideoSlotsConnection - HandlerMysteryScatter"),this.fsbgLastResponse=t,null!=this.fsbgLastResponse&&(this.fsbgLastResponse.VsFreeSpin.BonusGame=new VsFreeSpinBonusGame,this.fsbgLastResponse.VsFreeSpin.BonusGame.SpinsWin=this.fsbgLastResponse.VsFreeSpin.GetMaxNumber(),this.fsbgLastResponse.VsFreeSpin.BonusGame.MultipliersWin=this.fsbgLastResponse.VsFreeSpin.GetTotalMultipl(),this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems=[],this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems.push(new VsFreeSpinBonusGame.BonusItem(0<this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter().length?this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter()[0]:-1,VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Available,VsFreeSpinBonusGame.BonusItem.BonusItemType.Spin)),null==this.fsgbResponse&&(this.fsgbResponse=this.fsbgLastResponse.Clone()),this.fsgbResponse.VsFreeSpin.SetMysteryScatter(this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter()),this.fsgbResponse.VsFreeSpin.SetNeedGetMysteryScatter(!1),this.xtLayer.SetMysteryScatterSymbolIds(this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter()),this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin),XT.TriggerEvent(FOXVars.Evt_FOX_AfterGetMysteryScatterReceived))},VideoSlotsConnection.prototype.SendGetMysteryScatter=function(){EventManager.Trigger(GameEvents.evtMysteryScatterRequest+this.xtLayer.gameSymbol,null)},VideoSlotsConnection.prototype.HandlerGambleResponse=function(t){console.log("VideoSlotsConnection - this.HandlerGambleResponse"),this.serverRequestSent=!1,this.gambleResponse=t,null!=this.gambleResponse&&this.xtLayer.SetGambleResponse(this.gambleResponse)},VideoSlotsConnection.prototype.HandlerGambleStatus=function(t){console.log("VideoSlotsConnection - HandlerGambleStatus "+t)},VideoSlotsConnection.prototype.HandlerResourceLoadingStarted=function(t){console.log("VideoSlotsConnection - HandlerResourceLoadingStarted")},VideoSlotsConnection.prototype.HandlerResourceLoadingFinished=function(t){console.log("VideoSlotsConnection - HandlerResourceLoadingFinished")},VideoSlotsConnection.prototype.HandlerResourceLoadingError=function(t){throw console.error("VideoSlotsConnection - HandlerResourceLoadingError"),new Error("There was an error during resources loading!")},VideoSlotsConnection.prototype.HandlerFSBGInit=function(t){console.log("VideoSlotsConnection - this.HandlerFSBGInit"),this.fsbgLastResponse=t,null!=this.fsbgLastResponse&&(this.fsgbResponse.VsFreeSpin.BonusGame=this.fsbgLastResponse.VsFreeSpin.Clone().BonusGame,this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin),XT.TriggerEvent(FOXVars.Evt_FOX_AfterInitFSBGReceived),this.xtLayer.SendFSBGInitDone())},VideoSlotsConnection.prototype.HandlerFSBGResponse=function(t){console.log("VideoSlotsConnection - this.HandlerFSBGResponse"),this.fsbgLastResponse=t,null!=this.fsbgLastResponse&&(t=this.fsbgLastResponse.VsFreeSpin.Clone().BonusGame,(this.fsgbResponse.VsFreeSpin.BonusGame=t).GameOver&&(this.fsgbResponse.VsFreeSpin.SetTotalMultipl(t.MultipliersWin),this.fsgbResponse.VsFreeSpin.SetMaxNumber(t.SpinsWin),this.fsgbResponse.VsFreeSpin.SetCurrentNumber(1)),this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin),XT.TriggerEvent(FOXVars.Evt_FOX_AfterPickFSBGReceived),this.xtLayer.SendFSBGResponseReceived())},VideoSlotsConnection.prototype.HandlerFreeRoundUpdate=function(t){null!=t&&this.xtLayer.UpdateBonusRoundsInfo(t)},VideoSlotsConnection.prototype.HandlerFreeSpinOptionsUpdate=function(t){null!=t&&this.xtLayer.FreeSpinOptionsResponseReceived(t)},VideoSlotsConnection.prototype.UpdateBonusFSResponseValues=function(t){null!=t&&(this.fsgbResponse=t.Clone())},VideoSlotsConnection.prototype.SendGambleV2Choice=function(t){EventManager.Trigger(GameEvents.evtGambleRequest+this.xtLayer.gameSymbol,t)},VideoSlotsConnection.prototype.HandlerGambleV2Response=function(t){console.log("VideoSlotsConnection - HandlerGambleV2Response"),this.xtLayer.SetGambleV2Response(t)},VideoSlotsConnection.prototype.HandlerServerTimeUpdate=function(t){this.xtLayer.SetServerTime(t)},goog.provide("UHT.BonusPickConnection"),goog.require("UHT.Component"),BonusPickConnection.prototype=Object.create(Component.prototype),(BonusPickConnection.prototype.constructor=BonusPickConnection).prototype.Init=function(){},BonusPickConnection.prototype.Coef=function(){return this.lastResponse.Coef},BonusPickConnection.prototype.GameOver=function(){return this.lastResponse.GameOver},BonusPickConnection.prototype.Level=function(){return-1!=this.lastResponse.Level?this.lastResponse.GameOver?this.lastResponse.Level-1:Number(this.lastResponse.Level):0},BonusPickConnection.prototype.CurrentBonusRespin=function(){return this.lastResponse.currentBonusRespin},BonusPickConnection.prototype.MaxBonusRespins=function(){return this.lastResponse.maxBonusRespins},BonusPickConnection.prototype.RespinSymbols=function(){return this.lastResponse.respinSymbols},BonusPickConnection.prototype.Life=function(){var t=0;return t=null!=this.lastResponse.Life?this.lastResponse.Life:t},BonusPickConnection.prototype.RealWin=function(){return this.lastResponse.RealWin},BonusPickConnection.prototype.WinPoints=function(){return this.lastResponse.WinPoints},BonusPickConnection.prototype.PossibleWins=function(){return this.lastResponse.IWins},BonusPickConnection.prototype.ItemsMarkers=function(){return null!=this.lastResponse.BonusTable.Markers?this.lastResponse.BonusTable.Markers:null},BonusPickConnection.prototype.ItemStatus=function(t){return this.lastResponse.BonusTable.Status[t]},BonusPickConnection.prototype.ItemsStatus=function(){return null!=this.lastResponse.BonusTable.Status?this.lastResponse.BonusTable.Status:null},BonusPickConnection.prototype.ItemWin=function(t){return this.lastResponse.BonusTable.Wins[t]},BonusPickConnection.prototype.ItemsWins=function(){return null!=this.lastResponse.BonusTable.Status?this.lastResponse.BonusTable.Wins:null},BonusPickConnection.prototype.WinsMask=function(){return this.lastResponse.BonusTable.WinsMask},BonusPickConnection.prototype.LifeWins=function(){return this.lastResponse.lifeWins},BonusPickConnection.prototype.MultipliersMarkers=function(){return this.lastResponse.MultipliersTable.Markers},BonusPickConnection.prototype.MultiplierStatus=function(t){return this.lastResponse.MultipliersTable.Status[t]},BonusPickConnection.prototype.MultipliersStatus=function(){return this.lastResponse.MultipliersTable.Status},BonusPickConnection.prototype.MultiplierWin=function(t){return this.lastResponse.MultipliersTable.Wins[t]},BonusPickConnection.prototype.MultipliersWins=function(){return this.lastResponse.MultipliersTable.Wins},BonusPickConnection.prototype.MultiplierStep=function(){return this.lastResponse.MultiplierStep},BonusPickConnection.prototype.MultipliedSymbolPositions=function(){return this.lastResponse.MultipliedSymbolPositions},BonusPickConnection.prototype.SendItemPick=function(t){this.lastResponse.GameOver?console.error("You can't pick when the game is over!"):(t=new VsBonusGamePlayerChoice(t),EventManager.Trigger(GameEvents.evtBonusPickRequest+this.xtLayer.gameSymbol,t))},BonusPickConnection.prototype.SendCustomItemPick=function(t,e){this.lastResponse.GameOver?console.error("You can't pick when the game is over!"):((t=new VsBonusGamePlayerChoice(t)).PickType=e,EventManager.Trigger(GameEvents.evtBonusPickRequest+this.xtLayer.gameSymbol,t))},BonusPickConnection.prototype.SendBonusRespin=function(){this.lastResponse.GameOver||this.lastResponse.currentBonusRespin==this.lastResponse.maxBonusRespins&&this.lastResponse.ExtraRetriggersWon<=0?console.error("You can't request more bonus respins."):EventManager.Trigger(GameEvents.evtBonusRespinRequest+this.xtLayer.gameSymbol,null)},BonusPickConnection.prototype.OnBonusGameFinished=function(){this.GameOver()||this.lastResponse.currentBonusRespin==this.lastResponse.maxBonusRespins&&0!=this.lastResponse.currentBonusRespin&&0!=this.lastResponse.maxBonusRespins?EventManager.Trigger(GameEvents.evtBonusFinishRequest+this.xtLayer.gameSymbol,null):console.error("You just broke bonus game, gratz!")},BonusPickConnection.prototype.SetupHandlers=function(){console.log("BonusPickConnection - Setup handlers"),EventManager.AddHandler(GameEvents.evtBonusInitResponse+this.xtLayer.gameSymbol,this.HandlerBonusGameInit,this),EventManager.AddHandler(GameEvents.evtBonusPickResponse+this.xtLayer.gameSymbol,this.HandlerPlayerSelection,this),EventManager.AddHandler(GameEvents.evtBonusRespinResponse+this.xtLayer.gameSymbol,this.HandlerBonusRespin,this)},BonusPickConnection.prototype.OnDestroy=function(){},BonusPickConnection.prototype.HandlerBonusGameInit=function(t){console.log("BonusPickConnection - this.HandlerBonusGameInit"),this.vsResponse=t,this.lastResponse=t.GetVsBonusGameData(),null!=this.lastResponse&&(this.xtLayer.SetSpinCycleWinValue(t.SpinCycleWin),this.xtLayer.SendBonusInitDone())},BonusPickConnection.prototype.HandlerPlayerSelection=function(t){var e;console.log("BonusPickConnection - this.HandlerPlayerSelection"),this.vsResponse=t,this.xtLayer.SetProgressiveFeatureData(t.ProgressiveData),XT.GetBool(Vars.UpdateFSResponseOnBonusPick)&&this.xtLayer.SetFreeSpinResponseReceived(t.GetVsFreeSpin()),this.lastResponse=t.GetVsBonusGameData(),null!=this.lastResponse&&(t.IsBonusGameOver()&&-1<t.NextGameActions.indexOf(NextGameAction.Bonus)&&this.xtLayer.SetMustOpenBonus(!0,!1),XT.GetBool(Vars.PartiallyUpdateSpinResponseOnBonusPick)&&this.SetPartialSpinResponseInBonus(),this.xtLayer.SetOpeningSymbolsData(t.OpeningSymbolsData),this.xtLayer.SetSpinCycleWinValue(t.SpinCycleWin),this.xtLayer.SendBonusResponse(),this.xtLayer.UpdateBonusFSResponseValues(t),null!=(e=XT.GetObject(Vars.ReelSets))&&0<=t.ReelSetIndex&&this.xtLayer.InitNextReelSymbols(e[t.ReelSetIndex]),this.xtLayer.SetGambleV2Response(t.gambleV2Data),t.HasFreeSpinOptions()&&this.xtLayer.MustOpenFSOptions(t.FreeSpinsOptions),XT.TriggerEvent(FOXVars.Evt_FOX_AfterPickBonusReceived))},BonusPickConnection.prototype.SetPartialSpinResponseInBonus=function(){if(null==this.vsResponse.SymbolsBeforeExpanding||0==this.vsResponse.SymbolsBeforeExpanding.length){this.vsResponse.SymbolsBeforeExpanding=[];for(var t=0;t<this.vsResponse.WinScreenSymbols.length;t++)this.vsResponse.SymbolsBeforeExpanding.push(this.vsResponse.WinScreenSymbols[t].slice())}if(this.xtLayer.SetResultScreenSymbols(this.vsResponse.WinScreenSymbols),this.xtLayer.SetInitialResultScreenSymbols(this.vsResponse.SymbolsBeforeExpanding),this.xtLayer.SetWinLines(this.vsResponse.VsWinLines),this.xtLayer.SetWinValue(this.lastResponse.RealWin),this.xtLayer.SetExtraAwardWin(this.vsResponse.ExtraAwardWin),this.lastResponse.currentBonusRespin==this.lastResponse.maxBonusRespins){var e,i=0;for(e in this.vsResponse.VsWinLines)i+=this.vsResponse.VsWinLines[e].WinAmount;this.xtLayer.SetLinesWinValue(i)}},BonusPickConnection.prototype.HandlerBonusRespin=function(t){if(console.log("BonusPickConnection - this.HandlerBonusRespin"),this.vsResponse=t,this.lastResponse=t.GetVsBonusGameData(),null!=this.lastResponse){if(this.xtLayer.SetSpinCycleWinValue(t.SpinCycleWin),this.xtLayer.SetResultScreenSymbols(null!=this.lastResponse.winSymbols&&0<this.lastResponse.winSymbols.length?this.lastResponse.winSymbols:t.WinScreenSymbols),this.xtLayer.SetWinLines(t.VsWinLines),this.xtLayer.SetWinValue(this.lastResponse.RealWin),this.xtLayer.SetExtraAwardWin(t.ExtraAwardWin),this.xtLayer.SendBonusResponse(),this.xtLayer.SetMoneySymbolData(t.MoneySymbolData),this.lastResponse.currentBonusRespin==this.lastResponse.maxBonusRespins){var e,i=0;for(e in t.VsWinLines)i+=t.VsWinLines[e].WinAmount;this.xtLayer.SetLinesWinValue(i)}t.IsFreeSpins()&&0!=t.GetVsFreeSpin().GetMaxNumber()&&t.GetVsFreeSpin().IsNeedGetMysteryScatter()&&this.xtLayer.SetStartFSBG(!0),XT.TriggerEvent(FOXVars.Evt_FOX_AfterBonusRespinReceived)}},goog.provide("UHT.FreeSpinsResponse"),FreeSpinsResponse.prototype.CurrentSpin=0,FreeSpinsResponse.prototype.MaxSpins=0,FreeSpinsResponse.prototype.OldMaxSpins=0,FreeSpinsResponse.prototype.AdditionalSpins=0,FreeSpinsResponse.prototype.TotalSpins=0,FreeSpinsResponse.prototype.TotalMultiplier=0,FreeSpinsResponse.prototype.CurrentWin=0,FreeSpinsResponse.prototype.CurrentWinMultiplied=0,FreeSpinsResponse.prototype.TotalWin=0,FreeSpinsResponse.prototype.TotalWinMultiplied=0,FreeSpinsResponse.prototype.PickedOptionIndex=0,FreeSpinsResponse.prototype.IsFreeSpin=!1,FreeSpinsResponse.prototype.IsFreeSpinsStart=!1,FreeSpinsResponse.prototype.IsLastFreeSpin=!1,FreeSpinsResponse.prototype.IsFreeSpinsCollected=!1,FreeSpinsResponse.prototype.IsFreeSpinsGambled=!1,FreeSpinsResponse.prototype.IsNeedGetMysteryScatter=!1,FreeSpinsResponse.prototype.BonusGameData=null,FreeSpinsResponse.prototype.MysteryScatter=[],FreeSpinsResponse.prototype.SetFreeSpinsResponse=function(t){if(null==t)return this._isFreeSpin=!1,this._isFreeSpinsStart=!1,void(this._isFreeSpinsGambled=!1);var e;null!=t.BonusGame?(e=t.BonusGame.Clone(),this._bonusGameData=new FreeSpinsResponse.BonusGame,this._bonusGameData.GameOver=e.GameOver,this._bonusGameData.Level=e.Level,this._bonusGameData.Lifes=e.Lifes,this._bonusGameData.MultipliersWin=e.MultipliersWin,this._bonusGameData.SpinsWin=e.SpinsWin,this._bonusGameData.SetBonusItems(e.BonusItems)):this._bonusGameData=null,this._currentSpin=t.GetCurrentNumber(),0!=this._maxSpins&&(this._oldMaxSpins=this._maxSpins),this._maxSpins=t.GetMaxNumber(),this._totalSpins=t.GetTotalNumber(),this._totalMultiplier=t.GetTotalMultipl(),this._currentWin=t.GetCurrentWin(),this._currentWinMultiplied=t.GetCurrentWinMultiplied(),this._totalWin=t.GetTotalWin(),this._totalWinMultiplied=t.GetTotalWinMultiplied(),this._pickedOptionIndex=t.PickedOptionIndex,this._mysteryScatter=t.GetMysteryScatter(),this._needGetMysteryScatter=t.IsNeedGetMysteryScatter(),this._isFreeSpinsStart=1==this._currentSpin,this._isFreeSpin=!0,this.FreeSpinsType=t.fstype,this._isFreeSpinsStart?(this._oldMaxSpins=0,this._additionalSpins=0):(0==this._oldMaxSpins&&(this._oldMaxSpins=this._maxSpins),this._additionalSpins=this._maxSpins-this._oldMaxSpins)},FreeSpinsResponse.BonusGame=function(){this._gameOver=!1,this._level=0,this._lifes=null,this._spinsWin=0,this._multipliersWin=0,this._bonusItems=[],Object.defineProperty(this,"GameOver",{get:function(){return this._gameOver},set:function(t){this._gameOver=t}}),Object.defineProperty(this,"Level",{get:function(){return this._level},set:function(t){this._level=t}}),Object.defineProperty(this,"Lifes",{get:function(){return this._lifes},set:function(t){this._lifes=t}}),Object.defineProperty(this,"SpinsWin",{get:function(){return this._spinsWin},set:function(t){this._spinsWin=t}}),Object.defineProperty(this,"MultipliersWin",{get:function(){return this._multipliersWin},set:function(t){this._multipliersWin=t}}),Object.defineProperty(this,"BonusItems",{get:function(){return this._bonusItems},set:function(t){this._bonusItems=t}})},FreeSpinsResponse.BonusGame.prototype.GameOver=!1,FreeSpinsResponse.BonusGame.prototype.Level=0,FreeSpinsResponse.BonusGame.prototype.Lifes=null,FreeSpinsResponse.BonusGame.prototype.SpinsWin=0,FreeSpinsResponse.BonusGame.prototype.MultipliersWin=0,FreeSpinsResponse.BonusGame.prototype.BonusItems=null,FreeSpinsResponse.BonusGame.prototype.SetBonusItems=function(t){this._bonusItems=[];for(var e=0;e<t.length;++e){var i=t[e],i=new FreeSpinsResponse.BonusItem(i.Value,FreeSpinsResponse.BonusItem.ParseNgcBonusItemStatus(i.Status),FreeSpinsResponse.BonusItem.ParseNgcBonusItemType(i.Type));this._bonusItems.push(i)}},FreeSpinsResponse.BonusItem=function(t,e,i){this._value=t,this._status=e,this._type=i,Object.defineProperty(this,"Status",{get:function(){return this._status},set:function(t){this._status=t}}),Object.defineProperty(this,"Type",{get:function(){return this._type},set:function(t){this._type=t}}),Object.defineProperty(this,"Value",{get:function(){return this._value},set:function(t){this._value=t}})},FreeSpinsResponse.BonusItem.BonusItemStatus={Available:0,Selected:1},FreeSpinsResponse.BonusItem.BonusItemType={Spin:0,Multiplier:1},FreeSpinsResponse.BonusItem.ParseNgcBonusItemStatus=function(t){return t!==VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Selected?FreeSpinsResponse.BonusItem.BonusItemStatus.Available:FreeSpinsResponse.BonusItem.BonusItemStatus.Selected},FreeSpinsResponse.BonusItem.ParseNgcBonusItemType=function(t){return t!==VsFreeSpinBonusGame.BonusItem.BonusItemType.Multiplier?FreeSpinsResponse.BonusItem.BonusItemType.Spin:FreeSpinsResponse.BonusItem.BonusItemType.Multiplier},FreeSpinsResponse.BonusItem.prototype.Status=FreeSpinsResponse.BonusItem.BonusItemStatus.Available,FreeSpinsResponse.BonusItem.prototype.Type=FreeSpinsResponse.BonusItem.BonusItemType.Spin,FreeSpinsResponse.BonusItem.prototype.Value=0,FreeSpinsResponse.BonusItem.prototype.ToString=function(){return"BonusItem {Status="+this._status+", Type="+this._type+", Value="+this._value+"}"},goog.require("UHT.XTLink"),goog.require("UHT.ServerOptions"),goog.require("UHT.ResourceHelpers"),goog.require("UHT.VideoSlotsConnection"),goog.require("UHT.BonusPickConnection"),goog.require("UHT.FreeSpinsResponse"),goog.require("UHT.Paytable"),VideoSlotsConnectionXTLayer.prototype=Object.create(XTLink.prototype),(VideoSlotsConnectionXTLayer.prototype.constructor=VideoSlotsConnectionXTLayer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_ToServer_OnShowResult,this.OnShowResult,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_OnFreeSpinsClosed,this.OnFreeSpinClosed,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestInit,this.OnRequestInit,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestSpin,this.OnRequestSpin,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_GamblePicked,this.OnGambleV2Pick,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestGambleOpen,this.OnRequestGambleOpen,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestGambleClose,this.OnRequestGambleClose,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_BonusPickItem,this.OnBonusPick,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_BonusGameFinished,this.OnBonusGameFinished,this),XT.RegisterCallbackEvent(BGVars.Evt_ToServer_BonusPickedItem,this.OnBonusPick,this),XT.RegisterCallbackEvent(BGVars.Evt_ToServer_BonusPickedCustomItem,this.OnBonusCustomPick,this),XT.RegisterCallbackEvent(BGVars.Evt_ToServer_SendBonusRespin,this.OnSendBonusRespin,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_UpdateSettingsOnServer,this.OnUpdateSettingsOnServer,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_OpenCashier,this.OnRequestToOpenCashier,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_CloseGame,this.OnRequestToCloseGame,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_ReloadGame,this.OnRequestToReloadGame,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_ItemPickedFSBGPick,this.OnItemPickedFSBGPick,this),XT.RegisterCallbackBool(Vars.BatterySaver,this.OnBatterySaverStateChanged,this),XT.RegisterCallbackEvent(Vars.Evt_ToServer_SendGetMysteryScatter,this.SendGetMysteryScatter,this)},VideoSlotsConnectionXTLayer.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.ReceivedWinLines,null),XT.SetObject(Vars.PaytablePayoutData,null),XT.SetBool(Vars.FastPlay,!1),XT.SetObject(Vars.SoundState,new SoundState),XT.SetBool(Vars.ShouldDisplayIntro,!0),XT.SetInt(Vars.MobileTapToStopMessageShowCount,0),XT.SetInt(Vars.DesktopTurboSpinMessageShowCount,0),XT.SetBool(Vars.FromServer_IsJackpotWin,!1),XT.SetObject(Vars.BonusData,null),XT.SetInt(Vars.Lines,0),XT.SetObject(Vars.ExpandingSymbolsData,null),XT.SetObject(Vars.FromServer_JackpotsInformation,null),XT.SetObject(Vars.ReelStopPositions,null),XT.SetBool(Vars.IgnoreServerBalanceRequest,!1),XT.SetBool(Vars.CanAnimateValues,!1),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!1),XT.SetDouble(Vars.SpinCycleWinReceived,0),XT.SetDouble(Vars.WinReceived,0),XT.SetObject(Vars.ReceivedFreeSpinsResponse,null),XT.SetObject(Vars.TruncatedFreeSpinsResponse,null),XT.SetObject(Vars.MarkedSymbolPositions,[]),XT.SetObject(Vars.SpinOneReelData,null),XT.SetInt(Vars.ReelToBeSpun,-1),XT.SetBool(Vars.HasGameHistory,!1),XT.SetBool(Vars.HasAdvancedAutoplay,!1),XT.SetBool(Vars.BatterySaver,!1),XT.SetBool(Vars.HasCoins,!1),XT.SetDouble(Vars.AlternativeWager,-1),XT.SetBool(Vars.Jurisdiction_Clock,!1),XT.SetBool(Vars.Jurisdiction_DisableAutoplay,!1),XT.SetBool(Vars.Jurisdiction_GameTitle,!1),XT.SetBool(Vars.Jurisdiction_SplitBalance,!1),XT.SetBool(Vars.Jurisdiction_PromotionURL,!1),XT.SetBool(Vars.Autoplay_SkipScreens,!0),XT.SetBool(Vars.ShowInGameTutorial,!0),XT.SetBool(Vars.KeepSpinning,!1),XT.SetBool(Vars.Jurisdiction_SpinLimit,!1),XT.SetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit,!1),XT.SetBool(Vars.Jurisdiction_ResultMinimumTime,!1),XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins,!1),XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo,!1),XT.SetBool(Vars.Jurisdiction_FinishCountersBeforeSpin,!1),XT.SetBool(Vars.Jurisdiction_LineByLineFreespin,!1),XT.SetBool(Vars.Jurisdiction_LineByLineGlobal,!1),XT.SetBool(Vars.Jurisdiction_ClientRevision,!1),XT.SetBool(Vars.Jurisdiction_GameSymbol,!1),XT.SetBool(Vars.Jurisdiction_CLMBcurrency,!1),XT.SetBool(Vars.AlternativeFreeRoundsText,!1),XT.SetBool(Vars.DontShowFRBEndWindowOnInit,!1),XT.SetBool(Vars.Jurisdiction_TournamentOptOut,!1),XT.SetBool(Vars.Jurisdiction_DisableBuyFeature,!1),XT.SetBool(Vars.Jurisdiction_GameLobbyInfoVisible,!0),XT.SetBool(Vars.Jurisdiction_GameHistoryInfoVisible,!0),XT.SetFloat(Vars.Jurisdiction_SpinLimit_Value,3),XT.SetFloat(Vars.Jurisdiction_ResultMinimumTime_Value,3),XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value,3),XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeTurbo_Value,3),XT.SetInt(Vars.Jurisdiction_MaxBetCents,0),XT.SetBool(Vars.Jurisdiction_Text_DE,!1),XT.SetBool(Vars.Jurisdiction_Show_X_Chance,!1),XT.SetBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin,!1),XT.SetBool(Vars.Jurisdiction_Autoplay_NoSkipScreens,!1),XT.SetObject(Vars.CustomGameStoredData,{}),XT.SetInt(Vars.ReelSetIndexPrevious,-1),XT.SetInt(Vars.ReelSetIndexCurrent,-1),XT.SetBool(Vars.BonusTriggersFSBG,!1),XT.SetBool(Vars.BonusTriggeredFSBGIsMystery,!1),XT.SetBool(Vars.OpenFSBGForMysteryScatter,!1),XT.SetFloat(Vars.SoundVolume,1),XT.SetBool(Vars.IsNoMoneySpin,!1),XT.SetObject(Vars.InitialScreen,null),XT.SetObject(Vars.InitialRandomAward,null),XT.SetDouble(Vars.BalanceReceived,0),XT.SetDouble(Vars.BonusBalanceReceived,0),XT.SetBool(Vars.InstantAutoplay,!1),XT.SetObject(InterfaceVars.SpinButtonPositionLandscape,null),XT.SetObject(InterfaceVars.SpinButtonPositionPortrait,null),XT.SetBool(InterfaceVars.SpinButtonPositionLocked,!0),XT.SetBool(Vars.DisableIntroScreen,!1),XT.SetBool(Vars.BonusRoundCanBePlayedLater,!1),XT.SetBool(Vars.UserChoseToPlayLater,!1),XT.SetBool(Vars.DisableStopButton,!1),XT.SetBool(Vars.DisableFastPlay,!1),XT.SetBool(Vars.DisableNoMoneyMessageFromServer,!1),XT.SetBool(Vars.ShowIncompleteGame,!1),XT.SetBool(Vars.ShowNetPosition,!1),XT.SetBool(Vars.Jurisdiction_DisableAnteBet,!1),XT.SetBool(Vars.Jurisdiction_ShowSessionUptime,!1),XT.SetDouble(Vars.BonusRoundEndDateTimestamp,-1),XT.SetBool(Vars.BonusRoundWonFromDDW,!1),XT.SetString(Vars.BonusRoundPromoType,""),XT.SetObject(Vars.MysteryScatterSymbolIds,[])},VideoSlotsConnectionXTLayer.prototype.AddServerCallbacks=function(){EventManager.AddHandler(GameEvents.evtSoundState+this.gameSymbol,this.OnSoundState,this),EventManager.AddHandler(GameEvents.evtGameStatus+this.gameSymbol,this.OnGameStatus,this),EventManager.AddHandler(BalanceEvents.evtBalanceUpdated,this.OnServerBalanceUpdated,this),EventManager.AddHandler(GameEvents.evtSettingsUpdated+this.gameSymbol,this.OnSettingsUpdated,this),EventManager.AddHandler(GameEvents.evtSettingsNotSaved,this.OnSettingsNotSaved,this),EventManager.AddHandler(ResourceEvents.evtResourcesCompleted+this.gameSymbol,this.OnResourcesCompleted,this)},VideoSlotsConnectionXTLayer.prototype.OnConnectionReady=function(t){console.log("OnConnectionReady",t),this.gameSymbol=t,this.vsc=this.gameObject.AddComponent("VideoSlotsConnection"),(this.vsc.xtLayer=this).bonusConnection=this.gameObject.AddComponent("BonusPickConnection"),(this.bonusConnection.xtLayer=this).AddServerCallbacks(),this.vsc.AddServerCallbacks(),this.bonusConnection.SetupHandlers(),this.SetInitialSoundState(ServerOptions.isExternal),EventManager.Trigger(GameEvents.evtInitRequest+t,null),EventManager.Trigger(ResourceEvents.evtRequestResources,t)},VideoSlotsConnectionXTLayer.prototype.OnServerBalanceUpdated=function(t){this.SetBalance(t.Balance,!1),this.SetBonusBalance(t.BonusBalance)},VideoSlotsConnectionXTLayer.prototype.OnBatterySaverStateChanged=function(t){UHTEngine.SetBatterySaverState(t)},VideoSlotsConnectionXTLayer.prototype.OnSettingsUpdated=function(t){this.UpdateSettings(!0,t),this.settingsReceived=!0,this.CanTriggerInitReady()&&this.TriggerInitReady()},VideoSlotsConnectionXTLayer.prototype.OnSettingsNotSaved=function(t){},VideoSlotsConnectionXTLayer.prototype.OnUpdateSettingsOnServer=function(){this.timeInCooldown=0,this.needToSendSettingsToServer=!0,XT.GetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer)&&(XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!1),this.isInCoolDown=!1)},VideoSlotsConnectionXTLayer.prototype.OnResourcesCompleted=function(t){LoaderProgress.Localize_Current=1;for(var e=0;e<t.assetBundles.length;++e){var i=UHTEngine.LoadAssetBundle(t.assetBundles[e].mainAsset,ServerOptions.gameUrl+"packages/"),n=i.GetComponent(ModificationsManager),i=i.GetComponent(CurrencyPatch);null!=n&&n.Init(),null!=i&&(i.currencyName=ServerOptions.currency,i.languageName=ServerOptions.language,XT.GetBool(Vars.Jurisdiction_CLMBcurrency)&&(i.languageName+="_COP"),i.localeName=null!=UHT_GAME_CONFIG_SRC.locale?UHT_GAME_CONFIG_SRC.locale:ServerOptions.language,XT.GetBool(Vars.Jurisdiction_CLMBcurrency)&&(i.localeName+="_COP"),LocaleManager.Init(i))}t.assetBundles=[],null!=XT.GetObject(Vars.PaytablePayoutData)&&XT.TriggerEvent(Vars.Evt_Internal_PaytablePayoutUpdate),this.resourcesLoaded=!0,ModificationsManager.Applied=!0,this.CanTriggerInitReady()&&this.TriggerInitReady()},VideoSlotsConnectionXTLayer.prototype.UpdateSettings=function(t,e){console.log("UpdateSettings",t,e);var i,n,o,s,r,a,l,u,h,c,p,d,m,S=!1;if(t||(e.Settings={}),ServerOptions.isReplay&&t&&(e.Settings.SoundState="false_false_false_true_true"),t&&null!=e.Settings.SoundState?(i=(a=e.Settings.SoundState).split("_"),this.SetSoundState(_bool.Parse(i[0]),_bool.Parse(i[1]),_bool.Parse(i[2]),_bool.Parse(i[3]),_bool.Parse(i[4]))):(n=XT.GetObject(Vars.SoundState),e.Settings.SoundState=[n.gameSoundIsOn.toString(),n.musicIsOn.toString(),n.soundFXIsOn.toString(),n.oldMusicIsOn.toString(),n.oldSoundFXIsOn.toString()].join("_"),S=!0,this.SetSoundState(n.gameSoundIsOn,n.musicIsOn,n.soundFXIsOn,n.oldMusicIsOn,n.oldSoundFXIsOn)),t&&null!=e.Settings.FastPlay?(a=e.Settings.FastPlay,XT.SetBool(Vars.FastPlay,_bool.Parse(a))):(n=XT.GetBool(Vars.FastPlay),e.Settings.FastPlay=String(n),S=!0),t&&null!=e.Settings.Intro?(a=e.Settings.Intro,XT.SetBool(Vars.ShouldDisplayIntro,_bool.Parse(a))):(o=XT.GetBool(Vars.ShouldDisplayIntro),e.Settings.Intro=String(o),S=!0),t&&null!=e.Settings.StopMsg?(a=e.Settings.StopMsg,XT.SetInt(Vars.MobileTapToStopMessageShowCount,_number.otoi(a))):(a=XT.GetInt(Vars.MobileTapToStopMessageShowCount).toString(),e.Settings.StopMsg=a,S=!0),t&&null!=e.Settings.TurboSpinMsg?(a=e.Settings.TurboSpinMsg,XT.SetInt(Vars.DesktopTurboSpinMessageShowCount,_number.otoi(a))):(a=XT.GetInt(Vars.DesktopTurboSpinMessageShowCount).toString(),e.Settings.TurboSpinMsg=a,S=!0),t&&null!=e.Settings.BetInfo?(s=(a=e.Settings.BetInfo).split("_"),CoinManager.SetPreviousBetIndices(_number.otoi(s[0]),_number.otoi(s[1]))):(o=XT.GetInt(Vars.NextBetIndex),s=XT.GetInt(Vars.CoinValueIndex),a=(o.toString()+"_"+s.toString()).toString(),e.Settings.BetInfo=a,S=!0),t&&null!=e.Settings.Rated?(r=_bool.Parse(e.Settings.Rated),XT.SetBool(Vars.GameIsRated,r),XT.SetBool(Vars.RatingSkipped,!r)):(r=XT.GetBool(Vars.GameIsRated),a=XT.GetBool(Vars.RatingSkipped),(r||a)&&(e.Settings.Rated=String(r),S=!0)),t&&null!=e.Settings.BrowserWarningShown?(l=_bool.Parse(e.Settings.BrowserWarningShown),XT.SetBool(Vars.BrowserWarningShown,l)):(l=XT.GetBool(Vars.BrowserWarningShown))&&(e.Settings.BrowserWarningShown=String(l),S=!0),t&&null!=e.Settings.BatterySaver?XT.SetBool(Vars.BatterySaver,_bool.Parse(e.Settings.BatterySaver)):(e.Settings.BatterySaver=XT.GetBool(Vars.BatterySaver).toString(),S=!0),t&&null!=e.Settings.ShowIGT?XT.SetBool(Vars.ShowInGameTutorial,_bool.Parse(e.Settings.ShowIGT)):(l=XT.GetBool(Vars.ShowInGameTutorial))||(e.Settings.ShowIGT=String(l),S=!0),t&&null!=e.Settings.ShowCCH?XT.SetBool(InterfaceVars.ShowCoinsAndCashHint,_bool.Parse(e.Settings.ShowCCH)):(e.Settings.ShowCCH=String(XT.GetBool(InterfaceVars.ShowCoinsAndCashHint)),S=!0),t&&null!=e.Settings.ShowFPH?XT.SetBool(InterfaceVars.ShowFastPlayHint,_bool.Parse(e.Settings.ShowFPH)):(e.Settings.ShowFPH=String(XT.GetBool(InterfaceVars.ShowFastPlayHint)),S=!0),t&&null!=e.Settings.CustomGameStoredData?(u=e.BuildDictionaryFromString(e.Settings.CustomGameStoredData,"~",":"),XT.SetObject(Vars.CustomGameStoredData,u),XT.TriggerEvent(Vars.Evt_Internal_CustomGameStoredDataReceived)):(u=XT.GetObject(Vars.CustomGameStoredData),e.Settings.CustomGameStoredData=e.DictionaryToString(u,"~",":"),S=!0),t?(h=!1,"CURRENCY"!=ServerOptions.amountType&&null!=e.Settings.Coins&&(h=_bool.Parse(e.Settings.Coins)),XT.SetBool(Vars.HasCoins,h)):(e.Settings.Coins=String(XT.GetBool(Vars.HasCoins)),S=!0),t&&null!=e.Settings.Volume?XT.SetFloat(Vars.SoundVolume,_number.otod(e.Settings.Volume)):(e.Settings.Volume=String(XT.GetFloat(Vars.SoundVolume)),S=!0),t&&null!=e.Settings.InitialScreen){for(var g=[],y=e.Settings.InitialScreen.split("_"),T=0;T<y.length;++T)g.push(_array.ConvertAll(y[T].split(","),_number.otoi));XT.SetObject(Vars.InitialScreen,g)}else if(this.handlerGameInitReceived){null==(g=XT.GetObject(Vars.InitialScreen))&&(g=XT.GetObject(Vars.FirstScreenSymbols),XT.SetObject(Vars.InitialScreen,g));for(var y=[],T=0;T<g.length;++T)y.push(g[T].join(","));e.Settings.InitialScreen=y.join("_"),S=!0}t&&null!=e.Settings.InitialRandomAward?(c=new RandomAwardsResponse,y=e.Settings.InitialRandomAward.split("_"),h=parseInt(y[0],10),isFinite(h)&&!isNaN(h)&&(c.awardIndex=h),h=parseInt(y[1],10),isFinite(h)&&!isNaN(h)&&(c.awardPositionInReel=h),XT.SetObject(Vars.InitialRandomAward,c)):this.handlerGameInitReceived&&(null==(c=XT.GetObject(Vars.InitialRandomAward))&&(c=XT.GetObject(Vars.RandomAwardsResponse),XT.SetObject(Vars.InitialRandomAward,c)),null!=c&&((y=[]).push(c.awardIndex.toString()),y.push(c.awardPositionInReel.toString()),e.Settings.InitialRandomAward=y.join("_"),S=!0)),t&&null!=e.Settings.SBPLock?XT.SetBool(InterfaceVars.SpinButtonPositionLocked,_bool.Parse(e.Settings.SBPLock)):(e.Settings.SBPLock=String(XT.GetBool(InterfaceVars.SpinButtonPositionLocked)),S=!0),t&&null!=e.Settings.SBPLand?(p=e.Settings.SBPLand.split("_"),XT.SetObject(InterfaceVars.SpinButtonPositionLandscape,new UHTMath.Vector3(_number.otod(p[0]),_number.otod(p[1]),0))):null!=(d=XT.GetObject(InterfaceVars.SpinButtonPositionLandscape))&&(m=d,e.Settings.SBPLand=String(m.x)+"_"+String(m.y),S=!0),t&&null!=e.Settings.SBPPort?(p=e.Settings.SBPPort.split("_"),XT.SetObject(InterfaceVars.SpinButtonPositionPortrait,new UHTMath.Vector3(_number.otod(p[0]),_number.otod(p[1]),0))):null!=(d=XT.GetObject(InterfaceVars.SpinButtonPositionPortrait))&&(m=d,e.Settings.SBPPort=String(m.x)+"_"+String(m.y),S=!0),S&&EventManager.Trigger(GameEvents.evtUpdateSettingsRequest+this.gameSymbol,e)},VideoSlotsConnectionXTLayer.prototype.OnGameStatus=function(t){},VideoSlotsConnectionXTLayer.prototype.OnSoundState=function(t){this.internalGlobalSoundIsOn=t.state==CasinoSoundState.SoundOn,XT.GetObject(Vars.SoundState).globalSoundIsOn=this.internalGlobalSoundIsOn,XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged)},VideoSlotsConnectionXTLayer.prototype.UpdateReelSetIndexes=function(t){XT.SetInt(Vars.ReelSetIndexPrevious,XT.GetInt(Vars.ReelSetIndexCurrent)),XT.SetInt(Vars.ReelSetIndexCurrent,t)},VideoSlotsConnectionXTLayer.prototype.InitReelSymbols=function(t){XT.SetObject(Vars.ReelSymbols,t)},VideoSlotsConnectionXTLayer.prototype.InitNextReelSymbols=function(t){XT.SetObject(Vars.NextReelSymbols,t)},VideoSlotsConnectionXTLayer.prototype.SetReelSets=function(t){XT.SetObject(Vars.ReelSets,t)},VideoSlotsConnectionXTLayer.prototype.SetStackedSymbolIndex=function(t){XT.SetInt(Vars.StackedSymbolIndex,t)},VideoSlotsConnectionXTLayer.prototype.InitReelsPositions=function(t){XT.SetObject(Vars.ReelInitialPositions,t)},VideoSlotsConnectionXTLayer.prototype.SetReelStopPositions=function(t){XT.SetObject(Vars.ReelStopPositions,t)},VideoSlotsConnectionXTLayer.prototype.RequirementsSetup=function(){var t=ServerOptions.jurisdictionRequirements+","+ServerOptions.brandRequirements;XT.SetBool(Vars.HasGameHistory,null!=ServerOptions.gameHistory),"UK"==ServerOptions.jurisdiction&&XT.SetBool(Vars.Jurisdiction_GameTitle,!0),"PT"==ServerOptions.jurisdiction&&XT.SetBool(Vars.Jurisdiction_Clock,!0);for(var e,i,n,o=t.split(","),s=0;s<o.length;++s)"AAP"==o[s]?XT.SetBool(Vars.HasAdvancedAutoplay,!0):0==o[s].indexOf("SS")?(i=o[s].substr(2),n=_number.otoi(i)/10,XT.SetBool(Vars.Jurisdiction_SpinLimit,!0),XT.SetFloat(Vars.Jurisdiction_SpinLimit_Value,n)):0==o[s].indexOf("SR")?(i=o[s].substr(2),n=_number.otoi(i)/10,XT.SetBool(Vars.Jurisdiction_ResultMinimumTime,!0),XT.SetFloat(Vars.Jurisdiction_ResultMinimumTime_Value,n)):0==o[s].indexOf("ST")?(i=o[s].substr(2),n=_number.otoi(i)/10,XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo,!0),XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeTurbo_Value,n)):0==o[s].indexOf("SB")?(i=o[s].substr(2),n=_number.otoi(i)/10,XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins,!0),XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value,n)):0==o[s].indexOf("MAX"+ServerOptions.currency+"BET")?(e="MAX"+ServerOptions.currency+"BET",i=o[s].substr(e.length),n=_number.otoi(i),XT.SetInt(Vars.Jurisdiction_MaxBetCents,n)):"CLK"==o[s]?XT.SetBool(Vars.Jurisdiction_Clock,!0):"CLS"==o[s]?XT.SetBool(Vars.Jurisdiction_Clock_Server,!0):"GT"==o[s]?XT.SetBool(Vars.Jurisdiction_GameTitle,!0):"NOAP"==o[s]?XT.SetBool(Vars.Jurisdiction_DisableAutoplay,!0):"MALL"==o[s]?XT.SetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit,!0):"LBLFS"==o[s]?XT.SetBool(Vars.Jurisdiction_LineByLineFreespin,!0):"LBLG"==o[s]?XT.SetBool(Vars.Jurisdiction_LineByLineGlobal,!0):"BALS"==o[s]?XT.SetBool(Vars.Jurisdiction_SplitBalance,!0):"PURL"==o[s]?XT.SetBool(Vars.Jurisdiction_PromotionURL,!0):"CREV"==o[s]?XT.SetBool(Vars.Jurisdiction_ClientRevision,!0):"GSYM"==o[s]?XT.SetBool(Vars.Jurisdiction_GameSymbol,!0):"FCBS"==o[s]?XT.SetBool(Vars.Jurisdiction_FinishCountersBeforeSpin,!0):"COCA"==o[s]?(ServerOptions.amountType="CURRENCY",this.SetHasCoins(!1)):"CLMB"==o[s]?XT.SetBool(Vars.Jurisdiction_CLMBcurrency,!0):"PORC"==o[s]?XT.SetBool(Vars.Jurisdiction_TournamentOptOut,!0):"NOBF"==o[s]?XT.SetBool(Vars.Jurisdiction_DisableBuyFeature,!0):"NOI"==o[s]?XT.SetBool(Vars.GameHasIntro,!1):"NOST"==o[s]?XT.SetBool(Vars.DisableStopButton,!0):"NOFP"==o[s]?XT.SetBool(Vars.DisableFastPlay,!0):"NOMM"==o[s]?XT.SetBool(Vars.DisableNoMoneyMessageFromServer,!0):"DETXT"==o[s]?XT.SetBool(Vars.Jurisdiction_Text_DE,!0):"SHOXC"==o[s]?XT.SetBool(Vars.Jurisdiction_Show_X_Chance,!0):"NORP"==o[s]?window.UHT_REPLAY_DISABLED=!0:"AP_STFW"==o[s]?XT.SetBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin,!0):"AP_NOSKP"==o[s]?(XT.SetBool(Vars.Jurisdiction_Autoplay_NoSkipScreens,!0),XT.SetBool(Vars.Autoplay_SkipScreens,!1)):"SHOIG"==o[s]?XT.SetBool(Vars.ShowIncompleteGame,!0):"SHONP"==o[s]?XT.SetBool(Vars.ShowNetPosition,!0):"NOAB"==o[s]?XT.SetBool(Vars.Jurisdiction_DisableAnteBet,!0):"SISU"==o[s]&&XT.SetBool(Vars.Jurisdiction_ShowSessionUptime,!0)},VideoSlotsConnectionXTLayer.prototype.InitReceived=function(){this.handlerGameInitReceived=!0,this.CanTriggerInitReady()&&this.TriggerInitReady()};var GLOBAL_TIME_RESPONSE_RECEIVED=-1;function BonusData(){this.Coef=0,this.GameOver=!1,this.Level=0,this.Life=0,this.RealWin=0,this.WinPoints=0,this.PossibleWins=null,this.ItemsMarkers=null,this.ItemsStatus=null,this.ItemsWins=null,this.WinsMask=null,this.MultipliersMarkers=null,this.MultipliersStatus=null,this.MultipliersWins=null,this.LifeWins=null,this.MultiplierStep=!1,this.numberOfLevels=0,this.isBonusGambled=!1,this.currentBonusRespin=0,this.maxBonusRespins=0,this.respinSymbols=null,this.PremultipliedWin=0,this.MultipliedSymbolPositions=null,this.RespinsTotalMultiplier=-1,this.ExtraRespinsWon=-1,this.ExtraRetriggersWon=-1,this.BGItemValues=null,this.BGItemMasks=null,this.GameID=0,this.GameType=0,this.WheelOfFortune=null,this.Map=null,this.justReceived=!1}function RandomAwardsResponse(){this.awardIndex=-1,this.awardPositionInReel=-1,this.currentReelIndex=-1,this.nextReelIndex=-1}function ServerInterface(){Component.call(this),this.userName="",this.userPass="",this.domain="",this.isExternal=!1,this.xtLayer=null,this.configFile=null,this.counter=0}function Special_Symbol(){Component.call(this),this.symbolId=0,this.willHighlightOffAfterExciteWin=!0,this.eventNormal=null,this.eventSpinStart=null,this.eventSpinLoop=null,this.eventSpinStop=null,this.eventHighlightOff=null,this.eventHighlightOn=null,this.eventExcited=null,this.eventWinExcited=null,this.eventWinning=null,this.eventSpinLoopExcited=null,this.eventFSHighlightOff=null,this.eventStart=null,this.eventStop=null,this.currentStateForInspector=Special_Symbol.State.Invalid,this.internalState=Special_Symbol.State.Invalid,this.lastQueuedState=Special_Symbol.State.Invalid,this.commands=[],this.stopEventSent=!1,this.canProcessNextCommand=!0}function Special_SymbolsManager(){XTLink.call(this),this.pool=null,this.symbols=[],this.symbolIdToIndexMap=[],this.pooledSymbols=[],this.disablePoolNextFrame=!1,this.defaultBufferAmount=10,this.currentInitSymbol=-1}function StageInit(){UHTStage.call(this),this.initShow=null,this.introShow=null,this.introHide=null,this.XTRoot=null,this.manualRespin=!1,this.totalNumberOfLines=-1,this.linesForMinBet=-1,this.linesForMaxBet=-1,this.hasWaysInsteadOfLines=!1,this.hasLinesWithBetMultiplier=!1,this.hasAnteBet=!1,this.paysBothWays=!1,this.hasCustomGamble=!1,this.hasIntro=!1,this.triggerBonusBeforeResult=!1,this.scatterIsWild=!1,this.freeSpinsStartNeedsConfirmation=!1,this.bonusWinIsSeparated=!1,this.instantlyCollectBonusWin=!1,this.opaqueInterface=!0,this.hasReelAwareSymbolContent=!1,this.truncateFSResponseDuringRespin=!1,this.updateFSResponseOnBonusPick=!0,this.partiallyUpdateSpinResponseOnBonusPick=!1,this.allowBonusPickDuringBonusRespin=!1,this.forcedGoToSpin=!1,this.numberOfBetLevels=10,this.minimumJackpotBigWinDuration=99999,this.defaultGameWindowOverride=null,this.showGamePaysAsWinTeaser=!1,this.GUIDynamicMessagesDelay=.5,this.initReceived=!1,this.introClosed=!1,this.canGoToNextStage=!1}VideoSlotsConnectionXTLayer.prototype.SpinResultReceived=function(){XT.TriggerEvent(Vars.Evt_FromServer_SpinResultReceived),GLOBAL_TIME_RESPONSE_RECEIVED=globalTracking.GetTimerValue("uht_spin","time_response_received","SpinTracker"),globalTracking.StopTimerAndSend("uht_spin","time_response_received","SpinTracker")},VideoSlotsConnectionXTLayer.prototype.InitFirstScreenSymbols=function(t){XT.SetObject(Vars.FirstScreenSymbols,t)},VideoSlotsConnectionXTLayer.prototype.SetNASymbolId=function(t){XT.SetInt(Vars.NASymbolId,t)},VideoSlotsConnectionXTLayer.prototype.SetWildRandomLineMpConfig=function(t){XT.SetObject(Vars.WildRandomLineMpConfig,t)},VideoSlotsConnectionXTLayer.prototype.SetWRLMResponse=function(t){XT.SetObject(Vars.WRLMResponse,t)},VideoSlotsConnectionXTLayer.prototype.SetWRLMCurrentSets=function(t){XT.SetObject(Vars.WRLMCurrentSets,t)},VideoSlotsConnectionXTLayer.prototype.SetRandomAwardsConfig=function(t){XT.SetObject(Vars.RandomAwardsConfig,t)},VideoSlotsConnectionXTLayer.prototype.SetRandomAwardResponse=function(t){XT.SetObject(Vars.RandomAwardsResponse,t)},VideoSlotsConnectionXTLayer.prototype.SetBetLevelSettings=function(t){XT.SetObject(Vars.BetLevelSettings,t)},VideoSlotsConnectionXTLayer.prototype.SetFSPurchaseConfig=function(t){XT.SetObject(Vars.FreeSpinsPurchaseConfig,t)},VideoSlotsConnectionXTLayer.prototype.SetFSPurchaseData=function(t){XT.SetObject(Vars.FreeSpinsPurchaseData,t)},VideoSlotsConnectionXTLayer.prototype.SetRandomSymbolMultipliers=function(t){XT.SetObject(Vars.RandomSymbolMultipliers,t)},VideoSlotsConnectionXTLayer.prototype.SetPossibleRandomSymbolMultipliers=function(t){XT.SetObject(Vars.PossibleRandomSymbolMultipliers,t)},VideoSlotsConnectionXTLayer.prototype.SetFreeSpinsChainData=function(t){XT.SetObject(Vars.FreeSpinsChainData,t)},VideoSlotsConnectionXTLayer.prototype.SetOpeningSymbolsData=function(t){XT.SetObject(Vars.OpeningSymbolsData,t)},VideoSlotsConnectionXTLayer.prototype.SetRandomMysterySymbolsIds=function(t){XT.SetObject(Vars.RandomMysterySymbolId,t)},VideoSlotsConnectionXTLayer.prototype.SetInitialMysterySymbolsIds=function(t){XT.SetObject(Vars.InitialMysterySymbolId,t)},VideoSlotsConnectionXTLayer.prototype.SetInitialBGItemValues=function(t){XT.SetObject(Vars.InitBGItemValues,t)},VideoSlotsConnectionXTLayer.prototype.SetInitialBGItemMasks=function(t){XT.SetObject(Vars.InitBGItemMasks,t)},VideoSlotsConnectionXTLayer.prototype.SetSpinOneReelValues=function(t){XT.SetObject(Vars.SpinOneReelData,t)},VideoSlotsConnectionXTLayer.prototype.SetPatternedMysterySymbols=function(t){XT.SetObject(Vars.PatternedMysterySymbols,t)},VideoSlotsConnectionXTLayer.prototype.SetTumblingWin=function(t){XT.SetDouble(Vars.TumblingWin,t)},VideoSlotsConnectionXTLayer.prototype.SetTumblingData=function(t){XT.SetObject(Vars.TumblingData,t)},VideoSlotsConnectionXTLayer.prototype.SetRandomWildsData=function(t,e){XT.SetObject(Vars.RandomWildsData,t),XT.SetObject(Vars.UpSymbols_RandomWilds,e),XT.TriggerEvent(Vars.Evt_Internal_RandomWildsDataSet)},VideoSlotsConnectionXTLayer.prototype.SetExpandingSymbolsData=function(t){XT.SetObject(Vars.ExpandingSymbolsData,t),XT.TriggerEvent(Vars.Evt_Internal_ExpandingSymbolsDataSet)},VideoSlotsConnectionXTLayer.prototype.SetResultScreenSymbols=function(t){XT.SetObject(Vars.ResultScreenSymbols,t)},VideoSlotsConnectionXTLayer.prototype.SetInitialResultScreenSymbols=function(t){XT.SetObject(Vars.InitialResultScreenSymbols,t)},VideoSlotsConnectionXTLayer.prototype.SetSymbolsAbove=function(t){XT.SetObject(Vars.SymbolsAboveReels,t)},VideoSlotsConnectionXTLayer.prototype.SetSymbolsBelow=function(t){XT.SetObject(Vars.SymbolsBelowReels,t)},VideoSlotsConnectionXTLayer.prototype.SetNextReelsSymbolsList=function(t){XT.SetObject(Vars.NextReelsSymbolsList,t)},VideoSlotsConnectionXTLayer.prototype.SetWinValue=function(t){0<=t&&XT.SetDouble(Vars.WinReceived,t)},VideoSlotsConnectionXTLayer.prototype.SetExtraAwardWin=function(t){XT.SetDouble(Vars.ExtraAwardWin,t)},VideoSlotsConnectionXTLayer.prototype.SetRespinCycleWin=function(t){XT.SetDouble(Vars.RespinCycleWin,t)},VideoSlotsConnectionXTLayer.prototype.SetSpinCycleWinValue=function(t){0<=t&&XT.SetDouble(Vars.SpinCycleWinReceived,t)},VideoSlotsConnectionXTLayer.prototype.SetLinesWinValue=function(t){XT.SetDouble(Vars.TotalLinesWinReceived,t)},VideoSlotsConnectionXTLayer.prototype.SetHasCoins=function(t){var e=XT.GetBool(Vars.HasCoins);XT.SetBool(Vars.HasCoins,!e),XT.SetBool(Vars.HasCoins,e),XT.SetBool(Vars.FromServer_AllowCoins,t)},VideoSlotsConnectionXTLayer.prototype.SetBets=function(t,e,i){CoinManager.ComputeCoinValuesAndCurrentBet(t,e,i)},VideoSlotsConnectionXTLayer.prototype.SetExplicitMaxTotalBet=function(t){0<t?XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer,t):XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer,9007199254740991)},VideoSlotsConnectionXTLayer.prototype.SetBetLines=function(t){XT.SetInt(Vars.BetToTotalBetMultiplier,t),XT.SetInt(Vars.Lines,XT.GetBool(Vars.GameHasWaysInsteadOfLines)?XT.GetInt(Vars.TotalNumberOfLines):t)},VideoSlotsConnectionXTLayer.prototype.SetWinLines=function(t){if(XT.GetBool(Vars.GameHasWaysInsteadOfLines)&&!XT.GetBool(Vars.GameHasLinesWithBetMultiplier))for(var e=0;e<t.length;e++)t[e].LineNumber=e;XT.SetObject(Vars.ReceivedWinLines,t)},VideoSlotsConnectionXTLayer.prototype.SetBalance=function(t,e){XT.SetDouble(Vars.BalanceReceived,t),e?XT.TriggerEvent(Vars.Evt_FromServer_BalanceUpdatedFromResult):XT.GetBool(Vars.IgnoreServerBalanceRequest)||(XT.TriggerEvent(Vars.Evt_FromServer_BalanceUpdated),UHTInterfaceBOSS.PostMessage("post_updateBalance"))},VideoSlotsConnectionXTLayer.prototype.SetBonusBalance=function(t){XT.SetDouble(Vars.BonusBalanceReceived,t)},VideoSlotsConnectionXTLayer.prototype.SetCanGambleSpinWin=function(t){XT.SetBool(Vars.FromServer_CanGambleSpinWin,t)},VideoSlotsConnectionXTLayer.prototype.SetGambleResponse=function(t){XT.SetObject(Vars.FromServer_GambleResult,t)},VideoSlotsConnectionXTLayer.prototype.SetGambleHistory=function(t){XT.SetObject(Vars.FromServer_GambleHistory,t)},VideoSlotsConnectionXTLayer.prototype.SetInitialSoundState=function(t){this.internalGlobalSoundIsOn=t},VideoSlotsConnectionXTLayer.prototype.SetSoundState=function(t,e,i,n,o){var s=new SoundState;s.gameSoundIsOn=t,UHT_DEVICE_TYPE.MOBILE?(s.musicIsOn=s.gameSoundIsOn,s.soundFXIsOn=s.gameSoundIsOn,s.oldMusicIsOn=!s.gameSoundIsOn,s.oldSoundFXIsOn=!s.gameSoundIsOn):(s.musicIsOn=e,s.soundFXIsOn=i,s.oldMusicIsOn=n,s.oldSoundFXIsOn=o),s.globalSoundIsOn=this.internalGlobalSoundIsOn,XT.SetObject(Vars.SoundState,s),XT.SetBool(Vars.MusicIsOn,s.musicIsOn),XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged)},VideoSlotsConnectionXTLayer.prototype.SetFreeSpinResponseReceived=function(t){null==this.fsr&&(this.fsr=new FreeSpinsResponse),this.fsr.SetFreeSpinsResponse(t),XT.SetObject(Vars.ReceivedFreeSpinsResponse,this.fsr)},VideoSlotsConnectionXTLayer.prototype.SetTruncatedFSResponseReceived=function(t){var e=new FreeSpinsResponse;e.SetFreeSpinsResponse(t),XT.SetObject(Vars.TruncatedFreeSpinsResponse,e)},VideoSlotsConnectionXTLayer.prototype.SetMysteryScatterSymbolIds=function(t){XT.SetObject(Vars.MysteryScatterSymbolIds,t)},VideoSlotsConnectionXTLayer.prototype.SetStartFSBG=function(t){t&&this.SendGetMysteryScatter(),XT.SetBool(Vars.FromServer_MustOpenFSBG,!0)},VideoSlotsConnectionXTLayer.prototype.SendGetMysteryScatter=function(){this.vsc.SendGetMysteryScatter()},VideoSlotsConnectionXTLayer.prototype.SendFSBGInitDone=function(){XT.TriggerEvent(Vars.Evt_FromServer_InitFSBGPick)},VideoSlotsConnectionXTLayer.prototype.SendFSBGResponseReceived=function(){XT.TriggerEvent(Vars.Evt_FromServer_ResponseFSBGPick)},VideoSlotsConnectionXTLayer.prototype.OnShowResult=function(){this.vsc.OnShowResult()},VideoSlotsConnectionXTLayer.prototype.OnFreeSpinClosed=function(){this.vsc.OnFreeSpinsClosed(),this.fsr=new FreeSpinsResponse,XT.SetObject(Vars.ReceivedFreeSpinsResponse,this.fsr)},VideoSlotsConnectionXTLayer.prototype.OnRequestInit=function(){console.log("OnRequestInit",ServerOptions),EventManager.AddHandler(GameEvents.evtConnectionReady,this.OnConnectionReady,this)},VideoSlotsConnectionXTLayer.prototype.OnRequestSpin=function(){this.vsc.SpinPressed(XT.GetInt(Vars.Lines),CoinManager.GetNextBet()),XT.SetBool(Vars.CanAnimateValues,!0);var t=XT.GetObject(Vars.BonusData);null!=t&&(t.justReceived=!1)},VideoSlotsConnectionXTLayer.prototype.OnRequestGambleOpen=function(){this.vsc.SendGambleOpen()},VideoSlotsConnectionXTLayer.prototype.OnRequestGambleClose=function(){XT.SetObject(Vars.FromServer_GambleHistory,null),this.vsc.SendGambleBack()},VideoSlotsConnectionXTLayer.prototype.OnGamblePick=function(){var t;switch(XT.SetBool(Vars.CanAnimateValues,!0),XT.GetInt(Vars.Gamble_Choice)){case 0:t=VsGamblingRequest.GamblingChoices.Red;break;case 1:t=VsGamblingRequest.GamblingChoices.Black;break;case 2:t=VsGamblingRequest.GamblingChoices.Clubs;break;case 3:t=VsGamblingRequest.GamblingChoices.Spades;break;case 4:t=VsGamblingRequest.GamblingChoices.Diamond;break;case 5:t=VsGamblingRequest.GamblingChoices.Heart;break;case 6:t=VsGamblingRequest.GamblingChoices.Dices;break;default:t=VsGamblingRequest.GamblingChoices.None}this.vsc.SendGambleChoice(t)},VideoSlotsConnectionXTLayer.prototype.OnBonusPick=function(){var t=XT.GetInt(Vars.BonusPickItemIndex);this.bonusConnection.SendItemPick(t),XT.SetBool(Vars.CanAnimateValues,!0)},VideoSlotsConnectionXTLayer.prototype.OnSendBonusRespin=function(){this.bonusConnection.SendBonusRespin(),XT.SetBool(Vars.CanAnimateValues,!0)},VideoSlotsConnectionXTLayer.prototype.OnBonusCustomPick=function(){var t=XT.GetInt(Vars.BonusPickItemIndex);this.bonusConnection.SendCustomItemPick(t,-1),XT.SetBool(Vars.CanAnimateValues,!0)},VideoSlotsConnectionXTLayer.prototype.OnBonusGameFinished=function(){this.bonusConnection.OnBonusGameFinished(),XT.GetBool(Vars.BonusTriggersFSBG)&&this.SetStartFSBG(XT.GetBool(Vars.BonusTriggeredFSBGIsMystery))},VideoSlotsConnectionXTLayer.prototype.SendBonusInitDone=function(){this.UpdateBonusVars(),XT.TriggerEvent(FOXVars.Evt_FOX_AfterInitBonusReceived),XT.TriggerEvent(Vars.Evt_FromServer_BonusInitDone)},VideoSlotsConnectionXTLayer.prototype.SendBonusResponse=function(){this.UpdateBonusVars(),XT.TriggerEvent(Vars.Evt_FromServer_BonusResponseReceived)},VideoSlotsConnectionXTLayer.prototype.UpdateBonusVars=function(){null==this.bonusData&&(this.bonusData=new BonusData),this.bonusData.justReceived=!0,this.bonusData.GameID=this.bonusConnection.lastResponse.id,this.bonusData.GameType=this.bonusConnection.lastResponse.type,this.bonusData.WheelOfFortune=this.bonusConnection.lastResponse.wheelOfFortune,this.bonusData.Coef=this.bonusConnection.Coef(),this.bonusData.GameOver=this.bonusConnection.GameOver(),this.bonusData.Level=this.bonusConnection.Level(),this.bonusData.Life=this.bonusConnection.Life(),this.bonusData.RealWin=this.bonusConnection.RealWin(),this.bonusData.WinPoints=this.bonusConnection.WinPoints(),this.bonusData.PossibleWins=this.bonusConnection.PossibleWins(),this.bonusData.PremultipliedWin=this.bonusConnection.lastResponse.PremultipliedWin,this.bonusData.MultipliedSymbolPositions=this.bonusConnection.MultipliedSymbolPositions(),this.bonusData.RespinsTotalMultiplier=this.bonusConnection.lastResponse.RespinsTotalMultiplier,this.bonusData.ExtraRespinsWon=this.bonusConnection.lastResponse.ExtraRespinsWon,this.bonusData.ExtraRetriggersWon=this.bonusConnection.lastResponse.ExtraRetriggersWon,!XT.GetBool(Vars.UpdateBonusPickDataDuringRespins)&&(0!=this.bonusConnection.lastResponse.currentBonusRespin&&null==this.bonusData.MultipliedSymbolPositions||null!=this.bonusConnection.lastResponse.respinSymbols)||(this.bonusData.ItemsMarkers=this.bonusConnection.ItemsMarkers(),this.bonusData.ItemsStatus=this.bonusConnection.ItemsStatus(),this.bonusData.ItemsWins=this.bonusConnection.ItemsWins(),this.bonusData.WinsMask=this.bonusConnection.WinsMask()),this.bonusData.LifeWins=this.bonusConnection.LifeWins(),this.bonusData.currentBonusRespin=this.bonusConnection.CurrentBonusRespin(),this.bonusData.maxBonusRespins=this.bonusConnection.MaxBonusRespins(),this.bonusData.respinSymbols=this.bonusConnection.RespinSymbols(),null!=this.bonusConnection.lastResponse.MultipliersTable.Markers&&(this.bonusData.MultipliersMarkers=this.bonusConnection.MultipliersMarkers(),this.bonusData.MultipliersStatus=this.bonusConnection.MultipliersStatus(),this.bonusData.MultipliersWins=this.bonusConnection.MultipliersWins()),this.bonusData.MultiplierStep=this.bonusConnection.MultiplierStep(),this.bonusData.numberOfLevels=this.bonusConnection.lastResponse.numberOfLevels,null!=this.bonusConnection.lastResponse.BonusTable.BGItemValues&&(this.bonusData.BGItemValues=this.bonusConnection.lastResponse.BonusTable.BGItemValues),null!=this.bonusConnection.lastResponse.BonusTable.BGItemMasks&&(this.bonusData.BGItemMasks=this.bonusConnection.lastResponse.BonusTable.BGItemMasks),null!=this.bonusConnection.lastResponse.map&&(this.bonusData.Map=this.bonusConnection.lastResponse.map),XT.SetObject(Vars.BonusData,this.bonusData),XT.SetBool(BGVars.BonusDataReceived,!0)},VideoSlotsConnectionXTLayer.prototype.SetMustOpenBonus=function(t,e){XT.SetBool(Vars.MustOpenBonus,t),XT.SetBool(Vars.MustOpenAnotherBonus,e)},VideoSlotsConnectionXTLayer.prototype.MustOpenFSOptions=function(t){XT.SetObject(Vars.FreeSpinOptions,t),XT.SetBool(Vars.FromServer_MustOpenFSBG,!0)},VideoSlotsConnectionXTLayer.prototype.FreeSpinOptionsResponseReceived=function(t){null==this.fsr&&(this.fsr=new FreeSpinsResponse),this.fsr.SetFreeSpinsResponse(t.GetVsFreeSpin()),XT.SetObject(Vars.ReceivedFreeSpinsResponse,this.fsr),XT.SetInt(Vars.StackedSymbolIndex,t.StackedSymbolIndex),XT.SetObject(Vars.FreeSpinOptions,t.FreeSpinsOptions);var e=XT.GetObject(Vars.ReelSets);null!=e&&0<=t.ReelSetIndex&&this.InitNextReelSymbols(e[t.ReelSetIndex]),XT.TriggerEvent(FOXVars.Evt_FOX_AfterPickFSOptionReceived),XT.TriggerEvent(Vars.Evt_FromServer_ResponseFSBGPick)},VideoSlotsConnectionXTLayer.prototype.OnItemPickedFSBGPick=function(){XT.SetBool(Vars.CanAnimateValues,!0);var t=XT.GetInt(Vars.PickedItemIndexLocal_FSBGPick),e=null!=this.bonusConnection.vsResponse&&this.bonusConnection.vsResponse.HasFreeSpinOptions();this.vsc.HasFreeSpinOptions()||e?this.vsc.FSOption_SendPick(t):this.vsc.FSBG_SendPick(t)},VideoSlotsConnectionXTLayer.prototype.SetJackpotState=function(t){var e=-1;null!=t&&0<t.JackpotID&&(e=0),XT.SetInt(Vars.CurrentlyDisplayedJackpot,e)},VideoSlotsConnectionXTLayer.prototype.SetJackpotWon=function(t,e,i){XT.SetDouble(Vars.FromServer_JackpotAmountWon,i),XT.SetInt(Vars.FromServer_JackpotWonID,t),XT.SetInt(Vars.FromServer_JackpotWonOrder,e),XT.SetBool(Vars.FromServer_IsJackpotWin,!0),XT.SetBool(Vars.MustShowJackpotWon,!0)},VideoSlotsConnectionXTLayer.prototype.SetJackpotsInfo=function(t){var e=XT.GetObject(Vars.FromServer_JackpotsInformation);null!=e?XT.SetObject(Vars.FromServer_LastValidJackpotsInformation,e):XT.SetObject(Vars.FromServer_LastValidJackpotsInformation,t),XT.SetObject(Vars.FromServer_JackpotsInformation,t)},VideoSlotsConnectionXTLayer.prototype.SetJackpotVisualization=function(t){XT.SetObject(Vars.JackpotVisualization,t)},VideoSlotsConnectionXTLayer.prototype.SetGoldSymbol=function(t){XT.SetObject(Vars.GoldSymbol,t)},VideoSlotsConnectionXTLayer.prototype.SetSymbolReplacementData=function(t){XT.SetObject(Vars.SymbolReplacementData,t)},VideoSlotsConnectionXTLayer.prototype.SetPaytableInfo=function(t){XT.SetObject(Vars.PaytablePayoutData,t),XT.TriggerEvent(Vars.Evt_Internal_PaytablePayoutUpdate)},VideoSlotsConnectionXTLayer.prototype.SetRespinData=function(t){null!=t&&null!=t.TotalRespins&&(t.IsDone=!0),XT.SetObject(Vars.RespinData,t)},VideoSlotsConnectionXTLayer.prototype.SetProgressiveFeatureConfig=function(t){XT.SetObject(Vars.ProgressiveFeatureConfig,t)},VideoSlotsConnectionXTLayer.prototype.SetProgressiveFeatureData=function(t){XT.SetObject(Vars.ProgressiveFeatureData,t)},VideoSlotsConnectionXTLayer.prototype.SetMoneySymbolConfig=function(t){XT.SetObject(Vars.MoneySymbolConfig,t)},VideoSlotsConnectionXTLayer.prototype.SetMoneySymbolData=function(t){XT.SetObject(Vars.MoneySymbolData,t)},VideoSlotsConnectionXTLayer.prototype.SetStickySymbolsData=function(t){XT.SetObject(Vars.StickySymbolsData,t)},VideoSlotsConnectionXTLayer.prototype.SetMergingSymbolsData=function(t){XT.SetObject(Vars.MergingSymbolsData,t)},VideoSlotsConnectionXTLayer.prototype.SetNudgedSymbolsData=function(t){XT.SetObject(Vars.NudgedSymbols,t)},VideoSlotsConnectionXTLayer.prototype.Update=function(){var t;this.isInCoolDown&&(this.timeInCooldown+=Time.deltaTime,3<this.timeInCooldown&&(this.isInCoolDown=!1)),!this.isInCoolDown&&this.needToSendSettingsToServer&&(t=new GameSettings,this.UpdateSettings(!1,t),this.needToSendSettingsToServer=!1,this.isInCoolDown=!0,this.timeInCooldown=0),this.mustTriggerDelayedGameLoadingFinished&&5<Time.frameCount-this.delayedGameLoadingFinishedFrameCount&&(EventManager.Trigger(ApplicationEvents.evtGameLoadingFinished,this.gameSymbol),ServerOptions.isReplay||(Globals.InputBlocked=!1),this.mustTriggerDelayedGameLoadingFinished=!1)},VideoSlotsConnectionXTLayer.prototype.OnRequestToOpenCashier=function(){EventManager.Trigger(AdapterEvents.evtOpenCashier,null)},VideoSlotsConnectionXTLayer.prototype.OnRequestToCloseGame=function(){UHTInterfaceBOSS.PostMessage("gameQuit"),EventManager.Trigger(AdapterEvents.evtCloseGame,null)},VideoSlotsConnectionXTLayer.prototype.OnRequestToReloadGame=function(){EventManager.Trigger(AdapterEvents.evtReload,null)},VideoSlotsConnectionXTLayer.prototype.SetGambleSettings=function(t,e,i,n,o){XT.SetBool(Vars.CanGamble_Spin,t),XT.SetBool(Vars.CanGamble_FreeSpin,e),XT.SetBool(Vars.CanGamble_Bonus,i),XT.SetDouble(Vars.Gamble_ColorMultiplier,n),XT.SetDouble(Vars.Gamble_SuitMultiplier,o)},VideoSlotsConnectionXTLayer.prototype.SetReturnToPlayer=function(t){XT.SetDouble(Vars.ReturnToPlayer,t)},VideoSlotsConnectionXTLayer.prototype.SetReturnToPlayerMin=function(t){XT.SetDouble(Vars.ReturnToPlayerMin,t)},VideoSlotsConnectionXTLayer.prototype.SkipResultDisplayOnInit=function(){XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!0)},VideoSlotsConnectionXTLayer.prototype.CanTriggerInitReady=function(){return this.handlerGameInitReceived&&this.settingsReceived&&(this.resourcesLoaded||!ServerOptions.isOnline)},VideoSlotsConnectionXTLayer.prototype.TriggerInitReady=function(){XT.TriggerEvent(Vars.Evt_FromServer_InitReceived),this.mustTriggerDelayedGameLoadingFinished=!0,this.delayedGameLoadingFinishedFrameCount=Time.frameCount},VideoSlotsConnectionXTLayer.prototype.UpdateBonusRoundsInfo=function(t){XT.SetObject(Vars.BonusRoundsEvents,t.FreeRoundEvents),XT.SetObject(Vars.BonusRoundsData,t.FreeRound),XT.TriggerEvent(Vars.Evt_Internal_BonusRoundsInfoUpdated)},VideoSlotsConnectionXTLayer.prototype.UpdateBonusFSResponseValues=function(t){null!=t.GetVsFreeSpin()&&this.SetFreeSpinResponseReceived(t.GetVsFreeSpin()),this.SetWinValue(t.Win),this.vsc.UpdateBonusFSResponseValues(t)},VideoSlotsConnectionXTLayer.prototype.SetWildRandomMultipliers=function(t){XT.SetObject(Vars.WildRandomMultipliers,t),XT.TriggerEvent(Vars.Evt_Internal_WildRandomMultipliersReceived)},VideoSlotsConnectionXTLayer.prototype.OnGambleV2Pick=function(){XT.SetBool(Vars.CanAnimateValues,!0),this.vsc.SendGambleV2Choice(XT.GetInt(Vars.Gamble_Choice))},VideoSlotsConnectionXTLayer.prototype.SetGambleV2Response=function(t){XT.SetObject(Vars.GambleV2Data,t),XT.TriggerEvent(FOXVars.Evt_FOX_AfterGambleReceived),XT.TriggerEvent(Vars.Evt_FromServer_GambleV2Response)},VideoSlotsConnectionXTLayer.prototype.SetMustOpenGambleV2=function(t){XT.SetBool(Vars.MustOpenGambleV2,t)},VideoSlotsConnectionXTLayer.prototype.SetServerTime=function(t){XT.SetDouble(Vars.Jurisdiction_ServerTime,t)},BonusData.prototype.HasMultipliers=function(){return null!=this.MultipliersStatus},BonusData.prototype.HasMultipleLevels=function(){return null!=this.ItemsMarkers},BonusData.prototype.ConstrainedLevel=function(){return Math.min(this.numberOfLevels,this.GameOver?this.Level+1:this.Level)},BonusData.prototype.GetCurrentLevelIndex=function(){var t=this.Level;return t=t>=this.numberOfLevels?this.numberOfLevels-1:t},RandomAwardsResponse.prototype.Clone=function(){var t=new RandomAwardsResponse;return t.awardIndex=this.awardIndex,t.awardPositionInReel=this.awardPositionInReel,t.currentReelIndex=this.currentReelIndex,t.nextReelIndex=this.nextReelIndex,t},goog.require("UHT.Engine"),ServerInterface.prototype=Object.create(Component.prototype),(ServerInterface.prototype.constructor=ServerInterface).prototype.Awake=function(){UHT_LOCAL&&(ServerOptions.logLevel=LogLevel.Debug),this.ParseConfigFile()},ServerInterface.prototype.Start=function(){},ServerInterface.prototype.Update=function(){this.counter<4&&this.counter++,2==this.counter&&(UHT_LOCAL?ServerOptions.serverUrl="https://"+this.domain:ServerOptions.serverUrl=location.protocol+"//"+ServerInterface.GetDomain(),UHT_LOCAL&&(_string.IsNullOrEmpty(this.userName)||_string.IsNullOrEmpty(this.userPass))?console.error("The username and/or password are empty!"):UHT_LOCAL&&UHT_ONLINE?ServerHelpers.CookiesRequest(new EventHandler(this,this.OnCookieResponse)):EventManager.Trigger(ApplicationEvents.evtRequestInitApplication,null))},ServerInterface.prototype.OnCookieResponse=function(t,e){console.info("Received response for sessionid request"),ServerHelpers.LoginRequest(this.userName,this.userPass,new EventHandler(this,this.OnLoginResponse))},ServerInterface.prototype.OnLoginResponse=function(t,e){-1!=t.indexOf("log=1")?(console.info("Login - Succes"),EventManager.Trigger(ApplicationEvents.evtRequestInitApplication,null)):console.error("Login - Fail")},ServerInterface.prototype.ParseConfigFile=function(){var t=this.configFile.text.split("\n");-1!=this.configFile.text.indexOf("external")&&(this.isExternal=!0),t.length<6||this.isExternal&&t.length<8?console.error("There are missing parameters from the config file!"):(this.userName=t[0],this.userPass=t[1],this.domain=t[2],ServerOptions.styleName=t[3],ServerOptions.gameSymbol=t[4],ServerOptions.language=t[5],this.isExternal&&(ServerOptions.gameServiceUri=t[6],ServerOptions.tokenUrl=t[7],ServerOptions.serverDomain=this.domain),-1!=this.configFile.text.indexOf("online")&&(ServerOptions.isOnline=!0),ServerInterface.domain=this.domain),ServerOptions.isOnline=UHT_ONLINE,1==UHT_GAME_CONFIG_SRC.replayMode&&(ServerOptions.isOnline=!1,ServerOptions.isReplay=!0)},ServerInterface.domain="",ServerInterface.GetDomain=function(){return UHT_LOCAL?ServerInterface.domain:location.host},goog.provide("UHT.Special_Symbol"),goog.require("UHT.Engine"),goog.require("UHT.CAT_Event"),Special_Symbol.prototype=Object.create(Component.prototype),(Special_Symbol.prototype.constructor=Special_Symbol).State={Invalid:0,Normal:1,HighlightOn:2,HighlightOff:3,SpinStart:4,SpinLoop:5,SpinStop:6,Excited:7,WinExcited:8,SpinLoopExcited:9,Winning:10,FSHighlightOff:11},Special_Symbol.prototype.ChangeToState=function(t){this.commands.push(t),this.lastQueuedState=t,this.ProcessCommands()},Special_Symbol.prototype.Start=function(){this.eventNormal.UnregisterCallback(this.Callback_EventEnded,this),this.eventHighlightOn.UnregisterCallback(this.Callback_EventEnded,this),this.eventHighlightOff.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinStart.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinLoop.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinStop.UnregisterCallback(this.Callback_EventEnded,this),this.eventExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventWinExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinLoopExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventWinning.UnregisterCallback(this.Callback_EventEnded,this),this.eventFSHighlightOff.UnregisterCallback(this.Callback_EventEnded,this),this.eventNormal.RegisterCallback(this.Callback_EventEnded,this),this.eventHighlightOn.RegisterCallback(this.Callback_EventEnded,this),this.eventHighlightOff.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinStart.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinLoop.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinStop.RegisterCallback(this.Callback_EventEnded,this),this.eventExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventWinExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinLoopExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventWinning.RegisterCallback(this.Callback_EventEnded,this),this.eventFSHighlightOff.RegisterCallback(this.Callback_EventEnded,this)},Special_Symbol.prototype.ProcessCommands=function(){if(0<this.commands.length)if(this.canProcessNextCommand){var t=this.commands[0];switch(this.commands.splice(0,1),this.canProcessNextCommand=!1,t){case Special_Symbol.State.Normal:this.eventNormal.Start();break;case Special_Symbol.State.HighlightOn:this.eventHighlightOn.Start();break;case Special_Symbol.State.HighlightOff:this.eventHighlightOff.Start();break;case Special_Symbol.State.SpinStart:this.eventSpinStart.Start();break;case Special_Symbol.State.SpinLoop:this.eventSpinLoop.Start();break;case Special_Symbol.State.SpinStop:this.eventSpinStop.Start();break;case Special_Symbol.State.Excited:this.eventExcited.Start();break;case Special_Symbol.State.WinExcited:this.eventWinExcited.Start();break;case Special_Symbol.State.Winning:this.eventWinning.Start();break;case Special_Symbol.State.SpinLoopExcited:this.eventSpinLoopExcited.Start();break;case Special_Symbol.State.FSHighlightOff:this.eventFSHighlightOff.Start();break;default:Special_Symbol.State.Invalid;this.canProcessNextCommand=!0}this.internalState=t,this.currentStateForInspector=this.internalState}else 0==this.stopEventSent&&this.StopAllRunningEvents()},Special_Symbol.prototype.Update=function(){this.ProcessCommands()},Special_Symbol.prototype.Callback_EventEnded=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&(this.canProcessNextCommand=!0)},Special_Symbol.prototype.StopAllRunningEvents=function(){this.eventNormal.IsRunning()&&this.eventNormal.Stop(),this.eventHighlightOn.IsRunning()&&this.eventHighlightOn.Stop(),this.eventHighlightOff.IsRunning()&&this.eventHighlightOff.Stop(),this.eventSpinStart.IsRunning()&&this.eventSpinStart.Stop(),this.eventSpinLoop.IsRunning()&&this.eventSpinLoop.Stop(),this.eventSpinStop.IsRunning()&&this.eventSpinStop.Stop(),this.eventExcited.IsRunning()&&this.eventExcited.Stop(),this.eventWinExcited.IsRunning()&&this.eventWinExcited.Stop(),this.eventWinning.IsRunning()&&this.eventWinning.Stop(),this.eventSpinLoopExcited.IsRunning()&&this.eventSpinLoopExcited.Stop(),this.eventFSHighlightOff.IsRunning()&&this.eventFSHighlightOff.Stop()},Special_Symbol.prototype.SpinStart=function(){this.ChangeToState(Special_Symbol.State.SpinStart)},Special_Symbol.prototype.SpinLoop=function(){this.ChangeToState(Special_Symbol.State.SpinLoop)},Special_Symbol.prototype.SpinStop=function(){this.ChangeToState(Special_Symbol.State.SpinStop)},Special_Symbol.prototype.SetHighlightOn=function(){this.ChangeToState(Special_Symbol.State.HighlightOn)},Special_Symbol.prototype.SetHighlightOff=function(){(this.internalState!=Special_Symbol.State.WinExcited&&this.internalState!=Special_Symbol.State.Winning||this.willHighlightOffAfterExciteWin)&&(XT.GetBool(Vars.Logic_IsFreeSpin)?this.ChangeToState(Special_Symbol.State.FSHighlightOff):this.ChangeToState(Special_Symbol.State.HighlightOff))},Special_Symbol.prototype.SetNormal=function(){this.ChangeToState(Special_Symbol.State.Normal)},Special_Symbol.prototype.SetExcited=function(){this.ChangeToState(Special_Symbol.State.Excited)},Special_Symbol.prototype.SetWinExcited=function(){this.ChangeToState(Special_Symbol.State.WinExcited)},Special_Symbol.prototype.SpinLoopExcited=function(){this.ChangeToState(Special_Symbol.State.SpinLoopExcited)},Special_Symbol.prototype.SetWinning=function(){this.ChangeToState(Special_Symbol.State.Winning)},Special_Symbol.prototype.EventStart=function(){this.eventStart.Start()},Special_Symbol.prototype.EventStop=function(){this.eventStop.Start()},goog.require("UHT.Engine"),goog.require("UHT.XTLink"),goog.require("UHT.Special_Symbol"),Special_SymbolsManager.prototype=Object.create(XTLink.prototype),(Special_SymbolsManager.prototype.constructor=Special_SymbolsManager).initializing=0,Special_SymbolsManager.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SymbolManager,this.OnSymbolManagerInit,this)},Special_SymbolsManager.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnSymbolManagerInit,this)},Special_SymbolsManager.prototype.OnSymbolManagerInit=function(){SymbolsManager_CheckAndSendTrackingInit(),Special_SymbolsManager.initializing++,this.currentInitSymbol=0,this.BuildSymbolIdToIndexMap(),this.pooledSymbols=[],this.pool.SetActive(!0),-1==LoaderProgress.SymbolsManagers_Total?LoaderProgress.SymbolsManagers_Total=this.symbols.length:LoaderProgress.SymbolsManagers_Total+=this.symbols.length},Special_SymbolsManager.prototype.Update=function(){if(0<=this.currentInitSymbol)if(this.currentInitSymbol<this.symbols.length){var t=this.symbols[this.currentInitSymbol].symbolId;this.pooledSymbols[t]=[];for(var e=0;e<this.defaultBufferAmount;e++){var i=instantiate(this.symbols[this.currentInitSymbol].gameObject);i.SetActive(!0),this.PoolSymbol(t,i.GetComponent(Special_Symbol))}this.currentInitSymbol++,LoaderProgress.SymbolsManagers_Current++}else this.currentInitSymbol==this.symbols.length&&(this.disablePoolNextFrame=!1,Special_SymbolsManager.initializing--,SymbolsManager_CheckAndSendTrackingEnd(),this.currentInitSymbol++)},Special_SymbolsManager.prototype.BuildSymbolIdToIndexMap=function(){for(var t=-1,e=0;e<this.symbols.length;e++)this.symbols[e].symbolId>t&&(t=this.symbols[e].symbolId);this.symbolIdToIndexMap=new Array(t+1);for(var i=0;i<this.symbols.length;i++)this.symbolIdToIndexMap[this.symbols[i].symbolId]=i},Special_SymbolsManager.prototype.GetFromPool=function(t,e){0==this.pooledSymbols[t].length&&(console.log("Symbol pool capacity is too small! ID = "+t),this.pooledSymbols[t].push(instantiate(this.symbols[this.symbolIdToIndexMap[t]].gameObject).GetComponent(Special_Symbol)),this.pooledSymbols[t][this.pooledSymbols[t].length-1].gameObject.SetActive(!0));var i=this.pooledSymbols[t][0];return this.pooledSymbols[t].splice(0,1),i.gameObject.transform.SetParent(e.transform,!1),i.gameObject.transform.localPosition(UHTMath.Vector3.zero),i.gameObject.transform.localRotation(UHTMath.Quaternion.euler(UHTMath.Vector3.zero)),i.gameObject.transform.localScale(UHTMath.Vector3.one),i},Special_SymbolsManager.prototype.PoolSymbol=function(t,e){e.gameObject.transform.SetParent(this.pool.transform,!1),this.pooledSymbols[t].push(e)},Special_SymbolsManager.prototype.GetSymbol=function(t,e){return this.GetFromPool(t,e)},Special_SymbolsManager.prototype.RecycleSymbol=function(t){this.PoolSymbol(t.symbolId,t)},Special_SymbolsManager.prototype.LateUpdate=function(){this.pool.activeSelf&&this.currentInitSymbol>this.symbols.length&&(this.disablePoolNextFrame?this.pool.SetActive(!1):this.disablePoolNextFrame=!0)},goog.require("UHT.UHTStage"),StageInit.prototype=Object.create(UHTStage.prototype),(StageInit.prototype.constructor=StageInit).prototype.GetStageName=function(){return UHTStageName.Init},StageInit.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(Vars.GameHasIntro,this.hasIntro),XT.SetBool(Vars.GameHasCustomGamble,this.hasCustomGamble),XT.SetBool(Vars.ScatterSymbolIsWild,this.scatterIsWild),XT.SetBool(Vars.UpdateVSGameStateOnSpin,!0),XT.SetBool(Vars.TruncateFSResponseDuringRespin,this.truncateFSResponseDuringRespin),XT.SetBool(Vars.UpdateFSResponseOnBonusPick,this.updateFSResponseOnBonusPick),XT.SetBool(Vars.PartiallyUpdateSpinResponseOnBonusPick,this.partiallyUpdateSpinResponseOnBonusPick),XT.SetBool(Vars.UpdateBonusPickDataDuringRespins,this.allowBonusPickDuringBonusRespin),XT.SetInt(Vars.TotalNumberOfLines,this.totalNumberOfLines),XT.SetBool(Vars.GameHasWaysInsteadOfLines,this.hasWaysInsteadOfLines),XT.SetBool(Vars.GameHasLinesWithBetMultiplier,this.hasLinesWithBetMultiplier),XT.SetInt(Vars.NumberOfBetLevels,this.numberOfBetLevels),XT.SetBool(Vars.TriggerBonusBeforeResult,this.triggerBonusBeforeResult),XT.SetBool(Vars.BonusWinIsSeparated,this.bonusWinIsSeparated),XT.SetBool(Vars.OpaqueInterface,this.opaqueInterface),XT.SetBool(Vars.HasReelAwareSymbolContent,this.hasReelAwareSymbolContent),XT.SetBool(Vars.HiddenMathematics,!1),XT.SetBool(BGVars.BonusDataReceived,!1),XT.SetBool(Vars.InstantlyCollectBonus,this.instantlyCollectBonusWin),XT.SetBool(Vars.HasAnteBet,this.hasAnteBet),XT.SetBool(Vars.LinesPaysBothWays,this.paysBothWays),XT.SetObject(Vars.FreeSpinOptions,null),XT.SetBool(Vars.CanSpin,!1),XT.SetBool(Vars.AllowFastStop,!0),XT.SetBool(Vars.IsDifferentSpinType,!1),XT.SetObject(Vars.DefaultGameWindowOverrideData,this.defaultGameWindowOverride),XT.SetBool(Vars.BrowserWarningShown,!1),XT.SetBool(Vars.FSStartNeedsConfirmation,this.freeSpinsStartNeedsConfirmation),XT.SetBool(Vars.SpinNeedsConfirmation,!1),XT.SetBool(Vars.SpinBlockingFeatureIsRunning,!1),XT.SetFloat(Vars.MinimumJackpotBigWinDuration,this.minimumJackpotBigWinDuration),XT.SetBool(Vars.ManualRespin,this.manualRespin),XT.SetObject(Vars.FeaturePurchase,null),XT.SetBool(InterfaceVars.ShowGamePaysAsWinTeaser,this.showGamePaysAsWinTeaser),XT.SetDouble(InterfaceVars.GUIDynamicMessageDelay,this.GUIDynamicMessagesDelay),XT.SetBool(Vars.WinLimitReached,!1)},StageInit.prototype.UHTInit=function(){XT.RegisterAndInit(this.XTRoot)},StageInit.prototype.UHTUpdate=function(t){if(t&&(XT.TriggerEvent(Vars.Evt_Internal_Init_SymbolManager),XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived,this.OnInitReceived,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated,this.OnBalanceUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IntroClosePressed,this.IntroClosed,this),XT.TriggerEvent(Vars.Evt_ToServer_RequestInit),XT.GetBool(Vars.DisableIntroScreen)&&XT.SetBool(Vars.GameHasIntro,!1)),this.initReceived&&0==globalResourcesNeededList.length&&!(0<VS_SymbolsManager.initializing+Special_SymbolsManager.initializing)){UHTEngine.HideLoader(),XT.GetBool(Vars.MustOpenBonus)&&(this.PatchNudgeData(),CoinManager.SetStrictBetMode(!1)),CoinManager.SetStrictBetMode(!0),CoinManager.InitLastBets(),XT.TriggerEvent(Vars.Evt_Internal_Init_SoundManager),XT.TriggerEvent(Vars.Evt_Internal_Init_ReelsManager),XT.TriggerEvent(Vars.Evt_Internal_GameInit),XT.TriggerEvent(Vars.Evt_Internal_GUIInit);t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);if(t.IsFreeSpin&&!t.IsFreeSpinsCollected&&(XT.SetInt(Vars.MaxFreeSpinsDisplayed,t.MaxSpins),XT.SetInt(Vars.CurrentFreeSpinDisplayed,t.CurrentSpin),XT.SetInt(Vars.FreeSpinsLeftDisplayed,t.MaxSpins-t.CurrentSpin),XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed,0|t.TotalMultiplier)),XT.SetDouble(Vars.SpinCycleWinDisplayed,XT.GetDouble(Vars.SpinCycleWinReceived)),UHTEngine.SignalCanStartPrefetchingUnusedAtlasses(),!XT.GetBool(Vars.GameHasIntro)||XT.GetBool(Vars.GameHasIntro)&&!XT.GetBool(Vars.ShouldDisplayIntro)){if(this.ProcessStageToGo())return this.initShow.RegisterCallback(this.OnIntroClosedOrSkipped,this),this.initShow.Start(),UHTAction.ChangeStage(UHTStageName.Transition)}else this.introShow.Start();this.canGoToNextStage=!0,this.initReceived=!1}return this.canGoToNextStage&&(Globals.InputBlocked||!Input.GetKeyDown(KeyCode.Space)&&!Input.GetKeyDown(KeyCode.Return)||(this.introClosed=!0),this.introClosed&&this.ProcessStageToGo())?(this.introHide.RegisterCallback(this.OnIntroClosedOrSkipped,this),this.introHide.Start(),UHTAction.ChangeStage(UHTStageName.Transition)):UHTAction.NoAction()},StageInit.prototype.UHTFinish=function(){XT.UnregisterCallbackEvent(this.OnInitReceived,this),XT.UnregisterCallbackEvent(this.OnBalanceUpdated,this),XT.UnregisterCallbackEvent(this.IntroClosed,this)},StageInit.prototype.OnBetToTotalBetMultiplierChanged=function(t){-1!=this.linesForMinBet?XT.SetInt(Vars.LinesForMinBet,this.linesForMinBet):XT.SetInt(Vars.LinesForMinBet,t),-1!=this.linesForMaxBet?XT.SetInt(Vars.LinesForMaxBet,this.linesForMaxBet):XT.SetInt(Vars.LinesForMaxBet,t)},StageInit.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackInt(Vars.BetToTotalBetMultiplier,this.OnBetToTotalBetMultiplierChanged,this)},StageInit.prototype.OnBalanceUpdated=function(){XT.SetDouble(Vars.BalanceDisplayed,XT.GetDouble(Vars.BalanceReceived)),XT.SetDouble(Vars.BonusBalance,XT.GetDouble(Vars.BonusBalanceReceived))},StageInit.prototype.OnInitReceived=function(){this.initReceived=!0},StageInit.prototype.IntroClosed=function(){this.introClosed=!0},StageInit.prototype.ProcessStageToGo=function(){var t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);XT.SetBool(Vars.Logic_IsFreeSpin,t.IsFreeSpin&&!t.IsFreeSpinsCollected);var e=XT.GetBool(Vars.MustOpenBonus)&&!XT.GetBool(Vars.InstantlyCollectBonus);return this.forcedGoToSpin?(XT.TriggerEvent(Vars.Evt_Internal_StartVSLogicSounds),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Spin),!0):e?XT.GetBool(Vars.TriggerBonusBeforeResult)&&t.IsFreeSpin&&!t.IsFreeSpinsCollected&&((null!=t.BonusGameData&&t.BonusGameData.GameOver||t.IsFreeSpinsStart&&0<t.MysteryScatter.length)&&XT.SetBool(Vars.Internal_FSBGJustClosed,!0),0<=t.PickedOptionIndex)?(XT.SetBool(Vars.MustResumeFreeSpinOptions,!0),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.FSBG),!0):!!XT.GetBool(BGVars.BonusDataReceived)&&(XT.SetBool(BGVars.BonusDataReceived,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Bonus),!0):XT.GetBool(Vars.FromServer_MustOpenFSBG)||null!=XT.GetObject(Vars.FreeSpinOptions)?(XT.SetBool(Vars.FromServer_MustOpenFSBG,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.FSBG),!0):(XT.TriggerEvent(Vars.Evt_Internal_StartVSLogicSounds),XT.GetBool(Vars.MustOpenGambleV2)?(XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Gamble),!0):t.IsFreeSpin&&!t.IsFreeSpinsCollected?((null!=t.BonusGameData&&t.BonusGameData.GameOver||t.IsFreeSpinsStart&&0<t.MysteryScatter.length)&&XT.SetBool(Vars.Internal_FSBGJustClosed,!0),0<=t.PickedOptionIndex?(XT.SetBool(Vars.MustResumeFreeSpinOptions,!0),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.FSBG)):(XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.ResultFreeSpin)),!0):(XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Result),!0))},StageInit.prototype.OnBrowserWarningShown=function(){XT.SetBool(Vars.BrowserWarningShown,!0),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)},StageInit.prototype.OnIntroClosedOrSkipped=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&XT.TriggerEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped)},StageInit.prototype.PatchNudgeData=function(){var t=XT.GetObject(Vars.NudgedSymbols);if(null!=t){for(var e=XT.GetObject(Vars.InitialResultScreenSymbols),i=0;i<t.length;i++)e[t[i].reelID]=t[i].nudgedSymbolsIDs,e[t[i].reelID].reverse();XT.SetObject(Vars.ReceivedWinLines,[]),XT.SetObject(Vars.InitialResultScreenSymbols,e),XT.SetObject(Vars.NudgedSymbols,null)}},goog.require("UHT.XTLink");var globalMustStopAutoplay=!1;function AdvancedAutoplaySettings(){this.stopOnAnyWin=!1,this.stopIfFeature=!1,this.stopIfSingleWinExceeds=!1,this.singleWinValue=0,this.stopIfCashIncreases=!1,this.cashIncreasesValue=0,this.stopIfCashDecreases=!1,this.cashDecreasesValue=0,this.initialBalance=0}function AutoplayManager(){}AutoplayManager.wasReset=!1,AutoplayManager.fastPlay=!1,AutoplayManager.autoplayContinuousSpin=!1,AutoplayManager.TestAdvancedStopConditions=function(){if(globalMustStopAutoplay)return XT.SetInt(Vars.AutoplaySpinsLeft,-1),globalMustStopAutoplay=!1,void XT.TriggerEvent(Vars.Evt_DataToCode_StopAutoplay);var t,e;XT.GetInt(Vars.AutoplaySpinsLeft)<0||(t=!1,e=XT.GetObject(Vars.AdvancedAutoplaySettings),!t&&e.stopOnAnyWin&&0<XT.GetDouble(Vars.SpinCycleWinReceived)&&(t=!0),XT.GetBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin)&&(e.stopIfFeature=!0),(t=!(t=!(t=!(t=!t&&e.stopIfFeature&&(XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin||XT.GetBool(Vars.FromServer_MustOpenFSBG)||XT.GetBool(Vars.MustOpenBonus))?!0:t)&&e.stopIfSingleWinExceeds&&XT.GetDouble(Vars.SpinCycleWinReceived)>e.singleWinValue?!0:t)&&e.stopIfCashIncreases&&XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived)>e.initialBalance+e.cashIncreasesValue?!0:t)&&e.stopIfCashDecreases&&XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived)-CoinManager.GetNextTotalBet()<e.initialBalance-e.cashDecreasesValue?!0:t)&&(XT.SetInt(Vars.AutoplaySpinsLeft,-1),XT.TriggerEvent(Vars.Evt_Internal_StoppedAutoplayByCondition)))},AutoplayManager.ResetSettings=function(){AutoplayManager.wasReset||(AutoplayManager.wasReset=!0,AutoplayManager.fastPlay=XT.GetBool(Vars.FastPlay),AutoplayManager.autoplayContinuousSpin=XT.GetBool(Vars.AutoplayContinuousSpin),XT.SetBool(Vars.FastPlay,!1),XT.SetBool(Vars.AutoplayContinuousSpin,!1))},AutoplayManager.RestoreSettings=function(){AutoplayManager.wasReset&&(AutoplayManager.wasReset=!1,XT.SetBool(Vars.FastPlay,AutoplayManager.fastPlay),XT.SetBool(Vars.AutoplayContinuousSpin,AutoplayManager.autoplayContinuousSpin))},goog.require("UHT.Engine");var BonusRoundsController={isFirstSession:!0,lastRoundType:VsFreeRound.RoundType.Spins,HandleNextEvent:function(t,e,i){var n=new BonusRoundRetData,o=XT.GetObject(Vars.BonusRoundsData);n.isBonusRounds=null!=o,XT.GetBool(Vars.UserChoseToPlayLater)&&(n.isBonusRounds=!1),n.isBonusRounds&&!t&&(XT.SetInt(Vars.BonusRoundsLeftDisplayed,o.RoundsLeft),XT.SetDouble(Vars.BonusRoundsWinDisplayed,o.TotalWin));var s,r=XT.GetObject(Vars.BonusRoundsEvents);return null!=r&&0<r.length&&(1==r.length&&n.isBonusRounds&&(BonusRoundsController.lastRoundType=o.Type),(s=r[0]).Type!=VsFreeRoundEvent.EventType.Start||t?s.Type!=VsFreeRoundEvent.EventType.Finish||t?s.Type==VsFreeRoundEvent.EventType.Error&&(i&&(n.isBonusRounds?BonusRoundsController.lastRoundType==VsFreeRound.RoundType.Spins&&(XT.SetInt(Vars.BonusRoundsLeftDisplayed,0),XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsError),n.messageIsOpened=!0,BonusRoundsController.isFirstSession=!1):XT.GetBool(Vars.TimedBonusRoundIsOngoing)||XT.GetBool(Vars.ShouldIgnoreNextFinishEventFromServer)||(XT.SetInt(Vars.BonusRoundsLeftDisplayed,0),XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsError),n.messageIsOpened=!0)),e&&(XT.GetBool(Vars.TimedBonusRoundIsOngoing)||r.splice(0,1),n.isBonusRounds=!1,CoinManager.SetDesiredBet(s.Bet),BonusRoundsController.SetLines(s.Lines))):(i&&(XT.SetInt(Vars.BonusRoundsLeftDisplayed,0),n.isBonusRounds?BonusRoundsController.lastRoundType==VsFreeRound.RoundType.Spins?(XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsFinished),n.messageIsOpened=!0,BonusRoundsController.isFirstSession=!1):XT.GetBool(Vars.TimedBonusRoundIsOngoing)?XT.GetBool(Vars.ShouldIgnoreNextFinishEventFromServer)||XT.TriggerEvent(Vars.Evt_CodeToData_TimedBonusRoundsFinished):XT.TriggerEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed):XT.GetBool(Vars.TimedBonusRoundIsOngoing)?XT.TriggerEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed):(XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsFinished),n.messageIsOpened=!0,BonusRoundsController.isFirstSession=!1)),e&&(r.splice(0,1),n.isBonusRounds=!1,CoinManager.SetDesiredBet(s.Bet),BonusRoundsController.SetLines(s.Lines),0==r.length&&XT.SetObject(Vars.BonusRoundsData,null),XT.TriggerEvent(Vars.Evt_Internal_CoinValueChanged),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup))):(t=XT.GetObject(Vars.BonusRoundsData),i&&(XT.SetBool(Vars.BonusRoundCanBePlayedLater,s.PlayLaterAvailable),XT.SetDouble(Vars.BonusRoundEndDateTimestamp,s.EndDateTimestamp),-1!=s.PromoLocalizedName.indexOf("#DDW#")?XT.SetBool(Vars.BonusRoundWonFromDDW,!0):XT.SetBool(Vars.BonusRoundWonFromDDW,!1),XT.SetString(Vars.BonusRoundPromoType,s.PromoType),o.Type==VsFreeRound.RoundType.Spins?XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsStarted):(XT.TriggerEvent(Vars.Evt_CodeToData_TimedBonusRoundsStarted),XT.SetInt(Vars.TimedBonusRoundsSeconds,t.RoundsLeft)),n.messageIsOpened=!0,BonusRoundsController.isFirstSession||(XT.SetDouble(Vars.BonusRoundsWinDisplayed,0),t.TotalWin=0,XT.SetObject(Vars.BonusRoundsData,t))),e&&(r.splice(0,1),XT.GetBool(Vars.UserChoseToPlayLater)||(CoinManager.SetDesiredBet(s.Bet),BonusRoundsController.SetLines(s.Lines),XT.TriggerEvent(Vars.Evt_Internal_CoinValueChanged),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup))))),n},SetLines:function(t){XT.GetBool(Vars.HasAnteBet)?XT.SetInt(Vars.BetToTotalBetMultiplier,XT.GetBool(Vars.GameHasWaysInsteadOfLines)?XT.GetInt(Vars.TotalNumberOfLines):t):XT.SetInt(Vars.BetToTotalBetMultiplier,t),XT.SetInt(Vars.Lines,XT.GetBool(Vars.GameHasWaysInsteadOfLines)?XT.GetInt(Vars.TotalNumberOfLines):t)}};function BonusRoundRetData(){this.isBonusRounds=!1,this.messageIsOpened=!1}function StageSpin(){UHTStage.call(this),this.cat=null,this.startEvent=null,this.spinEnded=!1,this.isBonusRounds=!1,this.onlySpinVisually=!1,this.resumeSpinning=!1,this.autoRespinsIsInfinite=!1,this.rq=null,this.isRQEnded=!1,this.shouldResetSpinCycleWinDisplayed=!1}function StageGamble(){UHTStage.call(this),this.cat=null,this.startEvent=null,this.endEvent=null,this.lastGambleResponse=null,this.canPick=!1,this.atLeastOnePick=!1,this.mustHideGamble=!1}function TransitionHelperClass(){this.transitionCAT=null,this.fromStageName=UHTStageName.No_Stage,this.toStageName=UHTStageName.No_Stage,this.canWait=!1}goog.require("UHT.Engine"),goog.require("UHT.UHTStage"),StageSpin.prototype=Object.create(UHTStage.prototype),(StageSpin.prototype.constructor=StageSpin).prototype.GetStageName=function(){return UHTStageName.Spin},StageSpin.prototype.XTRegisterCallbacks=function(){},StageSpin.prototype.XTInitVariablesAndEvents=function(){XT.SetDouble(Vars.CurrentWinMultiplier,1),XT.SetObject(Vars.SpinRoutineQueue,this.rq),XT.SetBool(Vars.SpinResultIsBigWin,!1),XT.SetFloat(Vars.SpinDuration,0)},StageSpin.prototype.UHTInit=function(){},StageSpin.prototype.UHTUpdate=function(t){if(t?(XT.GetBool(Vars.IsDifferentSpinType)||XT.SetFloat(Vars.SpinDuration,0),n=XT.GetObject(Vars.ReceivedFreeSpinsResponse),e=XT.GetObject(Vars.RespinData),this.shouldResetSpinCycleWinDisplayed=(null==e||e.IsDone)&&(!n.IsFreeSpin||n.IsLastFreeSpin),null!=this.rq?(XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeSpinStart),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnRQEnded,null,this)),this.rq.StartRoutines()):this.OnRQEnded(null),UHTEngine.RegisterUserInteraction()):XT.SetFloat(Vars.SpinDuration,XT.GetFloat(Vars.SpinDuration)+Time.deltaTime),this.isRQEnded){this.isRQEnded=!1,XT.GetBool(Vars.Logic_IsFreeSpin)||(XT.GetBool(Vars.ContinuousSpin)?globalTracking.SendEvent("uht_spin","started_turbo_spin_fastplay",XT.GetBool(Vars.FastPlay)?1:0,"SpinTracker"):globalTracking.SendEvent("uht_spin","started_normal_spin_fastplay",XT.GetBool(Vars.FastPlay)?1:0,"SpinTracker")),globalTracking.StartTimer("uht_spin","time_response_received","SpinTracker");var e=XT.GetObject(Vars.RespinData);XT.GetBool(Vars.Logic_IsFreeSpin)||null!=e&&!e.IsDone||UHTInterfaceBOSS.PostMessage("gameRoundStarted"),UHTInterfaceBOSS.PostMessage("spinStarted"),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Stop,this.OnPressedStop,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StartAutoplay,this.OnStartAutoplay,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay,this.OnStopAutoplay,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_SpinEnded,this.OnSpinEnded,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdatedFromResult,this.OnBalanceUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed,this.OnBonusRoundsContinuePressed,this),XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),this.onlySpinVisually||XT.TriggerEvent(Vars.Evt_ToServer_RequestSpin),XT.TriggerEvent(Vars.Evt_Internal_StopIdleSpinCounter),XT.TriggerEvent(Vars.Evt_Internal_SpinStarted),XT.SetBool(Vars.CanSpin,!1),XT.SetBool(Vars.SkipNextBigWin,!1),XT.SetInt(Vars.BigWinLevel,0),XT.SetBool(Vars.SpinResultIsBigWin,!1),XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!1);var i=BonusRoundsController.HandleNextEvent(!0,!0,!0);this.isBonusRounds=i.isBonusRounds;XT.GetObject(Vars.BonusRoundsData);var n=XT.GetObject(Vars.ReceivedFreeSpinsResponse);XT.GetBool(Vars.UpdateVSGameStateOnSpin)&&(XT.SetDouble(Vars.CurrentWinMultiplier,1),!n.IsFreeSpin||n.IsFreeSpinsCollected||n.IsFreeSpinsGambled?0<=XT.GetInt(Vars.AutoplaySpinsLeft)?this.autoRespinsIsInfinite?VSGameStateManager.ChangeTo(VSGameState.Spin):this.isBonusRounds?VSGameStateManager.ChangeTo(VSGameState.SpinBonusRoundsAutoplay):VSGameStateManager.ChangeTo(VSGameState.SpinAutoplay):this.isBonusRounds?VSGameStateManager.ChangeTo(VSGameState.SpinBonusRounds):this.onlySpinVisually||this.resumeSpinning?VSGameStateManager.ChangeTo(VSGameState.Result):VSGameStateManager.ChangeTo(VSGameState.Spin):(XT.SetDouble(Vars.CurrentWinMultiplier,n.TotalMultiplier),VSGameStateManager.ChangeTo(VSGameState.SpinFreeSpins))),null!=this.cat&&this.cat.StartEvent(this.startEvent.id)}else{i=BonusRoundsController.HandleNextEvent(!0,!0,!0);if(this.isBonusRounds=i.isBonusRounds,Globals.InputBlocked||(Input.GetKeyDown(KeyCode.Space)||Input.GetKeyDown(KeyCode.Return)||XT.GetBool(Vars.ContinuousSpin))&&XT.GetBool(Vars.AllowFastStop)&&(!XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins)||XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins)&&XT.GetFloat(Vars.SpinDuration)>XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value))&&(XT.GetBool(Vars.DisableStopButton)||XT.TriggerEvent(Vars.Evt_Internal_ReelManager_StopSpin)),this.spinEnded){this.spinEnded=!1,XT.GetBool(Vars.Logic_IsFreeSpin)||0<(o=GLOBAL_TIME_RESPONSE_RECEIVED)&&0<=XT.GetInt(Vars.AutoplaySpinsLeft)&&globalTracking.SendEvent("uht_spin","finished_autospin",o,"SpinTracker"),UHTInterfaceBOSS.PostMessage("spinEnded");var o=XT.GetObject(Vars.ReceivedFreeSpinsResponse),e=XT.GetObject(Vars.RespinData);return this.shouldResetSpinCycleWinDisplayed&&XT.SetDouble(Vars.SpinCycleWinDisplayed,0),(null!=e&&!e.IsDone||o.IsFreeSpin&&!o.IsLastFreeSpin||(XT.GetBool(Vars.MustOpenBonus)||XT.GetBool(Vars.FromServer_MustOpenFSBG)||null!=XT.GetObject(Vars.GambleV2Data)||UHTInterfaceBOSS.PostMessage("gameRoundEnded")),XT.TriggerEvent(Vars.Evt_Internal_SpinEnded),XT.GetBool(Vars.TriggerBonusBeforeResult)&&XT.GetBool(Vars.MustOpenBonus))?XT.GetBool(BGVars.BonusDataReceived)?(XT.SetBool(BGVars.BonusDataReceived,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Bonus),UHTAction.ChangeStage(UHTStageName.Transition)):UHTAction.NoAction():((o.IsFreeSpin||XT.GetBool(Vars.FromServer_MustOpenFSBG))&&(null==e||e.IsDone&&o.IsFreeSpinsStart||!o.IsFreeSpinsStart)?(XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.ResultFreeSpin)):(XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Result)),UHTAction.ChangeStage(UHTStageName.Transition))}}return UHTAction.NoAction()},StageSpin.prototype.UHTFinish=function(){XT.UnregisterCallbackEvent(this.OnSpinEnded,this),XT.UnregisterCallbackEvent(this.OnBalanceUpdated,this),XT.UnregisterCallbackEvent(this.OnPressedStop,this),XT.UnregisterCallbackEvent(this.OnStartAutoplay,this),XT.UnregisterCallbackEvent(this.OnStopAutoplay,this),XT.UnregisterCallbackEvent(this.OnBonusRoundsContinuePressed,this)},StageSpin.prototype.OnPressedStop=function(){XT.GetBool(Vars.AllowFastStop)&&!XT.GetBool(Vars.DisableStopButton)&&XT.TriggerEvent(Vars.Evt_Internal_ReelManager_StopSpin)},StageSpin.prototype.OnSpinEnded=function(){this.spinEnded=!0},StageSpin.prototype.OnBalanceUpdated=function(){XT.SetDouble(Vars.BalanceDisplayed,XT.GetDouble(Vars.BalanceReceived)),XT.SetDouble(Vars.BonusBalance,XT.GetDouble(Vars.BonusBalanceReceived))},StageSpin.prototype.OnStopAutoplay=function(){XT.SetInt(Vars.AutoplaySpinsLeft,-1);XT.GetObject(Vars.BonusRoundsData);this.isBonusRounds?VSGameStateManager.ChangeTo(VSGameState.SpinBonusRounds):VSGameStateManager.ChangeTo(VSGameState.Spin)},StageSpin.prototype.OnBonusRoundsContinuePressed=function(){XT.TriggerEvent(Vars.Evt_ToServer_ReloadGame)},StageSpin.prototype.OnStartAutoplay=function(){XT.SetInt(Vars.AutoplaySpinsLeft,XT.GetInt(Vars.AutoplaySpinsRequested)),XT.SetInt(Vars.AutoplaySpinsLeftDisplayed,XT.GetInt(Vars.AutoplaySpinsLeft))},StageSpin.prototype.OnRQEnded=function(t){var e=XT.GetObject(Vars.ReceivedFreeSpinsResponse);null==e||XT.GetBool(Vars.IsDifferentSpinType)||(XT.SetInt(Vars.CurrentFreeSpinDisplayed,e.CurrentSpin),XT.SetInt(Vars.FreeSpinsLeftDisplayed,e.MaxSpins-e.CurrentSpin)),this.isRQEnded=!0},goog.require("UHT.Engine"),goog.require("UHT.UHTStage"),StageGamble.prototype=Object.create(UHTStage.prototype),(StageGamble.prototype.constructor=StageGamble).prototype.GetStageName=function(){return UHTStageName.Gamble},StageGamble.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.Gamble_CurrentProgressObject,new GambleProgressObject)},StageGamble.prototype.UHTInit=function(){},StageGamble.prototype.UHTUpdate=function(t){if(t)CoinManager.SetStrictBetMode(!0),this.Init(),XT.GetBool(Vars.GameHasCustomGamble)?VSGameStateManager.ChangeTo(VSGameState.GambleCustom):VSGameStateManager.ChangeTo(VSGameState.Gamble),null!=this.cat&&this.cat.StartEvent(this.startEvent.id);else if(this.mustHideGamble){this.mustHideGamble=!1,XT.TriggerEvent(Vars.Evt_Internal_Gamble_ClearProgress),XT.SetDouble(Vars.WinReceived,XT.GetDouble(Vars.Gamble_CurrentBalance)),XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!0),null!=this.cat&&this.cat.StartEvent(this.endEvent.id);t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);return t.IsFreeSpin&&!t.IsFreeSpinsGambled?(XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.ResultFreeSpin),UHTAction.ChangeStage(UHTStageName.Transition)):UHTAction.ChangeStage(UHTStageName.Result)}return UHTAction.NoAction()},StageGamble.prototype.UHTFinish=function(){XT.UnregisterCallbackObject(this.OnResultReceived,this),XT.UnregisterCallbackEvent(this.OnPressedGambleCollect,this),XT.UnregisterCallbackEvent(this.OnMustCloseGamble,this),XT.UnregisterCallbackEvent(this.OnPick,this)},StageGamble.prototype.Init=function(){var t;XT.RegisterCallbackObject(Vars.FromServer_GambleResult,this.OnResultReceived,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_GambleCollect,this.OnPressedGambleCollect,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_GambleClose,this.OnMustCloseGamble,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_GamblePick,this.OnPick,this),null!=XT.GetObject(Vars.FromServer_GambleHistory)&&(t=XT.GetObject(Vars.FromServer_GambleHistory),XT.SetDouble(Vars.Gamble_CurrentBalance,t.WinAmount),XT.TriggerEvent(Vars.Evt_Internal_Gamble_DisplayHistory)),XT.SetDouble(Vars.Gamble_FinalBalanceDisplayed,0),this.canPick=!0,this.atLeastOnePick=!1},StageGamble.prototype.OnPick=function(){this.canPick&&(this.canPick=!1,this.atLeastOnePick=!0,XT.SetBool(Vars.SkipNextBigWin,!1),XT.TriggerEvent(Vars.Evt_ToServer_GamblePicked))},StageGamble.prototype.OnResultReceived=function(t){switch(this.lastGambleResponse=t,XT.SetDouble(Vars.Gamble_CurrentBalance,this.lastGambleResponse.GetBalance()),XT.SetInt(Vars.Gamble_PickResult_ItemID,this.lastGambleResponse.GetCard()),XT.TriggerEvent(Vars.Evt_Internal_Gamble_PickResult_Handled),this.lastGambleResponse.GetState()){case GamblingState.Win:XT.TriggerEvent(Vars.Evt_CodeToData_Gamble_PickResult_Win);break;case GamblingState.Lose:XT.TriggerEvent(Vars.Evt_CodeToData_Gamble_PickResult_Lose);break;case GamblingState.WinLimit:XT.TriggerEvent(Vars.Evt_CodeToData_Gamble_PickResult_WinLimit)}this.canPick=!0},StageGamble.prototype.OnMustCloseGamble=function(){this.mustHideGamble=!0},StageGamble.prototype.OnPressedGambleCollect=function(){var t,e;XT.GetBool(Vars.WaitInResultForBigWin)?XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin):(XT.GetBool(Vars.LastWinIsCounting)&&XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),t=XT.GetObject(Vars.BonusData),e=XT.GetObject(Vars.ReceivedFreeSpinsResponse),this.atLeastOnePick||(null!=t&&t.isBonusGambled&&XT.TriggerEvent(Vars.Evt_ToServer_BonusGameFinished),null!=e&&e.IsFreeSpinsGambled&&XT.TriggerEvent(Vars.Evt_ToServer_OnFreeSpinsClosed)),null!=t&&(t.isBonusGambled=!1),XT.TriggerEvent(Vars.Evt_ToServer_RequestGambleClose),XT.TriggerEvent(Vars.Evt_Internal_GambleCloseCurrentResultWindow))},goog.require("UHT.Engine"),goog.require("UHT.UHTStage");var StageTransitionVars={StageTransition_WaitInTransition:"StageTransition_WaitInTransition",Evt_StageTransition_SetWaitInTransition:"Evt_StageTransition_SetWaitInTransition"};function StageTransition(){UHTStage.call(this),this.transitions=[],this.toStageName=UHTStageName.No_Stage,this.fromStageName=UHTStageName.No_Stage,this.transitionCAT=null,this.transitionDone=!1,this.transitionCanWait=!1}StageTransition.prototype=Object.create(UHTStage.prototype),(StageTransition.prototype.constructor=StageTransition).prototype.GetStageName=function(){return UHTStageName.Transition},StageTransition.prototype.XTRegisterCallbacks=function(){},StageTransition.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(StageTransitionVars.StageTransition_WaitInTransition,!1)},StageTransition.prototype.UHTInit=function(){},StageTransition.prototype.UHTUpdate=function(t){var e=XT.GetBool(StageTransitionVars.StageTransition_WaitInTransition);if(t){if(this.fromStageName=XT.GetObject(Vars.FromStageName),this.toStageName=XT.GetObject(Vars.ToStageName),this.transitionCAT=this.GetCAT(this.fromStageName,this.toStageName),null!=this.transitionCAT)this.transitionCAT.RegisterCallback(0,this.TransitionToStageDone,this),this.transitionCAT.StartEvent(0);else if(!this.transitionCanWait||!e)return UHTAction.ChangeStage(this.toStageName)}else if((!this.transitionCanWait||!e)&&this.transitionDone)return this.transitionDone=!1,UHTAction.ChangeStage(this.toStageName);return UHTAction.NoAction()},StageTransition.prototype.UHTFinish=function(){null!=this.transitionCAT&&this.transitionCAT.StartEvent(1)},StageTransition.prototype.TransitionToStageDone=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&(this.transitionDone=!0)},StageTransition.prototype.GetCAT=function(t,e){for(var i=0;i<this.transitions.length;i++)if(this.transitions[i].fromStageName==t&&this.transitions[i].toStageName==e)return this.transitionCanWait=this.transitions[i].canWait,this.transitions[i].transitionCAT;return this.transitionCanWait=!1,null},goog.require("UHT.Engine"),goog.require("UHT.UHTStage");var StageResultFreeSpinVars={ResultFS_VarsToUpdateWithWin:"ResultFS_VarsToUpdateWithWin",Evt_Internal_ResultFS_VarsToUpdateWithWinUpdated:"Evt_Internal_ResultFS_VarsToUpdateWithWinUpdated"};function StageResultFreeSpin(){UHTStage.call(this),this.transition=null,this.transitionFast=null,this.additionalFreeSpins=null,this.minimalResultDisplayAtFreeSpinsPrepare=!1,this.bypassNoWinFSWindow=!0,this.shouldClearMysteryScattersOnFSClose=!0,this.mustSpin=!1,this.changeToResult=!1,this.changeToFSBG=!1,this.freeSpinsEnded=!1,this.fsr=null,this.prepareToOpenBonus=!1,this.mustOpenBonus=!1,this.mustOpenGamble=!1,this.isJackpotWinOnScreen=!1,this.isRespin=!1,this.totalWinReceivedSoFarInFS=0,this.firstTimeInFSResult=!0,this.fsStartConfirmed=!0,this.shouldEnterFS=!1,this.mustStartFSSounds=!1,this.transitionWasStarted=!1,this.varsToUpdateWhenWinIsUpdated={}}function ReelSetPatcher_PBlinders(){XTLink.call(this),this.setsToPatch=null,this.reelsToPatch=null,this.symbolsToRemove=null,this.symbolInstancesToKeep=null,this.minReelLengthAfterPatch=20}function BlackBandsArranger(){XTLink.call(this),this.bands=null,this.isInit=!1}function AnchorToUILabel(){Component.call(this),this.targetLabel=null,this.updateSpriteSize=!1,this.extraSize=0,this.keepAspectRatio=!1,this.snapToLabelsPosition=!1,this.labelPositionOffset=UHTMath.Vector3.zero,this.transformToChangeIfSnap=null,this.labelScale=null,this.curWidth=-1}function MultipleLabelAnchor(){Component.call(this),this.labels=null,this.spacing=0,this.alignment=MultipleLabelAnchor.Alignment.Right,this.maxWidth=0,this.ignoreInactiveLabels=!1,this.anyPivots=!1,this.cachedLabelWidths=[],this.cachedActiveState=[],this.mustForcedNextUpdate=!1,this.initialScale=null,this.width=0}function SkipIntroButtonController(){XTLink.call(this),this.buttonSkipToOn=null,this.buttonSkipToOff=null}StageResultFreeSpin.prototype=Object.create(UHTStage.prototype),(StageResultFreeSpin.prototype.constructor=StageResultFreeSpin).prototype.GetStageName=function(){return UHTStageName.ResultFreeSpin},StageResultFreeSpin.prototype.XTRegisterCallbacks=function(){},StageResultFreeSpin.prototype.XTInitVariablesAndEvents=function(){XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed,0),XT.SetDouble(Vars.FreeSpinsWinDisplayed,0),XT.SetInt(Vars.AdditionalFreeSpinsWon,0),XT.SetDouble(Vars.FreeSpinsWinMultipliedDisplayed,0),XT.SetDouble(Vars.FreeSpinsTotalWinDisplayed,0),XT.SetDouble(Vars.FreeSpinsTotalWinMultipliedDisplayed,0),XT.SetDouble(Vars.FreeSpinsConsolationPrize,0),XT.SetBool(Vars.FromServer_MustOpenFSBG,!1),XT.SetBool(Vars.Internal_FSBGJustClosed,!1),XT.SetObject(StageResultFreeSpinVars.ResultFS_VarsToUpdateWithWin,this.varsToUpdateWhenWinIsUpdated),XT.SetBool(Vars.FreeSpinsEndedOverride,!1)},StageResultFreeSpin.prototype.UHTInit=function(){},StageResultFreeSpin.prototype.UHTUpdate=function(t){if(t){CoinManager.SetStrictBetMode(!0),XT.SetInt(Vars.AdditionalFreeSpinsWon,0),XT.SetBool(Vars.Logic_IsFreeSpin,!0),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Stop,this.OnPressedStop,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated,this.OnBalanceUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_FreeSpinsWindowWinCollectPressed,this.OnWinResultCollectPressed,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_FreeSpinsWindowLoseCollectPressed,this.OnLoseResultCollectPressed,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone,this.OnResultDisplayerLoopDone,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_ConfirmFSStart,this.OnConfirmFSStart,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed,this.OnBonusRoundsContinuePressed,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Gamble_FreeSpinsResult,this.OnPressedGamble,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_GambleOpen,this.OnMustOpenGamble,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_CollectJackpotPressed,this.OnJackpotCollected,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWin,this.OnRequestToUpdateDisplayedWin,this),AutoplayManager.TestAdvancedStopConditions();t=XT.GetObject(Vars.BonusRoundsData);null!=t&&t.Type==VsFreeRound.RoundType.Timed&&BonusRoundsController.HandleNextEvent(!1,!1,!0),this.fsr=XT.GetObject(Vars.ReceivedFreeSpinsResponse),this.prepareToOpenBonus=XT.GetBool(Vars.MustOpenBonus);t=XT.GetObject(Vars.RespinData);this.isRespin=null!=t&&!t.IsDone,this.UpdateGambleButtonState(),XT.SetDouble(Vars.FreeSpinsWinDisplayed,this.fsr.CurrentWin),this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsWinMultipliedDisplayed]=this.fsr.CurrentWinMultiplied,XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed,this.fsr.TotalMultiplier),this.fsr.IsFreeSpin&&!this.fsr.IsLastFreeSpin?(XT.SetInt(Vars.AdditionalFreeSpinsWon,this.fsr.AdditionalSpins),XT.SetInt(Vars.MaxFreeSpinsDisplayed,this.fsr.MaxSpins)):XT.SetInt(Vars.FreeSpinsLeftDisplayed,0),this.fsr.IsFreeSpinsStart||null!=XT.GetObject(Vars.FreeSpinOptions)&&XT.GetBool(Vars.FromServer_MustOpenFSBG)||XT.GetBool(Vars.OpenFSBGForMysteryScatter)?(UHTInterfaceBOSS.PostMessage("freeSpinStarted"),this.fsStartConfirmed=!1,!this.prepareToOpenBonus&&XT.GetBool(Vars.Internal_FSBGJustClosed)?(XT.SetBool(Vars.Internal_FSBGJustClosed,!1),this.ReallyEnterFreeSpins()):XT.GetBool(Vars.BonusTriggersFSBG)?VSGameStateManager.ChangeTo(VSGameState.FSBG):null==XT.GetObject(Vars.FreeSpinsChainData)&&(XT.SetDouble(Vars.WinDisplayed,0),this.varsToUpdateWhenWinIsUpdated[Vars.WinDisplayed]=XT.GetDouble(Vars.WinReceived),XT.SetDouble(Vars.TotalLinesWinDisplayed,0),this.varsToUpdateWhenWinIsUpdated[Vars.TotalLinesWinDisplayed]=XT.GetDouble(Vars.TotalLinesWinReceived),VSGameStateManager.ChangeTo(VSGameState.ResultFreeSpinsPrepare)),this.varsToUpdateWhenWinIsUpdated[Vars.BalanceDisplayed]=XT.GetDouble(Vars.BalanceReceived),this.varsToUpdateWhenWinIsUpdated[Vars.BonusBalance]=XT.GetDouble(Vars.BonusBalanceReceived),XT.SetBool(Vars.ResultDisplayerMinimalMode,this.minimalResultDisplayAtFreeSpinsPrepare)):this.fsr.IsFreeSpin&&(XT.SetDouble(Vars.FreeSpinsLastWinDisplayed,0),this.fsr.IsLastFreeSpin&&null==XT.GetObject(Vars.TumblingData)?this.firstTimeInFSResult?(XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!0),XT.SetDouble(Vars.FreeSpinsWinMultipliedDisplayed,this.fsr.CurrentWinMultiplied),XT.SetDouble(Vars.SpinCycleWinDisplayed,XT.GetDouble(Vars.SpinCycleWinReceived))):0<XT.GetDouble(Vars.TumblingWin)?this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsLastWinDisplayed]=XT.GetDouble(Vars.WinReceived)*this.fsr.TotalMultiplier:(0<XT.GetDouble(Vars.FreeSpinsConsolationPrize)&&(this.totalWinReceivedSoFarInFS+=XT.GetDouble(Vars.FreeSpinsConsolationPrize)),e=(this.fsr.CurrentWin-this.totalWinReceivedSoFarInFS)*this.fsr.TotalMultiplier,XT.GetBool(Vars.WinLimitReached)&&(e=this.fsr.CurrentWin-this.totalWinReceivedSoFarInFS*this.fsr.TotalMultiplier),this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsLastWinDisplayed]=e<0?0:e):(this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsLastWinDisplayed]=XT.GetDouble(Vars.WinReceived)*this.fsr.TotalMultiplier,this.totalWinReceivedSoFarInFS=this.fsr.CurrentWin),XT.SetBool(Vars.ResultDisplayerMinimalMode,!0),VSGameStateManager.ChangeTo(VSGameState.ResultFreeSpins),this.transitionWasStarted||(AutoplayManager.ResetSettings(),this.transitionWasStarted=!0,null!=this.transitionFast&&this.transitionFast.Start())),0<XT.GetDouble(Vars.FreeSpinsConsolationPrize)?this.varsToUpdateWhenWinIsUpdated[Vars.SpinCycleWinDisplayed]=XT.GetDouble(Vars.SpinCycleWinReceived)-XT.GetDouble(Vars.FreeSpinsConsolationPrize):this.varsToUpdateWhenWinIsUpdated[Vars.SpinCycleWinDisplayed]=XT.GetDouble(Vars.SpinCycleWinReceived);var e=(XT.GetDouble(Vars.WinReceived)-XT.GetDouble(Vars.TotalLinesWinReceived))*this.fsr.TotalMultiplier;XT.SetDouble(Vars.MysteryScatterWinDisplayed,0),this.varsToUpdateWhenWinIsUpdated[Vars.MysteryScatterWinDisplayed]=e,XT.SetDouble(Vars.TotalScattersWinDisplayed,0),this.varsToUpdateWhenWinIsUpdated[Vars.TotalScattersWinDisplayed]=e,XT.TriggerEvent(StageResultFreeSpinVars.Evt_Internal_ResultFS_VarsToUpdateWithWinUpdated),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_Prepare),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop)}else{if(XT.SetBool(Vars.Internal_FSBGJustClosed,!1),this.mustOpenBonus&&!XT.GetBool(Vars.LastWinIsCounting)){if(XT.GetBool(BGVars.BonusDataReceived)){this.mustOpenBonus=!1,XT.SetBool(BGVars.BonusDataReceived,!1),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup);e=XT.GetObject(Vars.ReceivedFreeSpinsResponse);return null!=e&&(XT.SetInt(Vars.CurrentFreeSpinDisplayed,e.CurrentSpin),XT.SetInt(Vars.FreeSpinsLeftDisplayed,e.MaxSpins-e.CurrentSpin)),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Bonus),UHTAction.ChangeStage(UHTStageName.Transition)}return UHTAction.NoAction()}if(this.mustOpenGamble=null!=XT.GetObject(Vars.GambleV2Data)&&XT.GetBool(Vars.CanSpin)&&!XT.GetBool(Vars.LastWinIsCounting),this.mustOpenGamble)return this.mustOpenGamble=!1,XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!0),XT.SetDouble(Vars.Gamble_CurrentBalance,XT.GetDouble(Vars.FreeSpinsWinMultipliedDisplayed)),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Gamble),UHTAction.ChangeStage(UHTStageName.Transition);if(this.changeToResult)return this.changeToResult=!1,AutoplayManager.RestoreSettings(),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Result),UHTInterfaceBOSS.PostMessage("freeSpinEnded"),UHTInterfaceBOSS.PostMessage("gameRoundEnded"),UHTAction.ChangeStage(UHTStageName.Transition);if(this.shouldEnterFS&&0==XT.GetBool(Vars.WaitInResultForBigWin)&&0==XT.GetBool(Vars.LastWinIsCounting)&&(XT.GetBool(Vars.SpinBlockingFeatureIsRunning)||(this.shouldEnterFS=!1,this.ReallyEnterFreeSpins())),this.freeSpinsEnded&&0==XT.GetBool(Vars.WaitInResultForBigWin)&&0==XT.GetBool(Vars.LastWinIsCounting)){if(this.freeSpinsEnded=!1,XT.GetBool(Vars.OpenFSBGForMysteryScatter)&&XT.GetBool(Vars.FromServer_MustOpenFSBG))return XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetBool(Vars.FromServer_MustOpenFSBG,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.FSBG),UHTAction.ChangeStage(UHTStageName.Transition);XT.SetBool(Vars.SkipNextBigWin,!0);var i=this.fsr.TotalSpins,n=XT.GetObject(Vars.FreeSpinsChainData);if(null!=n&&n.HasPreviousChainInformation())for(var i=0,o=0;o<n.FSCSpinsTotal.length;o++)i+=n.FSCSpinsTotal[o];XT.SetInt(Vars.TotalFreeSpinsChainDisplayed,i),XT.SetInt(Vars.TotalFreeSpinsDisplayed,this.fsr.TotalSpins),XT.SetDouble(Vars.FreeSpinsTotalWinDisplayed,this.fsr.TotalWin),XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed,this.fsr.TotalMultiplier),XT.SetDouble(Vars.FreeSpinsTotalWinMultipliedDisplayed,XT.GetDouble(Vars.SpinCycleWinReceived)),0<XT.GetDouble(Vars.SpinCycleWinReceived)?(XT.SetDouble(Vars.FSResultWindowTotalWinMultipliedDisplayed,0),XT.SetDouble(Vars.FSResultWindowTotalWinMultipliedDisplayed,XT.GetDouble(Vars.SpinCycleWinReceived)),XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsShowWindowWin)):this.bypassNoWinFSWindow?this.OnLoseResultCollectPressed():XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsShowWindowLose),0==XT.GetBool(Vars.CanGamble_FreeSpin)&&XT.TriggerEvent(Vars.Evt_ToServer_OnFreeSpinsClosed)}if(this.mustSpin&&0==XT.GetBool(Vars.WaitInResultForBigWin)&&0==XT.GetBool(Vars.LastWinIsCounting)||this.changeToFSBG){if(XT.GetBool(Vars.FSStartNeedsConfirmation)&&!this.fsStartConfirmed)return UHTAction.NoAction();if(this.mustStartFSSounds&&(XT.TriggerEvent(Vars.Evt_Internal_SwitchToFSSounds),this.mustStartFSSounds=!1),XT.GetBool(Vars.FromServer_MustOpenFSBG))return this.changeToFSBG=!1,XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetBool(Vars.FromServer_MustOpenFSBG,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.FSBG),UHTAction.ChangeStage(UHTStageName.Transition);if(!XT.GetBool(Vars.WaitInResultForBigWin)&&!XT.GetBool(Vars.SpinBlockingFeatureIsRunning))return this.mustSpin=!1,XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Spin),UHTAction.ChangeStage(UHTStageName.Transition)}}return UHTAction.NoAction()},StageResultFreeSpin.prototype.UHTFinish=function(){for(var t in this.firstTimeInFSResult=!1,this.varsToUpdateWhenWinIsUpdated)this.varsToUpdateWhenWinIsUpdated.hasOwnProperty(t)&&delete this.varsToUpdateWhenWinIsUpdated[t];XT.UnregisterCallbackEvent(this.OnPressedStop,this),XT.UnregisterCallbackEvent(this.OnBalanceUpdated,this),XT.UnregisterCallbackEvent(this.OnWinResultCollectPressed,this),XT.UnregisterCallbackEvent(this.OnLoseResultCollectPressed,this),XT.UnregisterCallbackEvent(this.OnResultDisplayerLoopDone,this),XT.UnregisterCallbackEvent(this.OnConfirmFSStart,this),XT.UnregisterCallbackEvent(this.OnPressedGamble,this),XT.UnregisterCallbackEvent(this.OnMustOpenGamble,this),XT.UnregisterCallbackEvent(this.OnJackpotCollected,this),XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin,this),XT.UnregisterCallbackEvent(this.OnBonusRoundsContinuePressed,this)},StageResultFreeSpin.prototype.OnPressedStop=function(){XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)},StageResultFreeSpin.prototype.ReadyForSpin=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&(XT.GetBool(Vars.FromServer_MustOpenFSBG)||VSGameStateManager.ChangeTo(VSGameState.ResultFreeSpins),this.transition.cat.UnregisterCallback(this.transition.id,this.ReadyForSpin,this),this.additionalFreeSpins.cat.UnregisterCallback(this.additionalFreeSpins.id,this.ReadyForSpin,this)),this.mustSpin=!0},StageResultFreeSpin.prototype.OnBalanceUpdated=function(){0==XT.GetBool(Vars.BalanceDisplayedIsAnimating)&&(XT.SetDouble(Vars.BalanceDisplayed,XT.GetDouble(Vars.BalanceReceived)),XT.SetDouble(Vars.BonusBalance,XT.GetDouble(Vars.BonusBalanceReceived)))},StageResultFreeSpin.prototype.OnPressedGamble=function(){this.freeSpinsEnded=!1,this.fsr.IsFreeSpinsGambled=!0,XT.SetBool(Vars.Logic_IsFreeSpin,!1),XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsEnded),XT.GetBool(Vars.WaitInResultForBigWin)?XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin):(XT.GetBool(Vars.LastWinIsCounting)&&XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),XT.TriggerEvent(Vars.Evt_ToServer_RequestGambleOpen))},StageResultFreeSpin.prototype.OnMustOpenGamble=function(){XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsCloseWindowWin),this.mustOpenGamble=!0},StageResultFreeSpin.prototype.UpdateGambleButtonState=function(){XT.GetBool(Vars.FromServer_CanGambleSpinWin)&&!XT.GetBool(Vars.ForceDisableGambleSpinWin)?XT.TriggerEvent(Vars.Evt_Internal_EnableGambleButton):XT.TriggerEvent(Vars.Evt_Internal_DisableGambleButton)},StageResultFreeSpin.prototype.IsJackpotWin=function(){return XT.GetBool(Vars.FromServer_IsJackpotWin)&&!this.isJackpotWinOnScreen&&(XT.GetBool(Vars.WaitInResultForBigWin)||XT.GetBool(Vars.LastWinIsCounting)||(this.isJackpotWinOnScreen=!0)),XT.GetBool(Vars.FromServer_IsJackpotWin)},StageResultFreeSpin.prototype.OnJackpotCollected=function(){XT.GetBool(Vars.WaitInResultForBigWin)?XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin):(XT.GetBool(Vars.LastWinIsCounting)&&XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),XT.SetBool(Vars.FromServer_IsJackpotWin,!1),this.isJackpotWinOnScreen=!1)},StageResultFreeSpin.prototype.OnResultDisplayerLoopDone=function(){if(this.IsJackpotWin()||XT.GetBool(Vars.LastWinIsCounting)||XT.GetBool(ResultDisplayerVars.ResultDisplayer_DoExtraLoop))XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop);else if(this.prepareToOpenBonus)this.mustOpenBonus=!0;else if(this.fsr.IsLastFreeSpin){if(this.IsAutoRespin())this.mustSpin=!0;else if(!this.IsFSChainedSession()){if(XT.GetBool(Vars.FreeSpinsEndedOverride))return XT.SetBool(Vars.FreeSpinsEndedOverride,!1),void(this.mustSpin=!0);0<XT.GetDouble(Vars.FreeSpinsConsolationPrize)&&(XT.SetDouble(Vars.SpinCycleWinDisplayed,XT.GetDouble(Vars.SpinCycleWinReceived)),XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)),this.freeSpinsEnded=!0,this.transitionWasStarted=!1,XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!0)}}else this.fsr.IsFreeSpinsStart?this.shouldEnterFS=!0:0<XT.GetInt(Vars.AdditionalFreeSpinsWon)?(this.additionalFreeSpins.cat.RegisterCallback(this.additionalFreeSpins.id,this.ReadyForSpin,this),this.additionalFreeSpins.Start()):this.mustSpin=!0},StageResultFreeSpin.prototype.OnWinResultCollectPressed=function(){XT.GetBool(Vars.WaitInResultForBigWin)?XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin):(XT.GetBool(Vars.LastWinIsCounting)&&XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsCloseWindowWin),XT.TriggerEvent("PS_AnnounceResultShown"),this.OnFreeSpinsClosed())},StageResultFreeSpin.prototype.OnLoseResultCollectPressed=function(){XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsCloseWindowLose),this.OnFreeSpinsClosed()},StageResultFreeSpin.prototype.IsFSChainedSession=function(){var t=XT.GetObject(Vars.FreeSpinsChainData),e=XT.GetObject(Vars.ReceivedFreeSpinsResponse);return null!=t&&0<e.MaxSpins&&(XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed,e.TotalMultiplier),XT.SetInt(Vars.FreeSpinsLeftDisplayed,e.MaxSpins),this.mustStartFSSounds=!0,XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsStarted),XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),this.transitionWasStarted=!0,this.transition.cat.RegisterCallback(this.transition.id,this.ReadyForSpin,this),this.transition.Start(),!0)},StageResultFreeSpin.prototype.OnFreeSpinsClosed=function(){XT.GetBool(Vars.FromServer_MustOpenFSBG)?this.changeToFSBG=!0:this.changeToResult=!0,this.freeSpinsEnded=!1,this.shouldClearMysteryScattersOnFSClose&&XT.SetObject(Vars.MysteryScatterSymbolIds,[]),XT.SetBool(Vars.Logic_IsFreeSpin,!1),XT.GetBool(Vars.CanGamble_FreeSpin)&&XT.TriggerEvent(Vars.Evt_ToServer_OnFreeSpinsClosed),XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsEnded)},StageResultFreeSpin.prototype.ReallyEnterFreeSpins=function(){this.mustStartFSSounds=!0,XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsStarted),XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),this.fsr=XT.GetObject(Vars.ReceivedFreeSpinsResponse),XT.SetInt(Vars.CurrentFreeSpinDisplayed,0),XT.SetDouble(Vars.FreeSpinsLastWinDisplayed,0),this.totalWinReceivedSoFarInFS=0,XT.SetInt(Vars.FreeSpinsLeftDisplayed,this.fsr.MaxSpins),AutoplayManager.ResetSettings(),this.transitionWasStarted=!0,this.transition.cat.RegisterCallback(this.transition.id,this.ReadyForSpin,this),this.transition.Start()},StageResultFreeSpin.prototype.OnConfirmFSStart=function(){this.fsStartConfirmed=!0},StageResultFreeSpin.prototype.OnRequestToUpdateDisplayedWin=function(){for(var t in this.varsToUpdateWhenWinIsUpdated)XT.SetDouble(t,this.varsToUpdateWhenWinIsUpdated[t]);XT.TriggerEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI),XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin,this)},StageResultFreeSpin.prototype.IsAutoRespin=function(){return this.isRespin&&!XT.GetBool(Vars.ManualRespin)},StageResultFreeSpin.prototype.OnBonusRoundsContinuePressed=function(){var t=XT.GetObject(Vars.BonusRoundsData);null!=t&&t.Type!=VsFreeRound.RoundType.Timed||(XT.TriggerEvent(Vars.Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows),XT.SetBool(Vars.CanSpin,!0),this.OnBonusRoundsInfoUpdated())},StageResultFreeSpin.prototype.OnBonusRoundsInfoUpdated=function(){var t=BonusRoundsController.HandleNextEvent(!1,!0,!1);CoinManager.SetStrictBetMode(t.isBonusRounds);var e=(t=BonusRoundsController.HandleNextEvent(!1,!1,!0)).isBonusRounds,t=t.messageIsOpened;XT.GetObject(Vars.BonusRoundsData);0==t&&CoinManager.SetStrictBetMode(e)},goog.require("UHT.Engine"),ReelSetPatcher_PBlinders.prototype=Object.create(XTLink.prototype),(ReelSetPatcher_PBlinders.prototype.constructor=ReelSetPatcher_PBlinders).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.ReelSets,this.OnReelSetsObject,this)},ReelSetPatcher_PBlinders.prototype.OnReelSetsObject=function(t){if(null!=t)for(var e=0;e<this.setsToPatch.length;e++)for(var i=0;i<this.reelsToPatch.length;i++){for(var n=t[this.setsToPatch[e]][this.reelsToPatch[i]],o=0;o<this.symbolsToRemove.length;o++)for(var s=0,r=0;r<n.length;r++)n[r]==this.symbolsToRemove[o]&&(s<this.symbolInstancesToKeep[o]?s++:n.splice(r,1));for(;n.length<this.minReelLengthAfterPatch;){var a=n[Random.Range(0,n.length)];-1==this.symbolsToRemove.indexOf(a)&&n.push(a)}}},goog.require("UHT.XTLink"),BlackBandsArranger.prototype=Object.create(XTLink.prototype),(BlackBandsArranger.prototype.constructor=BlackBandsArranger).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated,this.OnBlackBandsUpdated,this)},BlackBandsArranger.prototype.OnBlackBandsUpdated=function(t){this.isInit||(GUIArranger.InitBands(this.bands),this.isInit=!0),GUIArranger.UpdateBands(this.bands)},goog.require("UHT.Engine"),AnchorToUILabel.prototype=Object.create(Component.prototype),(AnchorToUILabel.prototype.constructor=AnchorToUILabel).prototype.scriptUpdatePriority=9,AnchorToUILabel.prototype.Update=function(){var t,e,i=this.targetLabel.GetWidth();(i=null!=this.labelScale?Math.round(i*this.labelScale.localScale().x):i)!=this.curWidth&&this.updateSpriteSize&&(this.curWidth=i,t=(e=this.GetComponent(UISprite)).width,e.width=i+this.extraSize,this.keepAspectRatio&&(e.height=e.height*(e.width/t)|0),e.SetSpriteName(e.spriteName)),this.snapToLabelsPosition&&0==this.transformToChangeIfSnap.position().equals(this.targetLabel.transform.position())&&(e=this.targetLabel.transform.transformPoint(new UHTMath.Vector3(this.targetLabel.GetWidth()*this.labelPositionOffset.x,this.targetLabel.GetHeight()*this.labelPositionOffset.y,0)),this.transformToChangeIfSnap.position(new UHTMath.Vector3(e.x,e.y,this.transformToChangeIfSnap.position().z)))},goog.require("UHT.Engine"),MultipleLabelAnchor.prototype=Object.create(Component.prototype),(MultipleLabelAnchor.prototype.constructor=MultipleLabelAnchor).prototype.scriptUpdatePriority=8,MultipleLabelAnchor.Alignment={Right:0,Left:1,Center:2},MultipleLabelAnchor.pivotLeft=0,MultipleLabelAnchor.pivotCenter=.5,MultipleLabelAnchor.pivotRight=1,MultipleLabelAnchor.prototype.IsPivot=function(t,e){return Math.abs(t-e)<.1},MultipleLabelAnchor.prototype.Start=function(){this.initialScale=this.gameObject.transform.localScale();for(var t=0;t<this.labels.length;t++)this.cachedLabelWidths.push(-69),this.cachedActiveState.push(!1)},MultipleLabelAnchor.prototype.Update=function(){var t=0,e=!1;for(t=0;t<this.labels.length;t++){var i=this.labels[t].GetWidth();(i!=this.cachedLabelWidths[t]||this.ignoreInactiveLabels&&this.labels[t].gameObject.activeInHierarchy!=this.cachedActiveState[t])&&(this.cachedLabelWidths[t]=i,this.cachedActiveState[t]=this.labels[t].gameObject.activeInHierarchy,e=!0)}if(e||this.mustForcedNextUpdate){this.mustForcedNextUpdate=!1;var n,o,s=0;for(t=0;t<this.labels.length;t++)this.ignoreInactiveLabels&&0==this.cachedActiveState[t]||(n=(this.alignment==MultipleLabelAnchor.Alignment.Left?-1:1)*s,o=this.labels[t].gameObject.transform.localPosition(),this.labels[t].gameObject.transform.localPosition(n,o.y,o.z),s+=this.cachedLabelWidths[t]+this.spacing);var r,a=s-this.spacing;if(this.alignment==MultipleLabelAnchor.Alignment.Center)for(var l,u=a/2,t=0;t<this.labels.length;t++)this.ignoreInactiveLabels&&0==this.cachedActiveState[t]||(l=this.labels[t].gameObject.transform.localPosition().x-u,o=this.labels[t].gameObject.transform.localPosition(),this.labels[t].gameObject.transform.localPosition(l,o.y,o.z));if(this.anyPivots)for(t=0;t<this.labels.length;t++)this.ignoreInactiveLabels&&0==this.cachedActiveState[t]||(this.alignment==MultipleLabelAnchor.Alignment.Center||this.alignment==MultipleLabelAnchor.Alignment.Right?this.IsPivot(MultipleLabelAnchor.pivotCenter,this.labels[t].anchorX)?(o=this.labels[t].gameObject.transform.localPosition(),this.labels[t].gameObject.transform.localPosition(o.x+.5*this.labels[t].GetWidth(),o.y,o.z)):this.IsPivot(MultipleLabelAnchor.pivotRight,this.labels[t].anchorX)&&(o=this.labels[t].gameObject.transform.localPosition(),this.labels[t].gameObject.transform.localPosition(o.x+this.labels[t].GetWidth(),o.y,o.z)):this.IsPivot(MultipleLabelAnchor.pivotCenter,this.labels[t].anchorX)?(o=this.labels[t].gameObject.transform.localPosition(),this.labels[t].gameObject.transform.localPosition(o.x-.5*this.labels[t].GetWidth(),o.y,o.z)):this.IsPivot(MultipleLabelAnchor.pivotLeft,this.labels[t].anchorX)&&(o=this.labels[t].gameObject.transform.localPosition(),this.labels[t].gameObject.transform.localPosition(o.x-this.labels[t].GetWidth(),o.y,o.z)));0<this.maxWidth&&a>this.maxWidth?(r=this.maxWidth/a,this.gameObject.transform.localScale(r,r,this.initialScale.z)):this.gameObject.transform.localScale(this.initialScale),this.width=a}},MultipleLabelAnchor.prototype.ForceNextUpdate=function(){this.mustForcedNextUpdate=!0},MultipleLabelAnchor.prototype.DiscardCache=function(){this.cachedLabelWidths.splice(0),this.cachedActiveState.splice(0);for(var t=0;t<this.labels.length;t++)this.cachedLabelWidths.push(-69),this.cachedActiveState.push(!1)},goog.require("UHT.Engine"),SkipIntroButtonController.prototype=Object.create(XTLink.prototype),(SkipIntroButtonController.prototype.constructor=SkipIntroButtonController).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.ShouldDisplayIntro,this.UpdateState,this)},SkipIntroButtonController.prototype.OnDestroy=function(){XT.UnregisterCallbackBool(this.UpdateState,this)},SkipIntroButtonController.prototype.UpdateState=function(t){this.buttonSkipToOff.SetActive(!t),this.buttonSkipToOn.SetActive(t)},SkipIntroButtonController.prototype.OnClick=function(){XT.SetBool(Vars.ShouldDisplayIntro,!XT.GetBool(Vars.ShouldDisplayIntro)),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)},goog.require("UHT.Component"),goog.require("UHT.AudioClip");var WhenToPlay={OnClick:0,OnHover:1,Custom:2},PlayMode={OneShot:0,Loop:1};function SoundPlayer(){Component.call(this),this.audioClip=null,this.whenToPlay=WhenToPlay.Custom,this.playMode=PlayMode.OneShot,this.playOnlyIfEnabled=!1,this.muteBackgroundMusic=!1,this.handler=-1,this.canPlayHoverSound=!0}SoundPlayer.prototype=Object.create(Component.prototype),(SoundPlayer.prototype.constructor=SoundPlayer).prototype.PlaySound=function(){this.InternalPlayClip(this.audioClip)},SoundPlayer.prototype.StopPlayingSound=function(){var t,e;0<=this.handler&&(t=XT.GetObject(Vars.SoundManagerObject),e={handle:this.handler},t.StopLoopingSound(e),this.handler=e.handle,this.muteBackgroundMusic&&t.UnmuteMusic())},SoundPlayer.prototype.OnClick=function(){null!=this.gameObject.collider&&this.gameObject.collider.enabled&&this.whenToPlay==WhenToPlay.OnClick&&this.InternalPlayClip(this.audioClip)},SoundPlayer.prototype.OnHover=function(t){0==t&&(this.canPlayHoverSound=!0),null!=this.gameObject.collider&&this.gameObject.collider.enabled&&t&&this.whenToPlay==WhenToPlay.OnHover&&this.canPlayHoverSound&&(this.InternalPlayClip(this.audioClip),this.canPlayHoverSound=!1)},SoundPlayer.prototype.InternalPlayClip=function(t){if(!this.playOnlyIfEnabled||this.gameObject.activeInHierarchy){var e=XT.GetObject(Vars.SoundManagerObject);switch(this.muteBackgroundMusic&&e.MuteMusic(),this.playMode){case PlayMode.OneShot:e.PlaySimple(t);break;case PlayMode.Loop:this.handler=e.PlayLooping(t)}}},goog.require("UHT.UHTEngine");var V3AnimationProperty={Position:0,LocalScale:1,LocalPosition:2,LocalRotation:3},V3AnimationMode={Default:0,Loop:1,Clamp:2},V3AnimatorAction={NoAction:0,Play:1,PlayReversed:2},V3AnimatorUpdateMethod={Update:0,LateUpdate:1};function V3Animator(){Component.call(this),this.target=null,this.from=null,this.to=null,this.animationTime=0,this.animationCurve=AnimationCurve.linear(0,0,1,1),this.animationProperty=V3AnimationProperty.Position,this.animationMode=V3AnimationMode.Default,this.staticFromAndTo=!1,this.staticFrom=!1,this.staticTo=!1,this.animationCurveX=null,this.animationCurveY=null,this.useXAndYCurves=!1,this.onEnable=V3AnimatorAction.NoAction,this.updateOn=V3AnimatorUpdateMethod.Update,this.callWhenFinished=null,this.callWhenNoChange=null,this.unclamped=!1,this.useMultipleTargets=!1,this.multipleTargets=null,this.useManualFrom=!1,this.manualFrom=null,this.useManualTo=!1,this.manualTo=null,this.affectX=!0,this.affectY=!0,this.affectZ=!0,this.v3From=null,this.v3To=null,this.currentTime=0,this.isPlaying=!1,this.isReversed=!1,this.isStuck=!1,this.stickTime=0,this.prevValue=UHTMath.Vector3.zero,this.valueChanged=!1,this.canStartCallback=!0}function VS_Symbol(){Component.call(this),this.symbolId=0,this.willHighlightOffAfterExciteWin=!0,this.eventNormal=null,this.eventSpinStart=null,this.eventSpinLoop=null,this.eventSpinStop=null,this.eventHighlightOff=null,this.eventHighlightOn=null,this.eventExcited=null,this.eventWinExcited=null,this.eventWinning=null,this.eventSpinLoopExcited=null,this.eventSpinLoopExcitedImportant=null,this.eventFSHighlightOff=null,this.eventStart=null,this.eventStop=null,this.currentStateForInspector=VS_Symbol.State.Invalid,this.internalState=VS_Symbol.State.Invalid,this.lastQueuedState=VS_Symbol.State.Invalid,this.commands=[],this.stopEventSent=!1,this.canProcessNextCommand=!0}function VS_SymbolsManager(){XTLink.call(this),this.SpecialLoopsManager=null,this.hasOnlyLoops=!1,this.pool=null,this.symbols=[],this.symbolIdToIndexMap=[],this.pooledSymbols=[],this.disablePoolNextFrame=!1,this.defaultBufferAmount=10,this.currentInitSymbol=-1}function SymbolsManager_CheckAndSendTrackingInit(){VS_SymbolsManager.initializing+Special_SymbolsManager.initializing==0&&globalTracking.StartTimer("uht_loading","_X_symbolsManager_duration","LoadingTracker")}function SymbolsManager_CheckAndSendTrackingEnd(){VS_SymbolsManager.initializing+Special_SymbolsManager.initializing==0&&globalTracking.StopTimerAndSend("uht_loading","_X_symbolsManager_duration","LoadingTracker")}function VS_ReelSymbolHolder(){XTLink.call(this),this.startAnimation=null,this.startAnimationFastPlay=null,this.loopAnimation=null,this.stopAnimation=null,this.stopAnimationFastPlay=null,this.positionInReel=0,this.orderedSymbolIdx=0,this.parentReel=null,this.currentSymbol=null,this.eventStartDelay=0,this.eventStartDelayFastPlay=0,this.eventStopDelay=0,this.eventStopDelayFastPlay=0,this.canFireStartEvent=!1,this.canFireStopEvent=!1,this.animationState=null,this.animationTime=0,this.animationIsUpdated=!1,this.symbolIsLooper=!1,this.speed=1,this.linkedLooper=null,this.linkedLooperShouldBeDiscarded=!1,this.linkedLooperOffsetY=0,this.lastSymbolId=-1,this.rememberToChangeSymbolState=!1,this.usingFastStartAnimation=!1,this.usingFastStopAnimation=!1,this.state=VS_ReelSymbolHolder.State.IDLE,this.posLayer}function VS_Reel(){Component.call(this),this.reelsManager=null,this.symbolHolders=[],this.symbolLoopHolders=[],this.sortedSymbolHolders=[],this.replaceEmptySymbol=!1,this.emptySymbolReplacements=[],this.stopOffset=1,this.spinInPlace=!1,this.useFastAnimationsInTurboSpin=!1,this.loopDelayAfterStart=0,this.loopDelayAfterFastStart=0,this.reelIndex=0,this.isExcited=!1,this.ExcitedImportantSymbols=null,this.randomStop=!1,this.randomStopDelay=.25,this.lastPosLeftIdx=-1,this.mustStop=!1,this.stopIdx=0,this.symbolList=[],this.stopPosition=0,this.rememberedStopPosition=0,this.currentPosition=0,this.holdersSpinning=0,this.internalCounterInPlace=0,this.randomizedStopIdx=[],this.willRandomStopIdx=0,this.randomStopTimer=0,this.cs_stopCounter=0,this.mustSortHolders=!1,this.lastSymbolEntered=-1,this.delayStopToAvoidStacks=ReelDelayStopType.NO,this.speedCurveTimer=0,this.speedCurve=null,this.needToUpdateSymbolsDepth=!1,this.reelScreenSymbols=[],this.applySpinInPlaceExtraSettings=!1,this.lastLooperIndexForHolder=[]}V3Animator.prototype=Object.create(Component.prototype),(V3Animator.prototype.constructor=V3Animator).prototype.Play=function(){this.currentTime=0,this.isPlaying=!0,this.isReversed=!1,this.GetFromAndTo()},V3Animator.prototype.PlayReversed=function(){this.currentTime=0,this.isPlaying=!0,this.isReversed=!0,this.GetFromAndTo()},V3Animator.prototype.Stop=function(){this.currentTime=0,this.isPlaying=!1},V3Animator.prototype.Pause=function(){this.isPlaying=!1},V3Animator.prototype.Resume=function(){this.isPlaying=!0},V3Animator.prototype.IsPlaying=function(){return this.isPlaying},V3Animator.prototype.Sample=function(t){this.isPlaying=!1,this.isReversed=!1,this.GetFromAndTo(),this.UpdateValue(Number(t))},V3Animator.prototype.SampleAndSetCurrentTime=function(t){t=Number(t),this.Sample(t),this.currentTime=t*this.animationTime},V3Animator.prototype.Stick=function(t){this.isStuck=!0,this.stickTime=Number(t)},V3Animator.prototype.Unstick=function(){this.isStuck=!1},V3Animator.prototype.InternalUpdate=function(){this.isPlaying&&(this.GetFromAndTo(!0),this.UpdateValue(this.currentTime/this.animationTime),this.currentTime>=this.animationTime&&(this.animationMode==V3AnimationMode.Default?(this.isPlaying=!1,null!=this.callWhenFinished&&this.canStartCallback&&this.callWhenFinished.Start()):this.animationMode==V3AnimationMode.Loop&&(this.currentTime-=this.animationTime,this.UpdateValue(this.currentTime/this.animationTime))),!this.valueChanged&&0<this.currentTime&&null!=this.callWhenNoChange&&null!=this.callWhenNoChange.cat&&this.callWhenNoChange.Start(),this.currentTime+=Time.deltaTime),this.isStuck&&(this.GetFromAndTo(!0),this.UpdateValue(this.stickTime))},V3Animator.prototype.GetFromAndTo=function(t){var e=UHTMath.Vector3.zero,i=UHTMath.Vector3.zero;switch(this.animationProperty){case V3AnimationProperty.Position:this.useManualFrom||(e=this.from.transform.position()),this.useManualTo||(i=this.to.transform.position());break;case V3AnimationProperty.LocalPosition:this.useManualFrom||(e=this.from.transform.localPosition()),this.useManualTo||(i=this.to.transform.localPosition());break;case V3AnimationProperty.LocalRotation:this.useManualFrom||(e=this.from.transform.localEulerAngles()),this.useManualTo||(i=this.to.transform.localEulerAngles());break;case V3AnimationProperty.LocalScale:this.useManualFrom||(e=this.from.transform.localScale()),this.useManualTo||(i=this.to.transform.localScale())}t=Boolean(t),this.useManualFrom?this.v3From=this.manualFrom:t&&this.staticFrom||(this.v3From=e),this.useManualTo?this.v3To=this.manualTo:t&&this.staticTo||(this.v3To=i)},V3Animator.prototype.Evaluate=function(t){var e=UHTMath.clamp(t,0,1);this.isReversed&&(e=1-e),e*=this.animationCurve.keys[this.animationCurve.keys.length-1].time;var i,n,o=this.animationCurve,s=this.animationCurve,t=this.animationCurve;return this.useXAndYCurves&&(o=this.animationCurveX,s=this.animationCurveY),e=this.unclamped?(i=UHTMath.lerpUnclamped(this.v3From.x,this.v3To.x,o.Evaluate(e)),n=UHTMath.lerpUnclamped(this.v3From.y,this.v3To.y,s.Evaluate(e)),UHTMath.lerpUnclamped(this.v3From.z,this.v3To.z,t.Evaluate(e))):(i=UHTMath.lerp(this.v3From.x,this.v3To.x,o.Evaluate(e)),n=UHTMath.lerp(this.v3From.y,this.v3To.y,s.Evaluate(e)),UHTMath.lerp(this.v3From.z,this.v3To.z,t.Evaluate(e))),new UHTMath.Vector3(i,n,e)},V3Animator.prototype.UpdateValue=function(t){var e=this.Evaluate(t);switch(this.valueChanged=!this.prevValue.equals(e),this.prevValue=e,this.animationProperty){case V3AnimationProperty.Position:if(this.useMultipleTargets)for(var i=0;i<this.multipleTargets.length;++i)this.multipleTargets[i].transform.position(this.GetValue(this.multipleTargets[i].transform.position(),e));else this.target.transform.position(this.GetValue(this.target.transform.position(),e));break;case V3AnimationProperty.LocalPosition:if(this.useMultipleTargets)for(i=0;i<this.multipleTargets.length;++i)this.multipleTargets[i].transform.localPosition(this.GetValue(this.multipleTargets[i].transform.localPosition(),e));else this.target.transform.localPosition(this.GetValue(this.target.transform.localPosition(),e));break;case V3AnimationProperty.LocalRotation:if(this.useMultipleTargets)for(i=0;i<this.multipleTargets.length;++i)this.multipleTargets[i].transform.localRotation(UHTMath.Quaternion.euler(this.GetValue(this.multipleTargets[i].transform.localEulerAngles(),e)));else this.target.transform.localRotation(UHTMath.Quaternion.euler(this.GetValue(this.target.transform.localEulerAngles(),e)));break;case V3AnimationProperty.LocalScale:if(this.useMultipleTargets)for(i=0;i<this.multipleTargets.length;++i)this.multipleTargets[i].transform.localScale(this.GetValue(this.multipleTargets[i].transform.localScale(),e));else this.target.transform.localScale(this.GetValue(this.target.transform.localScale(),e))}},V3Animator.prototype.OnEnable=function(){switch(this.onEnable){case V3AnimatorAction.Play:this.Play();break;case V3AnimatorAction.PlayReversed:this.PlayReversed()}},V3Animator.prototype.Update=function(){this.updateOn==V3AnimatorUpdateMethod.Update&&this.InternalUpdate()},V3Animator.prototype.LateUpdate=function(){this.updateOn==V3AnimatorUpdateMethod.LateUpdate&&this.InternalUpdate()},V3Animator.prototype.Awake=function(){this.staticFromAndTo&&(this.staticFrom=this.staticTo=this.staticFromAndTo)},V3Animator.prototype.GetValue=function(t,e){var i=(this.affectX?e:t).x,n=(this.affectY?e:t).y,t=(this.affectZ?e:t).z;return new UHTMath.Vector3(i,n,t)},goog.provide("UHT.VS_Symbol"),goog.require("UHT.Engine"),goog.require("UHT.CAT_Event"),VS_Symbol.prototype=Object.create(Component.prototype),(VS_Symbol.prototype.constructor=VS_Symbol).State={Invalid:0,Normal:1,HighlightOn:2,HighlightOff:3,SpinStart:4,SpinLoop:5,SpinStop:6,Excited:7,WinExcited:8,SpinLoopExcited:9,Winning:10,FSHighlightOff:11,SpinLoopExcitedImportant:12},VS_Symbol.prototype.ChangeToState=function(t){this.commands.push(t),this.lastQueuedState=t,this.ProcessCommands()},VS_Symbol.prototype.Start=function(){this.eventNormal.UnregisterCallback(this.Callback_EventEnded,this),this.eventHighlightOn.UnregisterCallback(this.Callback_EventEnded,this),this.eventHighlightOff.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinStart.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinLoop.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinStop.UnregisterCallback(this.Callback_EventEnded,this),this.eventExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventWinExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinLoopExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventSpinLoopExcitedImportant.UnregisterCallback(this.Callback_EventEnded,this),this.eventWinning.UnregisterCallback(this.Callback_EventEnded,this),this.eventFSHighlightOff.UnregisterCallback(this.Callback_EventEnded,this),this.eventNormal.RegisterCallback(this.Callback_EventEnded,this),this.eventHighlightOn.RegisterCallback(this.Callback_EventEnded,this),this.eventHighlightOff.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinStart.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinLoop.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinStop.RegisterCallback(this.Callback_EventEnded,this),this.eventExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventWinExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinLoopExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventSpinLoopExcitedImportant.RegisterCallback(this.Callback_EventEnded,this),this.eventWinning.RegisterCallback(this.Callback_EventEnded,this),this.eventFSHighlightOff.RegisterCallback(this.Callback_EventEnded,this)},VS_Symbol.prototype.ProcessCommands=function(){if(0<this.commands.length)if(this.canProcessNextCommand){var t=this.commands[0];switch(this.commands.splice(0,1),this.canProcessNextCommand=!1,t){case VS_Symbol.State.Normal:this.eventNormal.Start();break;case VS_Symbol.State.HighlightOn:this.eventHighlightOn.Start();break;case VS_Symbol.State.HighlightOff:this.eventHighlightOff.Start();break;case VS_Symbol.State.SpinStart:this.eventSpinStart.Start();break;case VS_Symbol.State.SpinLoop:this.eventSpinLoop.Start();break;case VS_Symbol.State.SpinStop:this.eventSpinStop.Start();break;case VS_Symbol.State.Excited:this.eventExcited.Start();break;case VS_Symbol.State.WinExcited:this.eventWinExcited.Start();break;case VS_Symbol.State.Winning:this.eventWinning.Start();break;case VS_Symbol.State.SpinLoopExcited:this.eventSpinLoopExcited.Start();break;case VS_Symbol.State.SpinLoopExcitedImportant:this.eventSpinLoopExcitedImportant.Start();break;case VS_Symbol.State.FSHighlightOff:this.eventFSHighlightOff.Start();break;default:VS_Symbol.State.Invalid;this.canProcessNextCommand=!0}this.internalState=t,this.currentStateForInspector=this.internalState}else 0==this.stopEventSent&&this.StopAllRunningEvents()},VS_Symbol.prototype.Update=function(){this.ProcessCommands()},VS_Symbol.prototype.Callback_EventEnded=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&(this.canProcessNextCommand=!0)},VS_Symbol.prototype.StopAllRunningEvents=function(){this.eventNormal.IsRunning()&&this.eventNormal.Stop(),this.eventHighlightOn.IsRunning()&&this.eventHighlightOn.Stop(),this.eventHighlightOff.IsRunning()&&this.eventHighlightOff.Stop(),this.eventSpinStart.IsRunning()&&this.eventSpinStart.Stop(),this.eventSpinLoop.IsRunning()&&this.eventSpinLoop.Stop(),this.eventSpinStop.IsRunning()&&this.eventSpinStop.Stop(),this.eventExcited.IsRunning()&&this.eventExcited.Stop(),this.eventWinExcited.IsRunning()&&this.eventWinExcited.Stop(),this.eventWinning.IsRunning()&&this.eventWinning.Stop(),this.eventSpinLoopExcited.IsRunning()&&this.eventSpinLoopExcited.Stop(),this.eventSpinLoopExcitedImportant.IsRunning()&&this.eventSpinLoopExcitedImportant.Stop(),this.eventFSHighlightOff.IsRunning()&&this.eventFSHighlightOff.Stop()},VS_Symbol.prototype.SpinStart=function(){this.ChangeToState(VS_Symbol.State.SpinStart)},VS_Symbol.prototype.SpinLoop=function(){this.ChangeToState(VS_Symbol.State.SpinLoop)},VS_Symbol.prototype.SpinStop=function(){this.ChangeToState(VS_Symbol.State.SpinStop)},VS_Symbol.prototype.SetHighlightOn=function(){this.ChangeToState(VS_Symbol.State.HighlightOn)},VS_Symbol.prototype.SetHighlightOff=function(){(this.internalState!=VS_Symbol.State.WinExcited&&this.internalState!=VS_Symbol.State.Winning||this.willHighlightOffAfterExciteWin)&&(XT.GetBool(Vars.Logic_IsFreeSpin)?this.ChangeToState(VS_Symbol.State.FSHighlightOff):this.ChangeToState(VS_Symbol.State.HighlightOff))},VS_Symbol.prototype.SetNormal=function(){this.ChangeToState(VS_Symbol.State.Normal)},VS_Symbol.prototype.SetExcited=function(){this.ChangeToState(VS_Symbol.State.Excited)},VS_Symbol.prototype.SetWinExcited=function(){this.ChangeToState(VS_Symbol.State.WinExcited)},VS_Symbol.prototype.SpinLoopExcited=function(){this.ChangeToState(VS_Symbol.State.SpinLoopExcited)},VS_Symbol.prototype.SpinLoopExcitedImportant=function(){this.ChangeToState(VS_Symbol.State.SpinLoopExcitedImportant)},VS_Symbol.prototype.SetWinning=function(){this.ChangeToState(VS_Symbol.State.Winning)},VS_Symbol.prototype.EventStart=function(){this.eventStart.Start()},VS_Symbol.prototype.EventStop=function(){this.eventStop.Start()},VS_Symbol.prototype.Reset=function(){this.commands=[],this.StopAllRunningEvents(),this.canProcessNextCommand=!0},goog.require("UHT.Engine"),goog.require("UHT.XTLink"),goog.require("UHT.VS_Symbol"),VS_SymbolsManager.prototype=Object.create(XTLink.prototype),(VS_SymbolsManager.prototype.constructor=VS_SymbolsManager).initializing=0,VS_SymbolsManager.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SymbolManager,this.OnSymbolManagerInit,this)},VS_SymbolsManager.prototype.XTInitVariablesAndEvents=function(){this.hasOnlyLoops||XT.SetObject(Vars.SymbolsManagerObject,this)},VS_SymbolsManager.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnSymbolManagerInit,this)},VS_SymbolsManager.prototype.OnSymbolManagerInit=function(){SymbolsManager_CheckAndSendTrackingInit(),VS_SymbolsManager.initializing++,this.currentInitSymbol=0,this.BuildSymbolIdToIndexMap(),this.pooledSymbols=[],this.pool.SetActive(!0),-1==LoaderProgress.SymbolsManagers_Total?LoaderProgress.SymbolsManagers_Total=this.symbols.length:LoaderProgress.SymbolsManagers_Total+=this.symbols.length},VS_SymbolsManager.prototype.Update=function(){if(0<=this.currentInitSymbol){if(this.currentInitSymbol<this.symbols.length){var t=this.symbols[this.currentInitSymbol].symbolId;this.pooledSymbols[t]=[];for(var e=0;e<this.defaultBufferAmount;e++){var i=instantiate(this.symbols[this.currentInitSymbol].gameObject);i.SetActive(!0),this.PoolSymbol(t,i.GetComponent(VS_Symbol))}this.currentInitSymbol++,LoaderProgress.SymbolsManagers_Current++}this.currentInitSymbol==this.symbols.length&&(this.disablePoolNextFrame=!1,VS_SymbolsManager.initializing--,SymbolsManager_CheckAndSendTrackingEnd(),this.currentInitSymbol++)}},VS_SymbolsManager.prototype.BuildSymbolIdToIndexMap=function(){for(var t=-1,e=0;e<this.symbols.length;e++)this.symbols[e].symbolId>t&&(t=this.symbols[e].symbolId);this.symbolIdToIndexMap=new Array(t+1);for(var i=0;i<this.symbols.length;i++)this.symbolIdToIndexMap[this.symbols[i].symbolId]=i},VS_SymbolsManager.prototype.GetFromPool=function(t,e){0==this.pooledSymbols[t].length&&(console.log("Symbol pool capacity is too small! ID = "+t),this.pooledSymbols[t].push(instantiate(this.symbols[this.symbolIdToIndexMap[t]].gameObject).GetComponent(VS_Symbol)),this.pooledSymbols[t][this.pooledSymbols[t].length-1].gameObject.SetActive(!0));var i=this.pooledSymbols[t][0];return this.pooledSymbols[t].splice(0,1),i.gameObject.transform.SetParent(e.transform,!1),i.gameObject.transform.localPosition(UHTMath.Vector3.zero),i.gameObject.transform.localRotation(UHTMath.Quaternion.euler(UHTMath.Vector3.zero)),i.gameObject.transform.localScale(UHTMath.Vector3.one),i},VS_SymbolsManager.prototype.PoolSymbol=function(t,e){e.Reset(),e.gameObject.transform.SetParent(this.pool.transform,!1),this.pooledSymbols[t].push(e)},VS_SymbolsManager.prototype.GetSymbol=function(t,e,i){return 1==i&&null!=this.SpecialLoopsManager?this.SpecialLoopsManager.GetSymbol(t,e):this.GetFromPool(t,e)},VS_SymbolsManager.prototype.RecycleSymbol=function(t,e){1==e&&null!=this.SpecialLoopsManager?this.SpecialLoopsManager.RecycleSymbol(t):this.PoolSymbol(t.symbolId,t)},VS_SymbolsManager.prototype.LateUpdate=function(){this.pool.activeSelf&&this.currentInitSymbol>this.symbols.length&&(this.disablePoolNextFrame?this.pool.SetActive(!1):this.disablePoolNextFrame=!0)},goog.require("UHT.Engine"),goog.require("UHT.VS_Symbol"),goog.provide("UHT.VS_ReelSymbolHolder"),VS_ReelSymbolHolder.prototype=Object.create(XTLink.prototype),(VS_ReelSymbolHolder.prototype.constructor=VS_ReelSymbolHolder).State={IDLE:0,START:1,LOOP:2,STOP:3},VS_ReelSymbolHolder.prototype.SetPositionInReel=function(t){this.positionInReel=t},VS_ReelSymbolHolder.prototype.SetOrderedSymbolIdx=function(t){this.orderedSymbolIdx=t},VS_ReelSymbolHolder.prototype.GetOrderedSymbolIdx=function(){return this.orderedSymbolIdx},VS_ReelSymbolHolder.prototype.SetParentReel=function(t){this.parentReel=t},VS_ReelSymbolHolder.prototype.DiscardSymbol=function(){null!=this.currentSymbol&&this.parentReel.reelsManager.symbolsManager.RecycleSymbol(this.currentSymbol,this.symbolIsLooper),this.currentSymbol=null},VS_ReelSymbolHolder.prototype.ReplaceSymbol=function(t,e){this.symbolIsLooper=1==e,this.DiscardSymbol(),this.currentSymbol=this.parentReel.reelsManager.symbolsManager.GetSymbol(t,this.gameObject,this.symbolIsLooper),this.lastSymbolId=this.currentSymbol.symbolId},VS_ReelSymbolHolder.prototype.UpdateLinkedLooperPosition=function(){null!=this.linkedLooper&&XT.GetBool(Vars.CanUpdateLinkedLoopersPosition)&&this.linkedLooper.transform.localPosition(UHTMath.Vector3.sub(this.transform.localPosition(),new UHTMath.Vector3(0,this.linkedLooperOffsetY,0)))},VS_ReelSymbolHolder.prototype.SampleAnimation=function(){this.animationState.enabled=!0,this.animationState.weight=1,this.animationState.time=this.animationTime,this.gameObject.animation.Sample(),this.animationState.enabled=!1},VS_ReelSymbolHolder.prototype.UpdateVisual=function(){switch(this.animationIsUpdated?this.animationIsUpdated=!1:this.animationTime+=Time.deltaTime*this.speed,this.rememberToChangeSymbolState&&0<this.animationTime&&(this.rememberToChangeSymbolState=!1,this.ChangeSymbolState()),this.state){case VS_ReelSymbolHolder.State.START:this.canFireStartEvent&&this.animationTime>=(this.usingFastStartAnimation?this.eventStartDelayFastPlay:this.eventStartDelay)&&(this.canFireStartEvent=!1,this.currentSymbol.EventStart()),this.animationTime>this.animationState.length?(this.state=VS_ReelSymbolHolder.State.IDLE,this.DiscardSymbol(),this.parentReel.SymbolLeftTheReel(this.positionInReel,this.animationTime-this.animationState.length),this.linkedLooperShouldBeDiscarded&&(this.linkedLooper.DiscardSymbol(),this.linkedLooperShouldBeDiscarded=!1),this.linkedLooper=null):this.SampleAnimation();break;case VS_ReelSymbolHolder.State.LOOP:this.animationTime>this.animationState.length?(this.state=VS_ReelSymbolHolder.State.IDLE,this.DiscardSymbol(),this.parentReel.SymbolLeftTheReel(this.positionInReel,this.animationTime-this.animationState.length)):this.SampleAnimation();break;case VS_ReelSymbolHolder.State.STOP:this.canFireStopEvent&&this.animationTime>=(this.usingFastStopAnimation?this.eventStopDelayFastPlay:this.eventStopDelay)&&(this.canFireStopEvent=!1,this.currentSymbol.EventStop()),this.animationTime>this.animationState.length&&(this.animationTime=this.animationState.length,this.state=VS_ReelSymbolHolder.State.IDLE,this.parentReel.StopFinished(this.positionInReel)),this.SampleAnimation()}},VS_ReelSymbolHolder.prototype.AfterUpdateVisual=function(){this.animationIsUpdated=!1,this.UpdateLinkedLooperPosition()},VS_ReelSymbolHolder.prototype.StartAnimation=function(t,e){this.gameObject.animation.clip=t,this.animationState=this.gameObject.animation.GetAnimationState(t.name),this.animationTime=e,this.SampleAnimation(),this.animationIsUpdated=!0,this.parentReel.UpdateSortedSymbolHolders()},VS_ReelSymbolHolder.prototype.PlayStart=function(){this.rememberToChangeSymbolState=!1,this.canFireStartEvent=!0,this.state=VS_ReelSymbolHolder.State.START,this.StartAnimation(this.GetStartAnimation(),0),this.currentSymbol.SpinStart(),null!=this.linkedLooper&&this.linkedLooper.currentSymbol.SpinStart()},VS_ReelSymbolHolder.prototype.PlayLoop=function(t){this.rememberToChangeSymbolState=!1,this.state=VS_ReelSymbolHolder.State.LOOP,this.StartAnimation(this.loopAnimation,t),this.parentReel.reelsManager.showTopBottomSymbols&&t<0?this.rememberToChangeSymbolState=!0:this.ChangeSymbolState()},VS_ReelSymbolHolder.prototype.ChangeSymbolState=function(){null!=this.currentSymbol&&(this.parentReel.isExcited?this.parentReel.ExcitedImportantSymbols[this.currentSymbol.symbolId]?this.currentSymbol.SpinLoopExcitedImportant():this.currentSymbol.SpinLoopExcited():this.currentSymbol.SpinLoop())},VS_ReelSymbolHolder.prototype.PlayStop=function(t){this.rememberToChangeSymbolState=!1,this.canFireStopEvent=!0,this.state=VS_ReelSymbolHolder.State.STOP,this.StartAnimation(this.GetStopAnimation(),t),this.currentSymbol.SpinStop(),null!=this.linkedLooper&&this.linkedLooper.currentSymbol.SpinStop()},VS_ReelSymbolHolder.prototype.GetStartAnimation=function(){return this.usingFastStartAnimation=this.parentReel.useFastAnimationsInTurboSpin&&XT.GetBool(Vars.ContinuousSpin)||this.parentReel.reelsManager.isFastStart,this.usingFastStartAnimation?this.startAnimationFastPlay:this.startAnimation},VS_ReelSymbolHolder.prototype.GetEventStartDelay=function(){return this.parentReel.useFastAnimationsInTurboSpin&&XT.GetBool(Vars.ContinuousSpin)||this.parentReel.reelsManager.isFastStart?this.eventStartDelayFastPlay:this.eventStartDelay},VS_ReelSymbolHolder.prototype.GetStopAnimation=function(){return null==this.stopAnimationFastPlay?this.stopAnimation:(this.usingFastStopAnimation=this.parentReel.reelsManager.isFastStart||this.parentReel.reelsManager.fastStop,this.usingFastStopAnimation?this.stopAnimationFastPlay:this.stopAnimation)},goog.require("UHT.Engine"),goog.require("UHT.VS_ReelSymbolHolder"),goog.provide("UHT.VS_Reel"),VS_Reel.prototype=Object.create(Component.prototype),VS_Reel.prototype.constructor=VS_Reel;var ReelDelayStopType={NO:0,ALWAYS:1,EXCITEDONLY:2};function SpinAnimationsSpeedCurves(){this.startNormal=null,this.startFS=null,this.stopNormal=null,this.stopFS=null,this.stopCustom=null,this.stopExcitedNormal=null,this.stopExcitedFS=null,this.excitedNormal=null,this.excitedFS=null,this.excitedCustom=null}function VS_ReelsManager(){XTLink.call(this),this.symbolsManager=null,this.reels=[],this.reelsStartOrder=null,this.reelsStopOrder=null,this.reelDelayStart=.1,this.reelDelayStop=.15,this.extraReelDelayStop=null,this.extraReelDelayStart=null,this.validateReelSpin=[],this.autoStopDelay=1.5,this.stopOnScreenSymbols=!0,this.stopOnInitialScreenSymbols=!1,this.forceStopOnScreenSymbols=!1,this.instantStop=!1,this.startFasterInFastPlay=!1,this.startFasterForced=!1,this.isFastStart=!1,this.useCustomSpinCurves=null,this.autoStopTimer=0,this.reelsSpinning=0,this.startTimer=0,this.reelToStart=0,this.stopTimer=0,this.reelToStop=0,this.fastStop=!1,this.rememberToStop=!1,this.resultReceived=!1,this.isStoppingFast=!1,this.mustStopStoppingReels=!1,this.reelIdxList=[],this.exciter=null,this.nextReels=[],this.fastStopTimers=null,this.fastStopTimeUntilFinish=0,this.showTopBottomSymbols=!1,this.justVisualSymbols=0,this.blankSymbolId=0,this.dragSettings=null,this.continuousSpinTimer=0,this.logicIsFS=!1,this.state=VS_ReelsManager.State.IDLE,this.spinCurves=null}function LineInfo(){this.isRightToLeft=!1,this.symbolIndices=null}function VS_LinesDefinitions(){XTLink.call(this),this.reels=5,this.symbols=3,this.symbolSquares=null,this.lines=null}function SubstitutingIDs(){this.realID=0,this.substituteIDs=[]}VS_Reel.prototype.InitReel=function(){this.lastLooperIndexForHolder=[];for(var t=0;t<this.symbolHolders.length;t++)this.lastLooperIndexForHolder[t]=-1;for(t=0;t<this.symbolHolders.length;t++)this.symbolHolders[t].SetParentReel(this),this.symbolHolders[t].SetPositionInReel(t),this.sortedSymbolHolders.push(this.symbolHolders[t]);1!=this.symbolHolders.length&&(this.symbolHolders[this.symbolHolders.length-1].linkedLooperOffsetY=this.symbolHolders[this.symbolHolders.length-2].transform.localPosition().y-this.symbolHolders[this.symbolHolders.length-1].transform.localPosition().y,this.symbolHolders[0].linkedLooperOffsetY=this.symbolHolders[1].transform.localPosition().y-this.symbolHolders[0].transform.localPosition().y);for(var e,i=0;i<this.symbolLoopHolders.length;i++)this.symbolLoopHolders[i].SetParentReel(this),this.applySpinInPlaceExtraSettings&&i>=this.symbolHolders.length&&i<this.symbolLoopHolders.length?(e=i%this.symbolHolders.length,this.symbolLoopHolders[i].SetPositionInReel(e)):this.symbolLoopHolders[i].SetPositionInReel(i),this.sortedSymbolHolders.push(this.symbolLoopHolders[i]);this.UpdateSortedSymbolHolders(),this.randomizedStopIdx=new Array(this.symbolHolders.length)},VS_Reel.prototype.SetScreenSymbols=function(t){for(var e=0;e<this.symbolHolders.length;e++)null!=this.symbolHolders[this.symbolHolders.length-1-e].currentSymbol&&this.symbolHolders[this.symbolHolders.length-1-e].currentSymbol.symbolId==t[this.reelIndex][e]||(this.symbolHolders[this.symbolHolders.length-1-e].ReplaceSymbol(t[this.reelIndex][e]),this.symbolHolders[e].SetOrderedSymbolIdx(e*this.reelsManager.reels.length+this.reelIndex));for(var i,n=this.currentPosition,o=0;o<this.symbolHolders.length;o++)this.currentPosition--;this.currentPosition+=t[this.reelIndex].length,this.currentPosition%=t[this.reelIndex].length,n=XT.GetBool(Vars.HiddenMathematics)?(i=XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex],XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex]):(i=t[this.reelIndex][n%t[this.reelIndex].length],t[this.reelIndex][this.currentPosition%t[this.reelIndex].length]),this.AddBottomLinkedLooperSymbol(n),this.AddTopLinkedLooperSymbol(i),this.UpdateSortedSymbolHolders()},VS_Reel.prototype.GetNextSymbol=function(){if(this.mustStop){if(this.reelsManager.stopOnScreenSymbols||this.reelsManager.forceStopOnScreenSymbols)return this.stopPosition--,this.stopPosition+=this.symbolList.length,this.stopPosition%=this.symbolList.length,this.GetReelScreenSymbols(XT.GetObject(Vars.ResultScreenSymbols))[this.cs_stopCounter++];if(this.reelsManager.stopOnInitialScreenSymbols){this.stopPosition--,this.stopPosition+=this.symbolList.length,this.stopPosition%=this.symbolList.length;var t=this.GetReelScreenSymbols(XT.GetObject(Vars.InitialResultScreenSymbols))[this.cs_stopCounter++];return t=this.replaceEmptySymbol&&t==this.reelsManager.blankSymbolId?this.emptySymbolReplacements[Math.floor(Math.random()*this.emptySymbolReplacements.length)]:t}t=this.stopPosition;return this.stopPosition--,this.stopPosition+=this.symbolList.length,this.stopPosition%=this.symbolList.length,this.symbolList[t%this.symbolList.length]}t=this.currentPosition;return this.currentPosition--,this.currentPosition+=this.symbolList.length,this.currentPosition%=this.symbolList.length,this.lastSymbolEntered=this.symbolList[t%this.symbolList.length],this.lastSymbolEntered},VS_Reel.prototype.GetNextSymbolInPlace=function(t){if(this.mustStop){if(this.reelsManager.stopOnScreenSymbols||this.reelsManager.forceStopOnScreenSymbols)return this.GetReelScreenSymbols(XT.GetObject(Vars.ResultScreenSymbols))[this.symbolHolders.length-1-t];if(this.reelsManager.stopOnInitialScreenSymbols)return this.GetReelScreenSymbols(XT.GetObject(Vars.InitialResultScreenSymbols))[this.symbolHolders.length-1-t];var e=this.stopPosition-(this.symbolHolders.length-1-t);return e+=this.symbolList.length,e%=this.symbolList.length,this.symbolList[e]}this.internalCounterInPlace++,this.internalCounterInPlace==this.symbolHolders.length&&(this.internalCounterInPlace=0,this.currentPosition-=this.symbolHolders.length,this.currentPosition+=this.symbolList.length,this.currentPosition%=this.symbolList.length);t=this.currentPosition-t;return t+=this.symbolList.length,t%=this.symbolList.length,this.symbolList[t]},VS_Reel.prototype.RandomizeStops=function(){for(var t=[],e=0;e<this.randomizedStopIdx.length;e++)t.push(e);for(var i=0;i<this.randomizedStopIdx.length;i++){var n=Random.Range(0,t.length);this.randomizedStopIdx[i]=t[n];for(var o=0;o<t.length;o++)t[o]==t[n]&&t.splice(o,1)}},VS_Reel.prototype.SetPosition=function(t){this.currentPosition=Random.Range(0,this.symbolList.length)%this.symbolList.length},VS_Reel.prototype.SetStopPosition=function(t){this.stopPosition=(t+this.stopOffset)%this.symbolList.length,this.rememberedStopPosition=this.stopPosition},VS_Reel.prototype.SetSymbolList=function(t){this.symbolList=[];for(var e=0;e<t.length;e++)this.symbolList.push(t[e])},VS_Reel.prototype.Start=function(){},VS_Reel.prototype.SetSpeedCurve=function(t){this.speedCurveTimer=0,this.speedCurve=t},VS_Reel.prototype.Update=function(){var t,e=1;for(null!=this.speedCurve&&(e=this.speedCurve.Evaluate(this.speedCurveTimer),this.speedCurveTimer+=Time.deltaTime),t=this.symbolHolders.length-1;0<=t;t--)this.symbolHolders[t].speed=e,this.symbolHolders[t].UpdateVisual();for(var i=this.symbolLoopHolders.length,n=(this.lastPosLeftIdx-1+this.symbolLoopHolders.length)%this.symbolLoopHolders.length;0<i;)this.symbolLoopHolders[n].speed=e,this.symbolLoopHolders[n].UpdateVisual(),n=(n-1+this.symbolLoopHolders.length)%this.symbolLoopHolders.length,i--;for(var o=0;o<this.symbolHolders.length;o++)this.symbolHolders[o].AfterUpdateVisual();for(var s=0;s<this.symbolLoopHolders.length;s++)this.symbolLoopHolders[s].AfterUpdateVisual();this.randomStopTimer+=Time.deltaTime},VS_Reel.prototype.GetNextLooperIndexForPosition=function(t){var e=this.lastLooperIndexForHolder[t];return-1==e?this.lastLooperIndexForHolder[t]=t:(e=e+this.symbolHolders.length>this.symbolLoopHolders.length-1?t:e+this.symbolHolders.length,this.lastLooperIndexForHolder[t]=e)},VS_Reel.prototype.NewLoop=function(t,e){var i;this.spinInPlace?(i=this.applySpinInPlaceExtraSettings?this.symbolLoopHolders[this.GetNextLooperIndexForPosition(t)]:this.symbolLoopHolders[t]).ReplaceSymbol(this.GetNextSymbolInPlace(t),!0):-1==t&&null!=this.symbolHolders[0].linkedLooper?i=this.symbolHolders[0].linkedLooper:(i=-1==t?this.symbolLoopHolders[this.symbolLoopHolders.length-1]:this.symbolLoopHolders[t]).ReplaceSymbol(this.GetNextSymbol(),!0),i.PlayLoop(e)},VS_Reel.prototype.StartSpin=function(){this.mustStop=!1,this.holdersSpinning=this.symbolHolders.length;for(var t=0;t<this.symbolHolders.length;t++)this.symbolHolders[t].PlayStart(),this.applySpinInPlaceExtraSettings&&this.NewLoop(t,-this.symbolHolders[t].GetEventStartDelay());this.spinInPlace||this.SymbolLeftTheReel(-1,-this.GetLoopDelayAfterStart()),this.internalCounterInPlace=0,this.RandomizeStops(),this.willRandomStopIdx=0,this.randomStopTimer=this.randomStopDelay},VS_Reel.prototype.AddLinkedLooper=function(t,e,i,n){this.reelsManager.showTopBottomSymbols&&(this.symbolLoopHolders[e].rememberToChangeSymbolState=!1,this.symbolLoopHolders[e].ReplaceSymbol(i),this.symbolLoopHolders[e].currentSymbol.SpinStop(),this.symbolHolders[t].linkedLooper=this.symbolLoopHolders[e],this.symbolHolders[t].UpdateLinkedLooperPosition(),this.symbolHolders[t].linkedLooperShouldBeDiscarded=n)},VS_Reel.prototype.AddTopLinkedLooperSymbol=function(t){this.AddLinkedLooper(0,this.symbolLoopHolders.length-1,t,!1)},VS_Reel.prototype.AddBottomLinkedLooperSymbol=function(t){this.AddLinkedLooper(this.symbolHolders.length-1,0,t,!0)},VS_Reel.prototype.AddTopLinkedLooper=function(){var t;t=XT.GetBool(Vars.HiddenMathematics)?XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex]:this.symbolList[this.currentPosition%this.symbolList.length],this.AddTopLinkedLooperSymbol(t)},VS_Reel.prototype.AddBottomLinkedLooper=function(){var t;t=XT.GetBool(Vars.HiddenMathematics)?XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex]:this.symbolList[(this.currentPosition+this.symbolHolders.length)%this.symbolList.length],this.AddBottomLinkedLooperSymbol(t)},VS_Reel.prototype.GetLooperTimersAndCleanUp=function(t){for(var e,i=[],n=this.symbolLoopHolders[0].loopAnimation.length,o=-1,s=0;s<this.symbolHolders.length;s++)this.symbolHolders[s].state==VS_ReelSymbolHolder.State.START&&((e=this.symbolHolders[s].animationTime)<this.GetLoopDelayAfterStart()&&(e=this.GetLoopDelayAfterStart()),(e=n-(this.symbolHolders[s].GetStartAnimation().length-e))<0&&(e=0),i.push(e),o=this.symbolHolders[s].currentSymbol.symbolId,this.symbolHolders[s].DiscardSymbol(),this.symbolHolders[s].state=VS_ReelSymbolHolder.State.IDLE),this.symbolHolders[s].state==VS_ReelSymbolHolder.State.STOP&&(i.push(this.symbolHolders[s].animationTime),this.symbolHolders[s].DiscardSymbol(),this.symbolHolders[s].state=VS_ReelSymbolHolder.State.IDLE),this.symbolHolders[s].linkedLooper&&this.symbolHolders[s].linkedLooperShouldBeDiscarded&&this.symbolHolders[s].linkedLooper.DiscardSymbol(),this.symbolHolders[s].linkedLooper=null;var r,a=-1,l=-1;for(s=0;s<this.symbolLoopHolders.length;s++)this.symbolLoopHolders[s].state==VS_ReelSymbolHolder.State.LOOP&&((r=this.symbolLoopHolders[s].animationTime)<0&&(r=0),i.push(r),l<r&&(a=this.symbolLoopHolders[s].currentSymbol.symbolId,l=r));for(s=0;s<this.symbolLoopHolders.length;s++)this.symbolLoopHolders[s].DiscardSymbol(),this.symbolLoopHolders[s].state=VS_ReelSymbolHolder.State.IDLE;return null!=t?i=t:(i.sort(function(t,e){return t-e}),this.reelsManager.fastStopTimeUntilFinish=this.symbolHolders[0].stopAnimation.length-i[0]),i.length>this.symbolHolders.length&&!this.reelsManager.showTopBottomSymbols&&(t=!0,-1!=o?this.symbolLoopHolders[0].ReplaceSymbol(o):-1!=a?this.symbolLoopHolders[0].ReplaceSymbol(a):t=!1,t&&this.symbolLoopHolders[0].PlayLoop(i[this.symbolHolders.length])),this.AddBottomLinkedLooper(),this.AddTopLinkedLooper(),i},VS_Reel.prototype.StopSpin=function(t,e){if(this.cs_stopCounter=0,this.stopPosition=this.rememberedStopPosition,this.mustStop=!0,this.stopIdx=this.symbolHolders.length-1,this.reelsManager.instantStop&&t&&this.holdersSpinning==this.symbolHolders.length){for(var i=this.GetLooperTimersAndCleanUp(e),n=this.stopIdx;0<=n;)this.symbolHolders[n].ReplaceSymbol(this.GetNextSymbol()),this.needToUpdateSymbolsDepth=!0,this.symbolHolders[n].PlayStop(i[n]),n--;return this.stopIdx=-1,i}return null},VS_Reel.prototype.SymbolLeftTheReel=function(t,e){var i,n;this.lastPosLeftIdx=t,this.mustStop?this.spinInPlace?this.randomStop?this.randomStop&&this.randomStopTimer>=this.randomStopDelay&&t==this.randomizedStopIdx[this.willRandomStopIdx]?(this.symbolHolders[t].ReplaceSymbol(this.GetNextSymbolInPlace(t)),this.symbolHolders[t].PlayStop(e),this.willRandomStopIdx++,this.randomStopTimer=0):this.NewLoop(t,e):(this.symbolHolders[t].ReplaceSymbol(this.GetNextSymbolInPlace(t)),this.symbolHolders[t].PlayStop(e)):0<=this.stopIdx?(this.symbolHolders[this.stopIdx].ReplaceSymbol(this.GetNextSymbol()),this.symbolHolders[this.stopIdx].PlayStop(e),this.stopIdx--):(n=XT.GetBool(Vars.HiddenMathematics)?(i=XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex],XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex]):(i=this.symbolList[this.currentPosition%this.symbolList.length],this.symbolLoopHolders[t].lastSymbolId),this.AddBottomLinkedLooperSymbol(n),this.AddTopLinkedLooperSymbol(i)):this.NewLoop(t,e)},VS_Reel.prototype.StopFinished=function(t){this.holdersSpinning--,0==this.holdersSpinning&&(this.reelsManager.StopFinished(this.reelIndex),this.currentPosition=this.stopPosition,this.speedCurve=null)},VS_Reel.prototype.GetLoopDelayAfterStart=function(){return this.useFastAnimationsInTurboSpin&&XT.GetBool(Vars.ContinuousSpin)||this.reelsManager.isFastStart?this.loopDelayAfterFastStart:this.loopDelayAfterStart},VS_Reel.prototype.UpdateSortedSymbolHolders=function(){if(null!=this.sortedSymbolHolders&&this.mustSortHolders){for(var t=0;t<this.sortedSymbolHolders.length-1;t++)for(var e,i=t+1;i<this.sortedSymbolHolders.length;i++)this.sortedSymbolHolders[i].transform._dangerous_get_localPosition().y>this.sortedSymbolHolders[t].transform._dangerous_get_localPosition().y&&(e=this.sortedSymbolHolders[i],this.sortedSymbolHolders[i]=this.sortedSymbolHolders[t],this.sortedSymbolHolders[t]=e,this.needToUpdateSymbolsDepth=!0);this.needToUpdateSymbolsDepth&&(this.needToUpdateSymbolsDepth=!1,XT.TriggerEvent(Vars.Evt_Internal_UpdateSymbolsDepth))}},VS_Reel.prototype.SetSymbolsToNormal=function(){for(var t=0;t<this.symbolHolders.length;t++)null!=this.symbolHolders[t].currentSymbol&&this.symbolHolders[t].currentSymbol.SetNormal()},VS_Reel.prototype.GetReelScreenSymbols=function(t){if(XT.GetBool(Vars.HiddenMathematics)&&this.symbolHolders.length>t[this.reelIndex].length){if(0==this.cs_stopCounter){this.reelScreenSymbols.splice(0),this.reelScreenSymbols.push(XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex]);for(var e=0;e<t[this.reelIndex].length;++e)this.reelScreenSymbols.push(t[this.reelIndex][e]);this.reelScreenSymbols.push(XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex])}return this.reelScreenSymbols}return t[this.reelIndex]},VS_Reel.prototype.NeedToKeepSpinning=function(){if(this.delayStopToAvoidStacks==ReelDelayStopType.ALWAYS||this.delayStopToAvoidStacks==ReelDelayStopType.EXCITEDONLY&&this.isExcited){var t=-1,t=this.reelsManager.stopOnScreenSymbols||this.reelsManager.forceStopOnScreenSymbols?this.GetReelScreenSymbols(XT.GetObject(Vars.ResultScreenSymbols))[0]:this.reelsManager.stopOnInitialScreenSymbols?this.GetReelScreenSymbols(XT.GetObject(Vars.InitialResultScreenSymbols))[0]:this.symbolList[this.stopPosition%this.symbolList.length];if(this.lastSymbolEntered==t)return!0}return!1},goog.require("UHT.XTLink"),goog.require("UHT.VS_Reel"),goog.provide("UHT.VS_ReelsManager"),VS_ReelsManager.prototype=Object.create(XTLink.prototype),(VS_ReelsManager.prototype.constructor=VS_ReelsManager).prototype.scriptUpdatePriority=3,VS_ReelsManager.State={IDLE:0,STARTING:1,SPINNING:2,STOPPING:3},VS_ReelsManager.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.ReelSymbols,this.OnReelSymbols,this),XT.RegisterCallbackObject(Vars.NextReelSymbols,this.OnNextReelSymbols,this),XT.RegisterCallbackObject(Vars.ReelInitialPositions,this.OnReelPositions,this),XT.RegisterCallbackObject(Vars.ExcitedImportantSymbols,this.OnExcitedImportantSymbols,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_ReelsManager,this.OnReelsManagerInit,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnStartSpin,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin,this.OnStopSpin,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived,this.OnSpinResultReceived,this),XT.RegisterCallbackBool(Vars.AllowFastStop,this.SetAllowFastStop,this)},VS_ReelsManager.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.ReelsManagerObject,this),XT.SetObject(Vars.ReelsStartOrder,this.reelsStartOrder),XT.SetObject(Vars.ReelsStartOrderDefault,this.reelsStartOrder),XT.SetObject(Vars.ReelsStopOrder,this.reelsStopOrder),XT.SetObject(Vars.ReelsStopOrderDefault,this.reelsStopOrder),XT.SetObject(Vars.ExtraReelDelayStop,this.extraReelDelayStop),XT.SetObject(Vars.ExtraReelDelayStopDefault,this.extraReelDelayStop),XT.SetObject(Vars.ExtraReelDelayStart,this.extraReelDelayStart),XT.SetObject(Vars.ExtraReelDelayStartDefault,this.extraReelDelayStart),XT.SetBool(Vars.ContinuousSpin,!1),XT.SetBool(Vars.AllowContinuousSpin,!0),XT.SetBool(Vars.ForceContinuousSpin,!1),XT.SetBool(Vars.AutoplayContinuousSpin,!1),XT.SetBool(Vars.CanUpdateLinkedLoopersPosition,!0),null!=this.useCustomSpinCurves&&0!=this.useCustomSpinCurves.length||(this.useCustomSpinCurves=_array.create(this.reels.length,!1));var t=_array.create(this.reels.length,!0);XT.SetObject(Vars.ReelsCanBeExcited,t),this.PrepareVariables()},VS_ReelsManager.prototype.PrepareVariables=function(){var t=0;if(this.reelsStartOrder.length<this.reels.length){for(this.reelsStartOrder=_array.create(this.reels.length,0),t=0;t<this.reelsStartOrder.length;t++)this.reelsStartOrder[t]=t;XT.SetObject(Vars.ReelsStartOrder,this.reelsStartOrder),XT.SetObject(Vars.ReelsStartOrderDefault,this.reelsStartOrder)}if(this.reelsStopOrder.length<this.reels.length){for(this.reelsStopOrder=_array.create(this.reels.length,0),t=0;t<this.reelsStopOrder.length;t++)this.reelsStopOrder[t]=t;XT.SetObject(Vars.ReelsStopOrder,this.reelsStopOrder),XT.SetObject(Vars.ReelsStopOrderDefault,this.reelsStopOrder)}if(this.extraReelDelayStop.length<this.reels.length){for(this.extraReelDelayStop=_array.create(this.reels.length,0),t=0;t<this.extraReelDelayStop.length;t++)this.extraReelDelayStop[t]=0;XT.SetObject(Vars.ExtraReelDelayStop,this.extraReelDelayStop),XT.SetObject(Vars.ExtraReelDelayStopDefault,this.extraReelDelayStop)}if(this.extraReelDelayStart.length<this.reels.length){for(this.extraReelDelayStart=_array.create(this.reels.length,0),t=0;t<this.extraReelDelayStart.length;t++)this.extraReelDelayStart[t]=0;XT.SetObject(Vars.ExtraReelDelayStart,this.extraReelDelayStart),XT.SetObject(Vars.ExtraReelDelayStartDefault,this.extraReelDelayStart)}if(this.validateReelSpin.length<this.reels.length)for(this.validateReelSpin=_array.create(this.reels.length),t=0;t<this.validateReelSpin.length;t++)this.validateReelSpin[t]=!0},VS_ReelsManager.prototype.OnReelsManagerInit=function(){XT.GetBool(Vars.HiddenMathematics)&&(this.stopOnScreenSymbols||(this.stopOnInitialScreenSymbols=!0));for(var t=0;t<this.reels.length;t++)(this.reels[t].reelsManager=this).reels[t].reelIndex=t,this.reels[t].InitReel();this.InitFirstScreenSymbols(),this.BuildOrderedHoldersList(),this.SetAllSymbolsToNormal(),XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins)&&3==this.reels.length&&(this.autoStopDelay=Math.max(this.autoStopDelay,XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value)-(this.reels.length-1)*this.reelDelayStop))},VS_ReelsManager.prototype.OnReelSymbols=function(t){for(var e=0;e<this.reels.length;e++)this.reels[e].SetSymbolList(t[e]);this.exciter=XT.GetObject(Vars.SpinExciterObject)},VS_ReelsManager.prototype.OnNextReelSymbols=function(t){this.nextReels=[];for(var e=0;e<t.length;e++)this.nextReels.push(t[e])},VS_ReelsManager.prototype.OnReelPositions=function(t){for(var e=0;e<this.reels.length;e++)this.reels[e].SetPosition(t[e])},VS_ReelsManager.prototype.OnExcitedImportantSymbols=function(t){for(var e=0;e<this.reels.length;e++)this.reels[e].ExcitedImportantSymbols=t[e]},VS_ReelsManager.prototype.OnSpinResultReceived=function(){this.forceStopOnScreenSymbols=XT.GetBool(Vars.IsNoMoneySpin);var t=XT.GetObject(Vars.ReelStopPositions);if(null!=t){this.resultReceived=!0;for(var e=0;e<this.reels.length;e++)this.reels[e].SetStopPosition(t[e])}},VS_ReelsManager.prototype.InitFirstScreenSymbols=function(){var t=XT.GetObject(Vars.FirstScreenSymbols);if(1==this.justVisualSymbols)for(var e=0;e<t.length;e++){var i=t[e][0]!=this.blankSymbolId?this.blankSymbolId:this.blankSymbolId-1;t[e].unshift(i),t[e].push(i)}for(var n=0;n<this.reels.length;n++)this.reels[n].SetScreenSymbols(t);this.BuildOrderedSymbolList()},VS_ReelsManager.prototype.SetAllSymbolsToNormal=function(){for(var t=0;t<this.reels.length;t++)this.reels[t].SetSymbolsToNormal()},VS_ReelsManager.prototype.OnStartSpin=function(){this.state==VS_ReelsManager.State.IDLE&&(this.resultReceived=!1,XT.GetBool(Vars.IsDifferentSpinType)?XT.TriggerEvent(Vars.StartDifferentSpin):(this.startFasterInFastPlay&&(this.isFastStart=this.IsFastPlayOn()),this.startFasterForced&&(this.isFastStart=!0),this.PrepareStart()))},VS_ReelsManager.prototype.OnStopSpin=function(){this.isStoppingFast=!0,this.fastStop=!0,this.rememberToStop=!0,this.mustStopStoppingReels=!0},VS_ReelsManager.prototype.SetAllowFastStop=function(t){t||(this.fastStop=!1)},VS_ReelsManager.prototype.PrepareStart=function(){for(var t=0,e=0;e<this.validateReelSpin.length;e++)this.validateReelSpin[e]&&t++;this.startTimer=this.reelDelayStart,(this.IsFastPlayOn()||XT.GetBool(Vars.ContinuousSpin)||this.startFasterForced)&&(this.startTimer=this.reelDelayStart*t);var i=XT.GetObject(Vars.ReelsStartOrder);if(-1==XT.GetInt(Vars.ReelToBeSpun)){this.reelsSpinning=t;for(e=0;e<i.length;e++)if(this.validateReelSpin[i[e]]){this.reelToStart=i[e];break}}else this.reelToStart=XT.GetInt(Vars.ReelToBeSpun),this.reelsSpinning=1;if(this.autoStopTimer=0,(this.IsFastPlayOn()||this.startFasterForced)&&(this.autoStopTimer=this.autoStopDelay),this.state=VS_ReelsManager.State.STARTING,0<this.nextReels.length&&XT.SetObject(Vars.ReelSymbols,this.nextReels),XT.GetBool(Vars.HiddenMathematics))for(e=0;e<this.reels.length;e++)this.reels[e].SetPosition(0);this.nextReels=[],this.isStoppingFast=!1,this.rememberToStop=!1,this.mustStopStoppingReels=!1,this.fastStop=!1,this.fastStopTimers=null,this.logicIsFS=XT.GetBool(Vars.Logic_IsFreeSpin)},VS_ReelsManager.prototype.PrepareStop=function(){this.stopTimer=this.reelDelayStop,(this.IsFastPlayOn()||this.fastStop)&&(this.stopTimer=this.reelDelayStop*this.reels.length);var t=XT.GetObject(Vars.ReelsStopOrder);if(-1==XT.GetInt(Vars.ReelToBeSpun)){this.reelToStop=t[0];for(var e=0;e<t.length;e++)if(this.validateReelSpin[t[e]]){this.reelToStop=t[e];break}}else this.reelToStop=XT.GetInt(Vars.ReelToBeSpun);this.state=VS_ReelsManager.State.STOPPING},VS_ReelsManager.prototype.Start=function(){},VS_ReelsManager.prototype.Init=function(){},VS_ReelsManager.prototype.CheckAndSetContinuousSpin=function(){XT.GetBool(Vars.ForceContinuousSpin)&&(Input.GetMouseButton(0)||XT.GetInt(Vars.AutoplaySpinsLeft)<0&&XT.SetBool(Vars.ForceContinuousSpin,!1));var t=Input.GetKey(KeyCode.Space)||Input.GetKey(KeyCode.Return),e=XT.GetBool(Vars.AutoplayContinuousSpin)&&0<=XT.GetInt(Vars.AutoplaySpinsLeft);!Globals.InputBlocked&&XT.GetBool(Vars.AllowContinuousSpin)&&(t||XT.GetBool(Vars.ForceContinuousSpin)||e)?(this.continuousSpinTimer+=Time.deltaTime,(.8<this.continuousSpinTimer||XT.GetBool(Vars.ForceContinuousSpin)||XT.GetBool(Vars.AutoplayContinuousSpin)&&0<=XT.GetInt(Vars.AutoplaySpinsLeft))&&XT.SetBool(Vars.ContinuousSpin,!0)):(XT.SetBool(Vars.ContinuousSpin,!1),this.continuousSpinTimer=0)},VS_ReelsManager.prototype.Update=function(){if(this.CheckAndSetContinuousSpin(),this.state==VS_ReelsManager.State.SPINNING&&(this.autoStopTimer+=Time.deltaTime,this.autoStopTimer>this.autoStopDelay&&this.resultReceived&&!XT.GetBool(Vars.KeepSpinning)&&(this.PrepareStop(),this.autoStopTimer=0)),this.state==VS_ReelsManager.State.SPINNING&&this.resultReceived&&!XT.GetBool(Vars.KeepSpinning)&&this.rememberToStop&&this.PrepareStop(),this.state==VS_ReelsManager.State.STARTING){this.startTimer+=Time.deltaTime,this.reelIdxList=[];for(var t=XT.GetObject(Vars.ExtraReelDelayStart),e=this.GetIndexOfReelToStart(this.reelToStart);this.startTimer>this.reelDelayStart+t[e];){this.startTimer-=this.reelDelayStart+t[e],this.logicIsFS?this.reels[this.reelToStart].SetSpeedCurve(this.spinCurves.startFS):this.reels[this.reelToStart].SetSpeedCurve(this.spinCurves.startNormal),this.ShouldSpinReel()&&this.validateReelSpin[this.reelToStart]&&(this.reels[this.reelToStart].StartSpin(),this.reelIdxList.push(this.reelToStart));for(var i=XT.GetObject(Vars.ReelsStartOrder),n=!0,o=e+1;o<i.length;o++)if(this.validateReelSpin[i[o]]){this.reelToStart=i[o],e=this.GetIndexOfReelToStart(this.reelToStart),n=!1;break}if(n||-1!=XT.GetInt(Vars.ReelToBeSpun)){this.state=VS_ReelsManager.State.SPINNING;break}}0<this.reelIdxList.length&&(XT.SetObject(Vars.LastStartedReelIndices,this.reelIdxList),XT.TriggerEvent(Vars.Evt_Internal_ReelStarted))}if(this.state==VS_ReelsManager.State.STOPPING&&this.resultReceived){this.reelIdxList=[];var s=XT.GetObject(Vars.ExtraReelDelayStop),r=XT.GetObject(Vars.ReelsStopOrder),a=this.GetIndexOfReelToStop(this.reelToStop);if(this.NeedToKeepReelSpinning(a)?this.stopTimer+Time.deltaTime<=this.reelDelayStop+s[a]?this.stopTimer+=Time.deltaTime:this.CanStop(this.reelToStop):(this.stopTimer+Time.deltaTime<=this.reelDelayStop+s[a]||this.CanStop(this.reelToStop))&&(this.stopTimer+=Time.deltaTime),this.instantStop&&this.mustStopStoppingReels){for(o=0;o<a;o++){var l=r[o];this.fastStopTimers=this.reels[l].StopSpin(this.fastStop,this.fastStopTimers)}this.mustStopStoppingReels=!1}for(;this.stopTimer>this.reelDelayStop+s[a]||this.fastStop;){this.stopTimer-=this.reelDelayStop+s[a],this.reels[this.reelToStop].isExcited&&!this.fastStop?(this.stopTimer-=this.exciter.extraStopDelayForNextReelOnExcite,this.logicIsFS?this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopExcitedFS):this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopExcitedNormal)):this.useCustomSpinCurves[this.reelToStop]?this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopCustom):this.logicIsFS?this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopFS):this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopNormal),this.fastStopTimers=this.reels[this.reelToStop].StopSpin(this.fastStop,this.fastStopTimers),this.reelIdxList.push(this.reelToStop);for(var u=!0,o=a+1;o<r.length;o++)if(this.validateReelSpin[r[o]]){this.reelToStop=r[o],a=this.GetIndexOfReelToStop(this.reelToStop),u=!1;break}if(u||-1!=XT.GetInt(Vars.ReelToBeSpun)){this.state=VS_ReelsManager.State.IDLE;break}null!=this.exciter&&this.exciter.Excite(this.reelToStop)?(XT.SetInt(Vars.LastExcitedReelIndex,this.reelToStop),XT.TriggerEvent(Vars.Evt_Internal_ExcitedReel),this.stopTimer=-this.exciter.extraExciteTime,this.reels[this.reelToStop].isExcited=!0,this.logicIsFS?this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.excitedFS):this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.excitedNormal)):this.useCustomSpinCurves[this.reelToStop]&&this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.excitedCustom)}if(0<this.reelIdxList.length){XT.SetObject(Vars.LastStoppedReelIndices,this.reelIdxList),XT.TriggerEvent(Vars.Evt_Internal_ReelStopStarted);for(var h=0;h<this.reelIdxList.length;h++)this.reels[this.reelIdxList[h]].isExcited=!1}}},VS_ReelsManager.prototype.NeedToKeepReelSpinning=function(t){var e=XT.GetObject(Vars.ReelsStopOrder);return!!this.reels[e[t]].NeedToKeepSpinning()},VS_ReelsManager.prototype.StopFinished=function(t){null!=this.exciter&&this.exciter.ReelStopped(t,this.isStoppingFast),this.reelsSpinning--,XT.SetInt(Vars.LastStopEndedReelIndex,t),XT.TriggerEvent(Vars.Evt_Internal_ReelStopEnded),0==this.reelsSpinning&&(this.resultReceived=!1,this.BuildOrderedSymbolList(),XT.TriggerEvent(Vars.Evt_Internal_ReelManager_SpinEnded))},VS_ReelsManager.prototype.BuildOrderedHoldersList=function(){for(var t=this.reels.length,e=this.reels[0].symbolHolders.length,i=[],n=this.justVisualSymbols;n<e;n++)for(var o=0;o<t;o++)i.push(this.reels[o].symbolHolders[n]);XT.SetObject(Vars.OrderedSymbolHoldersList,i)},VS_ReelsManager.prototype.BuildOrderedSymbolList=function(){for(var t=this.reels.length,e=this.reels[0].symbolHolders.length,i=[],n=0;n<e;n++)for(var o=0;o<t;o++)i.push(this.reels[o].symbolHolders[n].currentSymbol);XT.SetObject(Vars.OrderedSymbolList,i)},VS_ReelsManager.prototype.IsFastPlayOn=function(){return XT.GetBool(Vars.FastPlay)},VS_ReelsManager.prototype.GetIndexOfReelToStop=function(t){for(var e=XT.GetObject(Vars.ReelsStopOrder),i=-1,n=0;n<e.length;n++)t==e[n]&&(i=n);return i},VS_ReelsManager.prototype.GetIndexOfReelToStart=function(t){for(var e=XT.GetObject(Vars.ReelsStartOrder),i=-1,n=0;n<e.length;n++)t==e[n]&&(i=n);return i},VS_ReelsManager.prototype.ShouldSpinReel=function(){return-1==XT.GetInt(Vars.ReelToBeSpun)||this.reelToStart==XT.GetInt(Vars.ReelToBeSpun)},VS_ReelsManager.prototype.CanStop=function(t){return!0},VS_ReelsManager.prototype.ChangeReelNumberOfReelSpinning=function(t){this.reelsSpinning=t},goog.provide("UHT.LineInfo"),goog.provide("UHT.VS_LinesDefinitions"),goog.require("UHT.XTLink"),goog.require("UHT.LineInfo"),VS_LinesDefinitions.prototype=Object.create(XTLink.prototype),(VS_LinesDefinitions.prototype.constructor=VS_LinesDefinitions).prototype.XTRegisterCallbacks=function(){},VS_LinesDefinitions.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.LinesDefinitionsObject,this)},goog.require("UHT.XTLink"),goog.require("UHT.VS_LinesDefinitions"),goog.require("UHT.System.Misc.Utils");var SpecialSymbolPayType={Everywhere:0,OnActivePayline:1,OnActivePaylineLeftToRight:2},ScatterSymbolPayType={Nowhere:0,Everywhere:1,OnActivePayline:2,OnActivePaylineLeftToRight:3,OnAdjacentReelsBothWays:4},ScreenSymbolsToUse={initialScreenSymbols:0,finalScreenSymbols:1,customScreenSymbols:2};function WinLineInfo(){this.Id=0,this.Positions=null,this.dominatingSymbol=0,this.containsWild=!1}function VS_SpinExciter(){XTLink.call(this),this.symbolList=[],this.allReelsSymbolList=[],this.PossibleWinCombo=null,this.AccumulatedPossibleWin=null,this.PossibleWinComboSymbols=null,this.StillPossibleWinComboPerSymbol=null,this.PossibleWinComboBonus=null,this.PossibleWinComboScatter=null,this.ActualWinCombo=null,this.ActualWinComboBonus=null,this.ActualWinComboScatter=null,this.StillPossibleWinComboBonus=null,this.StillPossibleWinComboScatter=null,this.StillPossibleWinComboWild=null,this.ShouldAnimateBonus=null,this.ShouldAnimateScatter=null,this.ExcitedImportantSymbols=null,this.symbolPaying=null,this.exciteOn=ScreenSymbolsToUse.finalScreenSymbols,this.symbolExciting=null,this.canHighlightOff=null,this.extraScatters=null,this.extraWilds=null,this.symbolIDSubstitutes=[],this.BonusPays=SpecialSymbolPayType.Everywhere,this.BonusMinCombo=3,this.exciteForBonusSymbols=!0,this.forceBonusOnReels=[],this.forceScattersOnReels=[],this.WildSubstitutesScatter=!1,this.ScatterExcites=!1,this.ScatterMustBeStacked=!1,this.ScatterIsStacked=!1,this.ScatterPays=SpecialSymbolPayType.Everywhere,this.ScatterMinCombo=3,this.ScatterMinComboFreeSpins=-1,this.exciteForScatterSymbols=!0,this.MysteryScatterMinCombo=3,this.ScatterPaysMoney=ScatterSymbolPayType.Nowhere,this.ScatterPaysMoneyMinCombo=3,this.extraExciteTime=1.5,this.extraStopDelayForNextReelOnExcite=0,this.betLines=null,this.betLinesServer=[],this.linesDef=null,this.reelsManager=null,this.firstExcitedReel=2,this.hasLoopExciteImportant=!1,this.payoutThreshold=3,this.payoutData=null}function SymbolPanelSorter(){Component.call(this),this.startingDepth=0,this.orderedPanels=null,this.sortingDepth=0}function SymbolSorterManager(){XTLink.call(this),this.sortOrder=SymbolSorterManager.SortOrder.topLeft,this.symbolHoldersOffset=1,this.reelHolderOffset=1,this.rm=null,this.vs=null,this.sps=null,this.newDepth=0}VS_SpinExciter.prototype=Object.create(XTLink.prototype),(VS_SpinExciter.prototype.constructor=VS_SpinExciter).prototype.XTRegisterCallbacks=function(){switch(XT.RegisterCallbackObject(Vars.FirstScreenSymbols,this.OnFirstScreenSymbols,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytablePayoutUpdate,this.UpdateSymbolPayoutInformation,this),XT.RegisterCallbackObject(Vars.ReelSymbols,this.OnReelSymbols,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived,this.ComputeBetLinesFromServer,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived,this.ComputeBetLinesFromServer,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived,this.ComputeBetLinesFromServer,this),this.exciteOn){case ScreenSymbolsToUse.initialScreenSymbols:XT.RegisterCallbackObject(Vars.InitialResultScreenSymbols,this.OnScreenSymbols,this);break;case ScreenSymbolsToUse.finalScreenSymbols:XT.RegisterCallbackObject(Vars.ResultScreenSymbols,this.OnScreenSymbols,this);break;case ScreenSymbolsToUse.customScreenSymbols:XT.RegisterCallbackObject(Vars.CustomResultScreenSymbols,this.OnScreenSymbols,this)}},VS_SpinExciter.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.SpinExciterObject,this),XT.SetObject(Vars.ExtraScatters,this.extraScatters),XT.SetObject(Vars.AdditionalBonusScatters,null)},VS_SpinExciter.prototype.OnReelSymbols=function(t){this.allReelsSymbolList=[];for(var e=0;e<t.length;e++)this.allReelsSymbolList.push(t[e])},VS_SpinExciter.prototype.SymbolsPresentAnywhereOnReel=function(t,e){for(var i=0,n=0;n<this.allReelsSymbolList[e].length;n++)this.IsSameID(t,this.allReelsSymbolList[e][n])&&i++;return 0==i&&this.forceBonusOnReels.length>e&&this.forceBonusOnReels[e]&&i++,0==i&&this.forceScattersOnReels.length>e&&this.forceScattersOnReels[e]&&i++,i},VS_SpinExciter.prototype.IsSameID=function(t,e){if(t==e)return!0;if(null!=this.symbolIDSubstitutes)for(var i=0;i<this.symbolIDSubstitutes.length;i++)if(this.symbolIDSubstitutes[i].realID==t&&-1!=this.symbolIDSubstitutes[i].substituteIDs.indexOf(e))return!0;return!1},VS_SpinExciter.prototype.OnFirstScreenSymbols=function(t){var e=t;this.symbolList=[];for(var i=0;i<e.length;i++)this.symbolList.push([]);var n=this.symbolList.length;this.PossibleWinCombo=_array.create(n,!1),this.AccumulatedPossibleWin=_array.create(n,!1),this.PossibleWinComboSymbols=_array.create(n,!1),this.PossibleWinComboBonus=_array.create(n,!1),this.PossibleWinComboScatter=_array.create(n,!1),this.ActualWinCombo=_array.create(n,!1),this.ActualWinComboBonus=_array.create(n,!1),this.ActualWinComboScatter=_array.create(n,!1),this.StillPossibleWinComboBonus=_array.create(n,!1),this.StillPossibleWinComboScatter=_array.create(n,!1),this.StillPossibleWinComboWild=_array.create(n,!1),this.ShouldAnimateBonus=_array.create(n*e[0].length,!1),this.ShouldAnimateScatter=_array.create(n*e[0].length,!1);for(var o=XT.GetObject(Vars.SymbolsManagerObject).symbols,s=-1,i=0;i<o.length;++i)o[i].symbolId>s&&(s=o[i].symbolId);var r=s+1;this.ExcitedImportantSymbols=[];for(i=0;i<n;i++)this.ExcitedImportantSymbols.push(_array.create(r,!1));XT.SetObject(Vars.ExcitedImportantSymbols,this.ExcitedImportantSymbols),this.linesDef=XT.GetObject(Vars.LinesDefinitionsObject),this.reelsManager=XT.GetObject(Vars.ReelsManagerObject),this.StillPossibleWinComboPerSymbol=[];for(i=0;i<n;++i)this.StillPossibleWinComboPerSymbol[i]=new Array(r)},VS_SpinExciter.prototype.OnScreenSymbols=function(t){for(var e=t,i=0;i<e.length;i++){this.symbolList[i]=[];for(var n=0;n<e[i].length;n++)this.symbolList[i].push(e[i][e[i].length-1-n])}this.ResetPossibleWins(),this.ComputePossibleWins(),XT.TriggerEvent(Vars.Evt_Internal_ExciterComputeEnded)},VS_SpinExciter.prototype.UpdateSymbolPayoutInformation=function(){var t=XT.GetObject(Vars.PaytablePayoutData);null!=t&&(this.payoutData=t)},VS_SpinExciter.prototype.ResetPossibleWins=function(){for(var t=0;t<this.PossibleWinCombo.length;t++)this.PossibleWinCombo[t]=!1,this.AccumulatedPossibleWin[t]=0,this.PossibleWinComboSymbols[t]=!1,this.PossibleWinComboBonus[t]=!1,this.PossibleWinComboScatter[t]=!1,this.ActualWinCombo[t]=!1,this.ActualWinComboBonus[t]=!1,this.ActualWinComboScatter[t]=!1,this.StillPossibleWinComboBonus[t]=!1,this.StillPossibleWinComboScatter[t]=!1,this.StillPossibleWinComboWild[t]=!1;for(t=0;t<this.StillPossibleWinComboPerSymbol.length;++t)for(var e=0;e<this.StillPossibleWinComboPerSymbol[t].length;e++)this.StillPossibleWinComboPerSymbol[t][e]=!1;for(t=0;t<this.ShouldAnimateBonus.length;t++)this.ShouldAnimateBonus[t]=!1;for(t=0;t<this.ShouldAnimateScatter.length;t++)this.ShouldAnimateScatter[t]=!1;for(t=0;t<this.ExcitedImportantSymbols.length;t++)for(e=0;e<this.ExcitedImportantSymbols[t].length;e++)this.ExcitedImportantSymbols[t][e]=!1},VS_SpinExciter.prototype.SymbolAppearencesOnReel=function(t,e){for(var i=0,n=0;n<this.symbolList[e].length;n++)this.IsSameID(t,this.symbolList[e][n])&&i++;var o=XT.GetObject(Vars.AdditionalBonusScatters);if(null!=o)for(n=0;n<o[e].length;n++)this.IsSameID(t,o[e][n])&&i++;return i},VS_SpinExciter.prototype.GetSymbolFromReel=function(t,e,i){var n=this.symbolList[e][t];return 0!=i||null!=(i=XT.GetObject(Vars.AdditionalBonusScatters))&&0<=i[e][t]&&(n=i[e][t]),n},VS_SpinExciter.prototype.ComputePossibleWins=function(){var t=XT.GetInt(Vars.Lines),e=this.symbolList.length;this.betLines=_array.create(t,null);for(var i=0;i<t;i++){this.betLines[i]=new WinLineInfo,this.betLines[i].Id=i+1,this.betLines[i].Positions=_array.create(e,0),this.betLines[i].containsWild=!1;for(var n=0;n<e;n++)this.betLines[i].Positions[n]=this.linesDef.lines[i].symbolIndices[n]}if(this.BonusPays==SpecialSymbolPayType.Everywhere){for(var o=0,i=0;i<e;i++){for(var s=!1,r=0,a=!1,n=i;n<e;n++)0<this.SymbolsPresentAnywhereOnReel(0,n)&&(s=!0,n!=i?r++:a=!0);1<i&&o>=this.BonusMinCombo-1&&s&&a&&(this.PossibleWinCombo[i]=!0,this.PossibleWinComboBonus[i]=!0),(o+=this.SymbolAppearencesOnReel(0,i))>=this.BonusMinCombo&&(this.ActualWinCombo[i]=!0,this.ActualWinComboBonus[i]=!0),o+r>=this.BonusMinCombo&&(this.StillPossibleWinComboBonus[i]=!0)}if(o>=this.BonusMinCombo)for(i=0;i<this.ShouldAnimateBonus.length;i++)this.ShouldAnimateBonus[i]=!0}if(this.BonusPays==SpecialSymbolPayType.OnActivePayline||this.BonusPays==SpecialSymbolPayType.OnActivePaylineLeftToRight)for(var l=0;l<this.betLines.length;++l)for(var u=this.betLines[l],o=0,i=0;i<u.Positions.length;i++){for(s=!1,r=0,a=!1,n=i;n<u.Positions.length;n++)0<this.SymbolsPresentAnywhereOnReel(0,n)&&(s=!0,n!=i?r++:a=!0);var h=(v=u.Positions[i])%e,c=Math.floor(v/e),p=this.GetSymbolFromReel(c,h,!1);if(1<i&&o>=this.BonusMinCombo-1&&s&&a&&(this.PossibleWinCombo[i]=!0,this.PossibleWinComboBonus[i]=!0),0==p)o++;else if(this.BonusPays==SpecialSymbolPayType.OnActivePaylineLeftToRight)break;if(o>=this.BonusMinCombo){this.ActualWinCombo[i]=!0,this.ActualWinComboBonus[i]=!0;for(n=0;n<=i;n++)this.ShouldAnimateBonus[u.Positions[n]]=!0}o+r>=this.BonusMinCombo&&(this.StillPossibleWinComboBonus[i]=!0)}if(this.ScatterPays==SpecialSymbolPayType.Everywhere){for(var d=0,i=0;i<e;i++){for(var m=!1,S=0,g=!1,n=i;n<e;n++)0<this.SymbolsPresentAnywhereOnReel(1,n)&&(m=!0,n!=i?this.ScatterIsStacked?S+=this.symbolList[i].length:S++:g=!0);if(1<i&&d>=this.ScatterMinCombo-1&&m&&g&&(this.PossibleWinCombo[i]=!0,this.PossibleWinComboScatter[i]=!0),this.ScatterMustBeStacked)d+=this.SymbolAppearencesOnReel(1,i)==this.reelsManager.reels[i].symbolHolders.length?1:0;else if(d+=this.SymbolAppearencesOnReel(1,i),null!=this.extraScatters&&0<this.extraScatters.length)for(var y=0;y<this.extraScatters.length;y++)d+=this.SymbolAppearencesOnReel(this.extraScatters[y],i);d>=this.ScatterMinCombo&&(this.ActualWinCombo[i]=!0,this.ActualWinComboScatter[i]=!0),this.ScatterMustBeStacked?d+S>=this.GetScatterMinCombo()&&this.SymbolAppearencesOnReel(1,i)==this.reelsManager.reels[i].symbolHolders.length&&(this.StillPossibleWinComboScatter[i]=!0):d+S>=this.GetScatterMinCombo()&&(this.StillPossibleWinComboScatter[i]=!0)}if(d>=this.GetScatterMinCombo())for(i=0;i<this.ShouldAnimateScatter.length;i++)this.ShouldAnimateScatter[i]=!0}if(this.ScatterPays==SpecialSymbolPayType.OnActivePayline||this.ScatterPays==SpecialSymbolPayType.OnActivePaylineLeftToRight)for(l=0;l<this.betLines.length;++l)for(u=this.betLines[l],d=0,i=0;i<u.Positions.length;i++){for(m=!1,S=0,g=!1,n=i;n<u.Positions.length;n++)0<this.SymbolsPresentAnywhereOnReel(1,n)&&(m=!0,n!=i?S++:g=!0);h=(v=u.Positions[i])%e,c=Math.floor(v/e),p=this.GetSymbolFromReel(c,h,!1);if(1<i&&d>=this.ScatterMinCombo-1&&m&&g&&(this.PossibleWinCombo[i]=!0,this.PossibleWinComboScatter[i]=!0),1==p||2==p&&this.WildSubstitutesScatter)d++;else if(this.ScatterPays==SpecialSymbolPayType.OnActivePaylineLeftToRight)break;if(d>=this.GetScatterMinCombo()){this.ActualWinCombo[i]=!0,this.ActualWinComboScatter[i]=!0;for(n=0;n<=i;n++)this.ShouldAnimateScatter[u.Positions[n]]=!0}d+S>=this.GetScatterMinCombo()&&(this.StillPossibleWinComboScatter[i]=!0)}for(l=0;l<this.betLines.length;++l){for(var u=this.betLines[l],T=XT.GetBool(Vars.ScatterSymbolIsWild),f=2,b=-1,C=0,i=0;i<u.Positions.length;i++){var v,h=(v=u.Positions[i])%e,c=Math.floor(v/e),p=this.GetSymbolFromReel(c,h);if(-1==b&&(b=p),T)if(this.SymbolIsWild(p)||1==p)this.StillPossibleWinComboWild[i]=!0;else if(p!=f&&!this.SymbolIsWild(f)&&1!=f||p<2){for(var M=i,A=_array.create(M,0),n=0;n<M;n++)A[n]=u.Positions[n];u.Positions=A}else b=f=p;else if(this.SymbolIsWild(p))this.StillPossibleWinComboWild[i]=!0,C==i&&C++;else if(p!=f&&!this.SymbolIsWild(f)||p<2){M=i;0<C&&this.payoutData[2][C-1]>this.payoutData[f][M-1]&&(M=C,f=2);for(A=_array.create(M,0),n=0;n<M;n++)A[n]=u.Positions[n];u.Positions=A}else b=f=p;u.containsWild||(u.containsWild=this.SymbolIsWild(p))}if(u.dominatingSymbol=f,-1!=b)for(var L=u.Positions.length,i=0;i<L;i++)this.StillPossibleWinComboPerSymbol[i][b]=!0;if((T?0:1)<f&&(this.symbolExciting[f]||.001<this.payoutThreshold)){for(L=u.Positions.length,i=0;i<L;i++)this.ActualWinCombo[i]=!0;e-1<L&&(L=e-1);for(i=0;i<=L;i++)null!=this.payoutData&&(this.AccumulatedPossibleWin[i]+=this.payoutData[f][i]*XT.GetDouble(Vars.CurrentWinMultiplier));for(i=0;i<=L;i++)this.PossibleWinCombo[i]=!0,this.PossibleWinComboSymbols[i]=!0,this.hasLoopExciteImportant&&(this.ExcitedImportantSymbols[i][f]=!0)}}this.SetWinComboSounds()},VS_SpinExciter.prototype.SetWinComboSounds=function(){XT.SetObject(Vars.PossibleWinComboSymbols,this.PossibleWinComboSymbols),XT.SetObject(Vars.StillPossibleWinComboPerSymbol,this.StillPossibleWinComboPerSymbol),XT.SetObject(Vars.StillPossibleWinComboBonus,this.StillPossibleWinComboBonus),XT.SetObject(Vars.StillPossibleWinComboScatter,this.StillPossibleWinComboScatter),XT.SetObject(Vars.StillPossibleWinComboWild,this.StillPossibleWinComboWild),XT.SetObject(Vars.ReelsWinInfo,this.ActualWinCombo)},VS_SpinExciter.prototype.Excite=function(t){if(this.extraExciteTime<0||!XT.GetObject(Vars.ReelsCanBeExcited)[t])return!1;if(t>=this.firstExcitedReel){if(this.PossibleWinComboScatter[t]&&this.exciteForScatterSymbols||this.PossibleWinComboBonus[t]&&this.exciteForBonusSymbols)return!0;var e,i=!1;if(null==this.payoutData?i=!0:(e=XT.GetInt(Vars.Lines),this.AccumulatedPossibleWin[t]>=this.payoutThreshold*e&&(i=!0)),this.PossibleWinCombo[t]&&i)return!0}return!1},VS_SpinExciter.prototype.CanHighlightOff=function(t){return this.canHighlightOff[t]},VS_SpinExciter.prototype.UpdateSymbol=function(t,e,i){var n=t.currentSymbol.symbolId,o=XT.GetBool(Vars.ScatterSymbolIsWild);if(this.CanHighlightOff(n)||o&&1==n)if(1==n&&this.ScatterExcites&&i){for(var s=!1,r=e<this.reelsManager.reels.length-1&&this.PossibleWinComboScatter[e+1],a=0;a<=e;a++)this.ActualWinComboScatter[a]&&(s=!0);s&&r?t.currentSymbol.SetWinExcited():s?t.currentSymbol.SetWinning():r?t.currentSymbol.SetExcited():this.CanHighlightOff(n)?t.currentSymbol.SetHighlightOff():t.currentSymbol.SetNormal()}else{for(var l=t.GetOrderedSymbolIdx(),u=-1,h=0;h<this.betLines.length;++h)for(var c=this.betLines[h],p=0;p<c.Positions.length;p++)p<=e&&c.Positions[p]==l&&u<c.Positions.length&&(u=c.Positions.length);i=!1,r=!1;u>=this.firstExcitedReel&&e<u&&(i=!0),(r=u>=this.symbolPaying[n]&&e+1>=this.symbolPaying[n]?!0:r)&&i?t.currentSymbol.SetWinExcited():r?t.currentSymbol.SetWinning():i?t.currentSymbol.SetExcited():!this.CanHighlightOff(n)&&o&&1==n?t.currentSymbol.SetNormal():t.currentSymbol.SetHighlightOff()}},VS_SpinExciter.prototype.ReelStopped=function(t,e){if(!(e||t<this.firstExcitedReel-1)){for(var i=!1,n=Math.min(t+1,this.reelsManager.reels.length-1),o=0;o<=n;o++)this.Excite(o)&&this.PossibleWinComboSymbols[o]&&(i=!0);if(i)for(o=0;o<=t;o++)for(var s=this.reelsManager.reels[o],r=0;r<s.symbolHolders.length;r++)this.UpdateSymbol(s.symbolHolders[r],t,!1);if(this.ScatterExcites)for(o=0;o<=t;o++)for(s=this.reelsManager.reels[o],r=0;r<s.symbolHolders.length;r++)1==s.symbolHolders[r].currentSymbol.symbolId&&this.UpdateSymbol(s.symbolHolders[r],t,!0)}},VS_SpinExciter.prototype.GetScattersThatNeedToBeAnimated=function(){return this.ShouldAnimateScatter},VS_SpinExciter.prototype.GetBonusesThatNeedToBeAnimated=function(){return this.ShouldAnimateBonus},VS_SpinExciter.prototype.GetScatterMinCombo=function(){return XT.GetBool(Vars.Logic_IsFreeSpin)&&0<this.ScatterMinComboFreeSpins?this.ScatterMinComboFreeSpins:this.ScatterMinCombo},VS_SpinExciter.prototype.SymbolIsWild=function(t){return 2==t||-1<this.extraWilds.indexOf(t)},VS_SpinExciter.prototype.ComputeBetLinesFromServer=function(){this.betLinesServer.splice(0);var t=XT.GetObject(Vars.ReceivedWinLines);if(null!=t)for(var e=this.symbolList.length,i=2,n=0;n<t.length;n++){var o=new WinLineInfo;o.Id=t[n].LineNumber,o.Positions=t[n].WinPositions,o.containsWild=!1;for(var s=[],r=0;r<o.Positions.length;++r){var a=this.GetSymbolFromReel(_number.otoi(o.Positions[r]/e),_number.otoi(o.Positions[r]%e));s.indexOf(a)<0&&s.push(a),this.SymbolIsWild(a)&&(i=a,o.containsWild=!0)}o.containsWild&&(o.dominatingSymbol=i);for(r=0;r<s.length;++r)this.SymbolIsWild(s[r])||(o.dominatingSymbol=s[r]);this.betLinesServer.push(o)}},VS_SpinExciter.prototype.BetLinesFromServer=function(t){for(var e=0;e<this.betLinesServer.length;++e)if(t==this.betLinesServer[e].Id)return this.betLinesServer[e];return null},goog.require("UHT.Engine"),SymbolPanelSorter.prototype=Object.create(Component.prototype),(SymbolPanelSorter.prototype.constructor=SymbolPanelSorter).prototype.UpdateDepth=function(t){this.sortingDepth=this.startingDepth+t;for(var e=0;e<this.orderedPanels.length;e++)this.orderedPanels[e].depth=this.sortingDepth+e},SymbolPanelSorter.prototype.SetAlpha=function(t){for(var e=0;e<this.orderedPanels.length;e++)this.orderedPanels[e].alpha=t},goog.require("UHT.Engine"),SymbolSorterManager.prototype=Object.create(XTLink.prototype),(SymbolSorterManager.prototype.constructor=SymbolSorterManager).SortOrder={topLeft:0,topRight:1,bottomLeft:2,bottomRight:3},SymbolSorterManager.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateSymbolsDepth,this.SortSymbols,this)},SymbolSorterManager.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGameInit,this),XT.UnregisterCallbackEvent(this.SortSymbols,this)},SymbolSorterManager.prototype.OnGameInit=function(){this.rm=XT.GetObject(Vars.ReelsManagerObject),this.SortSymbols()},SymbolSorterManager.prototype.SortSymbols=function(){if(null!=this.rm)for(var t=0;t<this.rm.reels.length;t++)for(var e=0,i=0;i<this.rm.reels[t].sortedSymbolHolders.length;i++)if(this.vs=this.rm.reels[t].sortedSymbolHolders[i].currentSymbol,null!=this.vs){if(this.sps=this.vs.GetComponent(SymbolPanelSorter),null!=this.sps){switch(this.sortOrder){case SymbolSorterManager.SortOrder.topLeft:this.newDepth=t*this.reelHolderOffset+e*this.symbolHoldersOffset;break;case SymbolSorterManager.SortOrder.topRight:this.newDepth=(this.rm.reels.length-t-1)*this.reelHolderOffset+e*this.symbolHoldersOffset;break;case SymbolSorterManager.SortOrder.bottomLeft:this.newDepth=t*this.reelHolderOffset+(this.rm.reels[t].sortedSymbolHolders.length-e-1)*this.symbolHoldersOffset;break;case SymbolSorterManager.SortOrder.bottomRight:this.newDepth=(this.rm.reels.length-t-1)*this.reelHolderOffset+(this.rm.reels[t].sortedSymbolHolders.length-e-1)*this.symbolHoldersOffset;break;default:this.newDepth=0}this.sps.UpdateDepth(this.newDepth)}e++}},goog.require("UHT.FOXLink");var WinLimitVars={WinLimit_TotalBetMultiplier:"WinLimit_TotalBetMultiplier",WinLimit_TotalAmount:"WinLimit_TotalAmount",WinLimit_UncappedWinLines:"WinLimit_UncappedWinLines"};function WinLimitFOX(){FOXLink.call(this),this.defaultWinLimit="tbm",this.winLimitsValues={},this.isCollect=!1,this.isBonusCollect=!1,this.isSpin=!1,this.cycleWin=0,this.prevCycleWin=0,this.cycleWinBeforeRespins=0,this.cycleWinBeforeFreeSpins=0,this.bonusWinsInFreeSpins=0,this.bFreeSpinEndsWithRespin=!1,this.bRemoveBGTAtBonusRespin=!1,this.forceBonusCollectOnCapDuringBonus=!1}function VS_SymbolScatterWild(){VS_Symbol.call(this),this.eventWildNormal=null,this.eventWildSpinStart=null,this.eventWildSpinLoop=null,this.eventWildSpinStop=null,this.eventWildHighlightOff=null,this.eventWildFSHighlightOff=null,this.eventWildHighlightOn=null,this.eventWildExcited=null,this.eventWildWinExcited=null,this.eventWildWinning=null,this.eventSetAsScatter=null,this.eventSetAsWild=null,this.eventResetToScatter=null,this.eventWildSpinLoopExcited=null,this.isScatter=!0}WinLimitFOX.prototype=Object.create(FOXLink.prototype),(WinLimitFOX.prototype.constructor=WinLimitFOX).prototype.XTRegisterCallbacks=function(){FOXLink.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnSpinStarted,this)},WinLimitFOX.prototype.XTInitVariablesAndEvents=function(){XT.SetInt(WinLimitVars.WinLimit_TotalBetMultiplier,0),XT.SetDouble(WinLimitVars.WinLimit_TotalAmount,0),XT.SetObject(WinLimitVars.WinLimit_UncappedWinLines,null)},WinLimitFOX.prototype.HandleInitResponse=function(t){if(null!=t.wl_i){var e=t.wl_i.split(";");if(0!=e.length){for(var i=0;i<e.length;i++){var n=e[i].split("~");if(n.length<2)return;this.winLimitsValues[n[0]]=_number.otoi(n[1])}var o=null!=this.winLimitsValues[this.defaultWinLimit]?this.winLimitsValues[this.defaultWinLimit]:0;XT.SetInt(WinLimitVars.WinLimit_TotalBetMultiplier,o),this.HandleSpinResponse(t),this.HandleBonusRespinResponse(t)}}},WinLimitFOX.prototype.HandleSpinResponse=function(t){var e;this.CapValuesIfNeeded(t)&&(this.isCollect&&null!=t[GameProtocolDictionary.freeSpinCurrentNumber]&&(e=_number.otoi(t[GameProtocolDictionary.freeSpinCurrentNumber]),0==--e?(delete t[GameProtocolDictionary.freeSpinCurrentNumber],delete t[GameProtocolDictionary.freeSpinMaxNumber],delete t[GameProtocolDictionary.freeSpinTotalNumber]):null==t[GameProtocolDictionary.freeSpinTotalNumber]&&(t[GameProtocolDictionary.freeSpinTotalNumber]=e.toString()),null!=t[GameProtocolDictionary.mysteryScatterGame]&&delete t[GameProtocolDictionary.mysteryScatterGame],this.WeHaveFSChainData(t)&&delete t[GameProtocolDictionary.freeSpinMaxNumber]),null!=t.rs_p&&null==t.rs_t&&(e=t.rs_p,delete t.rs_p,t.rs_t=e,this.bRemoveBGTAtBonusRespin&&(null!=t[GameProtocolDictionary.BonusGame.gameOver]&&(t[GameProtocolDictionary.BonusGame.gameOver]="1"),"0"==e&&null!=t.bgt&&delete t.bgt)),this.bFreeSpinEndsWithRespin&&null!=t[GameProtocolDictionary.freeSpinCurrentNumber]&&(null==t.rs_t&&(t.rs_t="1"),null!=t.prg&&(t.prg="0,0")),!this.isCollect&&!this.isSpin||null==t[GameProtocolDictionary.BonusGame.bonusGameExists]&&null==t[GameProtocolDictionary.BonusGame.level]&&null==t[GameProtocolDictionary.BonusGame.currentBonusRespin]&&null==t[GameProtocolDictionary.BonusGame.status]&&null==t.wof_status||(delete t[GameProtocolDictionary.BonusGame.bonusGameExists],delete t[GameProtocolDictionary.BonusGame.level],delete t[GameProtocolDictionary.BonusGame.currentBonusRespin],delete t[GameProtocolDictionary.BonusGame.status],delete t.wof_status))},WinLimitFOX.prototype.HandleBonusRespinResponse=function(t){var e=XT.GetObject(Vars.ReceivedFreeSpinsResponse);this.CapValuesIfNeeded(t)?this.isBonusCollect?(t[GameProtocolDictionary.BonusGame.gameOver]="1",null!=t[GameProtocolDictionary.BonusGame.extraRetriggersWon]&&delete t[GameProtocolDictionary.BonusGame.extraRetriggersWon],null!=t[GameProtocolDictionary.BonusGame.currentBonusRespin]&&null!=t[GameProtocolDictionary.BonusGame.maxBonusRespins]&&(t[GameProtocolDictionary.BonusGame.currentBonusRespin]=t[GameProtocolDictionary.BonusGame.maxBonusRespins]),null!=e&&e.IsFreeSpin&&(e.TotalSpins=e.CurrentSpin-1)):this.isCollect&&null!=e&&e.IsFreeSpin&&(e.TotalSpins=e.CurrentSpin-1):null!=e&&e.IsFreeSpin&&null!=t[GameProtocolDictionary.BonusGame.gameOver]&&"1"==t[GameProtocolDictionary.BonusGame.gameOver]&&(this.bonusWinsInFreeSpins+=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.BonusGame.realWin))},WinLimitFOX.prototype.HandlePickBonusResponse=function(t){this.prevCycleWin=this.cycleWin;var e,i=XT.GetObject(Vars.ReceivedFreeSpinsResponse);this.CapValuesIfNeeded(t)?this.isCollect&&(null!=t[GameProtocolDictionary.freeSpinCurrentNumber]?(e=_number.otoi(t[GameProtocolDictionary.freeSpinCurrentNumber]),e--,null==t[GameProtocolDictionary.freeSpinTotalNumber]&&(t[GameProtocolDictionary.freeSpinTotalNumber]=e.toString())):i.IsFreeSpin&&(i.TotalSpins=i.CurrentSpin-1)):null!=i&&i.IsFreeSpin&&null!=t[GameProtocolDictionary.BonusGame.gameOver]&&"1"==t[GameProtocolDictionary.BonusGame.gameOver]&&(this.bonusWinsInFreeSpins+=GameProtocolCommonParser.ParseDouble(t,GameProtocolDictionary.BonusGame.realWin))},WinLimitFOX.prototype.SwitchTotalBetMultiplier=function(t){null!=this.winLimitsValues[t]&&XT.SetInt(WinLimitVars.WinLimit_TotalBetMultiplier,this.winLimitsValues[t])},WinLimitFOX.prototype.HandlePickFSOptionResponse=function(t){this.CapValuesIfNeeded(t)},WinLimitFOX.prototype.CapValuesIfNeeded=function(t){null!=t[GameProtocolDictionary.spinCycleWin]&&(this.cycleWin=_number.otod(t[GameProtocolDictionary.spinCycleWin]));var e="rs_p";if(null!=t[e]&&0==_number.otoi(t[e])&&(this.cycleWinBeforeRespins=this.prevCycleWin),null!=t[GameProtocolDictionary.freeSpinCurrentWin]&&0==_number.otod(t[GameProtocolDictionary.freeSpinCurrentWin])&&(this.cycleWinBeforeFreeSpins=this.cycleWin),null==t[e="wl_ta"])return XT.SetDouble(WinLimitVars.WinLimit_TotalAmount,0),XT.SetObject(WinLimitVars.WinLimit_UncappedWinLines,null),XT.SetBool(Vars.WinLimitReached,!1),!1;XT.SetBool(Vars.WinLimitReached,!0);var i,n=_number.otod(t[e]),o=String(n-this.prevCycleWin),s=String(n-this.cycleWinBeforeRespins),r=n-this.cycleWinBeforeFreeSpins,a=n-this.prevCycleWin,e=!1;null!=t[GameProtocolDictionary.winAmountShort]&&(t[GameProtocolDictionary.winAmountShort]=o),null!=t[GameProtocolDictionary.TumblingWin]&&(t[GameProtocolDictionary.TumblingWin]=s),null!=t[GameProtocolDictionary.freeSpinTotalWin]&&(r<(i=_number.otod(t[GameProtocolDictionary.freeSpinTotalWin]))&&(i=r),t[GameProtocolDictionary.freeSpinTotalWin]=String(i)),null!=t[GameProtocolDictionary.freeSpinCurrentWin]&&(t[GameProtocolDictionary.freeSpinCurrentWin]=(r-this.bonusWinsInFreeSpins).toString()),null!=t[GameProtocolDictionary.freeSpinTotalWinMultiplied]&&(r<(i=_number.otod(t[GameProtocolDictionary.freeSpinTotalWinMultiplied]))&&(i=r),t[GameProtocolDictionary.freeSpinTotalWinMultiplied]=String(i)),null!=t[GameProtocolDictionary.BonusGame.realWin]&&(u=_number.otod(t[GameProtocolDictionary.BonusGame.realWin]),t[GameProtocolDictionary.BonusGame.realWin]=(u=a<u?a:u).toString(),this.forceBonusCollectOnCapDuringBonus&&(e=!0)),null!=t.bpw&&(a<(u=_number.otod(t.bpw))&&(u=a),this.forceBonusCollectOnCapDuringBonus?(e=!0,t.bpw="0",t[GameProtocolDictionary.BonusGame.realWin]=u.toString()):t.bpw=u.toString()),XT.SetDouble(WinLimitVars.WinLimit_TotalAmount,n),XT.SetObject(WinLimitVars.WinLimit_UncappedWinLines,VSProtocolParser.ParseWinLines(t));for(var l=0;null!=t[GameProtocolDictionary.winLines(l)];)delete t[GameProtocolDictionary.winLines(l++)];var u="";null!=t[GameProtocolDictionary.Actions.action]&&(u=t[GameProtocolDictionary.Actions.action]);n="";return null!=t[GameProtocolDictionary.NextActions.nextAction]&&(n=t[GameProtocolDictionary.NextActions.nextAction]),this.isCollect=u==GameProtocolDictionary.Actions.doCollect||n==GameProtocolDictionary.NextActions.Collect,this.isBonusCollect=u==GameProtocolDictionary.Actions.doCollectBonus||n==GameProtocolDictionary.NextActions.CollectBonus,this.isSpin=n==GameProtocolDictionary.NextActions.Spin,e&&(this.isBonusCollect=!0,this.isCollect=!1,this.isSpin=!1),null!=t[GameProtocolDictionary.Tumbling]&&delete t[GameProtocolDictionary.Tumbling],!0},WinLimitFOX.prototype.OnSpinStarted=function(){var t=XT.GetObject(Vars.RespinData);!XT.GetBool(Vars.Logic_IsFreeSpin)&&(null==t||t.IsDone)?(this.prevCycleWin=0,this.bonusWinsInFreeSpins=0):this.prevCycleWin=this.cycleWin},WinLimitFOX.prototype.WeHaveFSChainData=function(t){return null!=t[GameProtocolDictionary.FreeSpinsChain.spins]||null!=t[GameProtocolDictionary.FreeSpinsChain.multipliers]||null!=t[GameProtocolDictionary.FreeSpinsChain.sessionsWonSymbolsCount]||null!=t[GameProtocolDictionary.FreeSpinsChain.sessionsWonThisSpin]||null!=t[GameProtocolDictionary.FreeSpinsChain.spinsTotal]||null!=t[GameProtocolDictionary.FreeSpinsChain.multipliersTotal]||null!=t[GameProtocolDictionary.FreeSpinsChain.winsTotal]||null!=t[GameProtocolDictionary.FreeSpinsChain.multipliedWinTotal]},goog.require("UHT.VS_Symbol"),VS_SymbolScatterWild.prototype=Object.create(VS_Symbol.prototype),(VS_SymbolScatterWild.prototype.constructor=VS_SymbolScatterWild).prototype.Start=function(){VS_Symbol.prototype.Start.call(this),this.eventWildNormal.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildSpinStart.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildSpinLoop.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildSpinStop.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildHighlightOff.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildFSHighlightOff.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildHighlightOn.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildWinExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildWinning.UnregisterCallback(this.Callback_EventEnded,this),this.eventSetAsScatter.UnregisterCallback(this.Callback_EventEnded,this),this.eventSetAsWild.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildSpinLoopExcited.UnregisterCallback(this.Callback_EventEnded,this),this.eventWildNormal.RegisterCallback(this.Callback_EventEnded,this),this.eventWildSpinStart.RegisterCallback(this.Callback_EventEnded,this),this.eventWildSpinLoop.RegisterCallback(this.Callback_EventEnded,this),this.eventWildSpinStop.RegisterCallback(this.Callback_EventEnded,this),this.eventWildHighlightOff.RegisterCallback(this.Callback_EventEnded,this),this.eventWildFSHighlightOff.RegisterCallback(this.Callback_EventEnded,this),this.eventWildHighlightOn.RegisterCallback(this.Callback_EventEnded,this),this.eventWildExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventWildWinExcited.RegisterCallback(this.Callback_EventEnded,this),this.eventWildWinning.RegisterCallback(this.Callback_EventEnded,this),this.eventSetAsScatter.RegisterCallback(this.Callback_EventEnded,this),this.eventSetAsWild.RegisterCallback(this.Callback_EventEnded,this),this.eventWildSpinLoopExcited.RegisterCallback(this.Callback_EventEnded,this)},VS_SymbolScatterWild.prototype.ProcessCommands=function(){if(0<this.commands.length)if(this.canProcessNextCommand){var t=this.commands[0];switch(this.commands.splice(0,1),this.canProcessNextCommand=!1,t){case VS_Symbol.State.Normal:(this.isScatter?this.eventNormal:this.eventWildNormal).Start();break;case VS_Symbol.State.HighlightOn:(this.isScatter?this.eventHighlightOn:this.eventWildHighlightOn).Start();break;case VS_Symbol.State.HighlightOff:(this.isScatter?this.eventHighlightOff:this.eventWildHighlightOff).Start();break;case VS_Symbol.State.SpinStart:(this.isScatter?this.eventSpinStart:this.eventWildSpinStart).Start();break;case VS_Symbol.State.SpinLoop:(this.isScatter?this.eventSpinLoop:this.eventWildSpinLoop).Start();break;case VS_Symbol.State.SpinStop:(this.isScatter?this.eventSpinStop:this.eventWildSpinStop).Start();break;case VS_Symbol.State.Excited:(this.isScatter?this.eventExcited:this.eventWildExcited).Start();break;case VS_Symbol.State.WinExcited:(this.isScatter?this.eventWinExcited:this.eventWildWinExcited).Start();break;case VS_Symbol.State.Winning:(this.isScatter?this.eventWinning:this.eventWildWinning).Start();break;case VS_Symbol.State.SpinLoopExcited:(this.isScatter?this.eventSpinLoopExcited:this.eventWildSpinLoopExcited).Start();break;case VS_Symbol.State.FSHighlightOff:(this.isScatter?this.eventFSHighlightOff:this.eventWildFSHighlightOff).Start();break;default:VS_Symbol.State.Invalid;this.canProcessNextCommand=!0}this.internalState=t,this.currentStateForInspector=this.internalState}else 0==this.stopEventSent&&this.StopAllRunningEvents()},VS_SymbolScatterWild.prototype.StopAllRunningEvents=function(){VS_Symbol.prototype.StopAllRunningEvents.call(this),this.eventWildNormal.IsRunning()&&this.eventWildNormal.Stop(),this.eventWildSpinStart.IsRunning()&&this.eventWildSpinStart.Stop(),this.eventWildSpinLoop.IsRunning()&&this.eventWildSpinLoop.Stop(),this.eventWildSpinStop.IsRunning()&&this.eventWildSpinStop.Stop(),this.eventWildHighlightOff.IsRunning()&&this.eventWildHighlightOff.Stop(),this.eventWildHighlightOn.IsRunning()&&this.eventWildHighlightOn.Stop(),this.eventWildExcited.IsRunning()&&this.eventWildExcited.Stop(),this.eventWildWinExcited.IsRunning()&&this.eventWildWinExcited.Stop(),this.eventWildWinning.IsRunning()&&this.eventWildWinning.Stop(),this.eventSetAsScatter.IsRunning()&&this.eventSetAsScatter.Stop(),this.eventSetAsWild.IsRunning()&&this.eventSetAsWild.Stop(),this.eventWildSpinLoopExcited.IsRunning()&&this.eventWildSpinLoopExcited.Stop(),this.eventWildFSHighlightOff.IsRunning()&&this.eventWildFSHighlightOff.Stop()},VS_SymbolScatterWild.prototype.SetAsWild=function(){this.eventSetAsWild.Start(),this.isScatter=!1},VS_SymbolScatterWild.prototype.SetAsScatter=function(){this.eventSetAsScatter.Start(),this.isScatter=!0},VS_SymbolScatterWild.prototype.IsScatter=function(){return this.isScatter},VS_SymbolScatterWild.prototype.ResetToScatter=function(){this.eventResetToScatter.Start(),this.isScatter=!0},goog.require("UHT.VS_ReelsManager"),goog.provide("UHT.ResultDisplayer");var ResultDisplayerVars={ResultDisplayerObject:"ResultDisplayerObject",ResultDisplayer_DoExtraLoop:"ResultDisplayer_DoExtraLoop",ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop:"ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop"};function ResultDisplayer(){XTLink.call(this),ResultDisplayer.PlaySpinEndedBigWinSound={whenEnteringResult:0,whenExpandingIsDone:1,whenLinesWillShow:2},this.rq=null,this.showAllLinesVisual=!0,this.showEachLineVisual=!0,this.showSymbolSquaresOnLineVisual=!1,this.expandSymbolsOneByOne=!0,this.singleLineShowDuration=.5,this.allLinesShowDuration=1,this.scatterDuration=.5,this.bonusDuration=.5,this.transitionDuration=.1,this.noWinDisplayDuration=.5,this.scatterWildChangeDuration=.2,this.wildBecomesScatterWhenScatterPays=!1,this.mysteryScatterDuration=.5,this.applyDelayOnSymbols=!1,this.delayIsAppliedPerReel=!1,this.singleLineSymbolDelay=.2,this.allLinesSymbolDelay=.15,this.singleLineLastSymbolDelay=1,this.allLinesLastSymbolDelay=1,this.numberOfReels=5,this.expandingSymbolDuration=1,this.bigWinWaitsAllLinesLoops=0,this.playSpinEndedBWCondition=0,this.eachLine_WldOverridesDominatingSymbolWinSound=!1,this.allLines_WildOverridesDominatingSymbolWinSound=!1,this.allLines_PlaySymbolWinSoundOnlyOnce=!1,this.resetSymbolsVisualState=VS_Symbol.State.Normal,this.showFSWonBeforeResult=!1,this.showFSWonBeforeResultDuration=2,this.showBonusWonBeforeResult=!1,this.showBonusWonBeforeResultDuration=2,this.treatMoneySymbolsAsBonusSymbols=!0,this.treatMarkedPositionsAsBonusSymbols=!1,this.considerSymbolSubstitutes=!1,this.symbolWinSoundPlayedOnce=!1,this.mustStart=!1,this.isMinimalMode=!1,this.isStarted=!1,this.mustAnimateScatters=!1,this.scatterPositions=null,this.animateScattersLoop=!0,this.mustAnimateScattersWin=!1,this.scatterWinPositions=null,this.mustAnimateBonuses=!1,this.bonusPositions=null,this.animateBonusesLoop=!1,this.mustSetScattersAsWilds=!1,this.scatterAsWildPositions=null,this.mysteryScatterID=[],this.mustAnimateMysteryScatters=!1,this.mysteryScatterPositions=null,this.iMysteryScatterIDtoShow=-1,this.curWinLines=null,this.calculator=null,this.mustExpandSymbols=!1,this.expandingSymbolsData=null,this.upSymbols=null,this.curOrderedHoldersList=null,this.resultTime=3,ResultDisplayer.ScatterWildState={SCATTER:0,WILD:1},this.currentScatterWildState=ResultDisplayer.ScatterWildState.SCATTER,this.scattersWildConvertedThisSpin=!1,this.useScatterWildStates=!1}function StageResult(){UHTStage.call(this),this.cat=null,this.startEvent=null,this.bMustBehaveLikeResultFreeSpinsFRB=!1,this.mustSpin=!1,this.mustShowGamble=!1,this.prepareToOpenBonus=!1,this.mustOpenBonus=!1,this.prepareToOpenFSBG=!1,this.mustOpenFSBG=!1,this.isJackpotWinOnScreen=!1,this.isBonusRounds=!1,this.bonusRoundsMessageWindowIsOpened=!1,this.isRespin=!1,this.canAutoSpinAfterResultMinimumTime=!1,this.spinBlockersCounter=0,this.autoplayRequested=!1,this.mustStartAutoplayAfterConfirmSpinStart=!1}ResultDisplayer.prototype=Object.create(XTLink.prototype),(ResultDisplayer.prototype.constructor=ResultDisplayer).isJackpotWin=!1,ResultDisplayer.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_Prepare,this.OnPrepare,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop,this.OnDoLoop,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup,this.OnDoCleanup,this)},ResultDisplayer.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.RQManagerObject,this.rq),XT.SetBool(Vars.CanSpinAfterResultMinimumTime,!1),XT.SetBool(Vars.ShowSymbolSquaresOnLineVisual,this.showSymbolSquaresOnLineVisual),XT.SetBool(ResultDisplayerVars.ResultDisplayer_DoExtraLoop,!1),XT.SetBool(ResultDisplayerVars.ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop,!1),XT.SetObject(ResultDisplayerVars.ResultDisplayerObject,this),XT.SetBool(Vars.ResultDisplayer_CanAnimateScatters,!0),XT.SetBool(Vars.ResultDisplayer_CanAnimateBonuses,!0),XT.SetBool(Vars.ForceResultMinimalMode,!1),XT.SetDouble(Vars.CurrentDisplayedWinLineWin,0)},ResultDisplayer.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnPrepare,this),XT.UnregisterCallbackEvent(this.OnDoLoop,this),XT.UnregisterCallbackEvent(this.OnDoCleanup,this)},ResultDisplayer.prototype.Update=function(){if(this.mustStart){if(this.mustStart=!1,this.rq.StopRoutines(),this.playSpinEndedBWCondition==ResultDisplayer.PlaySpinEndedBigWinSound.whenEnteringResult&&XT.GetBool(Vars.SpinResultIsBigWin)&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound)),XT.TriggerEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts),XT.GetBool(Vars.FromServer_IsJackpotWin)&&XT.GetBool(Vars.MustShowJackpotWon)&&(ResultDisplayer.isJackpotWin=!0,XT.SetBool(Vars.MustShowJackpotWon,!1),XT.TriggerEvent(Vars.Evt_Internal_InjectRQIForMysteryJackpotWin)),XT.GetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion))this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_UpdateDisplayedWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SignalTheUserCanSpin,!0,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.noWinDisplayDuration));else{if(XT.TriggerEvent(Vars.Evt_Internal_InjectRQIAfterBonusAnimate),this.mustAnimateScatters&&this.showFSWonBeforeResult&&!XT.GetBool(Vars.WinLimitReached)&&(this.animateScattersLoop||(this.mustAnimateScatters=!1),XT.GetBool(Vars.ScatterSymbolIsWild)&&this.mustSetScattersAsWilds&&(this.useScatterWildStates&&this.currentScatterWildState!=ResultDisplayer.ScatterWildState.WILD||(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsScatter,this.scatterPositions,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)),this.useScatterWildStates&&(this.currentScatterWildState=ResultDisplayer.ScatterWildState.SCATTER))),this.mustAnimateScattersWin&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowScattersWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols,this.scatterPositions,this)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowFSWonBeforeResult)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.showFSWonBeforeResultDuration)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this)),this.mustAnimateScattersWin&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin))),this.mustAnimateBonuses&&this.showBonusWonBeforeResult&&(this.animateBonusesLoop||(this.mustAnimateBonuses=!1),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols,this.bonusPositions,this)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowBonusWonBeforeResult)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.showBonusWonBeforeResultDuration)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this))),this.mustExpandSymbols){for(var t=0;t<this.expandingSymbolsData.length;t++)this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowExpandingSymbol,this.expandingSymbolsData[t].ExpandingSymbolId,this)),this.expandSymbolsOneByOne&&this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.expandingSymbolDuration));!this.expandSymbolsOneByOne&&XT.GetBool(Vars.ExpandableDelayNeededAtTheEnd)&&this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.expandingSymbolDuration)),this.mustExpandSymbols=!1}if(this.playSpinEndedBWCondition==ResultDisplayer.PlaySpinEndedBigWinSound.whenExpandingIsDone&&XT.GetBool(Vars.SpinResultIsBigWin)&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound)),XT.GetBool(Vars.SpinResultIsBigWin)&&0!=this.bigWinWaitsAllLinesLoops||(this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_UpdateDisplayedWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SignalTheUserCanSpin,!0,this)),XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeLinesShow),this.playSpinEndedBWCondition==ResultDisplayer.PlaySpinEndedBigWinSound.whenLinesWillShow&&XT.GetBool(Vars.SpinResultIsBigWin)&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound)),0<this.curWinLines.length&&this.QueueDisplayAllLines(),this.QueueDisplayJackpot(),this.QueueDisplayPayingSymbols()),0<this.bigWinWaitsAllLinesLoops&&XT.GetBool(Vars.SpinResultIsBigWin)){XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeLinesShow),this.playSpinEndedBWCondition==ResultDisplayer.PlaySpinEndedBigWinSound.whenLinesWillShow&&XT.GetBool(Vars.SpinResultIsBigWin)&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound));for(var e=0;e<this.bigWinWaitsAllLinesLoops;e++)0<this.curWinLines.length&&this.QueueDisplayAllLines();this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_UpdateDisplayedWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SignalTheUserCanSpin,!0,this))}var i=XT.GetObject(Vars.ReceivedFreeSpinsResponse),n=!1;if(XT.GetBool(Vars.Jurisdiction_LineByLineFreespin)&&i.IsFreeSpin&&!i.IsFreeSpinsStart&&(n=!0),XT.GetBool(Vars.Jurisdiction_LineByLineGlobal)&&(n=!0),!this.isMinimalMode&&!XT.GetBool(Vars.ForceResultMinimalMode)||n){this.rq.AddRoutineQueueItem(new RQIMarker(RQIMarker.MarkerType.StartLineByLine)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)),1<this.curWinLines.length&&this.QueueDisplayLinesOneByOne(),this.rq.AddRoutineQueueItem(new RQIMarker(RQIMarker.MarkerType.EndLineByLine));for(e=0;e<this.curWinLines.length;e++)this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine,this.curWinLines[e].LineNumber,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLineWin,e,this))}if(XT.TriggerEvent(Vars.Evt_Internal_InjectRQIAfterLinesShow),this.mustAnimateScattersWin&&(XT.GetBool(Vars.ScatterSymbolIsWild)&&this.wildBecomesScatterWhenScatterPays&&this.mustSetScattersAsWilds&&(this.useScatterWildStates&&this.currentScatterWildState!=ResultDisplayer.ScatterWildState.WILD||(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsScatter,this.scatterAsWildPositions,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)),this.useScatterWildStates&&(this.currentScatterWildState=ResultDisplayer.ScatterWildState.SCATTER))),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowScattersWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols,this.scatterWinPositions,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound,1,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterDuration)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin))),this.mustAnimateScatters&&!this.showFSWonBeforeResult&&(this.animateScattersLoop||(this.mustAnimateScatters=!1),XT.GetBool(Vars.ScatterSymbolIsWild)&&this.mustSetScattersAsWilds&&(this.useScatterWildStates&&this.currentScatterWildState!=ResultDisplayer.ScatterWildState.WILD||(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsScatter,this.scatterPositions,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)),this.useScatterWildStates&&(this.currentScatterWildState=ResultDisplayer.ScatterWildState.SCATTER))),this.mustAnimateScattersWin&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowScattersWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols,this.scatterPositions,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound,1,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterDuration)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this)),this.mustAnimateScattersWin&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin))),XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin&&this.mustAnimateMysteryScatters){this.mustAnimateMysteryScatters=!1;for(e=0;e<this.mysteryScatterPositions.length;e++)0<this.mysteryScatterPositions[e].length&&(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetMysteryScatterIDtoShow,this.mysteryScatterID[e],this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetMysteryScatters,this.mysteryScatterPositions[e],this)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowMysteryScatterWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols,this.mysteryScatterPositions[e],this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.mysteryScatterDuration)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideMysteryScatterWin)));this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this))}this.mustAnimateBonuses&&!this.showBonusWonBeforeResult&&(this.animateBonusesLoop||(this.mustAnimateBonuses=!1),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols,this.bonusPositions,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound,0,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.bonusDuration)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this))),XT.GetBool(Vars.TruncateFSResponseDuringRespin)&&(i=XT.GetObject(Vars.TruncatedFreeSpinsResponse),n=XT.GetObject(Vars.ReceivedFreeSpinsResponse),i.IsFreeSpin&&!n.IsFreeSpin&&(this.mustAnimateScatters=!1)),0!=this.HasWorkToDo()||XT.GetBool(ResultDisplayerVars.ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop)||this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.noWinDisplayDuration)),XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeEndOfDisplayLoop)}this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnDisplayLoopEnded,null,this)),this.rq.StartRoutines()}this.resultTime+=Time.deltaTime,XT.GetBool(Vars.CanSpinAfterResultMinimumTime)&&(XT.SetBool(Vars.CanSpinAfterResultMinimumTime,!1),this.SignalTheUserCanSpin(!0))},ResultDisplayer.prototype.InternalSetCurWinLines=function(t){this.curWinLines=t},ResultDisplayer.prototype.InternalSetWinLinesMinimalMode=function(t){this.isMinimalMode=t},ResultDisplayer.prototype.OnPrepare=function(){this.curWinLines=XT.GetObject(Vars.ReceivedWinLines),this.isMinimalMode=XT.GetBool(Vars.ResultDisplayerMinimalMode),this.curOrderedHoldersList=XT.GetObject(Vars.OrderedSymbolHoldersList),this.calculator=XT.GetObject(Vars.SpinExciterObject),this.upSymbols=XT.GetObject(Vars.UpSymbols_RandomWilds),this.ComputeScatters(),this.ComputeBonuses(),XT.GetBool(Vars.ScatterSymbolIsWild)&&this.ComputeScattersSetAsWilds();var t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);t.IsFreeSpin&&!t.IsFreeSpinsStart&&0<XT.GetDouble(Vars.MysteryScatterWinDisplayed)&&this.ComputeMysteryScatters();for(var e=0;e<this.curOrderedHoldersList.length;e++)this.HasWorkToDo()&&!XT.GetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion)?this.curOrderedHoldersList[e].currentSymbol.SetHighlightOff():this.curOrderedHoldersList[e].currentSymbol.SetNormal();this.expandingSymbolsData=XT.GetObject(Vars.ExpandingSymbolsData),this.mustExpandSymbols=null!=this.expandingSymbolsData,console.log("ResultDisplayer - started (winlines: "+this.curWinLines.length+", this.mustAnimateScatters = "+String(this.mustAnimateScatters)+", this.mustAnimateBonuses = "+String(this.mustAnimateBonuses)+")"),this.isStarted=!0,XT.GetObject(Vars.FromStageName)!=UHTStageName.Init&&(this.resultTime=0),this.useScatterWildStates&&(this.currentScatterWildState=ResultDisplayer.ScatterWildState.SCATTER,this.scattersWildConvertedThisSpin=!1)},ResultDisplayer.prototype.OnDoLoop=function(){this.isStarted&&(this.mustStart=!0)},ResultDisplayer.prototype.OnDoCleanup=function(){if(this.isStarted){this.isStarted=!1,this.mustStart=!1,this.rq.StopRoutines();for(var t=0;t<this.curWinLines.length;t++)this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine,this.curWinLines[t].LineNumber,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLineWin,t,this));this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnResetAllSymbolsVisual,null,this)),this.rq.StartRoutines()}this.symbolWinSoundPlayedOnce=!1,ResultDisplayer.isJackpotWin=!1},ResultDisplayer.prototype.QueueDisplayAllLines=function(){if(XT.GetBool(Vars.ScatterSymbolIsWild)&&this.mustSetScattersAsWilds&&(this.useScatterWildStates&&(this.currentScatterWildState!=ResultDisplayer.ScatterWildState.SCATTER||this.scattersWildConvertedThisSpin)||(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsWild,this.scatterAsWildPositions,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)),this.useScatterWildStates&&(this.currentScatterWildState=ResultDisplayer.ScatterWildState.WILD,this.scattersWildConvertedThisSpin=!0))),0<XT.GetDouble(Vars.TotalLinesWinReceived)&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowAllLinesWin)),this.showAllLinesVisual)for(var t=0;t<this.curWinLines.length;t++){var e=this.curWinLines[t].LineNumber;this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowLine,e,this))}var i=!0;if(!this.symbolWinSoundPlayedOnce||!this.allLines_PlaySymbolWinSoundOnlyOnce)for(t=0;t<this.curWinLines.length;t++)if(this.allLines_WildOverridesDominatingSymbolWinSound&&this.calculator.BetLinesFromServer(this.curWinLines[t].LineNumber).containsWild){this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound,2,this)),i=!(this.symbolWinSoundPlayedOnce=!0);break}if(i&&this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound,-1,this)),this.applyDelayOnSymbols?this.QueueAllLinesDelayed(null):(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowAllSymbolAnimation,null,this)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_InjectRQIWhileShowingAllLines)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesShowDuration))),this.showAllLinesVisual)for(t=0;t<this.curWinLines.length;t++){e=this.curWinLines[t].LineNumber;this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine,e,this))}this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this)),0<XT.GetDouble(Vars.TotalLinesWinReceived)&&this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration))},ResultDisplayer.prototype.QueueDisplayLinesOneByOne=function(){for(var t=0;t<this.curWinLines.length;t++){var e=this.curWinLines[t].LineNumber;this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowLineWin,t,this)),this.showEachLineVisual&&this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowLine,e,this)),this.eachLine_WldOverridesDominatingSymbolWinSound&&this.calculator.BetLinesFromServer(e).containsWild?this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound,2,this)):this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound,this.calculator.BetLinesFromServer(e).dominatingSymbol,this)),this.applyDelayOnSymbols?this.QueueSingleLineDelayed(e):(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowSymbolAnimation,this.curWinLines[t].WinPositions,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration))),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine,e,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,e,this)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLineWin,t,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration))}},ResultDisplayer.prototype.QueueSingleLineDelayed=function(t){for(var e=_array.create(this.curOrderedHoldersList.length,!1),i=0;i<this.curWinLines.length;i++)if(this.curWinLines[i].LineNumber==t)for(var n=this.curWinLines[i].WinPositions,o=0;o<n.length;++o)e[n[o]]=!0;for(i=0;i<this.numberOfReels;i++)for(o=i;o<this.curOrderedHoldersList.length;)e[o]?(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HighlightSymbol,o,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineSymbolDelay))):this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.UnHighlightSymbol,o,this)),o+=this.numberOfReels;this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineLastSymbolDelay-this.singleLineSymbolDelay))},ResultDisplayer.prototype.QueueAllLinesDelayed=function(t){for(var e=_array.create(this.curOrderedHoldersList.length,!1),i=0;i<this.curWinLines.length;i++)for(var n=this.curWinLines[i].WinPositions,o=0;o<n.length;o++)e[n[o]]=!0;for(i=0;i<this.numberOfReels;i++){for(o=i;o<this.curOrderedHoldersList.length;)e[o]?(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HighlightSymbol,o,this)),this.delayIsAppliedPerReel||this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesSymbolDelay))):this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.UnHighlightSymbol,o,this)),o+=this.numberOfReels;this.delayIsAppliedPerReel&&this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesSymbolDelay))}this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesLastSymbolDelay-this.allLinesSymbolDelay))},ResultDisplayer.prototype.HighlightSymbol=function(t){this.curOrderedHoldersList[t].currentSymbol.SetHighlightOn()},ResultDisplayer.prototype.UnHighlightSymbol=function(t){this.curOrderedHoldersList[t].currentSymbol.SetHighlightOff()},ResultDisplayer.prototype.OnDisplayLoopEnded=function(t){XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone)},ResultDisplayer.prototype.OnShowExpandingSymbol=function(t){XT.SetInt(Vars.CurrentAnimatingExpandingSymbolID,_number.otoi(t)),XT.TriggerEvent(Vars.Evt_Internal_ShowExpandingSymbol)},ResultDisplayer.prototype.OnShowLineWin=function(t){XT.SetInt(Vars.CurrentDisplayedWinLineIndex,t),XT.TriggerEvent(Vars.Evt_Internal_UpdateCurrentDisplayedWinLineIndex),0<XT.GetDouble(Vars.CurrentDisplayedWinLineWin)&&XT.TriggerEvent(Vars.Evt_Internal_StartDisplayWinLine)},ResultDisplayer.prototype.OnHideLineWin=function(t){0<XT.GetDouble(Vars.CurrentDisplayedWinLineWin)&&XT.TriggerEvent(Vars.Evt_Internal_StopDisplayWinLine)},ResultDisplayer.prototype.OnShowLine=function(t){XT.SetInt(Vars.CurrentDisplayedWinLineId,t),XT.TriggerEvent(Vars.Evt_Internal_ShowWinLine)},ResultDisplayer.prototype.OnHideLine=function(t){XT.SetInt(Vars.CurrentDisplayedWinLineId,t),XT.TriggerEvent(Vars.Evt_Internal_HideWinLine)},ResultDisplayer.prototype.OnShowAllSymbolAnimation=function(t){for(var e=_array.create(this.curOrderedHoldersList.length,!1),i=0;i<this.curWinLines.length;i++)for(var n=this.curWinLines[i].WinPositions,o=0;o<n.length;o++)e[n[o]]=!0;for(i=0;i<this.curOrderedHoldersList.length;i++)e[i]?this.curOrderedHoldersList[i].currentSymbol.SetHighlightOn():this.curOrderedHoldersList[i].currentSymbol.SetHighlightOff()},ResultDisplayer.prototype.OnHideAllSymbolAnimation=function(t){for(var e=0;e<this.curOrderedHoldersList.length;e++)this.curOrderedHoldersList[e].currentSymbol.SetHighlightOff()},ResultDisplayer.prototype.OnResetAllSymbolsVisual=function(t){for(var e=0;e<this.curOrderedHoldersList.length;e++)XT.GetBool(Vars.ScatterSymbolIsWild)&&1==this.curOrderedHoldersList[e].currentSymbol.symbolId&&(this.useScatterWildStates||this.curOrderedHoldersList[e].currentSymbol.SetAsScatter()),this.resetSymbolsVisualState==VS_Symbol.State.Normal?this.curOrderedHoldersList[e].currentSymbol.SetNormal():this.curOrderedHoldersList[e].currentSymbol.ChangeToState(this.resetSymbolsVisualState)},ResultDisplayer.prototype.OnShowSymbolAnimation=function(t){for(var e=0;e<this.curOrderedHoldersList.length;e++)-1!=t.indexOf(e)?this.curOrderedHoldersList[e].currentSymbol.SetHighlightOn():this.curOrderedHoldersList[e].currentSymbol.SetHighlightOff()},ResultDisplayer.prototype.OnAnimateListOfSymbols=function(t){for(var e=0;e<t.length;e++)this.curOrderedHoldersList[t[e]].currentSymbol.SetHighlightOn()},ResultDisplayer.prototype.SymbolWinPlaySound=function(t){XT.SetInt(Vars.ResultSymbolWinID,t),XT.TriggerEvent(Vars.Evt_Internal_ResultSymbolWinPlaySound)},ResultDisplayer.prototype.FindSymbolsWithID=function(t){for(var e=[],i=0;i<this.curOrderedHoldersList.length;i++)this.considerSymbolSubstitutes?this.calculator.IsSameID(t,this.curOrderedHoldersList[i].currentSymbol.symbolId)&&e.push(i):this.curOrderedHoldersList[i].currentSymbol.symbolId==t&&e.push(i);return e},ResultDisplayer.prototype.FindInitialSymbolsWithID=function(t){for(var e=[],i=XT.GetObject(Vars.InitialResultScreenSymbols),n=0;n<i.length;n++)for(var o=0;o<i[n].length;o++)this.considerSymbolSubstitutes?this.calculator.IsSameID(t,i[n][o])&&e.push(n+(i[n].length-1-o)*i.length):t==i[n][o]&&e.push(n+(i[n].length-1-o)*i.length);return e},ResultDisplayer.prototype.ComputeScatters=function(){var t=null!=this.upSymbols?this.FindInitialSymbolsWithID(1):this.FindSymbolsWithID(1),e=this.calculator.GetScattersThatNeedToBeAnimated();this.scatterPositions=[];for(var i=0;i<t.length;i++)e[t[i]]&&this.scatterPositions.push(t[i]);switch(this.mustAnimateScatters=0<this.scatterPositions.length,this.mustAnimateScatters&&(this.isMinimalMode=!0),this.scatterWinPositions=null,this.mustAnimateScattersWin=!1,this.calculator.ScatterPaysMoney){case ScatterSymbolPayType.Everywhere:this.scatterWinPositions=null!=this.upSymbols?this.FindInitialSymbolsWithID(1):this.FindSymbolsWithID(1);var n=XT.GetDouble(Vars.WinReceived)-XT.GetDouble(Vars.TotalLinesWinReceived);this.mustAnimateScattersWin=this.scatterWinPositions.length>=this.calculator.ScatterPaysMoneyMinCombo&&0<n;break;case ScatterSymbolPayType.OnActivePayline:console.warn("scatter pays on active payline...");break;case ScatterSymbolPayType.OnActivePaylineLeftToRight:console.warn("scatter pays on active payline from left to right...");break;case ScatterSymbolPayType.OnAdjacentReelsBothWays:this.scatterWinPositions=this.FindSymbolsWithID(1);for(var o=[],s=0,r=0,s=0;s<this.numberOfReels&&0!=this.calculator.SymbolAppearencesOnReel(1,s);s++);if(s>=this.calculator.ScatterPaysMoneyMinCombo){for(r=0;r<this.scatterWinPositions.length;r++)this.curOrderedHoldersList[this.scatterWinPositions[r]].parentReel.reelIndex<s&&o.push(this.scatterWinPositions[r]);this.mustAnimateScattersWin=!0}for(s=0;s<this.numberOfReels&&0!=this.calculator.SymbolAppearencesOnReel(1,this.numberOfReels-s-1);s++);if(s>=this.calculator.ScatterPaysMoneyMinCombo){for(r=0;r<this.scatterWinPositions.length;r++)this.curOrderedHoldersList[this.scatterWinPositions[r]].parentReel.reelIndex>this.numberOfReels-s-1&&o.push(this.scatterWinPositions[r]);this.mustAnimateScattersWin=!0}this.scatterWinPositions=o}var a=XT.GetInt(PayingSymbolVars.PayingSymbolsScatterIndex);-1<a&&(this.mustAnimateScattersWin=!0,this.scatterWinPositions=XT.GetObject(PayingSymbolVars.PayingSymbols)[a].positions),XT.GetBool(Vars.ResultDisplayer_CanAnimateScatters)||(this.mustAnimateScatters=!1,this.mustAnimateScattersWin=!1)},ResultDisplayer.prototype.ComputeBonuses=function(){var t=this.FindSymbolsWithID(0),e=this.calculator.GetBonusesThatNeedToBeAnimated();this.bonusPositions=[];for(var i=0;i<t.length;i++)e[t[i]]&&this.bonusPositions.push(t[i]);if(0==this.bonusPositions.length){var n,o=XT.GetObject(Vars.MoneySymbolData);if(this.treatMoneySymbolsAsBonusSymbols&&null!=o&&null!=o.currentValues)for(n=0;n<o.currentValues.length;n++)0<o.currentValues[n]&&this.bonusPositions.push(n);else{var s=XT.GetObject(Vars.MarkedSymbolPositions);if(this.treatMarkedPositionsAsBonusSymbols&&null!=s)for(n=0;n<s.length;n++)this.bonusPositions.push(s[n])}}var r=XT.GetBool(Vars.MustOpenBonus);this.mustAnimateBonuses=0<this.bonusPositions.length&&r,XT.GetBool(Vars.ResultDisplayer_CanAnimateBonuses)||(this.mustAnimateBonuses=!1)},ResultDisplayer.prototype.ComputeScattersSetAsWilds=function(){var t=_array.create(this.curOrderedHoldersList.length,!1);this.scatterAsWildPositions=[];for(var e=0;e<this.curWinLines.length;e++)for(var i=this.curWinLines[e].WinPositions,n=0;n<i.length;++n)t[i[n]]=!0;for(e=0;e<this.curOrderedHoldersList.length;e++)t[e]&&1==this.curOrderedHoldersList[e].currentSymbol.symbolId&&this.scatterAsWildPositions.push(e);this.mustSetScattersAsWilds=0<this.scatterAsWildPositions.length},ResultDisplayer.prototype.OnSetScatterWildAsScatter=function(t){for(var e=0;e<t.length;e++)this.curOrderedHoldersList[t[e]].currentSymbol.SetAsScatter()},ResultDisplayer.prototype.OnSetScatterWildAsWild=function(t){for(var e=0;e<t.length;e++)this.curOrderedHoldersList[t[e]].currentSymbol.SetAsWild()},ResultDisplayer.prototype.HasWorkToDo=function(){return 0<this.curWinLines.length||this.mustAnimateScatters||XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin&&this.mustAnimateMysteryScatters||this.mustAnimateBonuses||this.mustAnimateScattersWin},ResultDisplayer.prototype.SignalTheUserCanSpin=function(t){var e=t;e&&(t=XT.GetBool(Vars.Jurisdiction_ResultMinimumTime)||XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins),(t=XT.GetBool(Vars.ContinuousSpin)&&XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo)?!0:t)&&!XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin&&(t=0,XT.GetBool(Vars.Jurisdiction_ResultMinimumTime)&&(t=XT.GetFloat(Vars.Jurisdiction_ResultMinimumTime_Value)),XT.GetBool(Vars.ContinuousSpin)&&XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo)&&(t=XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeTurbo_Value)),XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins)&&(t=Math.max(t,XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value)-XT.GetFloat(Vars.SpinDuration))),this.resultTime<t&&XT.SetBool(Vars.CanSpinAfterResultMinimumTime,!(e=!1)))),null!=XT.GetObject(Vars.NudgedSymbols)&&(e=!1),XT.SetBool(Vars.CanSpin,e)},ResultDisplayer.prototype.OnSetMysteryScatterIDtoShow=function(t){this.iMysteryScatterIDtoShow=_number.otoi(t)},ResultDisplayer.prototype.OnSetMysteryScatters=function(t){for(var e=0;e<t.length;++e)this.curOrderedHoldersList[t[e]].ReplaceSymbol(this.iMysteryScatterIDtoShow);XT.GetBool(Vars.ScatterSymbolIsWild)&&this.ComputeScattersSetAsWilds()},ResultDisplayer.prototype.ComputeMysteryScatters=function(){this.mysteryScatterPositions=[];var t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);if(this.mustAnimateMysteryScatters=!1,0<t.MysteryScatter.length){this.mysteryScatterID=t.MysteryScatter;for(var e=0;e<this.mysteryScatterID.length;e++){this.mysteryScatterPositions.push([]);var i=this.FindSymbolsWithID(this.mysteryScatterID[e]);if(i.length>=this.calculator.MysteryScatterMinCombo){var n=XT.GetObject(Vars.ReelsManagerObject).reels;this.mustAnimateMysteryScatters=!0;for(e=0;e<i.length;++e)for(var o=i[e]%n.length,s=0;s<n[o].symbolHolders.length;++s)this.mysteryScatterPositions[e].push(o+s*n.length)}}}},ResultDisplayer.prototype.QueueDisplayJackpot=function(){ResultDisplayer.isJackpotWin&&(0<this.curWinLines.length&&0<XT.GetDouble(Vars.TotalLinesWinReceived)||(this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowAllLinesWin)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration))),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowJackpotWin)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideJackpotWin)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)))},ResultDisplayer.prototype.QueueDisplayPayingSymbols=function(){var t=XT.GetObject(PayingSymbolVars.PayingSymbols);if(0!=t.length&&!XT.GetBool(PayingSymbolVars.PayingSymbolIsScatter)){0<this.curWinLines.length&&0<XT.GetDouble(Vars.TotalLinesWinReceived)||ResultDisplayer.isJackpotWin||(this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowAllLinesWin)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)));for(var e=XT.GetInt(PayingSymbolVars.PayingSymbolsScatterIndex),i=0;i<t.length;++i)i!=e&&(this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SetCurrentDisplayedPayingSymbolIndex,i,this)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(PayingSymbolVars.Evt_Internal_ShowPayingSymbol)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols,t[i].positions,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)),this.rq.AddRoutineQueueItem(new RQITriggerEvent(PayingSymbolVars.Evt_Internal_HidePayingSymbol)),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation,null,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)))}},ResultDisplayer.prototype.SetCurrentDisplayedPayingSymbolIndex=function(t){XT.SetInt(PayingSymbolVars.CurrentDisplayedPayingSymbolIndex,t)},goog.require("UHT.UHTStage"),goog.require("UHT.ResultDisplayer"),StageResult.prototype=Object.create(UHTStage.prototype),(StageResult.prototype.constructor=StageResult).prototype.GetStageName=function(){return UHTStageName.Result},StageResult.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BlockSpin,this.OnBlockSpin,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_UnblockSpin,this.OnUnblockSpin,this)},StageResult.prototype.XTInitVariablesAndEvents=function(){XT.SetInt(Vars.AutoplaySpinsLeft,-1),XT.SetInt(Vars.AutoplaySpinsRequested,0),XT.SetInt(Vars.AutoplaySpinsLeftDisplayed,0),XT.SetBool(Vars.WaitInResultForBigWin,!1),XT.SetInt(Vars.VAWBWCounters,0),XT.SetBool(Vars.LastWinIsCounting,!1),XT.SetBool(Vars.BalanceIsCounting,!1),XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!1),XT.SetBool(Vars.ForceDisableGambleSpinWin,!1),XT.SetBool(Vars.CanUpdateBalanceDisplayed,!0)},StageResult.prototype.UHTInit=function(){},StageResult.AllowSkipMoneyCheckOnContinuousSpin=!1,StageResult.SkipMoneyCheckOnSpin=!1,StageResult.prototype.UHTUpdate=function(t){if(window.RC_CheckShowWindow(),t){window.RC1API.ReinstateRC(),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Spin,this.OnPressedSpin,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Stop,this.OnPressedStop,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated,this.OnBalanceUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone,this.OnResultDisplayerLoopDone,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Gamble,this.OnPressedGamble,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_GambleOpen,this.OnMustOpenGamble,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StartAutoplay,this.OnStartAutoplay,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay,this.OnStopAutoplay,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_CollectJackpotPressed,this.OnJackpotCollected,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed,this.OnBonusRoundsContinuePressed,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_BonusRoundsInfoUpdated,this.OnBonusRoundsInfoUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged,this.OnCoinValueChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWin,this.OnRequestToUpdateDisplayedWin,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_ConfirmSpinStart,this.OnConfirmStartSpin,this),XT.SetDouble(Vars.WinDisplayed,0),XT.SetDouble(Vars.TotalLinesWinDisplayed,0),XT.SetDouble(Vars.TotalScattersWinDisplayed,0),XT.SetInt(Vars.Lines,XT.GetInt(Vars.TotalNumberOfLines)),AutoplayManager.TestAdvancedStopConditions(),this.bMustBehaveLikeResultFreeSpinsFRB||(n=BonusRoundsController.HandleNextEvent(!1,!1,!0),this.isBonusRounds=n.isBonusRounds,this.bonusRoundsMessageWindowIsOpened=n.messageIsOpened);var e=XT.GetObject(Vars.BonusRoundsData),i=XT.GetObject(Vars.RespinData);this.isRespin=null!=i&&!i.IsDone,0==this.bonusRoundsMessageWindowIsOpened&&CoinManager.SetStrictBetMode(this.isBonusRounds),XT.GetBool(Vars.InstantlyCollectBonus)&&XT.GetBool(Vars.MustOpenBonus)&&XT.TriggerEvent(Vars.Evt_ToServer_BonusGameFinished),this.prepareToOpenBonus=XT.GetBool(Vars.MustOpenBonus)&&!XT.GetBool(Vars.InstantlyCollectBonus),this.prepareToOpenFSBG=XT.GetBool(Vars.FromServer_MustOpenFSBG),(0<XT.GetInt(Vars.AutoplaySpinsLeft)||this.IsAutoRespin())&&XT.SetBool(Vars.ForceDisableGambleSpinWin,!0),this.UpdateGambleButtonState();var t=XT.GetInt(Vars.AutoplaySpinsLeft),n=!1,i=!0;0<=t&&!this.IsAutoRespin()&&(t--,-1==(t=XT.GetBool(Vars.InstantAutoplay)&&-1==t?0:t)?n=!1:(this.isBonusRounds?VSGameStateManager.ChangeTo(VSGameState.ResultBonusRoundsAutoplay):VSGameStateManager.ChangeTo(VSGameState.ResultAutoplay),i=!(n=!0)),this.prepareToOpenBonus||this.prepareToOpenFSBG||XT.SetInt(Vars.AutoplaySpinsLeft,t)),i&&(this.prepareToOpenBonus?VSGameStateManager.ChangeTo(VSGameState.ResultPrepareForBonus):this.isBonusRounds&&null!=e?VSGameStateManager.ChangeTo(VSGameState.ResultBonusRounds):this.prepareToOpenFSBG?VSGameStateManager.ChangeTo(VSGameState.FSBG):VSGameStateManager.ChangeTo(VSGameState.Result)),n=n||this.IsAutoRespin()||this.prepareToOpenBonus||this.prepareToOpenFSBG,XT.SetBool(Vars.ResultDisplayerMinimalMode,n),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_Prepare),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop),null!=this.cat&&this.cat.StartEvent(this.startEvent.id),this.canAutoSpinAfterResultMinimumTime=!1,this.autoplayRequested=!1,this.mustStartAutoplayAfterConfirmSpinStart=!1}else{if(this.mustOpenBonus&&!XT.GetBool(Vars.LastWinIsCounting)&&(XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),0==XT.GetBool(Vars.WaitInResultForBigWin)))return XT.GetBool(BGVars.BonusDataReceived)?(this.mustOpenBonus=!1,XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetBool(BGVars.BonusDataReceived,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Bonus),window.RC1API.PauseRC(),UHTAction.ChangeStage(UHTStageName.Transition)):UHTAction.NoAction();if(this.mustOpenFSBG&&!XT.GetBool(Vars.LastWinIsCounting))return XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),0==XT.GetBool(Vars.WaitInResultForBigWin)?(XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),this.mustOpenFSBG=!1,XT.SetBool(Vars.FromServer_MustOpenFSBG,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.FSBG),UHTAction.ChangeStage(UHTStageName.Transition)):UHTAction.NoAction();if(XT.GetBool(Vars.LastWinIsCounting)||XT.TriggerEvent(Vars.ShowPendingNotifications),Globals.InputBlocked||(XT.GetBool(Vars.ContinuousSpin)&&StageResult.AllowSkipMoneyCheckOnContinuousSpin&&(StageResult.SkipMoneyCheckOnSpin=!0),(Input.GetKeyDown(KeyCode.Space)||Input.GetKeyDown(KeyCode.Return)||XT.GetBool(Vars.ContinuousSpin)||(Input.GetKey(KeyCode.Space)||Input.GetKey(KeyCode.Return)||XT.GetBool(Vars.ForceContinuousSpin))&&!XT.GetBool(Vars.Jurisdiction_DisableAutoplay))&&!ServerOptions.isReplay&&this.CanSpin()&&(this.mustSpin=!0),StageResult.SkipMoneyCheckOnSpin=!1),this.mustSpin)if(this.mustSpin=!1,XT.GetBool(Vars.WaitInResultForBigWin)||XT.GetBool(Vars.SpinBlockingFeatureIsRunning))XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin);else if(!this.IsJackpotWin())return XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetInt(Vars.AutoplaySpinsLeftDisplayed,XT.GetInt(Vars.AutoplaySpinsLeft)),XT.SetBool(Vars.ForceDisableGambleSpinWin,!0),this.UpdateGambleButtonState(),XT.SetBool(Vars.ForceDisableGambleSpinWin,!1),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Spin),window.RC1API.PauseRC(),UHTAction.ChangeStage(UHTStageName.Transition);if(this.mustShowGamble)if(this.mustShowGamble=!1,XT.GetBool(Vars.WaitInResultForBigWin))XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin);else if(!this.IsJackpotWin())return XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup),XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion,!0),XT.SetDouble(Vars.Gamble_CurrentBalance,XT.GetDouble(Vars.WinReceived)),XT.SetBool(Vars.ForceDisableGambleSpinWin,!0),this.UpdateGambleButtonState(),XT.SetObject(Vars.FromStageName,this.GetStageName()),XT.SetObject(Vars.ToStageName,UHTStageName.Gamble),window.RC1API.PauseRC(),UHTAction.ChangeStage(UHTStageName.Transition);this.canAutoSpinAfterResultMinimumTime&&XT.GetBool(Vars.CanSpin)&&this.OnResultDisplayerLoopDone()}return UHTAction.NoAction()},StageResult.prototype.UHTFinish=function(){XT.UnregisterCallbackEvent(this.OnPressedSpin,this),XT.UnregisterCallbackEvent(this.OnPressedStop,this),XT.UnregisterCallbackEvent(this.OnBalanceUpdated,this),XT.UnregisterCallbackEvent(this.OnResultDisplayerLoopDone,this),XT.UnregisterCallbackEvent(this.OnPressedGamble,this),XT.UnregisterCallbackEvent(this.OnMustOpenGamble,this),XT.UnregisterCallbackEvent(this.OnStartAutoplay,this),XT.UnregisterCallbackEvent(this.OnStopAutoplay,this),XT.UnregisterCallbackEvent(this.OnJackpotCollected,this),XT.UnregisterCallbackEvent(this.OnBonusRoundsContinuePressed,this),XT.UnregisterCallbackEvent(this.OnBonusRoundsInfoUpdated,this),XT.UnregisterCallbackEvent(this.OnCoinValueChanged,this),XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin,this),XT.UnregisterCallbackEvent(this.OnConfirmStartSpin,this)},StageResult.prototype.OnPressedStop=function(){XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)},StageResult.prototype.UpdateGambleButtonState=function(){XT.GetBool(Vars.FromServer_CanGambleSpinWin)&&!XT.GetBool(Vars.ForceDisableGambleSpinWin)?XT.TriggerEvent(Vars.Evt_Internal_EnableGambleButton):XT.TriggerEvent(Vars.Evt_Internal_DisableGambleButton)},StageResult.prototype.OnPressedSpin=function(){this.CanSpin()&&(this.mustSpin=!0)},StageResult.prototype.OnPressedGamble=function(){XT.TriggerEvent(Vars.Evt_ToServer_RequestGambleOpen)},StageResult.prototype.OnMustOpenGamble=function(){this.mustShowGamble=!0},StageResult.prototype.OnBalanceUpdated=function(){0==XT.GetBool(Vars.BalanceDisplayedIsAnimating)&&(XT.SetDouble(Vars.BalanceDisplayed,XT.GetDouble(Vars.BalanceReceived)),XT.SetDouble(Vars.BonusBalance,XT.GetDouble(Vars.BonusBalanceReceived)))};var BT_AUTOPLAY_FirstSent=!(StageResult.prototype.CanSpin=function(){if(0<this.spinBlockersCounter)return!1;if(!XT.GetBool(Vars.WaitInResultForBigWin)){if(XT.GetBool(Vars.Jurisdiction_FinishCountersBeforeSpin)&&(XT.GetBool(Vars.LastWinIsCounting)||XT.GetBool(Vars.BalanceIsCounting))&&XT.GetInt(Vars.AutoplaySpinsLeft)<0)return XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),!1;XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)}return!window.SystemMessageManager.IsMessageOpen()&&(0!=XT.GetBool(Vars.CanSpin)&&(!this.bonusRoundsMessageWindowIsOpened&&(!this.prepareToOpenBonus&&(!this.prepareToOpenFSBG&&(!!this.isBonusRounds||(this.isRespin?!this.IsAutoRespin():!ServerOptions.isReplay&&!StageResult.SkipMoneyCheckOnSpin&&null!=window.UHT_STILLCHECKMONEYONSPIN&&CoinManager.GetNextTotalBet()>XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived)&&!XT.GetBool(Vars.Logic_IsFreeSpin)?(XT.TriggerEvent(Vars.Evt_CodeToData_NotEnoughMoneyForSpin),XT.SetDouble(Vars.AlternativeWager,-1),UHTInterfaceBOSS.PostMessage("balanceTooLow"),!1):(XT.SetDouble(Vars.AlternativeWager,-1),!XT.GetBool(Vars.SpinNeedsConfirmation)||(this.autoplayRequested&&(this.mustStartAutoplayAfterConfirmSpinStart=!0),XT.TriggerEvent(Vars.Evt_CodeToData_ShowSpinConfirmationWindow),!1))))))))});function ValueDisplayerVariable(){this.variable=null,this.suffix=""}function ValueDisplayer(){XTLink.call(this),this.vdVariable=null,this.animated=!1,this.label=null,this.multiplier=1,this.isDisplayingCoins=!1,this.isDisplayingDecimals=!1,this.formatOptions=null,this.forceHasCoins=!1,this.allowDOG=!0,this.catEventAnimation=null,this.callEventWhenValueChanged=!1,this.callEventWhenFormatChanged=!1,this.callEventWhenValueChangedAllowed=!0,this.actualVarName="",this.manualValue=0,this.isLastOneToChangeTheLabel=!1}function ValuesCollectorVisual(){Component.call(this),this.mainCounterDisplayer=null,this.mainCounterCAT=null,this.showDuration=.5,this.hideDuration=.5,this.collectedValue=null,this.rq=null}function CollectedValue(){this.collect=null,this.valueLook=null,this.valueDisplayer=null,this.delayAfter=0}function SymbolPrizeManager_PBlinders(){FOXLink.call(this),this.featureTriggerSymbolID=13,this.reelsManager=null,this.reelDelaysOnSPWin=null,this.spsTransition=null,this.transitionRQ=null,this.resultDisplayer=null,this.boardControl=null,this.symbolValuesOnBoard=null,this.delaysBetweenSequenceSteps=null,this.showSymbolValuesOnBoard=null,this.highlightPrizeSymbols=null,this.noDelayIfSymbolMissing=!0,this.valuesCollector=null,this.prizesOnSymbolIds=[],this.currentSPrizes=[],this.isSPWin=!1,this.orderedHoldersList=null}function SymbolReplaceData(t,e){this.symbolPosition=t,this.replacingID=e}function SymbolReplaceManager(){Component.call(this),this.useVisualEffects=!1,this.replaceOneByOne=!1,this.randomizeDelayBetweenSymbols=!1,this.useFixedDelay=!1,this.fixedDelay=5,this.symbolReplaceDuration=1,this.delayBeforeSymbolReplace=.3,this.beforeSymbolsReplace=null,this.afterSymbolsReplace=null,this.replacingVisual=null,this.keepSymbolsState=!1,this.replacingSymbolsOneByOne=!1,this.currentSymbolReplaceDelay=0,this.replacingSymbolIdx=0,this.currentReplaceData=null,this.canReplaceSymbols=!1,this.symbolsToReplace=0}function RespinIndicator_PBlinders(){FOXLink.call(this),this.symbolReplaceManager=null,this.transitionRQ=null,this.startRespin=null,this.featureTransition=null,this.featureShow_Fast=null,this.stickyPostion=null,this.triggerSymbol=null,this.respinStartDuration=1,this.stickyTransformDuration=1,this.triggerSymbolID=12,this.alphaFadeDuration=1,this.fadeCurrentTime=99,this.fadeValueStart=0,this.fadeValueEnd=1,this.isRespin=!1,this.featureActive=!1,this.rm=null,this.symbolHolders=null,this.stickySymbol=null,this.triggerSymbolPos=-1,this.transformIntoID=-1,this.transformedPositions=[],this.cleanupSticky=!1}function WinLineInfo_Casanova(){WinLineInfo.call(this),this.isRightToLeft=!1}function VS_SpinExciter_Casanova(){VS_SpinExciter.call(this),this.scatteredSymbols=null,this.scatteredSymbolsMinCombo=null,this.possibleScatteredSymbolsOnReel=null,this.scatteredSymbolsTriggerExcitement=null,this.optimizeWaysComputation=!1,this.forcedFinalSymbolsOnScattersComputation=!1,this.reelShouldExcite=null,this.symbolsShouldPlayExcite=null,this.symbolsShouldPlayExciteLose=null,this.symbolsShouldPlayWin=null,this.initialSymbolList=null,this.symbolPresenceOnReel_Ways=[]}StageResult.prototype.OnStartAutoplay=function(){var t;this.autoplayRequested=!0,0!=this.CanSpin()?(BT_AUTOPLAY_FirstSent||(t=globalTracking.GetTimerValue("uht_behaviour","Session_timer","BehaviourTracker"),globalTracking.SendEvent("uht_behaviour","AUTOPLAY_started_once",t,"BehaviourTracker"),BT_AUTOPLAY_FirstSent=!0),globalTracking.SendEvent("uht_behaviour","AUTOPLAY_start_"+XT.GetInt(Vars.AutoplaySpinsRequested),1,"BehaviourTracker"),XT.SetInt(Vars.AutoplaySpinsLeft,XT.GetInt(Vars.AutoplaySpinsRequested)-1),XT.SetInt(Vars.AutoplaySpinsLeftDisplayed,XT.GetInt(Vars.AutoplaySpinsLeft)),this.mustSpin=!0):this.autoplayRequested=!1},StageResult.prototype.OnStopAutoplay=function(){XT.SetInt(Vars.AutoplaySpinsLeft,-1),XT.SetBool(Vars.ForceDisableGambleSpinWin,!1),this.UpdateGambleButtonState();XT.GetObject(Vars.BonusRoundsData);this.isBonusRounds?VSGameStateManager.ChangeTo(VSGameState.ResultBonusRounds):VSGameStateManager.ChangeTo(VSGameState.Result)},StageResult.prototype.IsJackpotWin=function(){return XT.GetBool(Vars.FromServer_IsJackpotWin)&&!this.isJackpotWinOnScreen&&(XT.GetBool(Vars.WaitInResultForBigWin)||XT.GetBool(Vars.LastWinIsCounting)||(this.isJackpotWinOnScreen=!0)),XT.GetBool(Vars.FromServer_IsJackpotWin)},StageResult.prototype.OnJackpotCollected=function(){XT.GetBool(Vars.WaitInResultForBigWin)?XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin):(XT.GetBool(Vars.LastWinIsCounting)&&XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),XT.SetBool(Vars.FromServer_IsJackpotWin,!1),this.isJackpotWinOnScreen=!1)},StageResult.prototype.OnResultDisplayerLoopDone=function(){if(this.IsJackpotWin())XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop);else if(this.prepareToOpenBonus)this.mustOpenBonus=!0;else if(this.prepareToOpenFSBG)this.mustOpenFSBG=!0;else{if(this.IsAutoRespin()){if(!XT.GetBool(Vars.WaitInResultForBigWin)&&!XT.GetBool(Vars.LastWinIsCounting))return void(this.mustSpin=!0);XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop)}0<=XT.GetInt(Vars.AutoplaySpinsLeft)?XT.GetBool(Vars.WaitInResultForBigWin)||XT.GetBool(Vars.LastWinIsCounting)?XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop):this.CanSpin()?this.mustSpin=!0:(this.canAutoSpinAfterResultMinimumTime=XT.GetBool(Vars.CanSpinAfterResultMinimumTime),this.canAutoSpinAfterResultMinimumTime||(XT.SetInt(Vars.AutoplaySpinsLeft,-1),XT.GetObject(Vars.BonusRoundsData),this.isBonusRounds?VSGameStateManager.ChangeTo(VSGameState.ResultBonusRounds):VSGameStateManager.ChangeTo(VSGameState.Result))):(XT.GetBool(Vars.WaitInResultForBigWin)||XT.GetBool(Vars.LastWinIsCounting)||XT.TriggerEvent(Vars.Evt_Internal_StartIdleSpinCounter),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop))}},StageResult.prototype.OnBonusRoundsContinuePressed=function(){XT.TriggerEvent(Vars.Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows),XT.SetBool(Vars.CanSpin,!0),this.OnBonusRoundsInfoUpdated()},StageResult.prototype.OnBonusRoundsInfoUpdated=function(){var t;this.bMustBehaveLikeResultFreeSpinsFRB||(t=BonusRoundsController.HandleNextEvent(!1,!0,!1),CoinManager.SetStrictBetMode(t.isBonusRounds),t=BonusRoundsController.HandleNextEvent(!1,!1,!0),this.isBonusRounds=t.isBonusRounds,this.bonusRoundsMessageWindowIsOpened=t.messageIsOpened,XT.GetObject(Vars.BonusRoundsData),0<=XT.GetInt(Vars.AutoplaySpinsLeft)?VSGameStateManager.ChangeTo(this.isBonusRounds?VSGameState.ResultBonusRoundsAutoplay:VSGameState.ResultAutoplay):VSGameStateManager.ChangeTo(this.isBonusRounds?VSGameState.ResultBonusRounds:VSGameState.Result),0==this.bonusRoundsMessageWindowIsOpened&&CoinManager.SetStrictBetMode(this.isBonusRounds))},StageResult.prototype.OnCoinValueChanged=function(){0!=XT.GetBool(Vars.CanSpin)&&(this.bonusRoundsMessageWindowIsOpened||this.prepareToOpenBonus||this.prepareToOpenFSBG||this.isBonusRounds||XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup))},StageResult.prototype.OnRequestToUpdateDisplayedWin=function(){var t,e,i;XT.SetDouble(Vars.WinDisplayed,XT.GetDouble(Vars.WinReceived)),XT.SetDouble(Vars.TotalLinesWinDisplayed,XT.GetDouble(Vars.TotalLinesWinReceived)),XT.SetDouble(Vars.TotalScattersWinDisplayed,XT.GetDouble(Vars.WinReceived)-XT.GetDouble(Vars.TotalLinesWinReceived)),XT.GetBool(Vars.CanUpdateBalanceDisplayed)&&XT.SetDouble(Vars.BalanceDisplayed,XT.GetDouble(Vars.BalanceReceived)),XT.SetDouble(Vars.BonusBalance,XT.GetDouble(Vars.BonusBalanceReceived)),XT.GetBool(Vars.BonusWinIsSeparated)?this.prepareToOpenBonus?XT.SetDouble(Vars.SpinCycleWinDisplayed,XT.GetDouble(Vars.WinReceived)):((null!=(i=XT.GetObject(Vars.BonusData))&&i.justReceived||this.prepareToOpenFSBG)&&XT.SetBool(Vars.CanAnimateValues,!1),XT.SetDouble(Vars.SpinCycleWinDisplayed,XT.GetDouble(Vars.SpinCycleWinReceived))):ResultDisplayer.isJackpotWin?(t=XT.GetBool(Vars.CanAnimateValues),e=XT.GetDouble(Vars.SpinCycleWinReceived),i=XT.GetDouble(Vars.FromServer_JackpotAmountWon),XT.SetBool(Vars.CanAnimateValues,!1),XT.SetDouble(Vars.SpinCycleWinDisplayed,i),XT.SetBool(Vars.CanAnimateValues,t),XT.SetDouble(Vars.SpinCycleWinDisplayed,i+e)):XT.SetDouble(Vars.SpinCycleWinDisplayed,XT.GetDouble(Vars.SpinCycleWinReceived)),XT.TriggerEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI),XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin,this)},StageResult.prototype.OnConfirmStartSpin=function(){XT.SetBool(Vars.SpinNeedsConfirmation,!1),this.mustStartAutoplayAfterConfirmSpinStart&&(XT.SetInt(Vars.AutoplaySpinsLeft,XT.GetInt(Vars.AutoplaySpinsRequested)-1),XT.SetInt(Vars.AutoplaySpinsLeftDisplayed,XT.GetInt(Vars.AutoplaySpinsLeft))),this.OnPressedSpin()},StageResult.prototype.OnBlockSpin=function(){this.spinBlockersCounter++},StageResult.prototype.OnUnblockSpin=function(){this.spinBlockersCounter--},StageResult.prototype.IsAutoRespin=function(){return this.isRespin&&!XT.GetBool(Vars.ManualRespin)},ValueDisplayerVariable.prototype.GetAnimatedVarName=function(){return this.variable.name+"_"+this.suffix+"_@nimated"},goog.require("UHT.XTLink"),goog.require("UHT.LocaleManager"),ValueDisplayer.prototype=Object.create(XTLink.prototype),(ValueDisplayer.prototype.constructor=ValueDisplayer).globalValueDisplayerDict={},ValueDisplayer.MarkAsLastModifierForLabel=function(t,e){if(0==e.isLastOneToChangeTheLabel){t=ValueDisplayer.GetPathForLabel(t);if(null!=ValueDisplayer.globalValueDisplayerDict[t])for(var i=ValueDisplayer.globalValueDisplayerDict[t],n=0;n<i.length;n++)i[n].isLastOneToChangeTheLabel=!1;e.isLastOneToChangeTheLabel=!0}},ValueDisplayer.RegisterAsModifierForLabel=function(t,e){var i=ValueDisplayer.GetPathForLabel(t),t=null;0==ValueDisplayer.globalValueDisplayerDict.hasOwnProperty(i)?ValueDisplayer.globalValueDisplayerDict[i]=t=[]:t=ValueDisplayer.globalValueDisplayerDict[i],t.push(e)},ValueDisplayer.GetPathForLabel=function(t){for(var e=t.gameObject.transform,i=t.gameObject.name;null!=e.parent;)i=e.parent.gameObject.name+"_"+i,e=e.parent;return i},ValueDisplayer.prototype.XTRegisterCallbacks=function(){this.actualVarName=this.animated?this.vdVariable.GetAnimatedVarName():this.vdVariable.variable.name,this.IsManualValue()||XT.RegisterCallbackDouble(this.actualVarName,this.OnTargetValueChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_LocaleChanged,this.OnLocaleChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged,this.OnCoinValueChanged,this),XT.RegisterCallbackBool(Vars.HasCoins,this.OnHasCoinsChanged,this),ValueDisplayer.RegisterAsModifierForLabel(this.label,this)},ValueDisplayer.prototype.OnDestroy=function(){XT.UnregisterCallbackDouble(this.OnTargetValueChanged,this)},ValueDisplayer.prototype.OnTargetValueChanged=function(t){null==this.label.DOGchars&&LocaleManager.isInit&&(this.label.DOGchars=this.GetDOGchars()),t*=this.multiplier,ValueDisplayer.MarkAsLastModifierForLabel(this.label,this);var e=this.label.text;if(this.isDisplayingCoins&&this.GetHasCoins())this.label.text=CoinManager.ConvertMoneyToCoins(t);else if(this.isDisplayingDecimals){var i=this.formatOptions.hasCurrency;if("object"==_typeof3(this.label.fontName))for(var n=0;n<LocaleManager.currencyInfo.CurrencySymbol.length;n++)if(-1==this.label.fontName.chars.indexOf(LocaleManager.currencyInfo.CurrencySymbol[n])){this.formatOptions.hasCurrency=!1;break}this.label.text=LocaleManager.FormatValue(t,this.formatOptions),this.formatOptions.hasCurrency=i}else this.label.text=(0|t).toString();this.StartAnimEventIfNeeded(this.callEventWhenValueChanged&&this.callEventWhenValueChangedAllowed,e.toString())},ValueDisplayer.prototype.OnLocaleChanged=function(){this.label.DOGchars=this.GetDOGchars(),this.isDisplayingCoins&&this.GetHasCoins()||this.isLastOneToChangeTheLabel&&(LocaleManager.ApplyFontToLabel(this.formatOptions.fontId,this.label),this.OnTargetValueChanged(this.GetTargetValue()))},ValueDisplayer.prototype.OnCoinValueChanged=function(){this.isDisplayingCoins&&this.GetHasCoins()&&this.isLastOneToChangeTheLabel&&this.OnTargetValueChanged(this.GetTargetValue())},ValueDisplayer.prototype.OnHasCoinsChanged=function(t){this.isLastOneToChangeTheLabel&&this.OnTargetValueChanged(this.GetTargetValue())},ValueDisplayer.prototype.StartAnimEventIfNeeded=function(t,e){t&&this.label.gameObject.activeInHierarchy&&!this.catEventAnimation.IsRunning()&&this.label.text!=e&&this.catEventAnimation.Start()},ValueDisplayer.prototype.GetHasCoins=function(){return!!this.forceHasCoins||XT.GetBool(Vars.HasCoins)},ValueDisplayer.prototype.IsManualValue=function(){return _string.IsNullOrEmpty(this.actualVarName)||"*None*"==this.actualVarName},ValueDisplayer.prototype.GetTargetValue=function(){return this.IsManualValue()?this.manualValue:XT.GetDouble(this.actualVarName)},ValueDisplayer.prototype.GetInternalValue=function(){return this.GetTargetValue()},ValueDisplayer.prototype.SetValueManually=function(t){this.manualValue=t,this.OnTargetValueChanged(t)},ValueDisplayer.prototype.Awake=function(){XTLink.prototype.Awake.call(this),this.allowDOG&&(this.label.isDOG=!0,this.label.DOGmonospaceDigits=this.animated,LocaleManager.isInit&&(this.label.DOGchars=this.GetDOGchars()))},ValueDisplayer.prototype.GetDOGchars=function(){var t=" ,.0123456789";return this.isDisplayingDecimals&&(this.formatOptions.hasJackpotCurrency?t+=LocaleManager.jackpotCurrencyInfo.CurrencySymbol:t+=LocaleManager.currencyInfo.CurrencySymbol),t},goog.require("UHT.Engine"),ValuesCollectorVisual.prototype=Object.create(Component.prototype),(ValuesCollectorVisual.prototype.constructor=ValuesCollectorVisual).prototype.GetCollectingDuration=function(t){for(var e=0,i=0;i<t.length;i++)0<t[i]&&(e+=this.collectedValue[i].delayAfter);return e+=this.showDuration,e+=this.hideDuration},ValuesCollectorVisual.prototype.StartCollectingValues=function(t){this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.ShowMainCounter,!0,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.showDuration));for(var e=0;e<t.length;e++)0<t[e]&&(this.collectedValue[e].valueDisplayer.SetValueManually(t[e]),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.CollectValue,e,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.collectedValue[e].delayAfter)));this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.ShowMainCounter,!1,this)),this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.hideDuration)),this.rq.StartRoutines()},ValuesCollectorVisual.prototype.UpdateValueLook=function(t,e){null!=this.collectedValue[t].valueLook&&this.collectedValue[t].valueLook.StartEvent(e)},ValuesCollectorVisual.prototype.CollectValue=function(t){this.collectedValue[t].collect.Start()},ValuesCollectorVisual.prototype.UpdateMainValue=function(t){t=this.collectedValue[t].valueDisplayer.GetInternalValue();this.mainCounterDisplayer.SetValueManually(this.mainCounterDisplayer.GetInternalValue()+t)},ValuesCollectorVisual.prototype.ShowMainCounter=function(t){t?(this.mainCounterDisplayer.SetValueManually(0),this.mainCounterCAT.show.Start()):this.mainCounterCAT.hide.Start()},goog.require("UHT.Engine"),SymbolPrizeManager_PBlinders.prototype=Object.create(FOXLink.prototype),(SymbolPrizeManager_PBlinders.prototype.constructor=SymbolPrizeManager_PBlinders).SPrizeParams={masks_base:"sps_m",values_base:"sps_v",onScreenMasks:"sp_m",onScreenValues:"sp_v",sPrizeTotalWin:"sp_w"},SymbolPrizeManager_PBlinders.prototype.XTRegisterCallbacks=function(){FOXLink.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWin,this.OnUpdateDisplayedWin,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},SymbolPrizeManager_PBlinders.prototype.XTInitVariablesAndEvents=function(){XT.SetObject("OnScreenSymbolPrizes",this.currentSPrizes)},SymbolPrizeManager_PBlinders.prototype.OnGameInit=function(){if(this.orderedHoldersList=XT.GetObject(Vars.OrderedSymbolHoldersList),this.isSPWin){for(var t=0;t<this.orderedHoldersList.length;t++)-1!=this.prizesOnSymbolIds.indexOf(this.orderedHoldersList[t].currentSymbol.symbolId)&&this.orderedHoldersList[t].currentSymbol.GetComponent(SymbolPrize_PBlinders).ShowPrizeForced();this.isSPWin=!1}},SymbolPrizeManager_PBlinders.prototype.HandleInitResponse=function(t){for(var e=0;e<this.reelsManager.reels.length;e++)for(var i=0;i<this.reelsManager.reels[e].symbolHolders.length;i++)this.currentSPrizes.push(-1);this.UpdateSymbolPrizes(t)},SymbolPrizeManager_PBlinders.prototype.HandleSpinResponse=function(t){this.UpdateSymbolPrizes(t),this.isSPWin&&XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts,this.InjectFeatureShow,this)},SymbolPrizeManager_PBlinders.prototype.OnUpdateDisplayedWin=function(){this.isSPWin&&(this.transitionRQ.AddRoutineQueueItem(new RQIWaitForLastWinCount),this.transitionRQ.AddRoutineQueueItem(new RQITriggerCallback(this.OnWinCountEnded,null,this)),this.transitionRQ.StartRoutines())},SymbolPrizeManager_PBlinders.prototype.InjectFeatureShow=function(){XT.UnregisterCallbackEvent(this.InjectFeatureShow,this,Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[0])),this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.AnimateTriggerSymbol,null,this)),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[1])),this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.TransitionToFeature,null,this)),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[2])),this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.ShowPrizesBoard,!0,this)),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[3]));for(var t=this.prizesOnSymbolIds.length-1;0<=t;t--)this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.ShowPrizeOnBoard,t,this)),this.noDelayIfSymbolMissing&&!this.SymbolPresentOnReels(this.prizesOnSymbolIds[t])||(this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[4])),this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.ShowPrizeOnSymbol,t,this))),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[5]));this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[6])),this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.AnimateSymbolPrizes,!0,this)),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[7])),this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.AnimateSymbolPrizes,!1,this)),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.delaysBetweenSequenceSteps[8])),this.resultDisplayer.rq.AddRoutineQueueItem(new RQITriggerCallback(this.CollectSymbolPrizesVisual,this.currentSPrizes,this)),this.resultDisplayer.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.valuesCollector.GetCollectingDuration(this.currentSPrizes)))},SymbolPrizeManager_PBlinders.prototype.AnimateTriggerSymbol=function(t){for(var e=0;e<this.orderedHoldersList.length;e++)this.orderedHoldersList[e].currentSymbol.symbolId==this.featureTriggerSymbolID&&this.orderedHoldersList[e].currentSymbol.SetHighlightOn()},SymbolPrizeManager_PBlinders.prototype.TransitionToFeature=function(t){this.spsTransition.show.Start()},SymbolPrizeManager_PBlinders.prototype.ShowPrizesBoard=function(t){(t?this.boardControl.show:this.boardControl.hide).Start()},SymbolPrizeManager_PBlinders.prototype.ShowPrizeOnBoard=function(t){this.showSymbolValuesOnBoard[t].Start()},SymbolPrizeManager_PBlinders.prototype.ShowPrizeOnSymbol=function(t){for(var e=0;e<this.orderedHoldersList.length;e++)this.orderedHoldersList[e].currentSymbol.symbolId==this.prizesOnSymbolIds[t]&&this.orderedHoldersList[e].currentSymbol.GetComponent(SymbolPrize_PBlinders).ShowPrizeForced()},SymbolPrizeManager_PBlinders.prototype.SymbolPresentOnReels=function(t){for(var e=0;e<this.orderedHoldersList.length;e++)if(this.orderedHoldersList[e].currentSymbol.symbolId==t)return!0;return!1},SymbolPrizeManager_PBlinders.prototype.AnimateSymbolPrizes=function(t){t&&this.highlightPrizeSymbols.Start();for(var e=0;e<this.orderedHoldersList.length;e++)0<this.currentSPrizes[e]&&(t?this.orderedHoldersList[e].currentSymbol.SetHighlightOn():this.orderedHoldersList[e].currentSymbol.SetHighlightOff())},SymbolPrizeManager_PBlinders.prototype.CollectSymbolPrizesVisual=function(t){this.valuesCollector.StartCollectingValues(t)},SymbolPrizeManager_PBlinders.prototype.OnWinCountEnded=function(t){this.isSPWin&&(this.spsTransition.hide.Start(),this.ShowPrizesBoard(!1),this.isSPWin=!1)},SymbolPrizeManager_PBlinders.prototype.UpdateSymbolPrizes=function(t){for(var e=0;e<this.currentSPrizes.length;e++)this.currentSPrizes[e]=-1;if(this.isSPWin=!1,null!=t[SymbolPrizeManager_PBlinders.SPrizeParams.onScreenValues]){for(var i=t[SymbolPrizeManager_PBlinders.SPrizeParams.onScreenValues].split(";"),e=0;e<i.length;e++){var n=i[e].split("~");this.currentSPrizes[_number.otoi(n[0])]=_number.otod(n[1])}this.isSPWin=!0}if(null!=t[SymbolPrizeManager_PBlinders.SPrizeParams.values_base]){this.prizesOnSymbolIds=[];for(var o=t[SymbolPrizeManager_PBlinders.SPrizeParams.values_base].split("~"),e=0;e<this.symbolValuesOnBoard.length;e++){n=o[e].split(",");this.prizesOnSymbolIds.push(_number.otoi(n[0])),this.symbolValuesOnBoard[e].text=CoinManager.GetFormatedMoneyValue(_number.otoi(n[1]),CoinManager.GetLastTotalBet())}}},goog.require("UHT.Engine"),SymbolReplaceManager.prototype=Object.create(Component.prototype),(SymbolReplaceManager.prototype.constructor=SymbolReplaceManager).prototype.StopReplacingAnySymbol=function(){this.canReplaceSymbols=!1,null!=this.afterSymbolsReplace&&this.afterSymbolsReplace.Start()},SymbolReplaceManager.prototype.ReplaceSymbols=function(t){if(this.canReplaceSymbols=!0,this.currentReplaceData=t,this.symbolsToReplace=t.length,null!=this.beforeSymbolsReplace&&this.beforeSymbolsReplace.Start(),this.replaceOneByOne)this.replacingSymbolsOneByOne=!0,this.replacingSymbolIdx=0,this.currentSymbolReplaceDelay=this.randomizeDelayBetweenSymbols?Random.Range(.5*this.delayBeforeSymbolReplace,1.5*this.delayBeforeSymbolReplace):this.delayBeforeSymbolReplace,this.ReplaceSymbol(this.replacingSymbolIdx);else for(var e=0;e<this.currentReplaceData.length;e++)this.ReplaceSymbol(e)},SymbolReplaceManager.prototype.GetReplaceDuration=function(t){return this.useFixedDelay?this.fixedDelay:this.useVisualEffects?this.symbolReplaceDuration+(t-1)*this.delayBeforeSymbolReplace:this.symbolReplaceDuration},SymbolReplaceManager.prototype.ReplaceSymbol=function(t){var e=XT.GetObject(Vars.ReelsManagerObject),i=e.reels.length,n=this.currentReplaceData[t].symbolPosition%i,o=Math.floor(this.currentReplaceData[t].symbolPosition/i),i=e.reels[n].symbolHolders[o].currentSymbol.internalState;this.keepSymbolsState||e.reels[n].symbolHolders[o].currentSymbol.SetNormal(),this.useVisualEffects?this.replacingVisual[this.currentReplaceData[t].symbolPosition].Start():(this.keepSymbolsState&&e.reels[n].symbolHolders[o].currentSymbol.SetNormal(),e.reels[n].symbolHolders[o].ReplaceSymbol(this.currentReplaceData[t].replacingID),this.keepSymbolsState?e.reels[n].symbolHolders[o].currentSymbol.ChangeToState(i):e.reels[n].symbolHolders[o].currentSymbol.SetNormal(),this.symbolsToReplace--,0==this.symbolsToReplace&&null!=this.afterSymbolsReplace&&this.afterSymbolsReplace.Start())},SymbolReplaceManager.prototype.ReallyReplaceTheSymbol=function(t){if(this.canReplaceSymbols){for(var e=null,i=_number.otoi(t),n=0;n<this.currentReplaceData.length;n++)i==this.currentReplaceData[n].symbolPosition&&(e=this.currentReplaceData[n]);var o=XT.GetObject(Vars.ReelsManagerObject),s=o.reels.length,r=e.replacingID,a=e.symbolPosition%s,t=Math.floor(e.symbolPosition/s),s=o.reels[a].symbolHolders[t].currentSymbol.internalState;this.keepSymbolsState&&o.reels[a].symbolHolders[t].currentSymbol.SetNormal(),o.reels[a].symbolHolders[t].ReplaceSymbol(r),this.keepSymbolsState?o.reels[a].symbolHolders[t].currentSymbol.ChangeToState(s):o.reels[a].symbolHolders[t].currentSymbol.SetNormal(),this.symbolsToReplace--,0==this.symbolsToReplace&&null!=this.afterSymbolsReplace&&this.afterSymbolsReplace.Start()}},SymbolReplaceManager.prototype.Update=function(){this.canReplaceSymbols?this.replacingSymbolsOneByOne&&(0<this.currentSymbolReplaceDelay?this.currentSymbolReplaceDelay-=Time.deltaTime:(this.replacingSymbolIdx++,this.replacingSymbolIdx<this.currentReplaceData.length?(this.ReplaceSymbol(this.replacingSymbolIdx),this.currentSymbolReplaceDelay=this.randomizeDelayBetweenSymbols?Random.Range(.5*this.delayBeforeSymbolReplace,1.5*this.delayBeforeSymbolReplace):this.delayBeforeSymbolReplace):this.replacingSymbolsOneByOne=!1)):this.replacingSymbolsOneByOne=!1},goog.require("UHT.FOXLink"),RespinIndicator_PBlinders.prototype=Object.create(FOXLink.prototype),(RespinIndicator_PBlinders.prototype.constructor=RespinIndicator_PBlinders).prototype.XTRegisterCallbacks=function(){FOXLink.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopEnded,this.OnReelStopEnded,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIBeforeSpinStart,this.AddRQIBeforeSpinStart,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIAfterBonusAnimate,this.AddRQIWhenResultStarts,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWin,this.OnUpdateDisplayedWin,this)},RespinIndicator_PBlinders.prototype.OnUpdateDisplayedWin=function(){this.featureActive&&(this.featureActive=!1,this.transitionRQ.AddRoutineQueueItem(new RQIWaitForLastWinCount),this.transitionRQ.AddRoutineQueueItem(new RQITriggerCallback(this.OnWinCountEnded,null,this)),this.transitionRQ.StartRoutines())},RespinIndicator_PBlinders.prototype.OnWinCountEnded=function(t){this.featureTransition.hide.Start()},RespinIndicator_PBlinders.prototype.HandleInitResponse=function(t){this.stickySymbol=_array.create(this.stickyPostion.length,-1),this.isRespin=this.IsRespin(t),this.isRespin&&(XT.RegisterCallbackEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped,this.ShowFastFeatureTransition,this),this.CheckForSticky(t,!0))},RespinIndicator_PBlinders.prototype.HandleSpinResponse=function(t){this.isRespin=this.IsRespin(t),this.isRespin?(XT.SetBool(Vars.KeepSpinning,!0),this.featureTransition.show.Start(),this.CheckForSticky(t,!1)):this.CheckForSymbolReplacementData(t)},RespinIndicator_PBlinders.prototype.ShowFastFeatureTransition=function(){XT.UnregisterCallbackEvent(this.ShowFastFeatureTransition,this,Vars.Evt_CodeToData_IntroClosedOrSkipped),this.featureShow_Fast.Start()},RespinIndicator_PBlinders.prototype.SetSpinCanStop=function(){XT.SetBool(Vars.KeepSpinning,!1)},RespinIndicator_PBlinders.prototype.CheckForSticky=function(t,e){var i=GameProtocolCommonParser.ParseIntList(t,"s");if(null!=t.sty)for(var n=t.sty.split("~"),o=0;o<n.length;o++){var s=_number.otoi(n[o].split(",")[0]);i[s]!=this.triggerSymbolID&&(this.stickySymbol[s]=i[s])}for(o=0;o<i.length;o++)if(i[o]==this.triggerSymbolID){this.triggerSymbolPos=o,this.triggerSymbol[o].StartEvent(e?1:0),t.s=t.s.replace(this.triggerSymbolID,Random.Range(7,12).toString());break}},RespinIndicator_PBlinders.prototype.CheckForSymbolReplacementData=function(t){t=GameProtocolCommonParser.ParseIfExist(t,GameProtocolDictionary.symbolReplacementData);if(!_string.IsNullOrEmpty(t)){var e=t.split(";");this.transformIntoID=-1;for(var i=0;i<e.length;i++){var n=e[i].split("~");if(this.transformIntoID<0&&(this.transformIntoID=_number.otoi(n[1])),2<n.length)for(var o=n[2].split(","),s=0;s<o.length;s++)this.transformedPositions.push(_number.otoi(o[s]))}}},RespinIndicator_PBlinders.prototype.IsRespin=function(t){return"mc"==t.rs},RespinIndicator_PBlinders.prototype.OnGameInit=function(){this.rm=XT.GetObject(Vars.ReelsManagerObject),this.symbolHolders=XT.GetObject(Vars.OrderedSymbolHoldersList)},RespinIndicator_PBlinders.prototype.AddRQIWhenResultStarts=function(){var t;0<this.transformedPositions.length&&((t=XT.GetObject(Vars.RQManagerObject)).AddRoutineQueueItem(new RQITriggerCallback(this.TransformSymbols,null,this)),t.AddRoutineQueueItem(new RQIWaitForSeconds(this.symbolReplaceManager.GetReplaceDuration(this.transformedPositions.length))))},RespinIndicator_PBlinders.prototype.TransformSymbols=function(t){for(var e=[],i=0;i<this.transformedPositions.length;i++)e.push(new SymbolReplaceData(this.transformedPositions[i],this.transformIntoID));this.transformedPositions=[],this.symbolReplaceManager.ReplaceSymbols(e)},RespinIndicator_PBlinders.prototype.AddRQIBeforeSpinStart=function(){if(this.isRespin){this.cleanupSticky=!0;var t=XT.GetObject(Vars.SpinRoutineQueue);t.AddRoutineQueueItem(new RQITriggerCallback(this.RespinIsStarting,null,this)),t.AddRoutineQueueItem(new RQIWaitForSeconds(this.respinStartDuration));for(var e=0;e<this.stickySymbol.length;e++)if(0<=this.stickySymbol[e]){t.AddRoutineQueueItem(new RQITriggerCallback(this.SetSymbolsSticky,null,this)),t.AddRoutineQueueItem(new RQIWaitForSeconds(this.stickyTransformDuration));break}}else this.cleanupSticky=!1},RespinIndicator_PBlinders.prototype.RespinIsStarting=function(t){this.triggerSymbol[this.triggerSymbolPos].StartEvent(3),this.startRespin.Start(),this.featureActive=!0},RespinIndicator_PBlinders.prototype.FadeAlphaFaders=function(t){this.fadeValueEnd=t,this.fadeValueStart=AlphaFader_PBlinders.alphaValue,this.fadeCurrentTime=0},RespinIndicator_PBlinders.prototype.SetSymbolsSticky=function(t){for(var e=0;e<this.stickySymbol.length;e++)0<=this.stickySymbol[e]&&this.StickSymbol(e)},RespinIndicator_PBlinders.prototype.OnReelStopEnded=function(){if(this.cleanupSticky){var t,e=XT.GetInt(Vars.LastStopEndedReelIndex);e==this.triggerSymbolPos%this.rm.reels.length&&(t=this.symbolHolders[this.triggerSymbolPos].currentSymbol.internalState,this.symbolHolders[this.triggerSymbolPos].ReplaceSymbol(this.triggerSymbolID),this.symbolHolders[this.triggerSymbolPos].currentSymbol.ChangeToState(t),this.triggerSymbol[this.triggerSymbolPos].StartEvent(2),this.triggerSymbolPos=-1);for(var i=0;i<this.stickySymbol.length;i++)0<=this.stickySymbol[i]&&e==i%this.rm.reels.length&&this.UnstickSymbol(i)}},RespinIndicator_PBlinders.prototype.UnstickSymbol=function(t){var e=this.symbolHolders[t].currentSymbol.internalState;this.symbolHolders[t].ReplaceSymbol(this.stickySymbol[t]),this.symbolHolders[t].currentSymbol.ChangeToState(e),this.stickySymbol[t]=-1,this.stickyPostion[t].hide.Start()},RespinIndicator_PBlinders.prototype.StickSymbol=function(t){for(var e=this.stickyPostion[t].show.cat.gameObject.transform.children[0],i=0;i<e.childCount();i++){var n=e.children[i].gameObject;n.SetActive(_number.otoi(n.name)==this.stickySymbol[t])}this.stickyPostion[t].show.Start()},RespinIndicator_PBlinders.prototype.Update=function(){this.fadeCurrentTime<this.alphaFadeDuration&&(this.fadeCurrentTime+=Time.deltaTime,AlphaFader_PBlinders.alphaValue=UHTMath.lerp(this.fadeValueStart,this.fadeValueEnd,this.fadeCurrentTime/this.alphaFadeDuration))},goog.require("UHT.XTLink"),goog.require("UHT.VS_LinesDefinitions"),goog.require("UHT.System.Misc.Utils"),WinLineInfo_Casanova.prototype=Object.create(WinLineInfo.prototype),WinLineInfo_Casanova.prototype.constructor=WinLineInfo_Casanova,VS_SpinExciter_Casanova.prototype=Object.create(VS_SpinExciter.prototype),(VS_SpinExciter_Casanova.prototype.constructor=VS_SpinExciter_Casanova).prototype.XTRegisterCallbacks=function(){VS_SpinExciter.prototype.XTRegisterCallbacks.call(this)},VS_SpinExciter_Casanova.prototype.OnScreenSymbols=function(t){VS_SpinExciter.prototype.OnScreenSymbols.call(this,t)},VS_SpinExciter_Casanova.prototype.ResetArrays=function(){this.reelShouldExcite=_array.create(this.reelsManager.reels.length,!1),this.symbolsShouldPlayExcite=[],this.symbolsShouldPlayExciteLose=[],this.symbolsShouldPlayWin=[];for(var t=0;t<this.reelShouldExcite.length;t++)this.reelShouldExcite[t]=!1,this.symbolsShouldPlayExcite.push([]),this.symbolsShouldPlayExciteLose.push([]),this.symbolsShouldPlayWin.push([]);for(var e=0;e<this.symbolList.length;e++)this.symbolList[e].length},VS_SpinExciter_Casanova.prototype.ReelStopsAfter=function(t,e){for(var i=XT.GetObject(Vars.ReelsStopOrder),n=!1,o=0;o<i.length&&t!=i[o];o++)e==i[o]&&(n=!0);return n},VS_SpinExciter_Casanova.prototype.CloneWinLineInfo=function(t){var e=new WinLineInfo_Casanova;e.Positions=_array.create(t.Positions.length,0);for(var i=0;i<e.Positions.length;i++)e.Positions[i]=t.Positions[i];return e.Id=t.Id,e.dominatingSymbol=t.dominatingSymbol,e.isRightToLeft=t.isRightToLeft,e},VS_SpinExciter_Casanova.prototype.SimulateStopsOnReel=function(t){for(var e=this.reelsManager.reels.length,i=0;i<this.betLines.length;i++){for(var n=this.CloneWinLineInfo(this.betLines[i]),o=2,s=!1,r=!1,a=0;a<n.Positions.length;a++)if(t!=(n.isRightToLeft?n.Positions.length-1-a:a)){this.ReelStopsAfter(n.isRightToLeft?n.Positions.length-1-a:a,t)&&(s=!0);var l=n.Positions[a],u=l%e,l=Math.floor(l/e),u=this.GetSymbolFromReel(l,u);if(2!=u||s){if(s||u!=o&&2!=o||u<2){for(var h=r?a:0,c=_array.create(h,0),p=0;p<h;p++)c[p]=n.Positions[p];n.Positions=c;break}o=u}else this.StillPossibleWinComboWild[a]=!0;this.betLines[i].containsWild||(this.betLines[i].containsWild=2==u)}else r=!0;if(1<(this.betLines[i].dominatingSymbol=o)&&this.symbolPaying[o]<=n.Positions.length){this.SetReelShouldExcite(t),this.hasLoopExciteImportant&&(this.ExcitedImportantSymbols[t][o]=!0),null!=this.payoutData&&(this.AccumulatedPossibleWin[t]+=this.payoutData[o][n.Positions.length-1]*XT.GetDouble(Vars.CurrentWinMultiplier));var d=!1;for(this.symbolPaying[o]<=(n.isRightToLeft?this.betLines[i].Positions.length-1-t:t)&&(d=!0),a=0;a<n.Positions.length;a++)t!=(n.isRightToLeft?this.betLines[i].Positions.length-1-a:a)?(d&&this.symbolsShouldPlayWin[t].push(n.Positions[a]),this.symbolsShouldPlayExcite[t].push(n.Positions[a])):d=!1}}for(this.ScatterPays==SpecialSymbolPayType.Everywhere&&this.SimulateReelStopForScatteredSymbol(1,t),a=0;a<this.scatteredSymbols.length;a++)this.SimulateReelStopForScatteredSymbol(this.scatteredSymbols[a],t)},VS_SpinExciter_Casanova.prototype.SimulateReelStopForScatteredSymbol=function(t,e){var i=0,n=0,o=0,s=1==t,r=XT.GetInt(Vars.Lines);this.initialSymbolList=XT.GetObject(Vars.InitialResultScreenSymbols);for(var a=null!=this.initialSymbolList&&0<this.initialSymbolList.length&&!this.forcedFinalSymbolsOnScattersComputation,l=0;l<this.reelsManager.reels.length;l++)this.SymbolsPresentAnywhereOnReel(t,l)<=0||(n+=a?this.InitialSymbolAppearencesOnReel(t,l):this.SymbolAppearencesOnReel(t,l),l==e||this.ReelStopsAfter(l,e)?o++:i+=this.SymbolAppearencesOnReel(t,l));if(s){if(this.ScatterIsStacked)for(o=0,l=0;l<this.reelsManager.reels.length;l++)(l==e||this.ReelStopsAfter(l,e))&&0<this.SymbolsPresentAnywhereOnReel(t,l)&&(o+=this.reelsManager.reels[l].symbolHolders.length);i+o>=this.GetScatterMinCombo()&&(this.StillPossibleWinComboScatter[e]=!0);var u=this.ScatterIsStacked?this.reelsManager.reels[e].symbolHolders.length:1;if(0<this.SymbolsPresentAnywhereOnReel(t,e)&&i>=this.GetScatterMinCombo()-u&&(this.AccumulatedPossibleWin[e]+=Math.ceil(this.payoutThreshold*(this.optimizeWaysComputation&&XT.GetBool(Vars.GameHasWaysInsteadOfLines)?XT.GetInt(Vars.BetToTotalBetMultiplier):r)),this.SetReelShouldExcite(e)),n>=this.GetScatterMinCombo())for(var h=0;h<this.ShouldAnimateScatter.length;h++)this.ShouldAnimateScatter[h]=!0}else{u=_array.indexOf(t,this.scatteredSymbols);i+(a?this.InitialSymbolAppearencesOnReel(t,e):this.SymbolAppearencesOnReel(t,e))+(o-1)*this.possibleScatteredSymbolsOnReel[u]>=this.scatteredSymbolsMinCombo[u]&&(this.StillPossibleWinComboPerSymbol[e][t]=!0),this.scatteredSymbolsTriggerExcitement[u]&&0<this.SymbolsPresentAnywhereOnReel(t,e)&&i>=this.scatteredSymbolsMinCombo[u]-this.possibleScatteredSymbolsOnReel[u]&&(this.AccumulatedPossibleWin[e]+=Math.ceil(this.payoutThreshold*(this.optimizeWaysComputation&&XT.GetBool(Vars.GameHasWaysInsteadOfLines)?XT.GetInt(Vars.BetToTotalBetMultiplier):r)),this.SetReelShouldExcite(e))}},VS_SpinExciter_Casanova.prototype.SetReelShouldExcite=function(t){for(var e=XT.GetObject(Vars.ReelsStopOrder),i=0;i<e.length;i++)if(e[i]==t){i>=this.firstExcitedReel&&(this.reelShouldExcite[t]=!0);break}},VS_SpinExciter_Casanova.prototype.SimulateStops=function(){this.ResetArrays();for(var t=0;t<this.reelsManager.reels.length;t++)this.SimulateStopsOnReel(t)},VS_SpinExciter_Casanova.prototype.SimulateStops_Ways=function(){var t;if(this.ResetArrays(),null!=this.payoutData){if(0==this.symbolPresenceOnReel_Ways.length)for(i=0;i<this.payoutData.length;i++)for(this.symbolPresenceOnReel_Ways.push([]),t=0;t<this.payoutData[i].length;t++)this.symbolPresenceOnReel_Ways[i].push(0);else for(i=0;i<this.symbolPresenceOnReel_Ways.length;i++)for(t=0;t<this.symbolPresenceOnReel_Ways[i].length;t++)this.symbolPresenceOnReel_Ways[i][t]=0;for(var e,i=0;i<this.symbolList.length;i++)for(t=0;t<this.symbolList[i].length;t++)e=this.symbolList[i][t],this.SymbolIsWild(e)?this.symbolPresenceOnReel_Ways[2][i]++:this.symbolPresenceOnReel_Ways[e][i]++;for(i=0;i<this.reelsManager.reels.length;i++)this.SimulateStopsOnReel_Ways(i)}},VS_SpinExciter_Casanova.prototype.SimulateStopsOnReel_Ways=function(t){for(var e,i=!1,n=2;n<this.symbolPresenceOnReel_Ways.length;n++)if(this.HasPayout(n)){var o=!1,s=!1,r=this.symbolPresenceOnReel_Ways[n].length;for(u=0;u<this.symbolPresenceOnReel_Ways[n].length;u++){var a=i?this.symbolPresenceOnReel_Ways[n].length-1-u:u;if(t!=a){if((o=this.ReelStopsAfter(a,t)?!0:o)||0==this.symbolPresenceOnReel_Ways[n][a]&&0==this.symbolPresenceOnReel_Ways[2][a]){r=s?u:0;break}0<this.symbolPresenceOnReel_Ways[2][a]&&(this.StillPossibleWinComboWild[u]=!0)}else s=!0}if(this.symbolPaying[n]<=r){this.SetReelShouldExcite(t),this.hasLoopExciteImportant&&(this.ExcitedImportantSymbols[t][n]=!0);for(var l=1,u=0;u<r;u++){var h=i?this.symbolPresenceOnReel_Ways[n].length-1-u:u,c=this.symbolPresenceOnReel_Ways[n][h];h==t?c=this.symbolList[t].length:2!=n&&(c+=this.symbolPresenceOnReel_Ways[2][h]),l*=c}null!=this.payoutData&&(this.AccumulatedPossibleWin[t]+=l*this.payoutData[n][r-1]*XT.GetDouble(Vars.CurrentWinMultiplier));var p=!1;for(this.symbolPaying[n]<=(i?this.symbolPresenceOnReel_Ways[n].length-1-t:t)&&(p=!0),u=0;u<r;u++)if(t!=(i?this.symbolPresenceOnReel_Ways[n].length-1-u:u)){if(p)for(e=0;e<this.symbolList[u].length;e++)this.symbolList[u][e]!=n&&2!=this.symbolList[u][e]||this.symbolsShouldPlayWin[t].push(e*this.symbolList.length+u);for(e=0;e<this.symbolList[u].length;e++)this.symbolList[u][e]!=n&&2!=this.symbolList[u][e]||(p&&this.symbolsShouldPlayWin[t].push(e*this.symbolList.length+u),this.symbolsShouldPlayExcite[t].push(e*this.symbolList.length+u))}else p=!1}XT.GetBool(Vars.LinesPaysBothWays)&&(i=!i)&&n--}for(this.ScatterPays==SpecialSymbolPayType.Everywhere&&this.SimulateReelStopForScatteredSymbol(1,t),u=0;u<this.scatteredSymbols.length;u++)this.SimulateReelStopForScatteredSymbol(this.scatteredSymbols[u],t)},VS_SpinExciter_Casanova.prototype.HasPayout=function(t){for(var e=0;e<this.payoutData[t].length;e++)if(0<this.payoutData[t][e])return!0;return!1},VS_SpinExciter_Casanova.prototype.UpdateBetLines=function(){var t=XT.GetInt(Vars.Lines),e=this.symbolList.length,i=XT.GetBool(Vars.LinesPaysBothWays);this.betLines=_array.create(i?2*t:t,null);for(var n=0;n<this.betLines.length;n++){var o=t<=n;this.betLines[n]=new WinLineInfo_Casanova,this.betLines[n].Id=n+1,this.betLines[n].Positions=_array.create(e,0),this.betLines[n].containsWild=!1,this.betLines[n].isRightToLeft=o;for(var s=0;s<e;s++)this.betLines[n].Positions[s]=o?this.linesDef.lines[n-t].symbolIndices[e-1-s]:this.linesDef.lines[n].symbolIndices[s]}},VS_SpinExciter_Casanova.prototype.ComputePossibleWins=function(){this.optimizeWaysComputation&&XT.GetBool(Vars.GameHasWaysInsteadOfLines)?this.SimulateStops_Ways():(this.UpdateBetLines(),this.SimulateStops()),this.UpdateActualWinCombo(),this.SetWinComboSounds()},VS_SpinExciter_Casanova.prototype.Excite=function(t){if(!XT.GetObject(Vars.ReelsCanBeExcited)[t])return!1;var e,i=!1;return null==this.payoutData?i=!0:(e=XT.GetInt(Vars.Lines),this.AccumulatedPossibleWin[t]>=this.payoutThreshold*(this.optimizeWaysComputation&&XT.GetBool(Vars.GameHasWaysInsteadOfLines)?XT.GetInt(Vars.BetToTotalBetMultiplier):e)&&(i=!0)),this.reelShouldExcite[t]&&i},VS_SpinExciter_Casanova.prototype.UpdateSymbol=function(t,e,i){var n=t.currentSymbol.symbolId,o=XT.GetBool(Vars.ScatterSymbolIsWild);if(this.CanHighlightOff(n)||o&&1==n){for(var s=t.GetOrderedSymbolIdx(),r=!1,a=!1,l=0;l<this.symbolsShouldPlayExcite[e].length;l++)s==this.symbolsShouldPlayExcite[e][l]&&(r=!0);for(l=0;l<this.symbolsShouldPlayWin[e].length;l++)s==this.symbolsShouldPlayWin[e][l]&&(a=!0);a&&r?t.currentSymbol.SetWinExcited():a?t.currentSymbol.SetWinning():r?t.currentSymbol.SetExcited():!this.CanHighlightOff(n)&&o&&1==n?t.currentSymbol.SetNormal():t.currentSymbol.SetHighlightOff()}},VS_SpinExciter_Casanova.prototype.ReelStopped=function(t,e){if(!e){for(var i=XT.GetObject(Vars.ReelsStopOrder),n=0,n=0;n<i.length;n++)if(t==i[n]&&n<this.firstExcitedReel-1)return;var o=!1,s=0,r=0;for(n=0;n<i.length;n++)t==i[n]&&(s=i[r=n==i.length-1?n:n+1]);for(n=0;n<=r;n++)this.Excite(i[n])&&(o=!0);if(o)for(n=0;n<i.length;n++){for(var a=this.reelsManager.reels[i[n]],l=0;l<a.symbolHolders.length;l++)this.UpdateSymbol(a.symbolHolders[l],s,!1);if(i[n]==t)break}}},VS_SpinExciter_Casanova.prototype.InitialSymbolAppearencesOnReel=function(t,e){for(var i=0,n=0;n<this.initialSymbolList[e].length;n++)this.initialSymbolList[e][n]==t&&i++;return i},VS_SpinExciter_Casanova.prototype.UpdateActualWinCombo=function(){var t=XT.GetObject(Vars.ReceivedWinLines);if(null!=t&&0!=t.length){for(var e=t[0],i=0;i<t.length;i++)e.WinPositions.length<t[i].WinPositions.length&&(e=t[i]);var n=e.WinPositions;for(i=0;i<n.length;i++)this.ActualWinCombo[n[i]%this.reelsManager.reels.length]=!0}},goog.require("UHT.Engine");var ReelFXReelStopEvent={ReelStopStarted:0,ReelStopEnded:1};function ReelFX(){XTLink.call(this),this.reelIndex=0,this.reelStopEvent=ReelFXReelStopEvent.ReelStopStarted,this.reelExcited=null,this.reelStop=null,this.reelStopWin=null,this.fastPlayReelExcited=null,this.fastPlayReelStop=null,this.fastPlayReelStopWin=null,this.reelStoppedFast=null,this.reelsExcited=null,this.numberOfReels=0}function SymbolPrize_PBlinders(){Component.call(this),this.reelsManager=null,this.mySymbol=null,this.prizeCat=null,this.showPrizeForced=null,this.prizeValDisplayer=null,this.prizeIsVisible=!1}function AlphaFader_PBlinders(){Component.call(this),this.oldAlpha=1,this.panels=null}function SymbolLoopingEnhancementBySpeed(){Component.call(this),this.enhanceAlpha=!0,this.enhanceScale=!0,this.blurredComponents=null,this.maxAlpha=.7,this.maxSpeed=2,this.minSpeed=.3,this.minScale=.8,this.maxScale=1.2,this.firstBlurAlphaFactor=2,this.symbolHolder=null}function ClickDelay(){Component.call(this),this.delay=2,this.timer=0}function HotKeyClicker(){Component.call(this),this.inactiveDuringBigWin=!1}function AdditionalFreeSpins(){XTLink.call(this),this.showAdditionalFreeSpins=null,this.showSymbolFX=null,this.duration=1,this.symbolFXDelay=null,this.RQBeforeSpinStartPriority=0,this.numberOfReels=0,this.showValue=null,this.valueDuration=null}function WinLineVisual(){XTLink.call(this),this.id=0,this.thickness=0,this.color=null,this.guides=[],this.useObjectAsEnd=!1,this.lineEndings=[],this.showOnlyLineEnd=!1,this.linesDefinitions=null,this.pixiZOrderedContainer=new PIXI.Container}function PerLineWinDisplayer(){XTLink.call(this),this.StartCAT=null,this.StopCAT=null}ReelFX.prototype=Object.create(XTLink.prototype),(ReelFX.prototype.constructor=ReelFX).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_ExcitedReel,this.ReelExcited,this),XT.RegisterCallbackObject(Vars.ReelInitialPositions,this.OnReelPositions,this),XT.RegisterCallbackObject(Vars.ResultScreenSymbols,this.OnResultScreenSymbols,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin,this.OnReelStoppedFast,this),this.reelStopEvent==ReelFXReelStopEvent.ReelStopEnded?XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopEnded,this.ReelStopEnded,this):XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopStarted,this.ReelStopped,this)},ReelFX.prototype.XTInitVariablesAndEvents=function(){},ReelFX.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.ReelExcited,this),XT.UnregisterCallbackEvent(this.ReelStopped,this),XT.UnregisterCallbackObject(this.OnReelPositions,this),XT.UnregisterCallbackObject(this.OnResultScreenSymbols,this),XT.UnregisterCallbackEvent(this.OnReelStoppedFast,this)},ReelFX.prototype.OnResultScreenSymbols=function(t){this.reelsExcited=[];for(var e=0;e<this.numberOfReels;e++)this.reelsExcited.push(!1)},ReelFX.prototype.OnReelPositions=function(t){this.numberOfReels=t.length,this.reelsExcited=[]},ReelFX.prototype.ReelExcited=function(){var t=XT.GetInt(Vars.LastExcitedReelIndex);this.reelsExcited[t]=!0,t==this.reelIndex&&(XT.GetBool(Vars.FastPlay)&&null!=this.fastPlayReelExcited.cat?this.fastPlayReelExcited:this.reelExcited).Start()},ReelFX.prototype.ReelStopped=function(){this.ReelStoppedInternal(XT.GetObject(Vars.LastStoppedReelIndices))},ReelFX.prototype.ReelStopEnded=function(){this.ReelStoppedInternal([XT.GetInt(Vars.LastStopEndedReelIndex)])},ReelFX.prototype.ReelStoppedInternal=function(t){for(var e,i,n=XT.GetObject(Vars.ReelsStopOrder),o=0;o<t.length;o++)_array.indexOf(this.reelIndex,n)<=_array.indexOf(t[o],n)&&(this.reelExcited.Stop(),null!=this.fastPlayReelExcited.cat&&this.fastPlayReelExcited.Stop(),this.reelIndex==t[o]&&(e=XT.GetBool(Vars.FastPlay),i=XT.GetObject(Vars.ReelsWinInfo)[this.reelIndex],(this.reelsExcited[this.reelIndex]&&i&&null!=this.reelStopWin.cat?e&&null!=this.fastPlayReelStopWin.cat?this.fastPlayReelStopWin:this.reelStopWin:e&&null!=this.fastPlayReelExcited.cat?this.fastPlayReelStop:this.reelStop).Start()))},ReelFX.prototype.OnReelStoppedFast=function(){this.reelsExcited[this.reelIndex]&&null!=this.reelStoppedFast&&this.reelStoppedFast.Start()},goog.require("UHT.Engine"),SymbolPrize_PBlinders.prototype=Object.create(Component.prototype),(SymbolPrize_PBlinders.prototype.constructor=SymbolPrize_PBlinders).prototype.UpdatePrize=function(t){for(var e=XT.GetObject("OnScreenSymbolPrizes"),i=-1,n=0;n<this.reelsManager.reels.length;n++){for(var o=0;o<this.reelsManager.reels[n].symbolHolders.length;o++)if(this.mySymbol==this.reelsManager.reels[n].symbolHolders[o].currentSymbol){i=n+this.reelsManager.reels.length*o;break}if(-1<i)break}-1<i&&-1<e[i]?(this.prizeValDisplayer.SetValueManually(e[i]),!this.prizeIsVisible&&t&&(this.prizeIsVisible=!0,this.prizeCat.show.Start())):t&&this.HidePrize()},SymbolPrize_PBlinders.prototype.ShowPrizeForced=function(){this.prizeIsVisible=!0,this.UpdatePrize(!1),this.showPrizeForced.Start()},SymbolPrize_PBlinders.prototype.HidePrize=function(){this.prizeIsVisible&&(this.prizeIsVisible=!1,this.prizeCat.hide.Start())},goog.require("UHT.Engine"),AlphaFader_PBlinders.prototype=Object.create(Component.prototype),(AlphaFader_PBlinders.prototype.constructor=AlphaFader_PBlinders).alphaValue=1,AlphaFader_PBlinders.prototype.Awake=function(){this.panels=this.gameObject.GetComponentsInChildren(UIPanel,!0)},AlphaFader_PBlinders.prototype.Update=function(){if(.001<Math.abs(AlphaFader_PBlinders.alphaValue-this.oldAlpha)){this.oldAlpha=AlphaFader_PBlinders.alphaValue;for(var t=0;t<this.panels.length;t++)this.panels[t].alpha=AlphaFader_PBlinders.alphaValue}},goog.require("UHT.Engine"),SymbolLoopingEnhancementBySpeed.prototype=Object.create(Component.prototype),(SymbolLoopingEnhancementBySpeed.prototype.constructor=SymbolLoopingEnhancementBySpeed).prototype.OnEnable=function(){null!=this.gameObject.transform.parent&&(this.symbolHolder=this.gameObject.transform.parent.gameObject.GetComponent(VS_ReelSymbolHolder)),this.Update()},SymbolLoopingEnhancementBySpeed.prototype.OnDisable=function(){this.symbolHolder=null},SymbolLoopingEnhancementBySpeed.prototype.Update=function(){if(null!=this.symbolHolder){var t,e=(this.symbolHolder.speed-this.minSpeed)/(this.maxSpeed-this.minSpeed);for(e<0&&(e=0),i=(i=(i=[]).concat(this.blurredComponents[0].gameObject.GetComponentsInChildren(UISprite,!0))).concat(this.blurredComponents[0].gameObject.GetComponentsInChildren(UILabel,!0)),t=0;t<i.length;t++)i[t].color.a=UHTMath.clamp(0,(1-e)*this.firstBlurAlphaFactor,1);for(t=1;t<this.blurredComponents.length;t++){if(this.enhanceAlpha)for(var i=(i=(i=[]).concat(this.blurredComponents[t].gameObject.GetComponentsInChildren(UISprite,!0))).concat(this.blurredComponents[t].gameObject.GetComponentsInChildren(UILabel,!0)),n=0;n<i.length;n++)i[n].color.a=UHTMath.clamp(0,e/t*this.maxAlpha,1);this.enhanceScale&&this.blurredComponents[this.blurredComponents.length-t].localScale(1,this.minScale+e/t*(this.maxScale-this.minScale),1)}}},goog.require("UHT.Engine"),ClickDelay.prototype=Object.create(Component.prototype),(ClickDelay.prototype.constructor=ClickDelay).prototype.OnEnable=function(){this.timer=0},ClickDelay.prototype.Update=function(){this.timer+=Time.deltaTime},ClickDelay.prototype.CanClick=function(){return this.timer>this.delay},goog.require("UHT.Engine"),HotKeyClicker.prototype=Object.create(Component.prototype),(HotKeyClicker.prototype.constructor=HotKeyClicker).prototype.Update=function(){var t;Globals.InputBlocked||!Input.GetKeyDown(KeyCode.Space)&&!Input.GetKeyDown(KeyCode.Return)||this.inactiveDuringBigWin&&XT.GetBool(Vars.WaitInResultForBigWin)||(null!=(t=this.gameObject.GetComponent(ClickDelay))&&!t.CanClick()||this.gameObject.SendMessage("OnClick"))},goog.require("UHT.Engine"),AdditionalFreeSpins.prototype=Object.create(XTLink.prototype),(AdditionalFreeSpins.prototype.constructor=AdditionalFreeSpins).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.ReelInitialPositions,this.OnReelPositions,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIBeforeSpinStart,this.AddRqiForAdditionalFreeSpins,this,this.RQBeforeSpinStartPriority)},AdditionalFreeSpins.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.AddRqiForAdditionalFreeSpins,this)},AdditionalFreeSpins.prototype.OnReelPositions=function(t){this.numberOfReels=t.length},AdditionalFreeSpins.prototype.AddRqiForAdditionalFreeSpins=function(){var t=XT.GetInt(Vars.AdditionalFreeSpinsWon);if(XT.GetBool(Vars.Logic_IsFreeSpin)&&0<t){var e=XT.GetObject(Vars.SpinRoutineQueue);if(e.AddRoutineQueueItem(new RQITriggerCallback(this.StartCATLink,this.showAdditionalFreeSpins,this)),0<this.showSymbolFX.length)for(var i=this.GetScattersThatNeedToBeAnimated(),n=0;n<i.length;++n)e.AddRoutineQueueItem(new RQIWaitForSeconds(this.symbolFXDelay[n])),e.AddRoutineQueueItem(new RQITriggerCallback(this.StartCATLink,this.showSymbolFX[i[n]],this));0<this.showValue.length&&(e.AddRoutineQueueItem(new RQITriggerCallback(this.StartCATLink,this.showValue[t=t-1],this)),e.AddRoutineQueueItem(new RQIWaitForSeconds(this.valueDuration[t]))),e.AddRoutineQueueItem(new RQIWaitForSeconds(this.duration))}},AdditionalFreeSpins.prototype.IncreaseFreeSpinsLeftDisplayed=function(){XT.SetInt(Vars.FreeSpinsLeftDisplayed,XT.GetInt(Vars.FreeSpinsLeftDisplayed)+1)},AdditionalFreeSpins.prototype.StartCATLink=function(t){null!=t&&t.Start()},AdditionalFreeSpins.prototype.GetScattersThatNeedToBeAnimated=function(){for(var t=null!=XT.GetObject(Vars.UpSymbols_RandomWilds)?this.FindInitialSymbolsWithID(1):this.FindSymbolsWithID(1),e=[],i=0;i<this.numberOfReels;++i)e[i]=[];for(i=0;i<t.length;i++)e[t[i]%this.numberOfReels].push(t[i]);for(var n=[],i=0;i<e.length;++i)for(var o=0;o<e[i].length;++o)n.push(e[i][o]);return n},AdditionalFreeSpins.prototype.FindSymbolsWithID=function(t){for(var e=[],i=XT.GetObject(Vars.OrderedSymbolHoldersList),n=0;n<i.length;n++)i[n].currentSymbol.symbolId==t&&e.push(n);return e},AdditionalFreeSpins.prototype.FindInitialSymbolsWithID=function(t){for(var e=[],i=XT.GetObject(Vars.InitialResultScreenSymbols),n=0;n<i.length;n++)for(var o=0;o<i[n].length;o++)t==i[n][o]&&e.push(n+(i[n].length-1-o)*i.length);return e},AdditionalFreeSpins.prototype.IncreaseAdditionalFreeSpinsWonDisplayed=function(){XT.SetInt(Vars.AdditionalFreeSpinsWonDisplayed,XT.GetInt(Vars.AdditionalFreeSpinsWonDisplayed)+1)},AdditionalFreeSpins.prototype.ResetAdditionalFreeSpinsWonDisplayed=function(){XT.SetInt(Vars.AdditionalFreeSpinsWonDisplayed,1)},goog.require("UHT.XTLink"),WinLineVisual.prototype=Object.create(XTLink.prototype),(WinLineVisual.prototype.constructor=WinLineVisual).prototype.OnWillRenderObject=function(){var t=this.gameObject.transform.scale();this.pixiZOrderedContainer.x=this.gameObject.transform.position().x,this.pixiZOrderedContainer.y=-this.gameObject.transform.position().y,this.pixiZOrderedContainer.scale.x=t.x,this.pixiZOrderedContainer.scale.y=t.y},WinLineVisual.prototype.Awake=function(){if(!this.showOnlyLineEnd){var t=new PIXI.Graphics;t.lineStyle(0),t.beginFill(this.color.rgbAsHex,this.color.a),this.useObjectAsEnd||t.drawRect(this.guides[0].x-this.thickness,-this.guides[0].y-this.thickness,2*this.thickness,2*this.thickness),t.endFill();var e=new PIXI.Graphics;e.lineStyle(0),e.beginFill(0,this.color.a),this.useObjectAsEnd||e.drawRect(this.guides[0].x-this.thickness,-this.guides[0].y-this.thickness/2,2*this.thickness,2*this.thickness),e.endFill();var i=new PIXI.Graphics;i.lineStyle(0),i.beginFill(this.color.rgbAsHex,this.color.a),this.useObjectAsEnd||i.drawRect(this.guides[this.guides.length-1].x-this.thickness,-this.guides[this.guides.length-1].y-this.thickness,2*this.thickness,2*this.thickness),i.endFill();var n=new PIXI.Graphics;n.lineStyle(0),n.beginFill(0,this.color.a),this.useObjectAsEnd||n.drawRect(this.guides[this.guides.length-1].x-this.thickness,-this.guides[this.guides.length-1].y-this.thickness/2,2*this.thickness,2*this.thickness),n.endFill();var o=new PIXI.Graphics;o.lineStyle(this.thickness,this.color.rgbAsHex,this.color.a),o.moveTo(this.guides[0].x,-this.guides[0].y);for(var s=1;s<this.guides.length;s++)o.lineTo(this.guides[s].x,-this.guides[s].y);var r=new PIXI.Graphics;r.lineStyle(this.thickness,0,this.color.a),r.moveTo(this.guides[0].x,-this.guides[0].y+this.thickness/2);for(s=1;s<this.guides.length;s++)r.lineTo(this.guides[s].x,-this.guides[s].y+this.thickness/2);this.pixiZOrderedContainer.addChild(r),this.pixiZOrderedContainer.addChild(e),this.pixiZOrderedContainer.addChild(n),this.pixiZOrderedContainer.addChild(o),this.pixiZOrderedContainer.addChild(t),this.pixiZOrderedContainer.addChild(i)}},WinLineVisual.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_ShowWinLine,this.OnWinLineShow,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_HideWinLine,this.OnWinLineHide,this),XT.RegisterCallbackObject(Vars.LinesDefinitionsObject,this.LinesDefinitionsObject,this)},WinLineVisual.prototype.XTInitVariablesAndEvents=function(){},WinLineVisual.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnWinLineShow,this),XT.UnregisterCallbackEvent(this.OnWinLineHide,this),XT.UnregisterCallbackObject(this.LinesDefinitionsObject,this)},WinLineVisual.prototype.Update=function(){},WinLineVisual.prototype.OnWinLineShow=function(){if(this.id==XT.GetInt(Vars.CurrentDisplayedWinLineId)&&(this.gameObject.SetActive(!0),XT.GetBool(Vars.ShowSymbolSquaresOnLineVisual)))for(var t=XT.GetObject(Vars.ReceivedWinLines),e=0;e<t.length;e++)if(t[e].LineNumber==this.id)for(var i=0;i<t[e].WinPositions.length;i++)this.linesDefinitions.symbolSquares[t[e].WinPositions[i]].SetActive(!0)},WinLineVisual.prototype.OnWinLineHide=function(){if(this.id==XT.GetInt(Vars.CurrentDisplayedWinLineId)&&(this.gameObject.SetActive(!1),XT.GetBool(Vars.ShowSymbolSquaresOnLineVisual)))for(var t=XT.GetObject(Vars.ReceivedWinLines),e=0;e<t.length;e++)if(t[e].LineNumber==this.id)for(var i=0;i<t[e].WinPositions.length;i++)this.linesDefinitions.symbolSquares[t[e].WinPositions[i]].SetActive(!1)},WinLineVisual.prototype.LinesDefinitionsObject=function(t){this.linesDefinitions=t},WinLineVisual.prototype.OnEnable=function(){this.useObjectAsEnd&&(this.lineEndings[0].SetActive(!0),this.lineEndings[1].SetActive(!0))},WinLineVisual.prototype.OnDisable=function(){this.useObjectAsEnd&&(this.lineEndings[0].SetActive(!1),this.lineEndings[1].SetActive(!1))},goog.require("UHT.XTLink"),PerLineWinDisplayer.prototype=Object.create(XTLink.prototype),(PerLineWinDisplayer.prototype.constructor=PerLineWinDisplayer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateCurrentDisplayedWinLineIndex,this.OnUpdateWinLineIndex,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StartDisplayWinLine,this.OnStartDisplayWinLine,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StopDisplayWinLine,this.OnStopDisplayWinLine,this)},PerLineWinDisplayer.prototype.OnUpdateWinLineIndex=function(){var t=XT.GetInt(Vars.CurrentDisplayedWinLineIndex),e=XT.GetObject(Vars.ReceivedWinLines);XT.SetDouble(Vars.CurrentDisplayedWinLineWin,e[t].WinAmount*XT.GetDouble(Vars.CurrentWinMultiplier));var i=XT.GetObject(Vars.OrderedSymbolHoldersList),t=e[t].WinPositions;this.gameObject.transform.position(i[t[t.length-1]].gameObject.transform.position())},PerLineWinDisplayer.prototype.OnStartDisplayWinLine=function(){this.StartCAT.cat.StartEvent(this.StartCAT.id)},PerLineWinDisplayer.prototype.OnStopDisplayWinLine=function(){this.StopCAT.cat.IsEventRunning(this.StopCAT.id)||this.StopCAT.cat.StartEvent(this.StopCAT.id)},goog.provide("UHT.SoundManager"),goog.require("UHT.System.Misc.Utils"),goog.require("UHT.XTLink"),goog.require("UHT.AudioSource"),goog.require("UHT.AudioClip"),SoundManager.prototype=Object.create(XTLink.prototype),SoundManager.prototype.constructor=SoundManager;var MusicEmitterState={Free:0,InUse:1};function SoundManager(){XTLink.call(this),this.playOneShotSource=null,this.fadeDuration=.5,this.musicSoundSource=[],this.loopingSources=[],this.AllowDuckingInTurboSpin=!1,this.musicClips=[],this.loopingClips=[],this.duckByOneShot=null,this.oneShotCooldown=null,this.volumeFX=1,this.volumeMusic=1,this.internalVolumeMusic=1,this.internalVolumeFX=1,this.initDone=!1,this.nextFreeMusicHandler=0,this.nextFreeLoopingHandler=0}SoundManager.InvalidSoundHandle=-1,SoundManager.forcedMute=!1,SoundManager.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SoundManager,this.OnSoundManagerInit,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_SoundBtn,this.OnSoundPressed,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_SoundFXBtn,this.OnSoundFXPressed,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_MusicBtn,this.OnMusicPressed,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SoundStateChanged,this.OnSoundStateChanged,this),XT.RegisterCallbackObject(Vars.MusicDuckByOneShotObject,this.OnMusicDuckByOneShotObject,this),XT.RegisterCallbackObject(Vars.OneShotCooldownObject,this.OnOneShotCooldownObject,this)},SoundManager.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.SoundManagerObject,this)},SoundManager.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnSoundManagerInit,this),XT.UnregisterCallbackEvent(this.OnSoundStateChanged,this),XT.UnregisterCallbackEvent(this.OnSoundPressed,this),XT.UnregisterCallbackEvent(this.OnSoundFXPressed,this),XT.UnregisterCallbackEvent(this.OnMusicPressed,this),XT.UnregisterCallbackObject(this.OnMusicDuckByOneShotObject,this)},SoundManager.prototype.OnMusicDuckByOneShotObject=function(t){this.duckByOneShot=t},SoundManager.prototype.OnOneShotCooldownObject=function(t){this.oneShotCooldown=t},SoundManager.prototype.OnMusicPressed=function(){var t=XT.GetObject(Vars.SoundState);t.oldMusicIsOn=t.musicIsOn,t.musicIsOn=!t.musicIsOn,t.gameSoundIsOn=t.musicIsOn||t.soundFXIsOn,XT.SetBool(Vars.MusicIsOn,t.musicIsOn),XT.SetObject(Vars.SoundState,t),XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)},SoundManager.prototype.OnSoundFXPressed=function(){var t=XT.GetObject(Vars.SoundState);t.oldSoundFXIsOn=t.soundFXIsOn,t.soundFXIsOn=!t.soundFXIsOn,t.gameSoundIsOn=t.musicIsOn||t.soundFXIsOn,XT.SetObject(Vars.SoundState,t),XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)},SoundManager.prototype.OnSoundPressed=function(){var t=XT.GetObject(Vars.SoundState);SoundManager.forcedMute&&!t.gameSoundIsOn||(t.gameSoundIsOn=!t.gameSoundIsOn,t.gameSoundIsOn?(t.musicIsOn=t.oldMusicIsOn,t.soundFXIsOn=t.oldSoundFXIsOn):(t.oldMusicIsOn=t.musicIsOn,t.oldSoundFXIsOn=t.soundFXIsOn,t.musicIsOn||t.soundFXIsOn||(t.oldMusicIsOn=t.oldSoundFXIsOn=!0),t.musicIsOn=!1,t.soundFXIsOn=!1),XT.SetBool(Vars.MusicIsOn,t.musicIsOn),XT.SetObject(Vars.SoundState,t),XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))},SoundManager.prototype.PlaySimple=function(t){null!=this.oneShotCooldown&&this.oneShotCooldown.IsOnCooldown(t)||(this.playOneShotSource.PlayOneShot(t,UHTAudioListener.volume*this.volumeFX*this.internalVolumeFX),null!=this.duckByOneShot&&null!=t&&this.duckByOneShot.OneShotStartsPlaying(t,!0))},SoundManager.prototype.PlayMusic=function(t){if(null==t)return-1;t=this.GetMusicClipByAudioClip(t);return this.PlayMusicClip(t,!0),t.handler},SoundManager.prototype.GetMusicClipByAudioClip=function(t){if(null==t)return null;for(var e=null,i=0;i<this.musicClips.length;i++)if(this.musicClips[i].clip==t){e=this.musicClips[i];break}return null==e&&((e=new MusicClip).maxVolume=1,e.volumeFadeInDuration=this.fadeDuration,e.volumeFadeOutDuration=this.fadeDuration,e.clip=t),e},SoundManager.prototype.RestartMusic=function(){for(var t=0;t<this.musicClips.length;t++)this.musicClips[t].isPlaying&&null!=this.musicSoundSource[t].clip&&this.musicSoundSource[t].Play()},SoundManager.prototype.StopMusic=function(t){for(var e=0;e<this.musicClips.length;e++)this.musicClips[e].handler==t.handle&&this.StopMusicClip(this.musicClips[e],!0);t.handle=SoundManager.InvalidSoundHandle},SoundManager.prototype.PlayLooping=function(t){if(null==t)return-1;t=this.GetLoopingClipByAudioClip(t);return this.PlayLoopingClip(t,!1),t.handler},SoundManager.prototype.GetLoopingClipByAudioClip=function(t){if(null==t)return null;for(var e=null,i=0;i<this.loopingClips.length;i++)if(this.loopingClips[i].clip==t){e=this.loopingClips[i];break}return null==e&&((e=new MusicClip).maxVolume=1,e.volumeFadeInDuration=this.fadeDuration,e.volumeFadeOutDuration=this.fadeDuration,e.clip=t),e},SoundManager.prototype.StopLoopingSound=function(t){for(var e=0;e<this.loopingClips.length;e++)this.loopingClips[e].handler==t.handle&&this.StopLoopingClip(this.loopingClips[e],!1);t.handle=SoundManager.InvalidSoundHandle},SoundManager.prototype.MuteMusic=function(){this.internalVolumeMusic=0,XT.TriggerEvent(Vars.Evt_Internal_MuteMusic)},SoundManager.prototype.UnmuteMusic=function(){this.internalVolumeMusic=1,XT.TriggerEvent(Vars.Evt_Internal_UnmuteMusic)},SoundManager.prototype.MuteSoundFX=function(){this.internalVolumeFX=0,this.UpdateSoundEmittersVolume()},SoundManager.prototype.UnmuteSoundFX=function(){this.internalVolumeFX=1,this.UpdateSoundEmittersVolume()},SoundManager.prototype.MuteLoopingSound=function(t){for(var e=0;e<this.loopingClips.length;e++)this.loopingClips[e].handler==t&&this.MuteLoopingClip(this.loopingClips[e],!1)},SoundManager.prototype.UnmuteLoopingSound=function(t){for(var e=0;e<this.loopingClips.length;e++)this.loopingClips[e].handler==t&&this.UnmuteLoopingClip(this.loopingClips[e],!1)},SoundManager.prototype.OnSoundManagerInit=function(){this.initDone=!0,this.OnSoundStateChanged()},SoundManager.prototype.OnSoundStateChanged=function(){var t;this.initDone&&(t=XT.GetObject(Vars.SoundState),this.volumeFX=1,this.volumeMusic=1,t.globalSoundIsOn&&t.gameSoundIsOn||(this.volumeFX=this.volumeMusic=0),t.soundFXIsOn||(this.volumeFX=0),t.musicIsOn||(this.volumeMusic=0),this.UpdateSoundEmittersVolume())},SoundManager.prototype.UpdateSoundEmittersVolume=function(){this.playOneShotSource.volume=this.volumeFX*this.internalVolumeFX},SoundManager.prototype.PrepareNewMusicClip=function(t){var e=-1,e=this.nextFreeMusicHandler<this.musicSoundSource.length?this.nextFreeMusicHandler:this.GetNewMusicSource();this.nextFreeMusicHandler++,this.musicSoundSource[e].clip=t.clip,this.musicSoundSource[e].loop=!0,t.handler=e,this.musicClips.push(t)},SoundManager.prototype.PrepareNewLoopingClip=function(t){var e=-1,e=this.nextFreeLoopingHandler<this.loopingSources.length?this.nextFreeLoopingHandler:this.GetNewLoopingSource();this.nextFreeLoopingHandler++,this.loopingSources[e].clip=t.clip,this.loopingSources[e].loop=!0,t.handler=e,this.loopingClips.push(t)},SoundManager.prototype.GetNewMusicSource=function(){var t=instantiate(this.musicSoundSource[0].gameObject);return t.name="MusicSoundSource"+this.musicSoundSource.length,t.audio=t.GetComponent(AudioSource),t.audio.playOnAwake=!1,t.transform.SetParent(this.transform,!0),this.musicSoundSource.push(t.audio),this.musicSoundSource.length-1},SoundManager.prototype.GetNewLoopingSource=function(){var t=instantiate(this.loopingSources[0].gameObject);return t.name="LoopingSource"+this.loopingSources.length,t.audio=t.GetComponent(AudioSource),t.audio.playOnAwake=!1,t.transform.SetParent(this.transform,!0),this.loopingSources.push(t.audio),this.loopingSources.length-1},SoundManager.prototype.PlayMusicClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewMusicClip(t),t.isPlaying||(t.isPlaying=!0,this.musicSoundSource[t.handler].volume=0,t.isMuted||(e&&0<t.volumeFadeInDuration?(t.volumeLevel=0,t.volumeState=MusicVolumeState.fadingIn):(t.volumeLevel=1,t.volumeState=MusicVolumeState.idle,XT.GetBool(Vars.MusicIsOn)&&(this.musicSoundSource[t.handler].volume=t.GetVolume()*this.internalVolumeMusic))),null!=t.clip&&this.musicSoundSource[t.handler].Play())},SoundManager.prototype.StopMusicClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewMusicClip(t),t.isPlaying=!1,e&&0<t.volumeFadeOutDuration?t.volumeState=MusicVolumeState.fadingOut:(this.musicSoundSource[t.handler].volume=0,this.musicSoundSource[t.handler].Stop(),t.volumeLevel=0,t.volumeState=MusicVolumeState.idle)},SoundManager.prototype.MuteMusicClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewMusicClip(t),t.isMuted=!0,e&&0<t.volumeFadeOutDuration?t.volumeState=MusicVolumeState.fadingOut:(this.musicSoundSource[t.handler].volume=0,t.volumeState=MusicVolumeState.idle,t.volumeLevel=0)},SoundManager.prototype.UnmuteMusicClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewMusicClip(t),t.isMuted=!1,e&&0<t.volumeFadeInDuration?t.volumeState=MusicVolumeState.fadingIn:(t.volumeLevel=1,t.volumeState=MusicVolumeState.idle,XT.GetBool(Vars.MusicIsOn)&&(this.musicSoundSource[t.handler].volume=t.GetVolume()*this.internalVolumeMusic))},SoundManager.prototype.DuckMusicClip=function(t,e,i,n){!this.AllowDuckingInTurboSpin&&XT.GetBool(Vars.ContinuousSpin)||(t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewMusicClip(t),0<i?(t.duckingSteps[e].autoUnduck||(t.duckingSteps[e].autoUnduck=!0,t.duckingSteps[e].duckCount++),i>t.duckingSteps[e].autoUnduckTimer&&(t.duckingSteps[e].autoUnduckShouldFade=n&&0<t.duckingSteps[e].fadeOutDuration,t.duckingSteps[e].autoUnduckTimer=i)):t.duckingSteps[e].duckCount++,t.UpdateDuckingStepPriority(),n&&0<t.duckingSteps[e].fadeInDuration?(t.duckingFadeInDuration=t.duckingSteps[e].fadeInDuration,t.duckingState=MusicVolumeState.fadingIn):(t.duckingVolume=t.duckingSteps[t.priorityDuckingStepIndex].targetVolume,t.duckingState=MusicVolumeState.idle,XT.GetBool(Vars.MusicIsOn)&&(this.musicSoundSource[t.handler].volume=t.GetVolume()*this.internalVolumeMusic)))},SoundManager.prototype.UnduckMusicClip=function(t,e,i){if(t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewMusicClip(t),0<t.duckingSteps[e].duckCount){if(1==t.duckingSteps[e].duckCount&&t.duckingSteps[e].autoUnduck)return;if(t.duckingSteps[e].duckCount--,0<t.duckingSteps[e].duckCount)return}t.UpdateDuckingStepPriority(),i&&0<t.duckingSteps[e].fadeOutDuration?-1==t.priorityDuckingStepIndex?(t.duckingFadeOutDuration=t.duckingSteps[e].fadeOutDuration,t.duckingState=MusicVolumeState.fadingOut):(t.duckingFadeInDuration=t.duckingSteps[e].fadeInDuration,t.duckingFadeOutDuration=t.duckingSteps[e].fadeOutDuration,t.duckingState=MusicVolumeState.fadingIn):(-1==t.priorityDuckingStepIndex?t.duckingVolume=1:t.duckingVolume=t.duckingSteps[t.priorityDuckingStepIndex].targetVolume,t.duckingState=MusicVolumeState.idle,XT.GetBool(Vars.MusicIsOn)&&(this.musicSoundSource[t.handler].volume=t.GetVolume()*this.internalVolumeMusic))},SoundManager.prototype.PlayLoopingClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewLoopingClip(t),t.isPlaying||(t.isPlaying=!0,this.loopingSources[t.handler].volume=0,t.isMuted||(e&&0<t.volumeFadeInDuration?(t.volumeLevel=0,t.volumeState=MusicVolumeState.fadingIn):(t.volumeLevel=1,t.volumeState=MusicVolumeState.idle,XT.GetObject(Vars.SoundState).soundFXIsOn&&(this.loopingSources[t.handler].volume=t.GetVolume()*this.internalVolumeFX))),null!=t.clip&&this.loopingSources[t.handler].Play())},SoundManager.prototype.StopLoopingClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewLoopingClip(t),t.isPlaying=!1,e&&0<t.volumeFadeOutDuration?t.volumeState=MusicVolumeState.fadingOut:(this.loopingSources[t.handler].volume=0,this.loopingSources[t.handler].Stop(),t.volumeLevel=0,t.volumeState=MusicVolumeState.idle)},SoundManager.prototype.MuteLoopingClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewLoopingClip(t),t.isMuted=!0,e&&0<t.volumeFadeOutDuration?t.volumeState=MusicVolumeState.fadingOut:(this.loopingSources[t.handler].volume=0,t.volumeState=MusicVolumeState.idle,t.volumeLevel=0)},SoundManager.prototype.UnmuteLoopingClip=function(t,e){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewLoopingClip(t),t.isMuted=!1,e&&0<t.volumeFadeInDuration?t.volumeState=MusicVolumeState.fadingIn:(t.volumeLevel=1,t.volumeState=MusicVolumeState.idle,XT.GetObject(Vars.SoundState).soundFXIsOn&&(this.loopingSources[t.handler].volume=t.GetVolume()*this.internalVolumeFX))},SoundManager.prototype.DuckLoopingClip=function(t,e,i,n){t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewLoopingClip(t),0<i?(t.duckingSteps[e].autoUnduck||(t.duckingSteps[e].autoUnduck=!0,t.duckingSteps[e].duckCount++),i>t.duckingSteps[e].autoUnduckTimer&&(t.duckingSteps[e].autoUnduckShouldFade=n&&0<t.duckingSteps[e].fadeOutDuration,t.duckingSteps[e].autoUnduckTimer=i)):t.duckingSteps[e].duckCount++,t.UpdateDuckingStepPriority(),n&&0<t.duckingSteps[e].fadeInDuration?(t.duckingFadeInDuration=t.duckingSteps[e].fadeInDuration,t.duckingState=MusicVolumeState.fadingIn):(t.duckingVolume=t.duckingSteps[t.priorityDuckingStepIndex].targetVolume,t.duckingState=MusicVolumeState.idle,XT.GetObject(Vars.SoundState).soundFXIsOn&&(this.loopingSources[t.handler].volume=t.GetVolume()*this.internalVolumeFX))},SoundManager.prototype.UnduckLoopingClip=function(t,e,i){if(t.handler==SoundManager.InvalidSoundHandle&&this.PrepareNewLoopingClip(t),0<t.duckingSteps[e].duckCount){if(1==t.duckingSteps[e].duckCount&&t.duckingSteps[e].autoUnduck)return;if(t.duckingSteps[e].duckCount--,0<t.duckingSteps[e].duckCount)return}t.UpdateDuckingStepPriority(),i&&0<t.duckingSteps[e].fadeOutDuration?-1==t.priorityDuckingStepIndex?(t.duckingFadeOutDuration=t.duckingSteps[e].fadeOutDuration,t.duckingState=MusicVolumeState.fadingOut):(t.duckingFadeInDuration=t.duckingSteps[e].fadeInDuration,t.duckingFadeOutDuration=t.duckingSteps[e].fadeOutDuration,t.duckingState=MusicVolumeState.fadingIn):(-1==t.priorityDuckingStepIndex?t.duckingVolume=1:t.duckingVolume=t.duckingSteps[t.priorityDuckingStepIndex].targetVolume,t.duckingState=MusicVolumeState.idle,XT.GetObject(Vars.SoundState).soundFXIsOn&&(this.loopingSources[t.handler].volume=t.GetVolume()*this.internalVolumeFX))},SoundManager.prototype.UpdateMusicVolume=function(){for(var t=0;t<this.musicClips.length;t++)this.musicSoundSource[this.musicClips[t].handler].volume!=this.musicClips[t].GetVolume()*this.volumeMusic*this.internalVolumeMusic&&(this.musicSoundSource[this.musicClips[t].handler].volume=this.musicClips[t].GetVolume()*this.volumeMusic*this.internalVolumeMusic)},SoundManager.prototype.UpdateLoopingClipsVolume=function(){for(var t=0;t<this.loopingClips.length;t++)this.loopingSources[this.loopingClips[t].handler].volume!=this.loopingClips[t].GetVolume()*this.volumeFX*this.internalVolumeFX&&(this.loopingSources[this.loopingClips[t].handler].volume=this.loopingClips[t].GetVolume()*this.volumeFX*this.internalVolumeFX)},SoundManager.prototype.ComputeMusicClipsVolume=function(){for(var t=0;t<this.musicClips.length;t++){this.musicClips[t].volumeState==MusicVolumeState.fadingIn?(this.musicClips[t].volumeLevel<1&&(this.musicClips[t].volumeLevel+=Time.deltaTime*(1/this.musicClips[t].volumeFadeInDuration)),1<=this.musicClips[t].volumeLevel&&(this.musicClips[t].volumeLevel=1,this.musicClips[t].volumeState=MusicVolumeState.idle)):this.musicClips[t].volumeState==MusicVolumeState.fadingOut&&(0<this.musicClips[t].volumeLevel&&(this.musicClips[t].volumeLevel-=Time.deltaTime*(1/this.musicClips[t].volumeFadeOutDuration)),this.musicClips[t].volumeLevel<=0&&(this.musicClips[t].volumeLevel=0,this.musicClips[t].volumeState=MusicVolumeState.idle,this.musicClips[t].isPlaying||this.StopMusicClip(this.musicClips[t],!1)));for(var e=0;e<this.musicClips[t].duckingSteps.length;e++)this.musicClips[t].duckingSteps[e].autoUnduck&&(0<this.musicClips[t].duckingSteps[e].autoUnduckTimer?this.musicClips[t].duckingSteps[e].autoUnduckTimer-=Time.deltaTime:(this.musicClips[t].duckingSteps[e].autoUnduck=!1,this.UnduckMusicClip(this.musicClips[t],e,this.musicClips[t].duckingSteps[e].autoUnduckShouldFade)));this.musicClips[t].duckingState==MusicVolumeState.fadingIn?this.musicClips[t].duckingVolume<this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume?(this.musicClips[t].duckingVolume+=Time.deltaTime*(1/this.musicClips[t].duckingFadeOutDuration),this.musicClips[t].duckingVolume>=this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume&&(this.musicClips[t].duckingVolume=this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume,this.musicClips[t].duckingState=MusicVolumeState.idle)):this.musicClips[t].duckingVolume>this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume&&(this.musicClips[t].duckingVolume-=Time.deltaTime*(1/this.musicClips[t].duckingFadeInDuration),this.musicClips[t].duckingVolume<=this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume&&(this.musicClips[t].duckingVolume=this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume,this.musicClips[t].duckingState=MusicVolumeState.idle)):this.musicClips[t].duckingState==MusicVolumeState.fadingOut&&(this.musicClips[t].duckingVolume<1&&(this.musicClips[t].duckingVolume+=Time.deltaTime*(1/this.musicClips[t].duckingFadeOutDuration)),1<=this.musicClips[t].duckingVolume&&(this.musicClips[t].duckingVolume=1,this.musicClips[t].duckingState=MusicVolumeState.idle))}},SoundManager.prototype.ComputeLoopingClipsVolume=function(){for(var t=0;t<this.loopingClips.length;t++){this.loopingClips[t].volumeState==MusicVolumeState.fadingIn?(this.loopingClips[t].volumeLevel<1&&(this.loopingClips[t].volumeLevel+=Time.deltaTime*(1/this.loopingClips[t].volumeFadeInDuration)),1<=this.loopingClips[t].volumeLevel&&(this.loopingClips[t].volumeLevel=1,this.loopingClips[t].volumeState=MusicVolumeState.idle)):this.loopingClips[t].volumeState==MusicVolumeState.fadingOut&&(0<this.loopingClips[t].volumeLevel&&(this.loopingClips[t].volumeLevel-=Time.deltaTime*(1/this.loopingClips[t].volumeFadeOutDuration)),this.loopingClips[t].volumeLevel<=0&&(this.loopingClips[t].volumeLevel=0,this.loopingClips[t].volumeState=MusicVolumeState.idle,this.loopingClips[t].isPlaying||this.StopLoopingClip(this.loopingClips[t],!1)));for(var e=0;e<this.loopingClips[t].duckingSteps.length;e++)this.loopingClips[t].duckingSteps[e].autoUnduck&&(0<this.loopingClips[t].duckingSteps[e].autoUnduckTimer?this.loopingClips[t].duckingSteps[e].autoUnduckTimer-=Time.deltaTime:(this.loopingClips[t].duckingSteps[e].autoUnduck=!1,this.UnduckLoopingClip(this.loopingClips[t],e,this.loopingClips[t].duckingSteps[e].autoUnduckShouldFade)));this.loopingClips[t].duckingState==MusicVolumeState.fadingIn?this.loopingClips[t].duckingVolume<this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume?(this.loopingClips[t].duckingVolume+=Time.deltaTime*(1/this.loopingClips[t].duckingFadeOutDuration),this.loopingClips[t].duckingVolume>=this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume&&(this.loopingClips[t].duckingVolume=this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume,this.loopingClips[t].duckingState=MusicVolumeState.idle)):this.loopingClips[t].duckingVolume>this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume&&(this.loopingClips[t].duckingVolume-=Time.deltaTime*(1/this.loopingClips[t].duckingFadeInDuration),this.loopingClips[t].duckingVolume<=this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume&&(this.loopingClips[t].duckingVolume=this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume,this.loopingClips[t].duckingState=MusicVolumeState.idle)):this.loopingClips[t].duckingState==MusicVolumeState.fadingOut&&(this.loopingClips[t].duckingVolume<1&&(this.loopingClips[t].duckingVolume+=Time.deltaTime*(1/this.loopingClips[t].duckingFadeOutDuration)),1<=this.loopingClips[t].duckingVolume&&(this.loopingClips[t].duckingVolume=1,this.loopingClips[t].duckingState=MusicVolumeState.idle))}},SoundManager.prototype.Update=function(){this.ComputeMusicClipsVolume(),this.ComputeLoopingClipsVolume(),this.UpdateMusicVolume(),this.UpdateLoopingClipsVolume()},goog.provide("UHT.SoundLoader"),goog.require("UHT.AudioClip"),goog.require("UHT.SoundManager");var SoundHelper={AudioFormat:{none:"none",mp3:"mp3",ogg:"ogg"}};SoundHelper.audioFormat=SoundHelper.AudioFormat.none,SoundHelper.ParsePath=function(t){return{name:t,src:t,extension:SoundHelper.audioFormat}},SoundHelper.wasTouchMove=!1,SoundHelper.OnTouchStart=function(){SoundHelper.wasTouchMove=!1},SoundHelper.OnTouchMove=function(){SoundHelper.wasTouchMove=!0},SoundHelper.OnIOSTouchEnd=function(){var t;SoundHelper.wasTouchMove||("interrupted"!=(t=createjs.Sound.activePlugin.context).state&&"suspended"!=t.state||(console.warn("SoundHelper.OnIOSTouchEnd: state "+t.state),t.resume().then(function(){console.warn("SoundHelper.OnIOSTouchEnd: resumed context"),XT.GetObject(Vars.SoundManagerObject).RestartMusic()})))};var SoundLoader={AudioProcessor:function(t){this.id=t.id,this.url=t.url,this.base64=t.base64,this.context=t.context,this.handler=t.handler,this.audioSource=null,this.state=SoundLoader.AudioState.none,this.nextToDecode=null}};SoundLoader.AudioProcessor.prototype.ProcessWebAudio=function(){for(var e=this,t=window.atob(this.base64),i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o<i.byteLength;o++)n[o]=255&t.charCodeAt(o);this.context.decodeAudioData(i,function(t){e.audioSource=t,e.state=SoundLoader.AudioState.success,e.handler.call(e)},function(){console.error("decode error: ",e.id,e.url),e.state=SoundLoader.AudioState.error,e.handler.call(e)})},SoundLoader.AudioProcessor.prototype.ProcessHtmlAudio=function(){this.url="data:audio/"+SoundHelper.audioFormat+";base64,"+this.base64;var t={};t[SoundHelper.audioFormat]=this.url,createjs.Sound.registerSound(t,this.id,void 0,""),this.state=SoundLoader.AudioState.success},SoundLoader.AudioType={none:"none",web:"web",html:"html"},SoundLoader.AudioState={none:0,success:1,error:2},SoundLoader.audioType=SoundLoader.AudioType.none,SoundLoader.clips={},SoundLoader.processors={},SoundLoader.touchStartHandler=null,SoundLoader.touchMoveHandler=null,SoundLoader.touchEndHandler=null,SoundLoader.initialized=!1,SoundLoader.numSounds=0,SoundLoader.numClips=0,SoundLoader.soundsAreBeingLoaded=!1,SoundLoader.soundsAreLoaded=!1,SoundLoader.checkLoadCompleteTimeout=null,SoundLoader.numProcessingThreads=4,SoundLoader.DelayCheckLoadComplete=function(){null!=SoundLoader.checkLoadCompleteTimeout&&clearTimeout(SoundLoader.checkLoadCompleteTimeout),SoundLoader.checkLoadCompleteTimeout=setTimeout(SoundLoader.CheckLoadComplete,200)},SoundLoader.LoadSound=function(t){SoundLoader.clips[t.name]=t,SoundLoader.numClips++};var GA_SND_MOBILE_SENT=!(SoundLoader.OnSoundDecoded=function(t){null!=t.nextToDecode&&t.nextToDecode.ProcessWebAudio(),t.state==SoundLoader.AudioState.success&&(createjs.Sound._idHash[t.id]={src:t.url},createjs.Sound.activePlugin._soundInstances[t.url]=[],createjs.Sound.activePlugin._audioSources[t.url]=t.audioSource)});function RawComponentData(){this.fileID=0,this.componentType="",this.enabled=!1,this.serializableData=null}function Importer(){this.mapInstanceIdToInstanceScene={},this.mapGuidToResource={},this.serializableFields={},this.componentToRawDataMap=[],this.allObjects=[],this.mapIdToInstance={},this.state=Importer.State.Idle,this.timeQuota=0,this.isSync=!1,this.resourceStartIndex=-1,this.gameObjectStartIndex=-1,this.deserializeIndex=-1,this.importSteps=0}SoundLoader.LoadSounds=function(){var t;if(0!=UHT_DEVICE_TYPE.DESKTOP||GA_SND_MOBILE_SENT||(t=globalTracking.GetTimerValue("uht_behaviour","Session_timer","BehaviourTracker"),globalTracking.SendEvent("uht_behaviour","SND_MOBILE_download_started",t,"BehaviourTracker"),GA_SND_MOBILE_SENT=!0),SoundHelper.audioFormat!=SoundHelper.AudioFormat.none)if(SoundLoader.soundsAreBeingLoaded=!0,null!=UHT_PACKAGES_INFO_OBJ&&null!=globalGamePath){var e=UHT_PACKAGES_INFO_OBJ.languages||[],i=UHT_GAME_CONFIG.LANGUAGE,n="sounds";if("en"!=i){for(var o=!1,s=0;s<e.length;++s)if(e[s].language==i){1==e[s].sound&&(n+=i,o=!0);break}o||(n+=UHT_PACKAGES_INFO_OBJ.default_sound_suffix||"")}if(n+="."+SoundHelper.audioFormat,-1==LoaderProgress.Sound_Download_Total){var r={},a=String(UHT_SOUNDS_SIZES).split(",");UHT_SOUNDS_SIZES=null;for(s=0;s<a.length;++s){var l=a[s].split(":");1<l.length&&(r[l[0]]=l[1])}LoaderProgress.Sound_Download_Total=Number(r[n])}new ResourceRequest({url:(globalGamePath||"")+n+".json",complete:new EventHandler(SoundLoader,SoundLoader.OnSoundsLoaded),onprogress:new EventHandler(SoundLoader,SoundLoader.OnSoundsProgress)})}else setTimeout(SoundLoader.LoadSounds,100)},SoundLoader.OnSoundsProgress=function(t){LoaderProgress.Sound_Download_Current=t.loaded},SoundLoader.OnSoundsLoaded=function(t){if(!_string.IsNullOrEmpty(t.error))return console.error("SoundLoader - failed to load sounds: "+t.url+" "+t.error),void setTimeout(SoundLoader.LoadSounds,250);if(SoundLoader.initialized){LoaderProgress.Sound_Download_Current=LoaderProgress.Sound_Download_Total;var e=JSON.parse(t.Data).sounds;SoundLoader.numSounds=e.length;var i="ProcessWebAudio";SoundLoader.audioType==SoundLoader.AudioType.html&&(i="ProcessHtmlAudio");for(var n=[],o=[],s=0;s<e.length;++s){var r="s"+e[s].id,a=new SoundLoader.AudioProcessor({id:r,url:r+"."+SoundHelper.audioFormat,base64:e[s].data,handler:new EventHandler(SoundLoader,SoundLoader.OnSoundDecoded),context:createjs.Sound.activePlugin.context}),r=s%SoundLoader.numProcessingThreads;SoundLoader.audioType!=SoundLoader.AudioType.html?s<=SoundLoader.numProcessingThreads-1?o[r]=a:n[r].nextToDecode=a:a[i](),SoundLoader.processors[a.id]=a,n[r]=a}for(s=0;s<o.length;s++)null!=o[s]&&o[s][i]();SoundLoader.DelayCheckLoadComplete()}else setTimeout(function(){SoundLoader.OnSoundsLoaded(t)},200)},SoundLoader.InitSounds=function(){var t;(new UAParser2).getBrowser();IS_UCBROWSER&&createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]),createjs.Sound.initializeDefaultPlugins()?(t=createjs.Sound.getCapabilities(),SoundHelper.audioFormat=t.ogg?SoundHelper.AudioFormat.ogg:SoundHelper.AudioFormat.mp3,"Edge"==UHT_UA_INFO.browser.name&&(SoundHelper.audioFormat=SoundHelper.AudioFormat.mp3),createjs.Sound.activePlugin instanceof createjs.WebAudioPlugin?SoundLoader.audioType=SoundLoader.AudioType.web:createjs.Sound.activePlugin instanceof createjs.HTMLAudioPlugin&&(createjs.Sound._parsePath=SoundHelper.ParsePath,SoundLoader.audioType=SoundLoader.AudioType.html),SoundLoader.initialized=!0,console.info("SoundLoader.InitSounds",t,SoundHelper.audioFormat,SoundLoader.audioType)):console.error("SoundLoader.InitSounds - html audio & web audio are not supported !")},SoundLoader.CheckLoadComplete=function(){if(SoundLoader.IsLoadComplete()){for(var t in SoundLoader.clips){var e=SoundLoader.clips[t],t=SoundLoader.processors[t];null!=t&&t.state==SoundLoader.AudioState.success&&(createjs.Sound.setDefaultPlayProps(e.name,{pan:1e-4}),e.soundjsObject=createjs.Sound.createInstance(e.name))}SoundLoader.soundsAreLoaded=!0,SoundLoader.processors=null,SoundLoader.checkLoadCompleteTimeout=null,globalTracking.StartTimer("uht_behaviour","Sound_until_first_mute","BehaviourTracker"),globalTracking.StartTimer("uht_behaviour","Sound_until_first_unmute","BehaviourTracker")}else SoundLoader.DelayCheckLoadComplete()},SoundLoader.IsLoadComplete=function(){if(SoundLoader.numSounds!=SoundLoader.numClips)return!1;for(var t in SoundLoader.processors)if(SoundLoader.processors[t].state==SoundLoader.AudioState.none)return!1;return!0},SoundLoader.OnTouchEnd=function(){LoaderProgress.Download_Current!=LoaderProgress.Download_Total||LoaderProgress.Import_Current!=LoaderProgress.Import_Total||SoundHelper.wasTouchMove||(createjs.BrowserDetect.isIOS&&globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,new EventHandler(SoundHelper,SoundHelper.OnIOSTouchEnd)),globalColliderInputManager.removeEventHandler(ColliderEvent.ButtonUp,SoundLoader.touchEndHandler),window.removeEventListener("keydown",SoundLoader.OnTouchEnd,!1),SoundLoader.InitSounds())},SoundLoader.OnLoad=function(){null!=window.UHT_ForceClickForSounds||createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry||createjs.BrowserDetect.isWindowPhone?null!=globalColliderInputManager?(createjs.BrowserDetect.isIOS&&(SoundLoader.touchStartHandler=new EventHandler(SoundHelper,SoundHelper.OnTouchStart),SoundLoader.touchMoveHandler=new EventHandler(SoundHelper,SoundHelper.OnTouchMove),globalColliderInputManager.addEventHandler(ColliderEvent.ButtonDown,SoundLoader.touchStartHandler),globalColliderInputManager.addEventHandler(ColliderEvent.MouseMove,SoundLoader.touchMoveHandler)),SoundLoader.touchEndHandler=new EventHandler(SoundLoader,SoundLoader.OnTouchEnd),globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,SoundLoader.touchEndHandler),window.addEventListener("keydown",SoundLoader.OnTouchEnd,!1)):setTimeout(SoundLoader.OnLoad,200):(SoundLoader.InitSounds(),SoundLoader.LoadSounds())},SoundLoader.OnLoad(),goog.provide("UHT.Importer"),goog.require("UHT.SoundLoader"),goog.require("UHT.FontLoader"),goog.require("UHT.TextAsset"),goog.require("UHT.AudioClip"),Importer.State={Idle:0,Inited:1,Instantiating:2,Deserializing:3,Finishing:4},Importer.ImportRetData=function(){this.isDone=!1,this.objects=null},Importer.prototype.StartImport=function(t,e){if(this.state=Importer.State.Inited,this.timeQuota=t,this.isSync=!(0<t),this.resourceStartIndex=0,this.gameObjectStartIndex=0,this.deserializeIndex=0,this.componentToRawDataMap=[],this.allObjects=[],this.importSteps=0,this.currentProgress=0,this.totalNumberOfSteps=1,0==this.isSync)for(var i=LoaderProgress.Import_Textures_Total=0;i<e.resources.length;i++){var n=e.resources[i];if(this.totalNumberOfSteps++,"GameObject"==n.type)for(var o=0;o<n.data.root.length;o++){var s=n.data.root[o].components;this.totalNumberOfSteps+=s.length+1;for(var r,a,l=0;l<s.length;l++)"UIAtlas"==s[l].componentType&&(r=s[l].serializableData,a=UHT_LOW_END_DEVICE&&r.hasLowEndResource,0<r.resourcePriority&&!a||(LoaderProgress.Import_Textures_Total++,console.log("TEX to be loaded for: "+n.data.root[o].name+" "+LoaderProgress.Import_Textures_Total)))}}this.isSync||globalTracking.StartTimer("uht_loading","_X_import_instantiate_duration","LoadingTracker")},Importer.prototype.Advance=function(t,e){var i=new Importer.ImportRetData,n=(new Date).getTime();if(this.importSteps++,this.state==Importer.State.Inited&&(this.state=Importer.State.Instantiating),this.state==Importer.State.Instantiating){for(var o=this.resourceStartIndex;o<t.resources.length;o++){var s=t.resources[o];switch(s.type){case"Texture":var r=null,r=s.data.isInline?s.data.src:e+s.data.src;this.mapGuidToResource["g"+s.id]={type:s.type,data:r};break;case"Font":r=s.data.fontName;this.mapGuidToResource["g"+s.id]={type:s.type,data:r},FontLoader.LoadFont(r,s.data.path);break;case"GameObject":0==this.gameObjectStartIndex&&(this.mapIdToInstance={});for(var a=this.gameObjectStartIndex;a<s.data.root.length;a++)if(this.allObjects[this.allObjects.length]=this.createGameObject(s.data.root[a],this.mapIdToInstance,this.componentToRawDataMap),this.gameObjectStartIndex++,this.currentProgress++,this.IsQuantaFinished(n))return i;this.mapGuidToResource["g"+s.id]={type:s.type,data:this.mapIdToInstance},this.gameObjectStartIndex=0;break;case"TextAsset":var l=new TextAsset(s.data.text);this.mapGuidToResource["g"+s.id]={type:s.type,data:l};break;case"AudioClip":l=new AudioClip("s"+s.id,e+s.data.path);SoundLoader.LoadSound(l),this.mapGuidToResource["g"+s.id]={type:s.type,data:l};break;case"AnimationClip":var u=new AnimationClip;deserializeComponentRec(s.data,u,this,"resolveReference"),u.wrapMode==WrapMode.PingPong&&console.error("Wrapmode PingPong not supported! (name: "+u.name+")"),this.mapGuidToResource["g"+s.id]={type:s.type,data:u};break;case"UHTSpine":u=new UHTSpine;deserializeComponentRec(s.data,u,this,"resolveReference"),this.mapGuidToResource["g"+s.id]={type:s.type,data:u};break;default:console.error("Unknown resource type: "+s.type+"!")}if(this.resourceStartIndex++,this.currentProgress++,this.IsQuantaFinished(n))return i}if(this.isSync||(globalTracking.StopTimerAndSend("uht_loading","_X_import_instantiate_duration","LoadingTracker"),globalTracking.StartTimer("uht_loading","_X_import_deserialize_duration","LoadingTracker")),this.state=Importer.State.Deserializing,this.IsQuantaFinished(n))return i}if(this.state==Importer.State.Deserializing){for(var h=this.deserializeIndex;h<this.componentToRawDataMap.length;h++)if(this.componentToRawDataMap[h].comp.deserialize(this.componentToRawDataMap[h].rawData.serializableData,this,"resolveReference"),this.deserializeIndex++,this.currentProgress++,this.IsQuantaFinished(n))return i;if(this.state=Importer.State.Finishing,this.IsQuantaFinished(n))return i}if(this.state!=Importer.State.Finishing)return i;this.currentProgress++,i.isDone=!0,i.objects=[];for(var c=0;c<this.allObjects.length;c++){null==this.allObjects[c].transform.parent&&i.objects.push(this.allObjects[c]);for(var p=0;p<this.allObjects[c].components.length;p++)null!=this.allObjects[c].components[p].AfterDeserialize&&this.allObjects[c].components[p].AfterDeserialize()}return console.log("Loaded "+this.allObjects.length+" gameobjects in "+this.importSteps+" steps."),this.state=Importer.State.Idle,this.isSync||globalTracking.StopTimerAndSend("uht_loading","_X_import_deserialize_duration","LoadingTracker"),i},Importer.prototype.IsQuantaFinished=function(t){return!this.isSync&&(new Date).getTime()-t>this.timeQuota},Importer.prototype.clear=function(){this.mapInstanceIdToInstanceScene={},this.mapGuidToResource={}},Importer.prototype.createGameObject=function(t,e,i){var n=new GameObject;n.internalCopyFromOther(t),e["m"+t.fileID]=n;for(var o=0;o<t.components.length;o++){var s=t.components[o];this.registerSerializedFields(s.componentType,s.serializableData);var r=createComponent(s.componentType,s.enabled);null!=r&&(e["m"+s.fileID]=r,i.push({comp:r,rawData:s}),(r.gameObject=n).components.push(r),n.internalCacheComponent(r))}for(var a=0;a<n.components.length;a++)n.components[a].transform=n.transform;return n},Importer.prototype.resolveReference=function(t){if(null==t)return null;if(Array.isArray(t)){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=this.resolveReference(t[i]);return e}if(t.hasOwnProperty("fileID")){var n=t.fileID,o=t.hasOwnProperty("guid");if(o||(o=!0,t.guid=""),o){o="g"+t.guid;if(this.mapGuidToResource.hasOwnProperty(o)){var s=this.mapGuidToResource[o];switch(s.type){case"Texture":case"Font":return s.data;case"GameObject":var r=s.data;if(0==n)return null;a="m"+n;if(r.hasOwnProperty(a))return r[a];break;case"TextAsset":case"AudioClip":case"AnimationClip":case"UHTSpine":return s.data;default:console.error("Unknown resource type: "+s.type+"!")}}else console.error("Trying to reference an unregistered resource! id: "+o+"!")}else{if(0==n)return null;var a="m"+n;if(this.mapInstanceIdToInstanceScene.hasOwnProperty(a))return this.mapInstanceIdToInstanceScene[a]}}return console.error("Could not resolve reference"),null},Importer.prototype.registerSerializedFields=function(t,e){0==this.serializableFields.hasOwnProperty(t)&&(this.serializableFields[t]=e)},Importer.prototype.getSerializedFields=function(t){return this.serializableFields.hasOwnProperty(t)?this.serializableFields[t]:null},goog.require("UHT.Runtime"),goog.require("UHT.Renderer"),goog.require("UHT.Importer"),goog.require("UHT.ColliderInputManager"),goog.require("UHT.KeyboardManager");var thisFrameDate,globalRuntime=new Runtime,globalRenderer=new Renderer,globalImporter=new Importer,globalColliderInputManager=new ColliderInputManager,globalClientPath=UHT_CONFIG.GAME_URL+"client/",globalGamePath=UHT_CONFIG.GAME_URL+"game/",globalResourcesNeededList=[],globalResourcesNeededInfo=[],globalPauseForResources=!1,currentDownloadingAtlas=null,globalListOfDeferredLoadingAtlases=[],filterStrength=20,frameTimeForFPSCounter=0,prevFrameDate=new Date,mainGameJsonData=null,PageVisible=!0,IS_UCBROWSER=-1<navigator.userAgent.indexOf("UCBrowser");function main(){console.log("Main started"),UHTInterfaceBOSS.PostMessage("gameLoadingStarted"),globalTracking._internalUseStartTime("uht_loading","_1_loader_downloaded_and_shown",GA_timer_load_start,"LoadingTracker"),globalTracking._internalUseStartTime("uht_loading","_4_loading_total_time",GA_timer_load_start,"LoadingTracker"),LoadingStep=1,globalTracking.StartTimer("uht_loading","_CLOSED_at_"+LoadingStep,"LoadingTracker"),loadJsonWithCallback(globalClientPath+"game.json",onClientLoaded),setInterval(function(){globalRenderer.setFPSCount(1/frameTimeForFPSCounter)},1e3),document.addEventListener("visibilitychange",function(){(PageVisible="visible"==document.visibilityState)&&null!=XT.GetObject(Vars.SoundManagerObject)&&XT.GetObject(Vars.SoundManagerObject).RestartMusic();var t=Globals.isMobile?1:XT.GetFloat(Vars.SoundVolume),t=isFinite(t)&&!isNaN(t)?t:1;Globals.WatchingReplay||createjs.Sound.setVolume(PageVisible?t:1e-5),PageVisible?globalTracking.ResumeTimers():globalTracking.PauseTimers()})}var SENT_GA_EVENT_ALTERNATIVE_DATA_PATH=!1;function loadJsonWithCallback(t,e,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e(n.responseText):(null!=i&&i(),window.currentDatapathRetries>=window.retriesBeforeAlternativeDatapath?(t=t.replace(UHT_CONFIG.GAME_URL,UHT_CONFIG.GAME_URL_ALTERNATIVE),SENT_GA_EVENT_ALTERNATIVE_DATA_PATH||(SENT_GA_EVENT_ALTERNATIVE_DATA_PATH=!0,globalTracking.SendEvent("uht_loading","_USED_ALTERNATIVE_DATA_PATH",1,"LoadingTracker"))):window.currentDatapathRetries++,setTimeout(function(){loadJsonWithCallback(t,e,i)},250)))},n.onprogress=function(t){4!=n.readyState&&null!=i&&i(t)},n.open("GET",t,!0),n.send()}function onClientLoaded(t){window.UHTLogotype.GameLoadingStarted(),globalTracking.StopTimerAndSend("uht_loading","_1_loader_downloaded_and_shown","LoadingTracker");var e=globalTracking.GetTimerValue("uht_loading","_1_loader_downloaded_and_shown","LoadingTracker");globalTracking.SendEvent("uht_loading","_1_loader_downloaded_and_shown",e,"LoadingTracker"),LoadingStep=2,globalTracking.StartTimer("uht_loading","_CLOSED_at_"+LoadingStep,"LoadingTracker"),globalTracking.StartTimer("uht_loading","_2_game_downloading","LoadingTracker"),console.log("client loaded!"),globalRenderer.init();t=JSON.parse(t);globalImporter.StartImport(0,t);t=globalImporter.Advance(t,globalClientPath);globalImporter.clear(),KeyboardManager.Init(),globalColliderInputManager.initInput(),globalRuntime.addNewSceneRoot(t.objects[0]),globalDoFrame()}var UpdateStep=!0;function CheckAndSetPauseForResources(){for(var t,e,i=!1,n=0;n<globalResourcesNeededList.length;n++)globalResourcesNeededList[n].isLoaded()?(globalResourcesNeededList.splice(n,1),n--):i=!0;if(i!=globalPauseForResources&&(t=(globalPauseForResources=i)&&!loaderIsVisible,i||(globalResourcesNeededInfo=[],document.getElementById("progressbar").style.display="none"),e=t?"block":"none",document.getElementById("PauseRoot").style.display=e,document.getElementById("pauseindicator").style.display=e,e=document.getElementsByTagName("canvas")[0].classList,t?e.add("paused"):e.remove("paused")),!loaderIsVisible){if(i){for(var o=0,s=0;s<globalResourcesNeededInfo.length;s++){var r=globalResourcesNeededInfo[s].baseTexture.source.downloadSizeLoaded,a=globalResourcesNeededInfo[s].baseTexture.source.downloadSizeTotal;0<a?o+=r/a/globalResourcesNeededInfo.length:globalResourcesNeededInfo[s].valid&&(o+=1/globalResourcesNeededInfo.length)}document.getElementById("progressbar").style.display="block",document.getElementById("progressvalue").style.width=Number(100*o).toFixed(2)+"%"}UHTEngine.SoundsAreLoaded()||UHTEngine.SoundsAreLoading()||UHTEngine.StartLoadingSounds()}}var hasSomethingToDraw=!1,batterySaverIsOff=!0;function globalDoFrame(){if((!globalPauseForResources||loaderIsVisible)&&(!UpdateStep||batterySaverIsOff)&&hasSomethingToDraw){if(globalPauseForResources)for(var t=globalRuntime.onWillRenderList.components,e=0;e<t.length;e++){var i=t[e];null!=i&&i instanceof UIPanel&&(i.container.children=[])}globalRenderer.doFrame(),loaderIsVisible||Time.frameCount++}if(globalPauseForResources)return CheckAndSetPauseForResources(),prevFrameDate=Date.now(),void requestAnimationFrame(globalDoFrame);var n;0<timerToStartPrefetching&&timerToStartPrefetching--,0==timerToStartPrefetching&&internalContinuePrefetchingTextures(),(UpdateStep||batterySaverIsOff)&&(globalRenderer.checkWindowSize(),canvasSizeDirty&&(globalRenderer.resizeUHTScreen(),EventManager.Trigger("EVT_UHT_RESIZE",null)),internalContinueImporting(),n=((thisFrameDate=Date.now())-prevFrameDate)/1e3,prevFrameDate=thisFrameDate,frameTimeForFPSCounter+=((n=n<0?0:n)-frameTimeForFPSCounter)/filterStrength,Time.deltaTime=.1<n?.1:n,Time.time+=Time.deltaTime,Time.deltaTimeInRealTime=n,KeyboardManager.Update(),globalColliderInputManager.updateInput(),EventManager.Trigger("EVT_UHT_BEFOREUPDATE",null),globalRuntime.doFrame(),EventManager.Trigger("EVT_UHT_UPDATE",null),hasSomethingToDraw=!0,CheckAndSetPauseForResources()),UpdateStep=!UpdateStep,requestAnimationFrame(globalDoFrame)}var loaderController=null,loaderCallbackDownloadDone="",loaderCallbackHide="",loaderIsVisible=!0,gameRequests=[],nonCachedRetried=!1;function downloadMainGame(t,e,i){loaderController=t,loaderCallbackDownloadDone=e,loaderCallbackHide=i;for(var n=0;n<UHT_GAME_FILES.length;++n)gameRequests.push(new ResourceRequest({url:globalGamePath+UHT_GAME_FILES[n],complete:new EventHandler(null,onGamePartComplete),onprogress:new EventHandler(null,onGameJSONProgress),overrideMimeType:"text/plain;charset=UTF-8",callbackArg:String(n)}))}function onGamePartComplete(t,e){if(!_string.IsNullOrEmpty(t.error))return onGameJSONProgress(),window.currentDatapathRetries>=window.retriesBeforeAlternativeDatapath?(t.url=t.url.replace(UHT_CONFIG.GAME_URL,UHT_CONFIG.GAME_URL_ALTERNATIVE),SENT_GA_EVENT_ALTERNATIVE_DATA_PATH||(SENT_GA_EVENT_ALTERNATIVE_DATA_PATH=!0,globalTracking.SendEvent("uht_loading","_USED_ALTERNATIVE_DATA_PATH",1,"LoadingTracker"))):window.currentDatapathRetries++,void setTimeout(function(){gameRequests[Number(e)]=new ResourceRequest({url:t.url,complete:t.complete,onprogress:t.onprogress,overrideMimeType:"text/plain;charset=UTF-8",callbackArg:t.callbackArg})},250);for(var i=0;i<gameRequests.length;++i)if(!gameRequests[i].Done||!_string.IsNullOrEmpty(gameRequests[i].error))return;for(var n="",o=0;o<gameRequests.length;++o)n+=gameRequests[o].Data;gameRequests=null;try{mainGameJsonData=JSON.parse(n),onGameJSONLoaded(),UHT_GAME_FILES=null,UHT_GAME_FILES_SIZES=null,nonCachedRetried&&globalTracking.SendEvent("uht_loading","non_cached_retried",1,"LoadingTracker")}catch(t){if(UHT_LOCAL&&JSON.parse(n),nonCachedRetried)return void globalTracking.SendEvent("uht_loading","non_cached_retried",0,"LoadingTracker");nonCachedRetried=!0,gameRequests=[];for(i=0;i<UHT_GAME_FILES.length;++i)gameRequests.push(new ResourceRequest({url:globalGamePath+UHT_GAME_FILES[i],complete:new EventHandler(null,onGamePartComplete),onprogress:new EventHandler(null,onGameJSONProgress),overrideMimeType:"text/plain;charset=UTF-8",callbackArg:String(i),forceNoCache:!0}))}}function onGameJSONLoaded(){globalTracking.StopTimerAndSend("uht_loading","_2_game_downloading","LoadingTracker");var t=globalTracking.GetTimerValue("uht_loading","_2_game_downloading","LoadingTracker");globalTracking.SendEvent("uht_loading","_2_game_downloading",t,"LoadingTracker"),LoadingStep=3,globalTracking.StartTimer("uht_loading","_CLOSED_at_"+LoadingStep,"LoadingTracker"),globalTracking.StartTimer("uht_loading","_3_game_opening_and_connecting","LoadingTracker"),LoaderProgress.Download_Current=LoaderProgress.Download_Total,console.log("maingame loaded!"),loaderController[loaderCallbackDownloadDone]()}function importMainGame(){globalImporter.StartImport(1==UHT_DEVICE_TYPE.DESKTOP?25:40,mainGameJsonData),LoaderProgress.Import_Total=globalImporter.totalNumberOfSteps,LoaderProgress.Import_Current=globalImporter.currentProgress}var timerToStartPrefetching=-1;function internalContinuePrefetchingTextures(){null!=currentDownloadingAtlas&&currentDownloadingAtlas.isLoaded()&&(currentDownloadingAtlas.internalTextureLoadedCallback(),currentDownloadingAtlas=null),0<globalListOfDeferredLoadingAtlases.length&&null==currentDownloadingAtlas&&((currentDownloadingAtlas=globalListOfDeferredLoadingAtlases[0]).loadAtlasTexture(),globalListOfDeferredLoadingAtlases.splice(0,1))}function internalContinueImporting(){var t;globalImporter.state!=Importer.State.Idle&&(t=globalImporter.Advance(mainGameJsonData,globalGamePath),LoaderProgress.Import_Current=globalImporter.currentProgress,t.isDone&&(LoaderProgress.Import_Current=globalImporter.totalNumberOfSteps,globalImporter.clear(),globalRuntime.addNewSceneRoot(t.objects[0]),mainGameJsonData={}))}function onGameJSONProgress(){for(var t=0,e=0,i=0,i=0;i<gameRequests.length;++i){var n=gameRequests[i];n.Done?_string.IsNullOrEmpty(n.error)&&(t+=UHT_GAME_FILES_SIZES[i]):e+=n.progressLoaded}e+t>LoaderProgress.Download_Current&&(LoaderProgress.Download_Current=e+t),LoaderProgress.Download_Total=UHT_GAME_SIZE}var LoaderProgress={Download_AlreadyDownloaded:-1,Download_SoundAlreadyDownloaded:-1,Download_Retried_LockedPercent:0,Download_Current:0,Sound_Download_Current:0,Import_Current:0,Import_Textures_Current:0,InitConnection_Current:0,InitConnection_Visual:0,Localize_Current:0,Blocking_Current:0,Blocking_Visual:0,SymbolsManagers_Current:0,Download_Total:-1,Sound_Download_Total:-1,Import_Total:-1,Import_Textures_Total:-1,InitConnection_Total:1,Localize_Total:1,Blocking_Total:-1,SymbolsManagers_Total:-1,Download_Weight:.7,Sound_Download_Weight:0,GameAndSound_Download_Weight:.7,Import_Weight:.1,Import_Textures_Weight:.2,InitConnection_Weight:.025,Localize_Weight:.025,Blocking_Weight:.01,SymbolsManagers_Weight:.1},LoadingWheelSentOnce=!1;function signalNeedPauseForTexture(t){if(!t.requested){LoadingWheelSentOnce||loaderIsVisible||(globalTracking.SendEvent("uht_behaviour","Loading_wheel_once",1,"BehaviourTracker"),LoadingWheelSentOnce=!0),loaderIsVisible||globalTracking.SendEvent("uht_behaviour_loading_wheel","Initiated_for_"+t.gameObject.name,1,"BehaviourTracker"),globalResourcesNeededList.push(t),t.requested=!0;for(var e=0;e<globalListOfDeferredLoadingAtlases.length;e++){var i=globalListOfDeferredLoadingAtlases[e];!i.requested&&i.isBlockingResource&&i.resourcePriority==t.resourcePriority&&(i.loadAtlasTexture(),globalResourcesNeededList.push(i),i.requested=!0,loaderIsVisible||i.pixiTexture.valid||globalTracking.SendEvent("uht_behaviour_loading_wheel","Loaded_also_"+i.gameObject.name,1,"BehaviourTracker"),loaderIsVisible&&(-1==LoaderProgress.Blocking_Total&&(LoaderProgress.Blocking_Total=0),LoaderProgress.Blocking_Total++))}globalResourcesNeededInfo=[];for(var n=0;n<globalResourcesNeededList.length;n++)globalResourcesNeededInfo.push(globalResourcesNeededList[n].pixiTexture)}}function registerAtlasForDeferredLoading(t){for(var e=0,i=0;i<globalListOfDeferredLoadingAtlases.length;i++)globalListOfDeferredLoadingAtlases[i].resourcePriority<=t.resourcePriority&&e++;globalListOfDeferredLoadingAtlases.splice(e,0,t)}function AudioClipDelay(){this.currentDelay=0,this.clipToPlay=null}function AudioClipMusicAware(){this.clipMusicOn=null,this.clipMusicOff=null}function AudioClipFastPlayAware(){this.clipFastPlayOff=null,this.clipFastPlayOn=null}function AudioClipSpinTypeAware(){this.clipNormalSpin=null,this.clipFreeSpin=null,this.useNormalClipAtFreeSpinsStart=!1}function AudioClipSpecialSymbolAware(){this.specialSymbolId=-1,this.hasExcitedClip=!1,this.clipDefault=null,this.clipExcited=null}function VS_AudioClipLoopable(){this.handler=SoundManager.InvalidSoundHandle,this.clipDefault=null}function BG_AudioClipLoopable(){this.handler=SoundManager.InvalidSoundHandle,this.clipDefault=null}function MusicClip(){this.friendlyName="friendly name",this.handler=SoundManager.InvalidSoundHandle,this.clip=null,this.maxVolume=1,this.volumeFadeInDuration=1,this.volumeFadeOutDuration=1,this.duckingFadeInDuration=.5,this.duckingFadeOutDuration=.5,this.volumeLevel=0,this.duckingVolume=1,this.isPlaying=!1,this.isMuted=!1,this.duckingSteps=[],this.priorityDuckingStepIndex=-1,this.volumeState=MusicVolumeState.idle,this.duckingState=MusicVolumeState.idle;for(var t=0;t<3;t++)this.duckingSteps.push(new MusicDucking),this.duckingSteps[t].targetVolume=.3+.2*t}goog.provide("UHT.AudioClassesUtils"),goog.require("UHT.SoundManager"),goog.require("UHT.AudioClip"),AudioClipDelay.prototype.GetClip=function(){return this.clipToPlay},AudioClipDelay.prototype.Reset=function(){this.clipToPlay=null},AudioClipDelay.prototype.CountToPlayClip=function(t,e){this.currentDelay=e,this.clipToPlay=t},AudioClipDelay.prototype.MustPlay=function(){return null!=this.clipToPlay&&(!(0<this.currentDelay)||(this.currentDelay-=Time.deltaTime,!1))},AudioClipMusicAware.prototype.GetClip=function(){return XT.GetBool(Vars.MusicIsOn)?this.clipMusicOn:this.clipMusicOff},AudioClipFastPlayAware.prototype.GetClip=function(){return(XT.GetBool(Vars.FastPlay)?this.clipFastPlayOn:this.clipFastPlayOff).GetClip()},AudioClipSpinTypeAware.prototype.GetClip=function(){var t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);return(!XT.GetBool(Vars.Logic_IsFreeSpin)||this.useNormalClipAtFreeSpinsStart&&t.IsFreeSpinsStart?this.clipNormalSpin:this.clipFreeSpin).GetClip()},AudioClipSpecialSymbolAware.prototype.GetClip=function(){return this.clipDefault.GetClip()},AudioClipSpecialSymbolAware.prototype.GetExcitedClip=function(){return(this.hasExcitedClip?this.clipExcited:this).GetClip()},VS_AudioClipLoopable.prototype.GetClip=function(){return this.clipDefault.GetClip()},VS_AudioClipLoopable.prototype.IsPlaying=function(){return this.handler!=SoundManager.InvalidSoundHandle},MusicClip.prototype.GetVolume=function(){return this.maxVolume*this.volumeLevel*this.duckingVolume},MusicClip.prototype.UpdateDuckingStepPriority=function(){this.priorityDuckingStepIndex=-1;for(var t=0;t<this.duckingSteps.length;t++)0<this.duckingSteps[t].duckCount&&(-1==this.priorityDuckingStepIndex||this.duckingSteps[t].targetVolume<this.duckingSteps[this.priorityDuckingStepIndex].targetVolume)&&(this.priorityDuckingStepIndex=t)};var MusicVolumeState={idle:0,fadingIn:1,fadingOut:2};function MusicDucking(){this.targetVolume=.3,this.autoUnduck=!1,this.autoUnduckShouldFade=!1,this.autoUnduckTimer=0,this.fadeInDuration=.5,this.fadeOutDuration=.5,this.duckCount=0}function AudioClipValueAnimator(){this.handler=SoundManager.InvalidSoundHandle,this.clipSmallWin=null,this.clipNormalWin=null,this.clipBigWin=null,this.clipMegaWin=null,this.clipEpicWin=null,this.clipFinal=null}BG_AudioClipLoopable.prototype.GetClip=function(){return this.clipDefault.GetClip()},BG_AudioClipLoopable.prototype.IsPlaying=function(){return this.handler!=SoundManager.InvalidSoundHandle};var ClipStage={smallWin:0,normalWin:1,bigWin:2,megaWin:3,epicWin:4,finalStage:5};function AudioClipLoopable(){this.handler=SoundManager.InvalidSoundHandle,this.clipDefault=null}function AudioClipLoopableMusicAware(){this.handler=SoundManager.InvalidSoundHandle,this.clipDefault=null}function GambleSounds(){this.shufflingCardLoopable=null,this.shufflingCardStop=null,this.resultWindowWin=null,this.resultWindowLose=null,this.newProgressItem=null}function ReelStopSounds(){this.reelStopWithSpecialSymbol=null,this.reelStopExcitedWin=null,this.reelStopExcitedLose=null,this.reelStopDefault=null}function ReelStartSounds(){this.clipsReelStart=null,this.clipsReelStartExcited=null,this.clipsReelMusicExcited=null}function VS_MusicLogic(){XTLink.call(this),this.normalMusic=[],this.fsMusic=[],this.bgMusic=[],this.loopingSoundFX=[],this.soundManager=null}function VS_MusicDuckByOneShot(){XTLink.call(this),this.oneShotDuckers=null,this.winCounter=null,this.soundManager=null,this.musicLogic=null}function SoundAndMusicList(){this.oneShotsClips=null,this.musicClipsToDuck=null,this.loopingClipsToDuck=null,this.duckingStep=0,this.autoUnduckOffset=0,this.duckInDuration=-1,this.duckOutDuration=-1}function VS_OneShotCooldown(){XTLink.call(this),this.clipsWithCooldown=null}function CooldownOneShot(){this.clip=null,this.cooldown=0,this.cooldownTimer=-1}AudioClipValueAnimator.prototype.IsPlaying=function(){return this.handler!=SoundManager.InvalidSoundHandle},AudioClipValueAnimator.prototype.GetClip=function(t){var e=null;switch(t){case ClipStage.smallWin:e=this.clipSmallWin.GetClip();break;case ClipStage.normalWin:e=this.clipNormalWin.GetClip();break;case ClipStage.bigWin:e=this.clipBigWin.GetClip();break;case ClipStage.megaWin:e=this.clipMegaWin.GetClip();break;case ClipStage.epicWin:e=this.clipEpicWin.GetClip();break;case ClipStage.finalStage:e=this.clipFinal.GetClip()}return e},AudioClipLoopable.prototype.GetClip=function(){return this.clipDefault},AudioClipLoopable.prototype.IsPlaying=function(){return this.handler!=SoundManager.InvalidSoundHandle},AudioClipLoopableMusicAware.prototype.GetClip=function(){return this.clipDefault.GetClip()},AudioClipLoopableMusicAware.prototype.IsPlaying=function(){return this.handler!=SoundManager.InvalidSoundHandle},goog.require("UHT.XTLink"),VS_MusicLogic.prototype=Object.create(XTLink.prototype),(VS_MusicLogic.prototype.constructor=VS_MusicLogic).prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.MusicLogicObject,this)},VS_MusicLogic.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.SoundManagerObject,this.OnSoundManagerChanged,this)},VS_MusicLogic.prototype.OnDestroy=function(){XT.UnregisterCallbackObject(this.OnSoundManagerChanged,this)},VS_MusicLogic.prototype.OnSoundManagerChanged=function(t){this.soundManager=t},VS_MusicLogic.prototype.PlayMusicClip=function(t,e){var i,n=this.FindClipWithFriendlyName(t);null!=n?(i=!1,0<e&&(i=!0,n.volumeFadeInDuration=e),-1!=this.loopingSoundFX.indexOf(n)?this.soundManager.PlayLoopingClip(n,i):this.soundManager.PlayMusicClip(n,i)):console.log("There is no music or loopingSoundFX clip with friendly name "+t+" in VS_MusicLogic!")},VS_MusicLogic.prototype.StopMusicClip=function(t,e){var i,n=this.FindClipWithFriendlyName(t);null!=n?(i=!1,0<e&&(i=!0,n.volumeFadeOutDuration=e),-1!=this.loopingSoundFX.indexOf(n)?this.soundManager.StopLoopingClip(n,i):this.soundManager.StopMusicClip(n,i)):console.log("There is no music or loopingSoundFX clip with friendly name "+t+" in VS_MusicLogic!")},VS_MusicLogic.prototype.MuteMusicClip=function(t,e){var i,n=this.FindClipWithFriendlyName(t);null!=n?(i=!1,0<e&&(i=!0,n.volumeFadeOutDuration=e),-1!=this.loopingSoundFX.indexOf(n)?this.soundManager.MuteLoopingClip(n,i):this.soundManager.MuteMusicClip(n,i)):console.log("There is no music or loopingSoundFX clip with friendly name "+t+" in VS_MusicLogic!")},VS_MusicLogic.prototype.UnmuteMusicClip=function(t,e){var i,n=this.FindClipWithFriendlyName(t);null!=n?(i=!1,0<e&&(i=!0,n.volumeFadeInDuration=e),-1!=this.loopingSoundFX.indexOf(n)?this.soundManager.UnmuteLoopingClip(n,i):this.soundManager.UnmuteMusicClip(n,i)):console.log("There is no music or loopingSoundFX clip with friendly name "+t+" in VS_MusicLogic!")},VS_MusicLogic.prototype.DuckMusicClip=function(t,e,i,n,o){var s,r=this.FindClipWithFriendlyName(t);null!=r?(s=!1,(0<n||0<o)&&(s=!0,r.duckingSteps[e].fadeInDuration=n,r.duckingSteps[e].fadeOutDuration=o),-1!=this.loopingSoundFX.indexOf(r)?this.soundManager.DuckLoopingClip(r,e,i,s):this.soundManager.DuckMusicClip(r,e,i,s)):console.log("There is no music or loopingSoundFX clip with friendly name "+t+" in VS_MusicLogic!")},VS_MusicLogic.prototype.UnduckMusicClip=function(t,e,i){var n,o=this.FindClipWithFriendlyName(t);null!=o?(n=!1,0<i&&(n=!0,o.duckingSteps[e].fadeOutDuration=i),-1!=this.loopingSoundFX.indexOf(o)?this.soundManager.UnduckLoopingClip(o,e,n):this.soundManager.UnduckMusicClip(o,e,n)):console.log("There is no music or loopingSoundFX clip with friendly name "+t+" in VS_MusicLogic!")},VS_MusicLogic.prototype.MuteMusic=function(t){t?this.soundManager.MuteMusic():this.soundManager.UnmuteMusic()},VS_MusicLogic.prototype.MuteSoundFX=function(t){t?this.soundManager.MuteSoundFX():this.soundManager.UnmuteSoundFX()},VS_MusicLogic.prototype.FindClipWithFriendlyName=function(t){for(var e=0;e<this.normalMusic.length;e++)if(this.normalMusic[e].friendlyName==t)return this.normalMusic[e];for(e=0;e<this.fsMusic.length;e++)if(this.fsMusic[e].friendlyName==t)return this.fsMusic[e];for(e=0;e<this.bgMusic.length;e++)if(this.bgMusic[e].friendlyName==t)return this.bgMusic[e];for(e=0;e<this.loopingSoundFX.length;e++)if(this.loopingSoundFX[e].friendlyName==t)return this.loopingSoundFX[e];return null},VS_MusicLogic.prototype.GetMusicClipByAudioClip=function(t){if(null==t)return null;for(var e=0;e<this.normalMusic.length;e++)if(this.normalMusic[e].clip==t)return this.normalMusic[e];for(e=0;e<this.fsMusic.length;e++)if(this.fsMusic[e].clip==t)return this.fsMusic[e];for(e=0;e<this.bgMusic.length;e++)if(this.bgMusic[e].clip==t)return this.bgMusic[e];return null},VS_MusicLogic.prototype.GetLoopingClipByAudioClip=function(t){if(null==t)return null;for(var e=0;e<this.loopingSoundFX.length;e++)if(this.loopingSoundFX[e].clip==t)return this.loopingSoundFX[e];return null},goog.require("UHT.XTLink"),VS_MusicDuckByOneShot.prototype=Object.create(XTLink.prototype),(VS_MusicDuckByOneShot.prototype.constructor=VS_MusicDuckByOneShot).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.SoundManagerObject,this.OnSoundManagerObject,this),XT.RegisterCallbackObject(Vars.MusicLogicObject,this.OnMusicLogicObject,this),XT.RegisterCallbackBool(Vars.LastWinIsCounting,this.OnLastWinCountingChanged,this)},VS_MusicDuckByOneShot.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.MusicDuckByOneShotObject,this),this.oneShotDuckers.push(this.winCounter)},VS_MusicDuckByOneShot.prototype.OnLastWinCountingChanged=function(t){t?this.OneShotStartsPlaying(null,!0):this.OneShotStartsPlaying(null,!1)},VS_MusicDuckByOneShot.prototype.OnSoundManagerObject=function(t){this.soundManager=t},VS_MusicDuckByOneShot.prototype.OnMusicLogicObject=function(t){this.musicLogic=t},VS_MusicDuckByOneShot.prototype.OneShotStartsPlaying=function(t,e){if(null!=this.soundManager)for(var i=null==t,n=i?this.oneShotDuckers.length-1:0;n<this.oneShotDuckers.length-(i?0:1);n++)if(i||-1!=this.oneShotDuckers[n].oneShotsClips.indexOf(t)){for(var o,s=0;s<this.oneShotDuckers[n].musicClipsToDuck.length;s++){var r=null;null!=(r=null==(r=null!=this.musicLogic?this.musicLogic.GetMusicClipByAudioClip(this.oneShotDuckers[n].musicClipsToDuck[s]):r)?this.soundManager.GetMusicClipByAudioClip(this.oneShotDuckers[n].musicClipsToDuck[s]):r)?((o=0<this.oneShotDuckers[n].duckInDuration||0<this.oneShotDuckers[n].duckOutDuration)&&(r.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeInDuration=this.oneShotDuckers[n].duckInDuration,r.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeOutDuration=this.oneShotDuckers[n].duckOutDuration),e?(i||t.length>this.oneShotDuckers[n].autoUnduckOffset)&&this.soundManager.DuckMusicClip(r,this.oneShotDuckers[n].duckingStep,i?-1:t.length-this.oneShotDuckers[n].autoUnduckOffset,o):this.soundManager.UnduckMusicClip(r,this.oneShotDuckers[n].duckingStep,o)):this.oneShotDuckers[n].musicClipsToDuck.splice(s--,1)}for(s=0;s<this.oneShotDuckers[n].loopingClipsToDuck.length;s++){var a=null;null!=(a=null==(a=null!=this.musicLogic?this.musicLogic.GetLoopingClipByAudioClip(this.oneShotDuckers[n].loopingClipsToDuck[s]):a)?this.soundManager.GetLoopingClipByAudioClip(this.oneShotDuckers[n].loopingClipsToDuck[s]):a)?((o=0<this.oneShotDuckers[n].duckInDuration||0<this.oneShotDuckers[n].duckOutDuration)&&(a.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeInDuration=this.oneShotDuckers[n].duckInDuration,a.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeOutDuration=this.oneShotDuckers[n].duckOutDuration),e?(i||t.length>this.oneShotDuckers[n].autoUnduckOffset)&&this.soundManager.DuckLoopingClip(a,this.oneShotDuckers[n].duckingStep,i?-1:t.length-this.oneShotDuckers[n].autoUnduckOffset,o):this.soundManager.UnduckLoopingClip(a,this.oneShotDuckers[n].duckingStep,o)):this.oneShotDuckers[n].loopingClipsToDuck.splice(s--,1)}}},goog.require("UHT.XTLink"),VS_OneShotCooldown.prototype=Object.create(XTLink.prototype),(VS_OneShotCooldown.prototype.constructor=VS_OneShotCooldown).prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.OneShotCooldownObject,this)},VS_OneShotCooldown.prototype.IsOnCooldown=function(t){for(var e=0;e<this.clipsWithCooldown.length;e++)if(this.clipsWithCooldown[e].clip==t){var i=0<this.clipsWithCooldown[e].cooldownTimer;return i||(this.clipsWithCooldown[e].cooldownTimer=this.clipsWithCooldown[e].cooldown),i}return!1},VS_OneShotCooldown.prototype.Update=function(){for(var t=0;t<this.clipsWithCooldown.length;t++)this.clipsWithCooldown[t].UpdateTimer()},CooldownOneShot.prototype.UpdateTimer=function(){0<this.cooldownTimer&&(this.cooldownTimer-=Time.deltaTime)},goog.require("UHT.XTLink"),goog.require("UHT.SoundManager"),goog.require("UHT.AudioClassesUtils");var VSSoundLogicVars={VSSoundLogicObject:"VSSoundLogicObject"};function VS_SoundLogic(){XTLink.call(this),this.playSpecialSymbolSoundsInOrder=!1,this.startFSSoundsOnSpecificEvent=!1,this.clipMusic=null,this.clipsReelSpin=null,this.reelsStartingSounds=null,this.reelsStartingAll=null,this.reelsStoppingSounds=null,this.reelsStoppingAll=null,this.clipSpinWin=null,this.clipSpinNoWin=null,this.clipShowWinLine=null,this.clipsSymbolWin=null,this.clipsSymbolWinOverride=null,this.reelStopDelay=0,this.reelsStopAllDelay=0,this.reelsFastStopAllDelay=0,this.clipFSWonBeforeResult=null,this.clipBonusWonBeforeResult=null,this.reelMustStop=[],this.reelsMustStopAll=null,this.sndManager=null,this.numberOfReels=0,this.reelIndex=0,this.reelIndices=null,this.reelsExcited=null,this.resultSymbols=null,this.isInactive=!0,this.allReelsStopped=!1,this.fastStop=!1,this.oldClipReelSpinIndex=-1,this.reelsStoppedWithSpecialSymbol=null,this.canPlaySpinEndedBWSound=!0,this.stillPossibleWinComboBonus=null,this.stillPossibleWinComboScatter=null,this.stillPossibleWinComboWild=null,this.stillPossibleWinComboPerSymbol=null}function SymbolThumbnailDesc(){this.id=-1,this.atlas=null,this.sprite=""}function GUIMessageZoneSettings(){ArrangeableBase.call(this),this.thumbnails=[],this.spacing=33,this.spacingMobile_landscape=33,this.spacingMobile_portrait=85,this.spacingExtraLabel=5,this.spacingExtraLabelMobile_landscape=5,this.spacingExtraLabelMobile_portrait=5,this.thumbnailSize=28,this.thumbnailSizeMobile_landscape=32,this.thumbnailSizeMobile_portrait=80,this.miniResize=.4,this.portraitOrientation=!1}function OrderedAudioClipPlayer(){Component.call(this),this.audioClips=null,this.cycleAudioClips=!1,this.soundManager=null,this.nextClip=0}VS_SoundLogic.prototype=Object.create(XTLink.prototype),(VS_SoundLogic.prototype.constructor=VS_SoundLogic).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnSoundLogicSpinStarted,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded,this.OnVSSoundLogicSpinEnded,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PlaySpinEndedBWSound,this.OnVSSoundLogicSpinEndedBWSound,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopStarted,this.OnSoundLogicReelStopReceived,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStarted,this.OnSoundLogicReelHasStarted,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultSymbolWinPlaySound,this.OnSoundLogicShowWinLine,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsEnded,this.OnSoundLogicStartFreeSpins,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StartVSLogicSounds,this.OnVSLogicStartSounds,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StopVSLogicSounds,this.OnVSLogicStopSounds,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ExcitedReel,this.OnSoundLogicReelHasExcited,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin,this.OnStopSpin,this),XT.RegisterCallbackObject(Vars.SoundManagerObject,this.OnSoundManagerChanged,this),XT.RegisterCallbackObject(Vars.ReelInitialPositions,this.OnSoundLogicReelPositions,this),XT.RegisterCallbackObject(Vars.ResultScreenSymbols,this.OnSoundLogicResultSymbolsReceived,this),XT.RegisterCallbackObject(Vars.SymbolsManagerObject,this.OnSymbolsManagerObject,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopEnded,this.OnSoundLogicReelStopEnded,this),XT.RegisterCallbackBool(Vars.MusicIsOn,this.OnMusicStateChanged,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowFSWonBeforeResult,this.OnPlayFSWonBeforeResult,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowBonusWonBeforeResult,this.OnPlayBonusWonBeforeResult,this),this.startFSSoundsOnSpecificEvent?XT.RegisterCallbackEvent(Vars.Evt_Internal_SwitchToFSSounds,this.OnSoundLogicStartFreeSpins,this):XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsStarted,this.OnSoundLogicStartFreeSpins,this)},VS_SoundLogic.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(Vars.Logic_IsFreeSpin,!1),XT.SetBool(Vars.CanPlayReelStopSounds,!0),XT.SetBool(Vars.VSSoundLogic_IgnoreFastStop,!1),XT.SetObject(VSSoundLogicVars.VSSoundLogicObject,this)},VS_SoundLogic.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnSoundLogicSpinStarted,this),XT.UnregisterCallbackEvent(this.OnVSSoundLogicSpinEnded,this),XT.UnregisterCallbackEvent(this.OnVSSoundLogicSpinEndedBWSound,this),XT.UnregisterCallbackEvent(this.OnSoundLogicReelStopReceived,this),XT.UnregisterCallbackEvent(this.OnSoundLogicReelHasStarted,this),XT.UnregisterCallbackEvent(this.OnSoundLogicShowWinLine,this),XT.UnregisterCallbackEvent(this.OnSoundLogicStartFreeSpins,this),XT.UnregisterCallbackEvent(this.OnVSLogicStartSounds,this),XT.UnregisterCallbackEvent(this.OnVSLogicStopSounds,this),XT.UnregisterCallbackEvent(this.OnSoundLogicReelHasExcited,this),XT.UnregisterCallbackObject(this.OnSoundManagerChanged,this),XT.UnregisterCallbackObject(this.OnSoundLogicReelPositions,this),XT.UnregisterCallbackObject(this.OnSoundLogicResultSymbolsReceived,this),XT.UnregisterCallbackObject(this.OnSymbolsManagerObject,this),XT.UnregisterCallbackEvent(this.OnSoundLogicReelStopEnded,this),XT.UnregisterCallbackBool(this.OnMusicStateChanged,this)},VS_SoundLogic.prototype.OnSoundManagerChanged=function(t){this.sndManager=t},VS_SoundLogic.prototype.OnSymbolsManagerObject=function(t){for(var e=t,i=0,n=0;n<e.symbols.length;n++)i<e.symbols[n].symbolId&&(i=e.symbols[n].symbolId);this.reelsStoppedWithSpecialSymbol=_array.create(i+1,0)},VS_SoundLogic.prototype.OnMusicStateChanged=function(t){this.UpdateSounds()},VS_SoundLogic.prototype.UpdateSounds=function(){if(!this.isInactive){for(var t=0;t<this.clipsReelSpin.length;t++)this.clipsReelSpin[t].IsPlaying()&&(e={handle:this.clipsReelSpin[t].handler},this.sndManager.StopLoopingSound(e),this.clipsReelSpin[t].handler=e.handle,this.clipsReelSpin[t].handler=this.sndManager.PlayLooping(this.clipsReelSpin[t].GetClip()));for(var e,i=0;i<this.numberOfReels;i++)this.reelsStartingSounds[i].clipsReelMusicExcited.IsPlaying()&&(e={handle:this.reelsStartingSounds[i].clipsReelMusicExcited.handler},this.sndManager.StopLoopingSound(e),this.reelsStartingSounds[i].clipsReelMusicExcited.handler=e.handle,this.reelsStartingSounds[i].clipsReelMusicExcited.handler=this.sndManager.PlayLooping(this.reelsStartingSounds[i].clipsReelMusicExcited.GetClip()));this.UpdateBackgroundMusic()}},VS_SoundLogic.prototype.OnSoundLogicReelPositions=function(t){this.numberOfReels=t.length,this.reelsExcited=[]},VS_SoundLogic.prototype.OnSoundLogicResultSymbolsReceived=function(t){this.resultSymbols=t,this.reelsExcited=[];for(var e=0;e<this.numberOfReels;e++)this.reelsExcited.push(!1);this.allReelsStopped=!1},VS_SoundLogic.prototype.OnSoundLogicSpinStarted=function(){this.fastStop=!1;for(var t,e=0;e<this.clipsReelSpin.length;e++)this.clipsReelSpin[e].IsPlaying()&&(t={handle:this.clipsReelSpin[e].handler},this.sndManager.StopLoopingSound(t),this.clipsReelSpin[e].handler=t.handle);for(var i=Random.Range(0,this.clipsReelSpin.length);1<this.clipsReelSpin.length&&i==this.oldClipReelSpinIndex;)i=Random.Range(0,this.clipsReelSpin.length);this.clipsReelSpin[i].handler=this.sndManager.PlayLooping(this.clipsReelSpin[i].GetClip()),this.oldClipReelSpinIndex=i;for(var n=0;n<this.reelsStoppedWithSpecialSymbol.length;n++)this.reelsStoppedWithSpecialSymbol[n]=0},VS_SoundLogic.prototype.OnStopSpin=function(){XT.GetBool(Vars.VSSoundLogic_IgnoreFastStop)||(this.fastStop=!0)},VS_SoundLogic.prototype.OnVSSoundLogicSpinEnded=function(){for(var t,e=0;e<this.clipsReelSpin.length;e++)this.clipsReelSpin[e].IsPlaying()&&(t={handle:this.clipsReelSpin[e].handler},this.sndManager.StopLoopingSound(t),this.clipsReelSpin[e].handler=t.handle);var i,n=XT.GetDouble(Vars.WinReceived);0<n?(i=XT.GetObject(Vars.CoinCounterObject),n>=CoinManager.GetLastTotalBet()*i.BigWinSteps[0]&&this.sndManager.PlaySimple(this.GetSpinWinClip())):this.sndManager.PlaySimple(this.clipSpinNoWin.GetClip())},VS_SoundLogic.prototype.OnVSSoundLogicSpinEnded=function(){for(var t,e=0;e<this.clipsReelSpin.length;e++)this.clipsReelSpin[e].IsPlaying()&&(t={handle:this.clipsReelSpin[e].handler},this.sndManager.StopLoopingSound(t),this.clipsReelSpin[e].handler=t.handle);XT.GetDouble(Vars.WinReceived)<=0&&this.sndManager.PlaySimple(this.clipSpinNoWin.GetClip()),this.canPlaySpinEndedBWSound=!0},VS_SoundLogic.prototype.OnVSSoundLogicSpinEndedBWSound=function(){this.canPlaySpinEndedBWSound&&(this.canPlaySpinEndedBWSound=!1,this.sndManager.PlaySimple(this.GetSpinWinClip()))},VS_SoundLogic.prototype.OnSoundLogicReelHasStarted=function(){this.reelIndices=XT.GetObject(Vars.LastStartedReelIndices),this.reelIndex=this.reelIndices[this.reelIndices.length-1],this.reelIndices.length==this.numberOfReels?this.sndManager.PlaySimple(this.reelsStartingAll.GetClip()):this.sndManager.PlaySimple(this.reelsStartingSounds[this.reelIndex].clipsReelStart.GetClip())},VS_SoundLogic.prototype.OnSoundLogicReelHasExcited=function(){var t=XT.GetInt(Vars.LastExcitedReelIndex);this.reelsExcited[t]=!0},VS_SoundLogic.prototype.OnSoundLogicReelStopReceived=function(){this.reelIndices=XT.GetObject(Vars.LastStoppedReelIndices),this.reelIndex=this.reelIndices[this.reelIndices.length-1],this.stillPossibleWinComboBonus=XT.GetObject(Vars.StillPossibleWinComboBonus),this.stillPossibleWinComboScatter=XT.GetObject(Vars.StillPossibleWinComboScatter),this.stillPossibleWinComboWild=XT.GetObject(Vars.StillPossibleWinComboWild),this.stillPossibleWinComboPerSymbol=XT.GetObject(Vars.StillPossibleWinComboPerSymbol);var t,e=XT.GetObject(Vars.ReelsStopOrder);if(this.reelIndex==e[this.numberOfReels-1]&&(this.allReelsStopped=!0),1<this.reelIndices.length||this.fastStop&&this.allReelsStopped)return this.PlayReelsStopAllSound(this.reelsStoppingAll.GetClip()),void(this.reelMustStop=[]);if(!this.fastStop){if(this.playSpecialSymbolSoundsInOrder){for(var i=null,n=0;n<this.reelsStoppedWithSpecialSymbol.length;n++)if((0!=n||this.stillPossibleWinComboBonus[this.reelIndex])&&(1!=n||this.stillPossibleWinComboScatter[this.reelIndex])&&(2!=n||this.stillPossibleWinComboWild[this.reelIndex])&&(!(2<n)||this.stillPossibleWinComboPerSymbol[this.reelIndex][n])){for(var o=!1,s=0;s<this.resultSymbols[this.reelIndex].length;s++){if(this.resultSymbols[this.reelIndex][s]==n)for(t=0;t<this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol.length;t++)if(this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol[t].specialSymbolId==n){null==i&&(i=this.reelsExcited[this.reelIndex]?this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol[t].GetExcitedClip():this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol[t].GetClip()),this.reelsStoppedWithSpecialSymbol[n]++,o=!0;break}if(o)break}if(null!=i)return void this.PlayReelStopSound(i)}}else for(t=0;t<this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol.length;t++)if((0!=(n=this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol[t].specialSymbolId)||this.stillPossibleWinComboBonus[this.reelIndex])&&(1!=n||this.stillPossibleWinComboScatter[this.reelIndex])&&(2!=n||this.stillPossibleWinComboWild[this.reelIndex])&&(!(2<n)||this.stillPossibleWinComboPerSymbol[this.reelIndex][n]))for(s=0;s<this.resultSymbols[this.reelIndex].length;s++)if(n==this.resultSymbols[this.reelIndex][s])return void(this.reelsExcited[this.reelIndex]?this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol[t].GetExcitedClip()):this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol[t].GetClip()));this.reelsExcited[this.reelIndex]?XT.GetObject(Vars.ReelsWinInfo)[this.reelIndex]?this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopExcitedWin.GetClip()):this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopExcitedLose.GetClip()):this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopDefault.GetClip())}},VS_SoundLogic.prototype.OnSoundLogicReelStopEnded=function(){this.reelIndex=XT.GetInt(Vars.LastStopEndedReelIndex);for(var t=XT.GetObject(Vars.ReelsStopOrder),e=-1,i=0,n=0;n<this.numberOfReels;n++)t[n]==this.reelIndex&&(i=n)<this.numberOfReels-1&&(e=n+1);for(var o,s=i;0<=s;s--)this.reelsStartingSounds[s].clipsReelMusicExcited.IsPlaying()&&(o={handle:this.reelsStartingSounds[s].clipsReelMusicExcited.handler},this.sndManager.StopLoopingSound(o),this.reelsStartingSounds[s].clipsReelMusicExcited.handler=o.handle);this.allReelsStopped||-1!=e&&this.reelsExcited[t[e]]&&(this.sndManager.PlaySimple(this.reelsStartingSounds[e].clipsReelStartExcited.GetClip()),this.reelsStartingSounds[e].clipsReelMusicExcited.handler=this.sndManager.PlayLooping(this.reelsStartingSounds[e].clipsReelMusicExcited.GetClip()))},VS_SoundLogic.prototype.OnPlayFSWonBeforeResult=function(){XT.GetBool(Vars.LastWinIsCounting)||this.sndManager.PlaySimple(this.clipFSWonBeforeResult)},VS_SoundLogic.prototype.OnPlayBonusWonBeforeResult=function(){XT.GetBool(Vars.LastWinIsCounting)||this.sndManager.PlaySimple(this.clipBonusWonBeforeResult)},VS_SoundLogic.prototype.OnSoundLogicShowWinLine=function(){var t=XT.GetInt(Vars.ResultSymbolWinID);-1==t||this.clipsSymbolWin.length<=t||null==this.clipsSymbolWin[t].GetClip()?this.sndManager.PlaySimple(this.clipShowWinLine.GetClip()):this.sndManager.PlaySimple(this.clipsSymbolWin[t].GetClip())},VS_SoundLogic.prototype.OnSoundLogicStartFreeSpins=function(){this.UpdateSounds()},VS_SoundLogic.prototype.OnVSLogicStartSounds=function(){this.isInactive=!1,this.UpdateSounds()},VS_SoundLogic.prototype.OnVSLogicStopSounds=function(){var t;this.clipMusic.IsPlaying()&&(t={handle:this.clipMusic.handler},this.sndManager.StopMusic(t),this.clipMusic.handler=t.handle),this.isInactive=!0},VS_SoundLogic.prototype.UpdateBackgroundMusic=function(){var t;this.clipMusic.IsPlaying()&&(t={handle:this.clipMusic.handler},this.sndManager.StopMusic(t),this.clipMusic.handler=t.handle),this.clipMusic.handler=this.sndManager.PlayMusic(this.clipMusic.GetClip())},VS_SoundLogic.prototype.PlayReelStopSound=function(t){var e;XT.GetBool(Vars.CanPlayReelStopSounds)&&(this.reelStopDelay<=0?this.sndManager.PlaySimple(t):((e=new AudioClipDelay).CountToPlayClip(t,this.reelStopDelay),this.reelMustStop.push(e)))},VS_SoundLogic.prototype.PlayReelsStopAllSound=function(t){XT.GetBool(Vars.CanPlayReelStopSounds)&&(!this.fastStop&&this.reelsStopAllDelay<=0||this.fastStop&&this.reelsFastStopAllDelay<=0?this.sndManager.PlaySimple(t):(this.reelsMustStopAll=new AudioClipDelay,this.reelsMustStopAll.CountToPlayClip(t,this.fastStop?this.reelsFastStopAllDelay:this.reelsStopAllDelay)))},VS_SoundLogic.prototype.Update=function(){for(var t=0;t<this.reelMustStop.length;t++)this.reelMustStop[t].MustPlay()&&(this.sndManager.PlaySimple(this.reelMustStop[t].GetClip()),this.reelMustStop[t].Reset(),this.reelMustStop.splice(t,1));null!=this.reelsMustStopAll&&this.reelsMustStopAll.MustPlay()&&(this.sndManager.PlaySimple(this.reelsMustStopAll.GetClip()),this.reelsMustStopAll.Reset(),this.reelsMustStopAll=null)},VS_SoundLogic.prototype.GetSpinWinClip=function(){for(var t=XT.GetObject(Vars.ReceivedWinLines),e=XT.GetObject(Vars.OrderedSymbolList),i=[],n=0;n<t.length;++n)for(var o=t[n].WinPositions,s=0;s<o.length;++s)-1==i.indexOf(e[o[s]].symbolId)&&i.push(e[o[s]].symbolId);for(n=0;n<this.clipsSymbolWinOverride.length;++n){var r=this.clipsSymbolWinOverride[n].GetClip();if(null!=r&&-1!=i.indexOf(n))return r}return this.clipSpinWin.GetClip()},goog.require("UHT.Engine"),goog.require("UHT.XTLink"),GUIMessageZoneSettings.prototype=Object.create(ArrangeableBase.prototype),(GUIMessageZoneSettings.prototype.constructor=GUIMessageZoneSettings).prototype.XTInitVariablesAndEvents=function(){XT.SetObject(InterfaceVars.GUIMessageZoneSettings,this)},GUIMessageZoneSettings.prototype.GetSpacing=function(){return XT.GetBool(InterfaceVars.IsMobileGUI)?this.portraitOrientation?this.spacingMobile_portrait:this.spacingMobile_landscape/(Globals.isMini?this.miniResize:1):this.spacing},GUIMessageZoneSettings.prototype.GetSpacingExtraLabel=function(){return XT.GetBool(InterfaceVars.IsMobileGUI)?this.portraitOrientation?this.spacingExtraLabelMobile_portrait:this.spacingExtraLabelMobile_landscape/(Globals.isMini?this.miniResize:1):this.spacingExtraLabel},GUIMessageZoneSettings.prototype.GetThumbnailSize=function(){return XT.GetBool(InterfaceVars.IsMobileGUI)?this.portraitOrientation?this.thumbnailSizeMobile_portrait:Math.floor(this.thumbnailSizeMobile_landscape/(Globals.isMini?this.miniResize:1)):this.thumbnailSize},GUIMessageZoneSettings.prototype.OnSwitchToPortrait=function(){this.portraitOrientation=!0},GUIMessageZoneSettings.prototype.OnSwitchToLandscape=function(){this.portraitOrientation=!1},GUIMessageZoneSettings.prototype.GetThumbnail=function(t){for(var e=0;e<this.thumbnails.length;++e)if(this.thumbnails[e].id==t)return this.thumbnails[e];return null},goog.require("UHT.Engine"),OrderedAudioClipPlayer.prototype=Object.create(Component.prototype),(OrderedAudioClipPlayer.prototype.constructor=OrderedAudioClipPlayer).prototype.PlayNextClip=function(){null==this.soundManager&&(this.soundManager=XT.GetObject(Vars.SoundManagerObject),null==this.soundManager)||(this.soundManager.PlaySimple(this.audioClips[this.nextClip]),this.IncreaseClipIndex())},OrderedAudioClipPlayer.prototype.ResetClipCount=function(){this.nextClip=0},OrderedAudioClipPlayer.prototype.IncreaseClipIndex=function(){++this.nextClip>=this.audioClips.length&&(this.nextClip=this.cycleAudioClips?0:this.audioClips.length-1)},goog.require("UHT.XTLink");var FeatureManagerParamType={None:0,Bool:1,Int:2,Float:3,Double:4,String:5,XT_Bool:6,XT_Int:7,XT_Float:8,XT_Double:9,XT_String:10,XT_Object:11},FeatureManagerCallbackType={XT_Event:0,XT_Object:1,XT_String:2,XT_Double:3,XT_Float:4,XT_Int:5,XT_Bool:6},FeatureManagerIDSource={None:0,Bonus:1,FreeSpin:2,RandomAward:3,RandomAwardFreeSpin:4};function FeatureManagerMessage(){this.eventReceiver=null,this.methodToCall="",this.paramType=FeatureManagerParamType.None,this.param=""}function FeatureManagerXTCallback(){this.onlyDuringFeature=!0,this.type=FeatureManagerCallbackType.XT_Event,this.name="",this.priority=0,this.cat=null,this.messages=null,this.mng=null}function FeatureManager(){XTLink.call(this),this.featureID=0,this.featureIDSources=null,this.XTCallbacks=null,this.awardsConfig=null,this.awardsResponse=null,this.freeSpinsResponse=null,this.bonusData=null}function TRexManager(){XTLink.call(this),this.crossFadeDuration=1,this.clips=[],this.muteInFreeSpins=!1,this.musicClips=[],this.clipsPlayingState=null,this.isDisabled=!0,this.cantPlayInFS=!1,this.sndManager=null,this.musicLogic=null,this.musicSource=null}function TRexController(){XTLink.call(this),TRexController.TRexLevel={Idle:0,Spin:1,Win:2,BigWin:3},this.toIdleTimer=10,this.toSpinTimer=15,this.toWinTimer=20,this.tm=null,this.currentLevel=TRexController.TRexLevel.Idle,this.currentTimerTarget=0,this.currentTimer=0}function SmallWinsMusic(){XTLink.call(this),this.swCATintervals=null,this.swStartCATs=null,this.swStopCATs=null,this.isEnabled=!0,this.currentWinInterval=-1,this.totalWinReceivedSoFarInFS=0}function RandomCATStarter(){Component.call(this),this.catList=null,this.alsoStopAnyRunningCAT=!1,this.useWeights=!1,this.weights=null,this.catIndices=null}function ClipLevel(){this.clips=null,this.repeat=0}FeatureManagerXTCallback.prototype.RegisterCallback=function(t){switch(this.mng=t,this.type){case FeatureManagerCallbackType.XT_Event:XT.RegisterCallbackEvent(this.name,this.OnEvent,this,this.priority);break;case FeatureManagerCallbackType.XT_Object:XT.RegisterCallbackObject(this.name,this.OnObject,this);break;case FeatureManagerCallbackType.XT_String:XT.RegisterCallbackString(this.name,this.OnString,this);break;case FeatureManagerCallbackType.XT_Double:XT.RegisterCallbackDouble(this.name,this.OnDouble,this);break;case FeatureManagerCallbackType.XT_Float:XT.RegisterCallbackFloat(this.name,this.OnFloat,this);break;case FeatureManagerCallbackType.XT_Int:XT.RegisterCallbackInt(this.name,this.OnInt,this);break;case FeatureManagerCallbackType.XT_Bool:XT.RegisterCallbackBool(this.name,this.OnBool,this)}},FeatureManagerXTCallback.prototype.OnEvent=function(){this.mng.XTCallback(this)},FeatureManagerXTCallback.prototype.OnObject=function(t){this.mng.XTCallback(this)},FeatureManagerXTCallback.prototype.OnString=function(t){this.mng.XTCallback(this)},FeatureManagerXTCallback.prototype.OnDouble=function(t){this.mng.XTCallback(this)},FeatureManagerXTCallback.prototype.OnFloat=function(t){this.mng.XTCallback(this)},FeatureManagerXTCallback.prototype.OnInt=function(t){this.mng.XTCallback(this)},FeatureManagerXTCallback.prototype.OnBool=function(t){this.mng.XTCallback(this)},FeatureManager.prototype=Object.create(XTLink.prototype),(FeatureManager.prototype.constructor=FeatureManager).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.RandomAwardsConfig,this.OnAwardsConfig,this),XT.RegisterCallbackObject(Vars.RandomAwardsResponse,this.OnAwardsResponse,this),XT.RegisterCallbackObject(Vars.ReceivedFreeSpinsResponse,this.OnFreeSpinsResponse,this),XT.RegisterCallbackObject(Vars.BonusData,this.OnBonusData,this);for(var t=0;t<this.XTCallbacks.length;++t)this.XTCallbacks[t].RegisterCallback(this)},FeatureManager.prototype.OnBonusData=function(t){this.bonusData=t},FeatureManager.prototype.OnFreeSpinsResponse=function(t){this.freeSpinsResponse=t},FeatureManager.prototype.OnAwardsConfig=function(t){this.awardsConfig=t},FeatureManager.prototype.OnAwardsResponse=function(t){this.awardsResponse=t},FeatureManager.prototype.XTCallback=function(t){if(t.onlyDuringFeature){for(var e=-1,i=0;i<this.featureIDSources.length;++i)switch(this.featureIDSources[i]){case FeatureManagerIDSource.Bonus:null!=this.bonusData&&(e=this.bonusData.GameID);break;case FeatureManagerIDSource.FreeSpin:null!=this.freeSpinsResponse&&this.freeSpinsResponse.IsFreeSpin&&(e=this.freeSpinsResponse.FreeSpinsType);break;case FeatureManagerIDSource.RandomAward:null!=this.awardsConfig&&null!=this.awardsResponse&&(e=this.awardsConfig.awardSymbolsNormal[this.awardsResponse.awardIndex].FeatureID);break;case FeatureManagerIDSource.RandomAwardFreeSpin:null!=this.awardsConfig&&null!=this.awardsResponse&&(e=this.awardsConfig.awardSymbolsFreeSpins[this.awardsResponse.awardIndex].FeatureID)}if(this.featureID!=e)return}null!=t.cat&&t.cat.Start();for(i=0;i<t.messages.length;++i){var n=t.messages[i];switch(n.paramType){case FeatureManagerParamType.Bool:n.eventReceiver.SendMessage(n.methodToCall,_bool.Parse(n.param));break;case FeatureManagerParamType.Int:n.eventReceiver.SendMessage(n.methodToCall,_number.otoi(n.param));break;case FeatureManagerParamType.Float:case FeatureManagerParamType.Double:n.eventReceiver.SendMessage(n.methodToCall,_number.otod(n.param));break;case FeatureManagerParamType.String:n.eventReceiver.SendMessage(n.methodToCall,n.param);break;case FeatureManagerParamType.XT_Bool:n.eventReceiver.SendMessage(n.methodToCall,XT.GetBool(n.param));break;case FeatureManagerParamType.XT_Int:n.eventReceiver.SendMessage(n.methodToCall,XT.GetInt(n.param));break;case FeatureManagerParamType.XT_Float:n.eventReceiver.SendMessage(n.methodToCall,XT.GetFloat(n.param));break;case FeatureManagerParamType.XT_Double:n.eventReceiver.SendMessage(n.methodToCall,XT.GetDouble(n.param));break;case FeatureManagerParamType.XT_String:n.eventReceiver.SendMessage(n.methodToCall,XT.GetString(n.param));break;case FeatureManagerParamType.XT_Object:n.eventReceiver.SendMessage(n.methodToCall,XT.GetObject(n.param));break;default:n.eventReceiver.SendMessage(n.methodToCall)}}},goog.require("UHT.XTLink"),goog.require("UHT.SoundManager"),goog.require("UHT.AudioClassesUtils"),TRexManager.prototype=Object.create(XTLink.prototype),(TRexManager.prototype.constructor=TRexManager).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_StartVSLogicSounds,this.OnVSLogicStartSounds,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StopVSLogicSounds,this.OnVSLogicStopSounds,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.Init,this),this.muteInFreeSpins&&(XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsStarted,this.FreeSpinsStarted,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsEnded,this.FreeSpinsEnded,this)),XT.RegisterCallbackObject(Vars.SoundManagerObject,this.OnSoundManagerChanged,this),XT.RegisterCallbackObject(Vars.MusicLogicObject,this.OnMusicLogicObject,this)},TRexManager.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.TRexManagerObject,this)},TRexManager.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnVSLogicStartSounds,this),XT.UnregisterCallbackEvent(this.OnVSLogicStopSounds,this),XT.UnregisterCallbackEvent(this.Init,this),this.muteInFreeSpins&&(XT.UnregisterCallbackEvent(this.FreeSpinsStarted,this),XT.UnregisterCallbackEvent(this.FreeSpinsEnded,this)),XT.UnregisterCallbackObject(this.OnSoundManagerChanged,this)},TRexManager.prototype.Init=function(){this.musicClips=[],this.clipsPlayingState=[];for(var t=0;t<this.clips.length;t++)this.musicClips.push(null),this.clipsPlayingState.push(!1),null!=this.musicLogic&&(this.musicClips[t]=this.musicLogic.GetMusicClipByAudioClip(this.clips[t].GetClip())),null==this.musicClips[t]&&(this.musicClips[t]=this.sndManager.GetMusicClipByAudioClip(this.clips[t].GetClip())),this.musicClips[t].volumeFadeInDuration=this.crossFadeDuration,this.musicClips[t].volumeFadeOutDuration=this.crossFadeDuration;var e=XT.GetObject(Vars.ReceivedFreeSpinsResponse);this.cantPlayInFS=this.muteInFreeSpins&&(e.IsFreeSpin||e.IsLastFreeSpin)},TRexManager.prototype.FreeSpinsStarted=function(){this.cantPlayInFS=this.muteInFreeSpins&&XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin;for(var t=0;t<this.musicClips.length;t++)this.musicClips[t].isPlaying&&this.sndManager.MuteMusicClip(this.musicClips[t],!0)},TRexManager.prototype.FreeSpinsEnded=function(){this.cantPlayInFS=this.muteInFreeSpins&&XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin;for(var t=0;t<this.musicClips.length;t++)this.musicClips[t].isPlaying&&this.clipsPlayingState[t]&&this.sndManager.UnmuteMusicClip(this.musicClips[t],!0)},TRexManager.prototype.StartPlayingClip=function(t){this.musicClips[t].isPlaying?console.log("clip "+this.clips[t].GetClip().name+" is already playing."):(this.sndManager.PlayMusicClip(this.musicClips[t],!0),this.sndManager.MuteMusicClip(this.musicClips[t],!1))},TRexManager.prototype.StartClip=function(t){this.musicClips[t].isPlaying?(this.clipsPlayingState[t]=!0,this.cantPlayInFS||this.isDisabled||this.sndManager.UnmuteMusicClip(this.musicClips[t],!0)):console.log("You can't start an audio clip ("+this.musicClips[t].clip.name+") that is not yet playing.")},TRexManager.prototype.StopClip=function(t){this.clipsPlayingState[t]=!1,this.isDisabled||this.sndManager.MuteMusicClip(this.musicClips[t],!0)},TRexManager.prototype.OnVSLogicStartSounds=function(){this.isDisabled=!1;for(var t=0;t<this.musicClips.length;t++)this.musicClips[t].isPlaying&&!this.cantPlayInFS&&this.clipsPlayingState[t]&&this.sndManager.UnmuteMusicClip(this.musicClips[t],!0)},TRexManager.prototype.OnVSLogicStopSounds=function(){this.isDisabled=!0;for(var t=0;t<this.musicClips.length;t++)this.musicClips[t].isPlaying&&this.sndManager.MuteMusicClip(this.musicClips[t],!0)},TRexManager.prototype.OnSoundManagerChanged=function(t){this.sndManager=t},TRexManager.prototype.OnMusicLogicObject=function(t){this.musicLogic=t},goog.require("UHT.XTLink"),TRexController.prototype=Object.create(XTLink.prototype),(TRexController.prototype.constructor=TRexController).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.Init,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.GoToSpinLevel,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded,this.GoToWinLevel,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ClearBigWin,this.GoToBigWinLevel,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StartVSLogicSounds,this.StartIdleMusic,this)},TRexController.prototype.XTInitVariablesAndEvents=function(){},TRexController.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.Init,this),XT.UnregisterCallbackEvent(this.GoToSpinLevel,this),XT.UnregisterCallbackEvent(this.GoToWinLevel,this),XT.UnregisterCallbackEvent(this.GoToBigWinLevel,this),XT.UnregisterCallbackEvent(this.StartIdleMusic,this)},TRexController.prototype.Init=function(){this.tm=XT.GetObject(Vars.TRexManagerObject),this.currentState=TRexController.TRexLevel.Idle},TRexController.prototype.StartIdleMusic=function(){for(var t=0;t<this.tm.clips.length;t++)this.tm.StartPlayingClip(t);this.currentState==TRexController.TRexLevel.Idle&&this.tm.StartClip(0)},TRexController.prototype.GoToIdleMusic=function(){this.tm.StartClip(0),this.tm.StopClip(this.currentLevel),this.currentLevel=TRexController.TRexLevel.Idle,this.currentTimer=0},TRexController.prototype.GoToSpinLevel=function(){this.currentLevel!=TRexController.TRexLevel.Spin?this.currentLevel==TRexController.TRexLevel.Idle&&(this.currentTimerTarget=this.toIdleTimer,this.GoUpALevel()):this.currentTimer=0},TRexController.prototype.GoToWinLevel=function(){this.currentLevel==TRexController.TRexLevel.Win&&0<XT.GetDouble(Vars.WinReceived)?this.currentTimer=0:this.currentLevel!=TRexController.TRexLevel.Spin||XT.GetDouble(Vars.WinReceived)<=0||(this.currentTimerTarget=this.toSpinTimer,this.GoUpALevel())},TRexController.prototype.GoToBigWinLevel=function(){this.currentTimerTarget=this.toWinTimer,this.currentLevel!=TRexController.TRexLevel.BigWin&&(this.tm.StopClip(this.currentLevel),this.currentLevel=TRexController.TRexLevel.BigWin,this.tm.StartClip(this.currentLevel))},TRexController.prototype.GoUpALevel=function(){this.currentTimer=0,this.tm.StopClip(this.currentLevel),this.tm.StartClip(++this.currentLevel)},TRexController.prototype.GoDownALevel=function(){this.currentTimer=0,this.tm.StopClip(this.currentLevel),this.tm.StartClip(--this.currentLevel)},TRexController.prototype.Update=function(){if(this.currentLevel!=TRexController.TRexLevel.Idle)if(this.currentTimerTarget-this.currentTimer<=1e-4)switch(this.GoDownALevel(),this.currentLevel){case TRexController.TRexLevel.Win:this.currentTimerTarget=this.toSpinTimer;break;case TRexController.TRexLevel.Spin:this.currentTimerTarget=this.toIdleTimer}else this.currentTimer+=Time.deltaTime},goog.require("UHT.Engine"),SmallWinsMusic.prototype=Object.create(XTLink.prototype),(SmallWinsMusic.prototype.constructor=SmallWinsMusic).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinCounterStop,this.CoinCounterStop,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinCounterStart,this.CoinCounterStart,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},SmallWinsMusic.prototype.XTInitVariablesAndEvents=function(){},SmallWinsMusic.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.CoinCounterStop,this),XT.UnregisterCallbackEvent(this.CoinCounterStart,this)},SmallWinsMusic.prototype.OnGameInit=function(){var t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);t.IsFreeSpin&&(this.totalWinReceivedSoFarInFS=t.CurrentWin)},SmallWinsMusic.prototype.CoinCounterStart=function(){!XT.GetBool(Vars.SpinResultIsBigWin)&&this.isEnabled?(this.currentWinInterval=this.GetCurrentInterval(),0<=this.currentWinInterval&&this.swStartCATs[this.currentWinInterval].Start()):this.currentWinInterval=-1},SmallWinsMusic.prototype.CoinCounterStop=function(){0<=this.currentWinInterval&&this.swStopCATs[this.currentWinInterval].Start(),this.currentWinInterval=-1},SmallWinsMusic.prototype.GetCurrentInterval=function(){var t=0,e=XT.GetObject(Vars.ReceivedFreeSpinsResponse);e.IsFreeSpin?e.IsLastFreeSpin?(t=(e.CurrentWin-this.totalWinReceivedSoFarInFS)*e.TotalMultiplier,this.totalWinReceivedSoFarInFS=0):(t=XT.GetDouble(Vars.WinReceived)*e.TotalMultiplier,this.totalWinReceivedSoFarInFS=e.CurrentWin):XT.GetBool(Vars.MustOpenBonus)||(t=XT.GetDouble(Vars.WinReceived));for(var i=Math.floor(t/CoinManager.GetLastTotalBet()*100)/100,n=this.swCATintervals.length-1;0<=n;n--)if(this.swCATintervals[n]<i)return n;return-1},SmallWinsMusic.prototype.EnableSWMusic=function(){this.isEnabled=!0},SmallWinsMusic.prototype.DisableSWMusic=function(){this.isEnabled=!1},goog.require("UHT.Engine"),RandomCATStarter.prototype=Object.create(Component.prototype),(RandomCATStarter.prototype.constructor=RandomCATStarter).prototype.StartRandomCAT=function(){this.alsoStopAnyRunningCAT&&this.StopAnyRunningCAT(),null==this.catIndices&&this.InitCatIndices();var t=Random.Range(0,this.catIndices.length);this.catList[this.catIndices[t]].Start()},RandomCATStarter.prototype.StopAnyRunningCAT=function(){for(var t=0;t<this.catList.length;t++)this.catList[t].IsRunning()&&this.catList[t].Stop()},RandomCATStarter.prototype.InitCatIndices=function(){if(this.catIndices=[],this.useWeights)for(var t=0;t<this.weights.length;++t)for(var e=0;e<this.weights[t];++e)this.catIndices.push(t);else for(t=0;t<this.catList.length;++t)this.catIndices.push(t)},goog.require("UHT.Engine");var CoinCounterType={CoinCounter:0,AlternateMusic:1,IndividualBigWinSounds:2};function CoinCounterSettings(){this.coinCounterType=CoinCounterType.CoinCounter,this.muteBackgroundMusic=!1,this.useAlternateMusicForSmallWin=!1,this.muteBackgroundMusicForBigWin=!0}function CoinCounter(){XTLink.call(this),this.levels=null,this.BigWinSteps=[],this.finalSound=null,this.delay=0,this.secondsToCountOneTotalBet=1,this.forcedSmallWinCountDuration=-1,this.secondsToCountOneTotalBetOldValue=1,this.normalSettings=null,this.freeSpinsSettings=null,this.useBonusGameSettings=!1,this.bonusGameSettings=null,this.currentSettings=null,this.normalAlternateMusic=null,this.freeSpinsAlternateMusic=null,this.bonusGameAlternateMusic=null,this.finalAlternateSound=null,this.finalAlternateSoundFS=null,this.currentAlternateMusic=null,this.individualBigWinClips=null,this.finalIndividualBigWinClips=null,this.IndividualBigWinSoundsDuration=[],this.finalIndividualBigWinSound=null,this.targetBigWinLevel=0,this.timesTotalBet=0,this.target=0,this.counting=!1,this.counter=0,this.level=0,this.idxInLevel=0,this.inLevelRepeatCounter=0,this.sndManager=null,this.timer=0,this.totalWinReceivedSoFarInFS=0}function FastStopEnabler(){Component.call(this)}function SpinBlockEnabler(){Component.call(this)}CoinCounter.prototype=Object.create(XTLink.prototype),(CoinCounter.prototype.constructor=CoinCounter).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.SoundManagerObject,this.OnSoundManagerChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinCounterStart,this.StartCount,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinCounterStop,this.StopCount,this),XT.RegisterCallbackInt(Vars.CurrentCoinCountTarget,this.OnCountTarget,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StartVSLogicSounds,this.ResetAlternateMusic,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_MusicBtn,this.ResetAlternateMusic,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_SoundBtn,this.ResetAlternateMusic,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived,this.SpinResultIsBigWin,this),this.useBonusGameSettings?XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState,this.OnVSGameStateChanged,this):(XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsStarted,this.OnFreeSpins,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsEnded,this.OnFreeSpins,this))},CoinCounter.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(Vars.CoinCounterObject,this)},CoinCounter.prototype.OnDestroy=function(){XT.UnregisterCallbackObject(this.OnSoundManagerChanged,this),XT.UnregisterCallbackEvent(this.StartCount,this),XT.UnregisterCallbackEvent(this.StopCount,this),XT.UnregisterCallbackEvent(this.ResetAlternateMusic,this),XT.UnregisterCallbackEvent(this.OnGameInit,this),XT.UnregisterCallbackEvent(this.OnFreeSpins,this),XT.UnregisterCallbackEvent(this.SpinResultIsBigWin,this)},CoinCounter.prototype.GetTargetBigWinLevel=function(){return this.targetBigWinLevel},CoinCounter.prototype.GetCurentCoinCounterSettings=function(){return this.currentSettings},CoinCounter.prototype.OnCountTarget=function(t){this.target=t},CoinCounter.prototype.OnSoundManagerChanged=function(t){this.sndManager=t},CoinCounter.prototype.StartCount=function(){this.counting=!0;var t=XT.GetObject(Vars.SoundState);this.currentSettings.coinCounterType==CoinCounterType.CoinCounter||this.currentSettings.coinCounterType==CoinCounterType.IndividualBigWinSounds&&this.timesTotalBet<this.BigWinSteps[0]&&!this.currentSettings.useAlternateMusicForSmallWin?(this.timer=0,this.counter=0,this.level=0,this.idxInLevel=0,this.inLevelRepeatCounter=0):this.currentSettings.coinCounterType==CoinCounterType.AlternateMusic||this.currentSettings.coinCounterType==CoinCounterType.IndividualBigWinSounds&&this.timesTotalBet<this.BigWinSteps[0]&&this.currentSettings.useAlternateMusicForSmallWin?this.currentAlternateMusic.IsPlaying()&&(t.soundFXIsOn?this.sndManager.UnmuteLoopingSound(this.currentAlternateMusic.handler):this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler)):this.PlayIndividualBigWinSounds(),t.soundFXIsOn&&(this.timesTotalBet<this.BigWinSteps[0]?this.currentSettings.muteBackgroundMusic&&this.sndManager.MuteMusic():this.currentSettings.muteBackgroundMusicForBigWin&&this.sndManager.MuteMusic())},CoinCounter.prototype.StopCount=function(){this.counting=!1,this.currentSettings.coinCounterType==CoinCounterType.CoinCounter||this.currentSettings.coinCounterType==CoinCounterType.IndividualBigWinSounds&&this.timesTotalBet<this.BigWinSteps[0]&&!this.currentSettings.useAlternateMusicForSmallWin?this.PlayClip(this.finalSound):this.currentSettings.coinCounterType==CoinCounterType.AlternateMusic||this.currentSettings.coinCounterType==CoinCounterType.IndividualBigWinSounds&&this.timesTotalBet<this.BigWinSteps[0]&&this.currentSettings.useAlternateMusicForSmallWin?(this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler),this.currentSettings==this.freeSpinsSettings&&null!=this.finalAlternateSoundFS?this.PlayClip(this.finalAlternateSoundFS):this.PlayClip(this.finalAlternateSound)):this.StopIndividualBigWinSounds(),(XT.GetBool(Vars.WaitInResultForBigWin)&&this.currentSettings.muteBackgroundMusicForBigWin||this.currentSettings.muteBackgroundMusic)&&this.sndManager.UnmuteMusic(),this.targetBigWinLevel=0,this.secondsToCountOneTotalBet=this.secondsToCountOneTotalBetOldValue},CoinCounter.prototype.PlayClip=function(t){this.sndManager.PlaySimple(t)},CoinCounter.prototype.ComputeLevelRepeatCounters=function(){this.levels[0].repeat=Math.round(this.BigWinSteps[0]*this.secondsToCountOneTotalBet/(this.levels[0].clips.length*this.delay));for(var t=1;t<this.levels.length-1;t++)this.levels[t].repeat=Math.round((this.BigWinSteps[t]-this.BigWinSteps[t-1])*this.secondsToCountOneTotalBet/(this.levels[t].clips.length*this.delay));this.levels[this.levels.length-1].repeat=0},CoinCounter.prototype.Start=function(){this.currentAlternateMusic=this.normalAlternateMusic,this.currentSettings=this.normalSettings,this.secondsToCountOneTotalBetOldValue=this.secondsToCountOneTotalBet,this.ComputeLevelRepeatCounters()},CoinCounter.prototype.OnGameInit=function(){var t=XT.GetObject(Vars.ReceivedFreeSpinsResponse);t.IsFreeSpin&&(this.currentAlternateMusic=this.freeSpinsAlternateMusic,this.currentSettings=this.freeSpinsSettings,this.totalWinReceivedSoFarInFS=t.CurrentWin)},CoinCounter.prototype.OnVSGameStateChanged=function(){var t,e=VSGameStateManager.GetState(),i=e==VSGameState.Bonus?(t=this.bonusGameAlternateMusic,this.bonusGameSettings):e==VSGameState.SpinFreeSpins||e==VSGameState.ResultFreeSpins||e==VSGameState.ResultFreeSpinsPrepare?(t=this.freeSpinsAlternateMusic,this.freeSpinsSettings):(t=this.normalAlternateMusic,this.normalSettings);this.currentSettings!=i&&(this.currentAlternateMusic.IsPlaying()&&(e={handle:this.currentAlternateMusic.handler},this.sndManager.StopLoopingSound(e),this.currentAlternateMusic.handler=e.handle),this.currentSettings=i,this.currentAlternateMusic=t,this.secondsToCountOneTotalBet=this.secondsToCountOneTotalBetOldValue,this.ResetAlternateMusic())},CoinCounter.prototype.OnFreeSpins=function(){var t;this.currentAlternateMusic.IsPlaying()&&(t={handle:this.currentAlternateMusic.handler},this.sndManager.StopLoopingSound(t),this.currentAlternateMusic.handler=t.handle),this.currentAlternateMusic=this.currentSettings==this.normalSettings?this.freeSpinsAlternateMusic:this.normalAlternateMusic,this.currentSettings=this.currentSettings==this.normalSettings?this.freeSpinsSettings:this.normalSettings,this.secondsToCountOneTotalBet=this.secondsToCountOneTotalBetOldValue,this.ResetAlternateMusic()},CoinCounter.prototype.ResetAlternateMusic=function(){var t;(this.currentSettings.coinCounterType==CoinCounterType.AlternateMusic||this.currentSettings.coinCounterType==CoinCounterType.IndividualBigWinSounds&&this.currentSettings.useAlternateMusicForSmallWin)&&(this.currentAlternateMusic.IsPlaying()&&(t={handle:this.currentAlternateMusic.handler},this.sndManager.StopLoopingSound(t),this.currentAlternateMusic.handler=t.handle),this.currentAlternateMusic.handler=IS_UCBROWSER?-1:this.sndManager.PlayLooping(this.currentAlternateMusic.GetClip()),this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler))},CoinCounter.prototype.PlayIndividualBigWinSounds=function(){this.individualBigWinClips.length>=this.targetBigWinLevel&&(this.individualBigWinClips[this.targetBigWinLevel-1].handler=this.sndManager.PlayLooping(this.individualBigWinClips[this.targetBigWinLevel-1].GetClip()))},CoinCounter.prototype.StopIndividualBigWinSounds=function(){var t;this.individualBigWinClips.length>=this.targetBigWinLevel&&this.individualBigWinClips[this.targetBigWinLevel-1].IsPlaying()&&(t={handle:this.individualBigWinClips[this.targetBigWinLevel-1].handler},this.sndManager.StopLoopingSound(t),this.individualBigWinClips[this.targetBigWinLevel-1].handler=t.handle),this.timesTotalBet>=this.BigWinSteps[0]&&(0<this.finalIndividualBigWinClips.length?this.PlayClip(this.finalIndividualBigWinClips[this.targetBigWinLevel-1]):this.PlayClip(this.finalIndividualBigWinSound))},CoinCounter.prototype.ComputeTargetBigWinLevel=function(t,e){if(this.currentSettings.coinCounterType==CoinCounterType.IndividualBigWinSounds&&0<t){this.timesTotalBet=Math.floor(t/e*100)/100;for(var i=this.targetBigWinLevel=0;i<this.BigWinSteps.length;i++)this.timesTotalBet>=this.BigWinSteps[i]&&this.targetBigWinLevel++;this.secondsToCountOneTotalBet=0<this.targetBigWinLevel?this.IndividualBigWinSoundsDuration[this.targetBigWinLevel-1]/this.timesTotalBet:this.secondsToCountOneTotalBetOldValue}},CoinCounter.prototype.Update=function(){(this.currentSettings.coinCounterType==CoinCounterType.CoinCounter||this.currentSettings.coinCounterType==CoinCounterType.IndividualBigWinSounds&&this.timesTotalBet<this.BigWinSteps[0]&&!this.currentSettings.useAlternateMusicForSmallWin)&&this.counting&&(this.timer+=Time.deltaTime,this.timer>this.delay&&(this.timer-=this.delay,this.counter++,this.counter>=this.target?this.StopCount():(this.PlayClip(this.levels[this.level].clips[this.idxInLevel]),this.idxInLevel++,this.idxInLevel>=this.levels[this.level].clips.length&&(this.idxInLevel=0,this.inLevelRepeatCounter++,this.inLevelRepeatCounter>=this.levels[this.level].repeat&&(this.inLevelRepeatCounter=0,this.level++,this.level>=this.levels.length&&this.level--))))),this.currentAlternateMusic.IsPlaying()&&!this.counting&&this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler)},CoinCounter.prototype.SpinResultIsBigWin=function(){var t,e=0,i=CoinManager.GetLastTotalBet(),n=XT.GetObject(Vars.ReceivedFreeSpinsResponse);n.IsFreeSpin?n.IsLastFreeSpin&&null==XT.GetObject(Vars.TumblingData)?(e=(n.CurrentWin-this.totalWinReceivedSoFarInFS)*n.TotalMultiplier,this.totalWinReceivedSoFarInFS=0):(e=XT.GetDouble(Vars.WinReceived)*n.TotalMultiplier,this.totalWinReceivedSoFarInFS=n.CurrentWin):XT.GetBool(Vars.MustOpenBonus)||(e=XT.GetDouble(Vars.WinReceived)),this.timesTotalBet=Math.floor(e/i*100)/100,t=this.timesTotalBet>=this.BigWinSteps[0],XT.SetInt(Vars.SpinResultWinLevel,this.timesTotalBet),XT.SetInt(Vars.SpinResultBigWinLevel,0);for(var o=0;o<this.BigWinSteps.length;o++)this.timesTotalBet>=this.BigWinSteps[o]&&XT.SetInt(Vars.SpinResultBigWinLevel,o);XT.SetBool(Vars.SpinResultIsBigWin,t)},CoinCounter.prototype.ForceChangeToState=function(t){var e=null,i=null;"normal"==t?(e=this.normalAlternateMusic,i=this.normalSettings):"freespins"==t?(e=this.freeSpinsAlternateMusic,i=this.freeSpinsSettings):"bonus"==t&&(e=this.bonusGameAlternateMusic,i=this.bonusGameSettings),this.currentSettings!=i&&(this.secondsToCountOneTotalBet=this.secondsToCountOneTotalBetOldValue),this.currentAlternateMusic=e,this.currentSettings=i,this.ResetAlternateMusic()},CoinCounter.prototype.ForceResetToExpectedState=function(){this.OnVSGameStateChanged()},goog.require("UHT.Engine"),FastStopEnabler.prototype=Object.create(Component.prototype),(FastStopEnabler.prototype.constructor=FastStopEnabler).prototype.EnableFastStop=function(){XT.SetBool(Vars.AllowFastStop,!0)},FastStopEnabler.prototype.DisableFastStop=function(){XT.SetBool(Vars.AllowFastStop,!1)},goog.require("UHT.Engine"),SpinBlockEnabler.prototype=Object.create(Component.prototype),(SpinBlockEnabler.prototype.constructor=SpinBlockEnabler).prototype.BlockSpin=function(){XT.SetBool(Vars.SpinBlockingFeatureIsRunning,!0)},SpinBlockEnabler.prototype.UnblockSpin=function(){XT.SetBool(Vars.SpinBlockingFeatureIsRunning,!1)},SpinBlockEnabler.prototype.UnBlockSpinAndResumeResult=function(){this.UnblockSpin(),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone)},goog.provide("UHT.VSGameStateManager"),goog.require("UHT.Engine");var VSGameState={Spin:0,SpinAutoplay:1,SpinFreeSpins:2,SpinBonusRounds:3,SpinBonusRoundsAutoplay:4,Result:5,ResultAutoplay:6,ResultBonusRounds:7,ResultBonusRoundsAutoplay:8,ResultFreeSpins:9,ResultFreeSpinsPrepare:10,ResultPrepareForBonus:11,Bonus:12,Gamble:13,GambleCustom:14,FSBG:15,Invalid:16};function VSGameStateManager(){}VSGameStateManager.ChangeTo=function(t){VSGameStateManager.previousState=VSGameStateManager.internalState,VSGameStateManager.internalState=t,XT.TriggerEvent(Vars.Evt_Internal_ChangeVSGameState)},VSGameStateManager.GetState=function(){return VSGameStateManager.internalState},VSGameStateManager.GetPreviousState=function(){return VSGameStateManager.previousState},VSGameStateManager.internalState=VSGameState.Invalid,VSGameStateManager.previousState=VSGameState.Invalid,goog.provide("UHT.RequestManager"),goog.require("UHT.VSGameStateManager");var RequestManager={};function ServerLink(){Component.call(this),this.connections=null,this.balanceManager=null,this.adapter=null,this.jackpotsManager=null,this.swedishRegulationManager=null,this.requestQueue=null,this.isReady=!1}function InterfaceStateChanger(){XTLink.call(this),this.gameStates=null,this.currentState=VSGameState.Invalid,this.shouldStickToCurrentState=!1}function KeepSpinningChanger(){Component.call(this)}function JurisdictionGameTitle(){XTLink.call(this),this.miniFontSize=50,this.miniTopOffset=158,this.miniRightOffset=20,this.miniScale=.69,this.copyFontStylesFromClockDesktop=!0,this.copyFontStylesFromClockMobile=!0,this.copyFontStylesFromClockMini=!0,this.isPatched=!1}function ScreenAnchor(){Component.call(this),this.targetTransform=null,this.alsoScaleTheSprite=!1,this.anchorTop=!1,this.topOffset=0,this.anchorBottom=!1,this.bottomOffset=0,this.anchorLeft=!1,this.leftOffset=0,this.anchorRight=!1,this.rightOffset=0,this.scaleHorizontaly=!1,this.widthOffset=0,this.scaleVerticaly=!1,this.heightOffset=0,this.callWhenChanged=null,this.limitByGameAnchors=!1,this.lastScreenWidth=0,this.lastScreenHeight=0,this.updateIsNeeded=!1,this.cachedLayer=-1,this.cachedCamera=null,this.cameraPos=null}function BigWin(){XTLink.call(this),this.catContainter=null,this.hideLevelsIndividually=!1,this.nextLevelToShow=-1,this.isAnyLevelActive=!1}RequestManager.blockRequests=!1,RequestManager.spinTimer=0,RequestManager.freeSpinsStates=[VSGameState.SpinFreeSpins,VSGameState.ResultFreeSpins,VSGameState.ResultFreeSpinsPrepare],RequestManager.requestList=null,RequestManager.notStartedList=null,RequestManager.Init=function(){RequestManager.requestList=[],RequestManager.notStartedList=[]},RequestManager.Update=function(){if(!RequestManager.blockRequests){RequestManager.spinTimer+=Time.deltaTime;for(var t=0;t<RequestManager.notStartedList.length;++t)RequestManager.IsSpinRequest(RequestManager.notStartedList[t])&&(RequestManager.spinTimer=0),RequestManager.notStartedList[t].Start(),RequestManager.requestList.push(RequestManager.notStartedList[t]);RequestManager.notStartedList.splice(0);for(var e=[],t=0;t<RequestManager.requestList.length;++t)!RequestManager.requestList[t].IsDone()||RequestManager.IsSpinRequest(RequestManager.requestList[t])&&RequestManager.MustLimitSpinRequest(RequestManager.requestList[t])?e.push(RequestManager.requestList[t]):RequestManager.requestList[t].Finish();RequestManager.requestList=e}},RequestManager.AddRequest=function(t,e){(e=null!=e&&e)||_string.IsNullOrEmpty(ServerOptions.mgckey)||("POST"==t.Method?t.Fields[GameProtocolDictionary.mgckey]=ServerOptions.mgckey:new RegExp(GameProtocolDictionary.mgckey).test(t.Url)||(t.Url+=(/\?/.test(t.Url)?"&":"?")+GameProtocolDictionary.mgckey+"="+ServerOptions.mgckey)),RequestManager.notStartedList.push(t)},RequestManager.IsSpinRequest=function(t){return null!=t.Fields[GameProtocolDictionary.Actions.action]&&t.Fields[GameProtocolDictionary.Actions.action]==GameProtocolDictionary.Actions.doSpin&&-1<!RequestManager.freeSpinsStates.indexOf(VSGameStateManager.GetState())},RequestManager.MustLimitSpinRequest=function(t){return!XT.GetBool(Vars.IsDifferentSpinType)&&(XT.GetBool(Vars.Jurisdiction_SpinLimit)&&RequestManager.spinTimer<XT.GetFloat(Vars.Jurisdiction_SpinLimit_Value))},goog.require("UHT.Engine"),goog.require("UHT.GameConnection"),goog.require("UHT.BalanceManager"),goog.require("UHT.RequestManager"),goog.require("UHT.Adapter"),goog.require("UHT.JackpotsManager"),goog.require("UHT.ServerOptions"),goog.require("UHT.SwedishRegulationManager"),ServerLink.prototype=Object.create(Component.prototype),(ServerLink.prototype.constructor=ServerLink).prototype.scriptUpdatePriority=6,ServerLink.prototype.Awake=function(){this.requestQueue=[],EventManager.Init(),this.connections=[],RequestManager.Init(),this.balanceManager=new BalanceManager,this.balanceManager.Init(),this.adapter=new Adapter,this.adapter.Init(),this.jackpotsManager=new JackpotsManager,this.jackpotsManager.Init(),this.swedishRegulationManager=new SwedishRegulationManager,this.swedishRegulationManager.Init(),EventManager.AddHandler(ApplicationEvents.evtRequestInitApplication,this.OnInitApplicationRequest,this),EventManager.AddHandler(ApplicationEvents.evtAppConfigurationReceived,this.OnApplicationConfigReceived,this),EventManager.AddHandler(GameEvents.evtCreateConnectionRequest,this.OnCreateConnectionRequest,this)},ServerLink.prototype.Start=function(){this.gameObject.AddComponent("ResourceManager")},ServerLink.prototype.Update=function(){var t;if(this.isReady&&0<this.requestQueue.length){for(t=0;t<this.requestQueue.length;++t){var e=new GameConnection;e.Init(this.requestQueue[t]),this.connections.push(e),console.log("ServerLink::Update",ServerOptions.gameSymbol),EventManager.Trigger(GameEvents.evtConnectionReady,ServerOptions.gameSymbol),EventManager.Trigger(ApplicationEvents.evtServerOptionsParsed,null)}this.requestQueue=[]}for(RequestManager.Update(),t=0;t<this.connections.length;++t)this.connections[t].Update();this.balanceManager.Update(),this.jackpotsManager.Update(),this.swedishRegulationManager.Update()},ServerLink.prototype.OnInitApplicationRequest=function(t){EventManager.Trigger(ApplicationEvents.evtRequestAppConfiguration,null)},ServerLink.prototype.OnApplicationConfigReceived=function(t){var e=t,t=this.GetConfigValue(FrameworkConfiguration.isSecure,"true",e);if(_string.IsNullOrEmpty(t)||(ServerOptions.isSecure=_bool.Parse(t)),ServerOptions.serverUrl=(ServerOptions.isSecure?"https://":"http://")+ServerInterface.GetDomain(),ServerOptions.loginUri=this.GetConfigValue(FrameworkConfiguration.loginUri,ServerOptions.loginUri,e),ServerOptions.logoutUri=this.GetConfigValue(FrameworkConfiguration.logoutUri,ServerOptions.logoutUri,e),ServerOptions.sessionTimeout=this.GetConfigValue(FrameworkConfiguration.sessionTimeout,ServerOptions.sessionTimeout,e),ServerOptions.rcSettings=this.GetConfigValue(FrameworkConfiguration.rcSettings,ServerOptions.rcSettings,e),ServerOptions.menuUri=this.GetConfigValue(FrameworkConfiguration.menuUri,ServerOptions.menuUri,e),ServerOptions.versionUri=this.GetConfigValue(FrameworkConfiguration.versionInfo,ServerOptions.versionUri,e),ServerOptions.resourceseUri=this.GetConfigValue(FrameworkConfiguration.resourceUri,ServerOptions.resourceseUri,e),ServerOptions.settingsUri=this.GetConfigValue(FrameworkConfiguration.settingsUri,ServerOptions.settingsUri,e),ServerOptions.reloadBalanceUri=this.GetConfigValue(FrameworkConfiguration.reloadBalanceUri,ServerOptions.reloadBalanceUri,e),ServerOptions.reloadJackpotUri=this.GetConfigValue(FrameworkConfiguration.reloadJackpotUri,ServerOptions.reloadJackpotUri,e),ServerOptions.gameUrl=this.GetConfigValue(FrameworkConfiguration.gameUrl,ServerOptions.gameUrl,e),ServerOptions.currency=this.GetConfigValue(FrameworkConfiguration.currency,ServerOptions.currency,e),null!=UHT_GAME_CONFIG_SRC.currencyOriginal?ServerOptions.realCurrency=UHT_GAME_CONFIG_SRC.currencyOriginal:ServerOptions.realCurrency=ServerOptions.currency,ServerOptions.casinoName=this.GetConfigValue(FrameworkConfiguration.casinoName,ServerOptions.casinoName,e),ServerOptions.mgckey=this.GetConfigValue(FrameworkConfiguration.mgckey,ServerOptions.mgckey,e),ServerOptions.resourcesUrl=(ServerOptions.isSecure?"https://":"http://")+this.GetConfigValue(FrameworkConfiguration.bundleDomain,ServerOptions.resourcesUrl,e),ServerOptions.gameHistory=this.GetConfigValue(FrameworkConfiguration.gameHistory,ServerOptions.gameHistory,e),ServerOptions.jurisdiction=this.GetConfigValue(FrameworkConfiguration.jurisdiction,ServerOptions.jurisdiction,e),ServerOptions.jurisdictionRequirements=this.GetConfigValue(FrameworkConfiguration.jurisdictionRequirements,ServerOptions.jurisdictionRequirements,e),ServerOptions.brandRequirements=this.GetConfigValue(FrameworkConfiguration.brandRequirements,ServerOptions.brandRequirements,UHT_GAME_CONFIG_SRC),null!=ServerOptions.brandRequirements){for(var i=ServerOptions.brandRequirements.split(","),n=[],o=0;o<i.length;o++){var s,r=i[o],a=r.split("*");1<a.length&&(s=(Globals.isMini?"MINI_":"")+(Globals.isMobile?"MOBILE":"DESKTOP"),a[1]==s&&(r=a[0])),"["==r[0]?0==r.indexOf("["+ServerOptions.jurisdiction+"]")&&n.push(r.substr(r.indexOf("]")+1)):n.push(r)}ServerOptions.brandRequirements=n.join(",")}ServerOptions.promotionurl=this.GetConfigValue(FrameworkConfiguration.promotionurl,ServerOptions.promotionurl,e),ServerOptions.amountType=this.GetConfigValue(FrameworkConfiguration.amountType,ServerOptions.amountType,e),ServerOptions.SwedishRegulation.notificationUrl=this.GetConfigValue("REGULATION_NOTIFICATION_URL","",e);t=this.GetConfigValue(FrameworkConfiguration.clientLogLevel,"INFO",e);ServerOptions.logLevel="WARN"==t?LogLevel.Warn:"DEBUG"==t?LogLevel.Debug:"ERROR"==t?LogLevel.Error:LogLevel.None_Info,ServerOptions.isExternal=_bool.Parse(this.GetConfigValue(FrameworkConfiguration.external,"",e)),ServerOptions.isDemoMode=_bool.Parse(this.GetConfigValue(FrameworkConfiguration.demoMode,"",e)),ServerOptions.noRating=_bool.Parse(this.GetConfigValue(FrameworkConfiguration.noRating,String(ServerOptions.noRating),e)),UHT_LOCAL||(ServerOptions.styleName=this.GetConfigValue(FrameworkConfiguration.stylename,ServerOptions.styleName,e),ServerOptions.language=this.GetConfigValue(FrameworkConfiguration.locale,ServerOptions.language,e),ServerOptions.gameSymbol=this.GetConfigValue(FrameworkConfiguration.gameSymbol,ServerOptions.gameSymbol,e),ServerOptions.gameServiceUri=this.GetConfigValue(FrameworkConfiguration.gameServiceUri,ServerOptions.gameServiceUri,e)),this.OnCreateConnectionRequest(ServerOptions.gameSymbol),this.isReady=!0},ServerLink.prototype.GetConfigValue=function(t,e,i){return null!=i[t]?i[t]:e},ServerLink.prototype.OnCreateConnectionRequest=function(t){this.requestQueue.push(t)},ServerLink.prototype.OnAppConfigurationResponse=function(t,e){EventManager.Trigger(AdapterEvents.evtGetConfiguration,t)},ServerLink.prototype.ReloadBalanceCallback=function(t){t=t.split("&"),t=GameProtocolCommonParser.SplitResponseContent(t),t=GameProtocolCommonParser.ParseBalance(t);null!=t&&EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest,t)},goog.require("UHT.XTLink"),InterfaceStateChanger.prototype=Object.create(XTLink.prototype),(InterfaceStateChanger.prototype.constructor=InterfaceStateChanger).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState,this.OnVSGameStateChanged,this,10)},InterfaceStateChanger.prototype.OnVSGameStateChanged=function(){this.shouldStickToCurrentState&&VSGameStateManager.GetState()!=this.currentState&&VSGameStateManager.ChangeTo(this.currentState)},InterfaceStateChanger.prototype.LockToState=function(t){this.currentState=this.gameStates[_number.otoi(t)],VSGameStateManager.ChangeTo(this.currentState),this.shouldStickToCurrentState=!0},InterfaceStateChanger.prototype.UnlockAndChangeToState=function(t){this.shouldStickToCurrentState=!1,this.currentState=this.gameStates[_number.otoi(t)],VSGameStateManager.ChangeTo(this.currentState)},goog.require("UHT.Engine"),KeepSpinningChanger.prototype=Object.create(Component.prototype),(KeepSpinningChanger.prototype.constructor=KeepSpinningChanger).prototype.TurnOnKeepSpinning=function(){XT.SetBool(Vars.KeepSpinning,!0)},KeepSpinningChanger.prototype.TurnOffKeepSpinning=function(){XT.SetBool(Vars.KeepSpinning,!1)},goog.require("UHT.XTLink"),JurisdictionGameTitle.prototype=Object.create(XTLink.prototype),(JurisdictionGameTitle.prototype.constructor=JurisdictionGameTitle).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.Jurisdiction_GameTitle,this.OnJurisdictionGameTitleChanged,this)},JurisdictionGameTitle.prototype.OnJurisdictionGameTitleChanged=function(t){this.gameObject.SetActive(t),GUIArranger.I.logoObjectAnchor.gameObject.SetActive(!t),t&&!this.isPatched&&(Globals.isMini?(this.PatchForMini(),this.copyFontStylesFromClockMini&&this.CopyFontStylesFromClock()):Globals.isMobile&&(this.PatchForMobile(),this.copyFontStylesFromClockMobile&&this.CopyFontStylesFromClock()),this.copyFontStylesFromClockDesktop&&!Globals.isMobile&&this.CopyFontStylesFromClock(),this.isPatched=!0)},JurisdictionGameTitle.prototype.PatchForMini=function(){var t=this.gameObject.GetComponentsInChildren(ScreenAnchor,!0);if(0!=t.length){for(var e=this.gameObject.GetComponentsInChildren(UILabel,!0),i=0;i<e.length;i++){e[i].fontSize=this.miniFontSize;var n=e[i].color;e[i].color=n,e[0].init()}for(i=0;i<t.length;i++)t[i].anchorTop=!0,t[i].topOffset=this.miniTopOffset,t[i].rightOffset=t[i].rightOffset*(1/this.miniScale)+this.miniRightOffset,t[i].transform.localScale(new UHTMath.Vector3(this.miniScale*e[i].resize,this.miniScale*e[i].resize,t[i].transform.localScale().z))}},JurisdictionGameTitle.prototype.CopyFontStylesFromClock=function(){for(var t=globalRuntime.sceneRoots[1].transform.GetComponentsInChildren(ClockDisplayer,!0)[0].gameObject.GetComponentsInChildren(UILabel,!0)[0],e=this.gameObject.GetComponentsInChildren(UILabel,!0),i=0;i<e.length;i++){e[i].color=t.color,e[i].effectStyle=t.effectStyle,e[i].effectColor=t.effectColor;var n=t.effectWidth*(e[i].fontSize/t.fontSize),o=t.effectHeight*(e[i].fontSize/t.fontSize);e[i].effectWidth=n,e[i].effectHeight=o,e[i].init()}if(0<e.length)for(i=0;i<GUIArranger.I.gameTitles.length;++i)GUIArranger.I.gameTitles[i].SetColor(e[0].color),GUIArranger.I.gameTitles[i].effectStyle=e[0].effectStyle,GUIArranger.I.gameTitles[i].effectColor=e[0].effectColor,GUIArranger.I.gameTitles[i].effectWidth=e[0].effectWidth,GUIArranger.I.gameTitles[i].effectHeight=e[0].effectHeight},JurisdictionGameTitle.prototype.PatchForMobile=function(){var t=this.gameObject.GetComponentsInChildren(UILabel,!0);if(0!=t.length){XT.SetString(Vars.GameTitle,t[0].text);var e=this.gameObject.GetComponentsInChildren(ArrangeableActive,!0);if(0<e.length)for(var i=0;i<e.length;++i)e[i].activeInPortrait&&(e[i].activeInPortrait=!1,e[i].gameObject.SetActive(!1));else{var n=!0;switch(LayoutManager.layoutMode){case LayoutManager.Mode.Portrait:case LayoutManager.Mode.PortraitIPad:case LayoutManager.Mode.PortraitIPhone:n=!1}for(i=0;i<t.length;++i){var o=t[i].gameObject.AddComponent("ArrangeableActive");o.useOnMobile=!0,o.activeInLandscape=!0,o.activeInPortrait=!1,t[i].gameObject.SetActive(n)}}}},goog.require("UHT.Engine"),ScreenAnchor.prototype=Object.create(Component.prototype),(ScreenAnchor.prototype.constructor=ScreenAnchor).prototype.Update=function(){var t,e,i,n,o,s=this.GetMyCamera();if(this.lastScreenWidth!=UHTScreen.width||this.lastScreenHeight!=UHTScreen.height||this.IsCameraPositionChanged(s))return this.lastScreenWidth=UHTScreen.width,this.lastScreenHeight=UHTScreen.height,void(this.updateIsNeeded=!0);this.updateIsNeeded&&null!=s&&(this.updateIsNeeded=!1,t=new UHTMath.Vector3(0,0,0),this.anchorBottom&&(t.y=this.lastScreenHeight),this.anchorRight&&(t.x=this.lastScreenWidth),n=s.ScreenToWorldPoint(t),o=this.targetTransform.position(),this.limitByGameAnchors&&(s=(e=XT.GetObject(InterfaceVars.GameAnchors)).upLeft.position(),t=e.downRight.position(),i=(this.anchorLeft||this.anchorRight?n:o).x,e=(this.anchorTop||this.anchorBottom?n:o).y,this.anchorLeft&&i<s.x&&(i=s.x),this.anchorRight&&i>t.x&&(i=t.x),this.anchorTop&&e>s.y&&(e=s.y),this.anchorBottom&&e<t.y&&(e=t.y),n=new UHTMath.Vector3(i,e,0)),this.targetTransform.position((this.anchorLeft||this.anchorRight?n:o).x,(this.anchorTop||this.anchorBottom?n:o).y,o.z),i=new UHTMath.Vector3(0,0,0),this.anchorTop?i.y=-this.topOffset:this.anchorBottom&&(i.y=this.bottomOffset),this.anchorLeft?i.x=this.leftOffset:this.anchorRight&&(i.x=-this.rightOffset),this.targetTransform.localPosition(this.targetTransform.localPosition().x+i.x,this.targetTransform.localPosition().y+i.y,this.targetTransform.localPosition().z),this.alsoScaleTheSprite&&(n=(e=Component.FindObjectOfType(ArrangeableUIRoot).gameObject.GetComponent(UIRoot)).manualWidth/e.manualHeight,o=1,o=this.lastScreenWidth/this.lastScreenHeight<n?this.lastScreenWidth/e.manualWidth:this.lastScreenHeight/e.manualHeight,i=this.targetTransform.GetComponent(UISprite),this.scaleHorizontaly&&(n=this.lastScreenWidth/o,n*=e.gameObject.transform._internal_get_scale().x/i.gameObject.transform._internal_get_scale().x,i.width=_number.otoi(n+this.widthOffset)),this.scaleVerticaly&&(o=this.lastScreenHeight/o,o*=e.gameObject.transform._internal_get_scale().y/i.gameObject.transform._internal_get_scale().y,i.height=_number.otoi(o+this.heightOffset))),null!=this.callWhenChanged&&this.callWhenChanged.Start())},ScreenAnchor.prototype.GetMyCamera=function(){var t=this.targetTransform.gameObject;return this.cachedLayer==t.layer&&null!=this.cachedCamera||(this.cachedLayer=t.layer,this.cachedCamera=Globals.GetCameraForObject(t)),this.cachedCamera},ScreenAnchor.prototype.IsCameraPositionChanged=function(t){if(null==t)return!1;var e=t.transform.position(),t=null==this.cameraPos||!this.cameraPos.equals(e);return t&&(this.cameraPos=e),t},goog.require("UHT.Engine"),BigWin.prototype=Object.create(XTLink.prototype),(BigWin.prototype.constructor=BigWin).CatEvents={hide:0,lvl_1:1,lvl_2:2,lvl_3:3,lvl_4:4,lvl_5:5,jackpot:6,counter:7,hide_lvl_1:8,hide_lvl_2:9,hide_lvl_3:10,hide_lvl_4:11,hide_lvl_5:12},BigWin.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackInt(Vars.BigWinLevel,this.OnShowBigWinLevel,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ShowBigWin,this.OnShowBigWin,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ClearBigWin,this.OnClearBigWin,this)},BigWin.prototype.OnDestroy=function(){XT.UnregisterCallbackInt(this.OnShowBigWinLevel,this),XT.UnregisterCallbackEvent(this.OnShowBigWin,this),XT.UnregisterCallbackEvent(this.OnClearBigWin,this)};var GA_BW_SENDONESKIP=!(BigWin.prototype.OnShowBigWinLevel=function(t){this.nextLevelToShow=t});function BigWinSkipper(){XTLink.call(this)}function GUIArrangerSettings(){XTLink.call(this),this.applyToExtraElements=!1,this.logoTargetAnchorDesktop=null,this.logoTargetArrangeableDesktop=null,this.gameAnchorUpLeftDesktop=null,this.gameAnchorDownRightDesktop=null,this.TopBarSprite_base=null,this.logoTargetAnchorMobile=null,this.logoTargetArrangeableMobile=null,this.gameAnchorUpLeftMobile=null,this.gameAnchorDownRightMobile=null,this.portraitTargets=null,this.landscapeTargets=null}function VSGameStateHelper(){Component.call(this)}function ValueFX(){Component.call(this),this.valueLabels=null,this.fxCats=null}function ValueMultiplierFX(){Component.call(this),this.fx=null,this.fxDurations=null,this.affectedMultipliers=null,this.startFXTime=[],this.curFXIndex=-1,this.minX=2}BigWin.prototype.OnShowBigWin=function(){this.isAnyLevelActive=!0,this.catContainter.StartEvent(this.nextLevelToShow),0<this.nextLevelToShow&&this.nextLevelToShow<6&&(globalTracking.SendEvent("uht_behaviour_BigWin","GotLevel_"+this.nextLevelToShow.toString(),this.nextLevelToShow,"BehaviourTracker"),GA_BW_SENDONESKIP=!0)},BigWin.prototype.OnClearBigWin=function(){this.isAnyLevelActive&&(this.hideLevelsIndividually?this.catContainter.StartEvent(this.nextLevelToShow+7):this.catContainter.StartEvent(BigWin.CatEvents.hide),this.isAnyLevelActive=!1)},goog.require("UHT.Engine"),BigWinSkipper.prototype=Object.create(XTLink.prototype),(BigWinSkipper.prototype.constructor=BigWinSkipper).timeOfFirstClick=-1,BigWinSkipper.prototype.OnClick=function(){if(UHT_DEVICE_TYPE.MOBILE){if(!(0<BigWinSkipper.timeOfFirstClick))return void(BigWinSkipper.timeOfFirstClick=Time.time);if(4<Time.time-BigWinSkipper.timeOfFirstClick)return void(BigWinSkipper.timeOfFirstClick=Time.time)}BigWinSkipper.timeOfFirstClick=-1,XT.GetBool(Vars.WaitInResultForBigWin)&&XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)},goog.provide("UHT.GUIArrangerSettings"),goog.require("UHT.XTLink"),GUIArrangerSettings.prototype=Object.create(XTLink.prototype),(GUIArrangerSettings.prototype.constructor=GUIArrangerSettings).prototype.XTInitVariablesAndEvents=function(){XT.SetObject(InterfaceVars.GUIArrangerSettings,this)},goog.require("UHT.Engine"),VSGameStateHelper.prototype=Object.create(Component.prototype),VSGameStateHelper.prototype.constructor=VSGameStateHelper,goog.require("UHT.UHTEngine"),ValueFX.prototype=Object.create(Component.prototype),(ValueFX.prototype.constructor=ValueFX).prototype.TryStartFX=function(t,e){e=this.fxCats[UHTMath.clamp(e,0,this.fxCats.length-1)];if(e.IsRunning())return!1;for(var i=0;i<this.valueLabels.length;++i)this.valueLabels[i].text=t;return e.Start(),!0},goog.require("UHT.UHTEngine"),ValueMultiplierFX.prototype=Object.create(Component.prototype),(ValueMultiplierFX.prototype.constructor=ValueMultiplierFX).prototype.ComputeStartFXTime=function(t,e,i,n){this.startFXTime.splice(0);var o=i-e,i=Math.floor(i/t),s=i-this.minX,r=(t-e)/o*n,a=0;0<s&&(a=1/s*((t*i-t)/o*n));for(var l=0;l<=s;++l)(0==this.affectedMultipliers.length||-1<this.affectedMultipliers.indexOf(l+this.minX))&&this.startFXTime.push(a*l+r-this.fxDurations[UHTMath.clamp(l,0,this.fxDurations.length-1)]);this.curFXIndex=0<this.startFXTime.length?0:-1},ValueMultiplierFX.prototype.StartFX=function(){for(var t=String(0==this.affectedMultipliers.length?this.curFXIndex+this.minX:this.affectedMultipliers[this.curFXIndex]),e=0;e<this.fx.length&&!this.fx[e].TryStartFX(t,this.curFXIndex);++e);this.curFXIndex++,this.curFXIndex>=this.startFXTime.length&&(this.curFXIndex=-1)},goog.require("UHT.XTLink"),goog.require("UHT.AudioClassesUtils");var WinAnimState={idle:0,level0:1,level1:2,level2:3,level3:4,level4:5,level5:6,jackpot:7,hidingBigWin:8};function ValueAnimatorWithBigWin(){XTLink.call(this),this.vdVariable=null,this.reallyTriggersBigWin=!0,this.setSkipTheNextBigWin=!0,this.canBeSkippedByPreviousBigWin=!0,this.animateWhenIncreasing=!0,this.playSoundsWhenAnimating=!1,this.isJackPot=!1,this.makeTrueWhenAnimating=null,this.minimumBigWinDuration=2,this.multiplierFX=null,this.oldValue=0,this.newValue=0,this.delta=0,this.currentValue=0,this.isAnimating=!1,this.curTime=-1,this.animationTime=1,this.normalWinTime=.5,this.totalBet=0,this.coinCounter=null,this.currentState=WinAnimState.idle,this.skipClicks=0,this.lastFinalizeReceived=-1}function ValueAnimator(){XTLink.call(this),this.vdVariable=null,this.animationTime=2,this.animateWhenIncreasing=!0,this.animCurveIncreasing=null,this.animateWhenDecreasing=!0,this.animCurveDecreasing=null,this.curAnimCurve=null,this.oldValue=0,this.newValue=0,this.delta=0,this.currentValue=0,this.curTime=-1}function CoinsAndCashHint(){XTLink.call(this),this.catShowHint=null,this.catHideHint=null,this.canHideHint=!1}function ButtonOpenClose(){this.opened=null,this.closed=null}function MenuWindowControllerMobile(){XTLink.call(this),this.content=null,this.menuButtons=[],this.fastPlayEnabled=null,this.fastPlayDisabled=null,this.batterySaverEnabled=null,this.batterySaverDisabled=null}function BetsControllerMobile(){XTLink.call(this),this.windowShow=null,this.windowHide=null,this.increaseBetButton=null,this.decreaseBetButton=null,this.increaseBetButtonCash=null,this.decreaseBetButtonCash=null,this.increaseCoinValueButton=null,this.decreaseCoinValueButton=null,this.increaseBetAndCoinValueButtons=null,this.decreaseBetAndCoinValueButtons=null,this.cashContent=null,this.coinsContent=null}function FSMultiplierToggle(){Component.call(this),this.hideWhenMultiplierIs1=!1,this.hideWhenMultiplierIsNot1=!1,this.changeLocalPositions=!1,this.newLocalPosWhenMultiplierIs1=null,this.newLocalPosWhenMultiplierIsNot1=null}function ToggleOnHideWin(){Component.call(this),this.visibleOnHideWin=!1}function GUIMessageBase(){XTLink.call(this),this.label=null,this.messages=null}function WinLineDesc(){this.text="",this.prefixText=null,this.atlases=[],this.spriteNames=[],this.spacing=0,this.spacingExtraLabel=0,this.thumbnailSize=0}function WinLinesInformationDisplayer(){Component.call(this),this.symbolSprites=[],this.showLineEvent=null,this.hideLineEvent=null,this.noOfThumbnailsLabel=null,this.targetLabel=null,this.widthLabel=null,this.parent=null,this.targetPosLeft=null,this.targetPosCentered=null,this.isCentered=!1,this.oldWidth=-1,this.spriteWidth=-1,this.currentWLDesc=null}ValueAnimatorWithBigWin.prototype=Object.create(XTLink.prototype),(ValueAnimatorWithBigWin.prototype.constructor=ValueAnimatorWithBigWin).prototype.scriptUpdatePriority=6,ValueAnimatorWithBigWin.counterVars=[],ValueAnimatorWithBigWin.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_LastBetsChanged,this.ComputeTotalBet,this),XT.RegisterCallbackDouble(this.vdVariable.variable.name,this.OnTargetValueChanged,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished,this.OnBigWinFinished,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_FinalizeDisplayedWin,this.OnFinalizeValue,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnInit,this)},ValueAnimatorWithBigWin.prototype.XTInitVariablesAndEvents=function(){XT.SetDouble(this.vdVariable.GetAnimatedVarName(),0),XT.SetBool(Vars.SkipNextBigWin,!1),""!=this.makeTrueWhenAnimating.name&&XT.SetBool(this.makeTrueWhenAnimating.name,!1)},ValueAnimatorWithBigWin.prototype.ComputeTotalBet=function(){this.totalBet=CoinManager.GetLastTotalBet()},ValueAnimatorWithBigWin.prototype.OnDestroy=function(){XT.UnregisterCallbackDouble(this.OnTargetValueChanged,this),XT.UnregisterCallbackEvent(this.OnBigWinFinished,this),XT.UnregisterCallbackEvent(this.OnFinalizeValue,this),XT.UnregisterCallbackEvent(this.ComputeTotalBet,this)},ValueAnimatorWithBigWin.prototype.OnInit=function(){this.coinCounter=XT.GetObject(Vars.CoinCounterObject)},ValueAnimatorWithBigWin.prototype.OnTargetValueChanged=function(t){this.newValue=t;var e,i=!(this.skipClicks=0);this.isAnimating&&(this.oldValue=this.currentValue),this.delta=this.newValue-this.oldValue,XT.GetBool(Vars.CanAnimateValues)&&this.newValue>this.oldValue+1e-4&&this.animateWhenIncreasing&&0<this.totalBet&&CoinManager.IsInit()&&(this.reallyTriggersBigWin&&this.coinCounter.ComputeTargetBigWinLevel(this.delta,this.totalBet),this.CalculateAnimationTime(this.delta)||(this.isAnimating=!0,this.curTime=0,null!=this.multiplierFX&&(this.multiplierFX.ComputeStartFXTime(this.oldValue,this.oldValue,this.newValue,this.animationTime),-1<this.multiplierFX.curFXIndex&&(this.curTime=this.multiplierFX.startFXTime[this.multiplierFX.curFXIndex])),""!=this.makeTrueWhenAnimating.name&&XT.SetBool(this.makeTrueWhenAnimating.name,!0),e=!0,this.vdVariable.variable.name!=Vars.BalanceDisplayed?(0==XT.GetInt(Vars.VAWBWCounters)&&XT.SetBool(Vars.LastWinIsCounting,!0),this.IncreaseVAWBWCounter(this.vdVariable.variable.name)):XT.SetBool(Vars.BalanceIsCounting,!0),t>=this.totalBet*this.coinCounter.BigWinSteps[0]||this.isJackPot||(e=!1),this.reallyTriggersBigWin&&e&&(XT.SetInt(Vars.BigWinLevel,7),XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin),XT.SetBool(Vars.WaitInResultForBigWin,!0)),this.setSkipTheNextBigWin&&XT.SetBool(Vars.SkipNextBigWin,!0),this.playSoundsWhenAnimating&&XT.SetInt(Vars.CurrentCoinCountTarget,CoinManager.ConvertMoneyToCoins(this.newValue)),this.playSoundsWhenAnimating&&!this.isJackPot&&(this.coinCounter.ComputeTargetBigWinLevel(this.delta,this.totalBet),XT.TriggerEvent(Vars.Evt_Internal_CoinCounterStart)),i=!1)),i&&(this.oldValue=this.newValue,this.currentValue=this.newValue,XT.SetDouble(this.vdVariable.GetAnimatedVarName(),this.newValue),this.isJackPot&&0<t&&!XT.GetBool(Vars.CanAnimateValues)&&XT.TriggerEvent(Vars.Evt_Internal_JackpotCounterEnded)),this.Update()},ValueAnimatorWithBigWin.prototype.OnBigWinFinished=function(){this.currentState=WinAnimState.idle,XT.SetBool(Vars.WaitInResultForBigWin,!1)},ValueAnimatorWithBigWin.prototype.SendGASkipEvent=function(){var t=XT.GetInt(Vars.BigWinLevel);0<t&&t<6&&this.curTime<this.animationTime&&this.reallyTriggersBigWin&&GA_BW_SENDONESKIP&&(globalTracking.SendEvent("uht_behaviour_BigWin","SkippedTimeLevel_"+t.toString(),0|this.curTime,"BehaviourTracker"),GA_BW_SENDONESKIP=!1)},ValueAnimatorWithBigWin.prototype.OnFinalizeValue=function(){this.gameObject.activeInHierarchy&&this.isAnimating&&(this.isJackPot?this.curTime>XT.GetFloat(Vars.MinimumJackpotBigWinDuration)&&(this.curTime=this.animationTime,this.SendGASkipEvent(),this.Update()):(XT.GetInt(Vars.BigWinLevel),this.curTime=this.animationTime,this.SendGASkipEvent(),this.Update()))},ValueAnimatorWithBigWin.prototype.UpdateAnimationLevel=function(t){if(this.isJackPot)this.reallyTriggersBigWin&&this.currentState!=WinAnimState.jackpot&&(this.currentState=WinAnimState.jackpot,XT.SetInt(Vars.BigWinLevel,WinAnimState.jackpot-1),XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin));else{var e=t/this.animationTime,i=this.oldValue+e*this.delta;if(this.coinCounter.GetCurentCoinCounterSettings().coinCounterType==CoinCounterType.IndividualBigWinSounds&&0<this.coinCounter.GetTargetBigWinLevel())0==t&&this.reallyTriggersBigWin&&(n=this.coinCounter.GetTargetBigWinLevel(),XT.SetInt(Vars.BigWinLevel,n),o=WinAnimState.level0+n,this.currentState=o,XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin));else{var n=0;for(n=0;n<this.coinCounter.BigWinSteps.length&&!(this.totalBet*this.coinCounter.BigWinSteps[n]>i);n++);var o=WinAnimState.level0+n;this.currentState!=o&&(this.currentState=o,0<n&&this.reallyTriggersBigWin&&this.animationTime!=this.normalWinTime&&(XT.SetInt(Vars.BigWinLevel,this.currentState-WinAnimState.level0),XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin)))}}t==this.animationTime&&(this.reallyTriggersBigWin?this.currentState==WinAnimState.level0?(this.currentState=WinAnimState.idle,this.playSoundsWhenAnimating&&!this.isJackPot&&XT.TriggerEvent(Vars.Evt_Internal_CoinCounterStop)):(this.currentState=WinAnimState.hidingBigWin,XT.TriggerEvent(Vars.Evt_Internal_ClearBigWin),this.playSoundsWhenAnimating&&!this.isJackPot&&XT.TriggerEvent(Vars.Evt_Internal_CoinCounterStop),this.isJackPot&&XT.TriggerEvent(Vars.Evt_Internal_JackpotCounterEnded)):this.currentState=WinAnimState.idle,this.vdVariable.variable.name!=Vars.BalanceDisplayed?(this.DecreaseVAWBWCounter(this.vdVariable.variable.name),0==XT.GetInt(Vars.VAWBWCounters)&&(XT.SetBool(Vars.LastWinIsCounting,!1),UHTInterfaceBOSS.PostMessage("resultShown"))):XT.SetBool(Vars.BalanceIsCounting,!1))},ValueAnimatorWithBigWin.prototype.CalculateAnimationTime=function(t){if(null==this.coinCounter)return!0;if(this.isJackPot)return!(this.animationTime=18);this.animationTime=CoinManager.ConvertMoneyToCoins(t),this.normalWinTime=this.coinCounter.BigWinSteps[0]-1;t=CoinManager.ConvertMoneyToCoins(this.totalBet)/this.coinCounter.secondsToCountOneTotalBet;return this.coinCounter.GetTargetBigWinLevel()<1&&0<this.coinCounter.forcedSmallWinCountDuration?this.animationTime=this.coinCounter.forcedSmallWinCountDuration:this.animationTime/=t,this.normalWinTime/=t,!(!this.canBeSkippedByPreviousBigWin||!XT.GetBool(Vars.SkipNextBigWin))&&(this.animationTime=this.normalWinTime,!0)},ValueAnimatorWithBigWin.prototype.Update=function(){var t;0<this.totalBet&&CoinManager.IsInit()&&this.isAnimating&&(null!=this.multiplierFX&&-1<this.multiplierFX.curFXIndex&&(t=this.multiplierFX.startFXTime[this.multiplierFX.curFXIndex],this.curTime<=t&&this.curTime+Time.deltaTime>t&&this.multiplierFX.StartFX()),-.001<this.curTime?(t=this.curTime/this.animationTime,this.currentValue=this.oldValue+t*this.delta,this.curTime<this.animationTime?(XT.SetDouble(this.vdVariable.GetAnimatedVarName(),this.currentValue),this.UpdateAnimationLevel(this.curTime),this.curTime+=Time.deltaTime):(this.isAnimating=!1,this.curTime=-1,XT.SetDouble(this.vdVariable.GetAnimatedVarName(),this.newValue),this.UpdateAnimationLevel(this.animationTime),this.oldValue=this.newValue,""!=this.makeTrueWhenAnimating.name&&XT.SetBool(this.makeTrueWhenAnimating.name,!1))):this.curTime+=Time.deltaTime)},ValueAnimatorWithBigWin.prototype.IncreaseVAWBWCounter=function(t){ValueAnimatorWithBigWin.counterVars.indexOf(t)<0&&(XT.SetInt(Vars.VAWBWCounters,XT.GetInt(Vars.VAWBWCounters)+1),ValueAnimatorWithBigWin.counterVars.push(t))},ValueAnimatorWithBigWin.prototype.DecreaseVAWBWCounter=function(t){t=ValueAnimatorWithBigWin.counterVars.indexOf(t);-1<t&&(XT.SetInt(Vars.VAWBWCounters,XT.GetInt(Vars.VAWBWCounters)-1),ValueAnimatorWithBigWin.counterVars.splice(t,1))},goog.require("UHT.XTLink"),goog.require("UHT.AnimationCurve"),ValueAnimator.prototype=Object.create(XTLink.prototype),(ValueAnimator.prototype.constructor=ValueAnimator).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackDouble(this.vdVariable.variable.name,this.OnTargetValueChanged,this)},ValueAnimator.prototype.XTInitVariablesAndEvents=function(){XT.SetDouble(this.vdVariable.GetAnimatedVarName(),0)},ValueAnimator.prototype.OnDestroy=function(){XT.UnregisterCallbackDouble(this.OnTargetValueChanged,this)},ValueAnimator.prototype.OnTargetValueChanged=function(t){this.newValue=t;t=!0;-.001<this.curTime&&this.curTime<this.animationTime&&(this.oldValue=this.currentValue),this.newValue>this.oldValue+1e-4&&this.animateWhenIncreasing?(this.curTime=0,this.delta=this.newValue-this.oldValue,this.curAnimCurve=this.animCurveIncreasing,t=!1):this.newValue<this.oldValue-1e-4&&this.animateWhenDecreasing&&(this.curTime=0,this.delta=this.newValue-this.oldValue,this.curAnimCurve=this.animCurveDecreasing,t=!1),t&&(this.oldValue=this.newValue,this.currentValue=this.newValue,XT.SetDouble(this.vdVariable.GetAnimatedVarName(),this.newValue))},ValueAnimator.prototype.Update=function(){var t,e;-.001<this.curTime&&(e=this.curTime/this.animationTime,2<=this.curAnimCurve.keys.length&&(t=this.curAnimCurve.keys[0],t=this.curAnimCurve.keys[this.curAnimCurve.keys.length-1].time-t.time,e=this.curAnimCurve.Evaluate(e*t)),this.currentValue=this.oldValue+e*this.delta,this.curTime<this.animationTime?(this.curTime+=Time.deltaTime,XT.SetDouble(this.vdVariable.GetAnimatedVarName(),this.currentValue)):(this.curTime=-1,this.curAnimCurve=null,this.oldValue=this.newValue,XT.SetDouble(this.vdVariable.GetAnimatedVarName(),this.newValue)))},ValueAnimator.prototype.Stop=function(){this.curTime=-1,this.curAnimCurve=null,this.oldValue=this.newValue,XT.SetDouble(this.vdVariable.GetAnimatedVarName(),this.newValue)},goog.require("UHT.XTLink"),CoinsAndCashHint.prototype=Object.create(XTLink.prototype),(CoinsAndCashHint.prototype.constructor=CoinsAndCashHint).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this)},CoinsAndCashHint.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(InterfaceVars.ShowCoinsAndCashHint,!ServerOptions.isReplay)},CoinsAndCashHint.prototype.UnregisterCallbacks=function(){XT.UnregisterCallbackBool(this.OnHasCoinsChanged,this)},CoinsAndCashHint.prototype.OnGUIInit=function(){XT.GetBool(InterfaceVars.ShowCoinsAndCashHint)&&XT.GetBool(Vars.FromServer_AllowCoins)&&XT.RegisterCallbackEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped,this.ShowHint,this)},CoinsAndCashHint.prototype.OnHasCoinsChanged=function(t){this.canHideHint&&this.HideHint()},CoinsAndCashHint.prototype.ShowHint=function(){XT.RegisterCallbackBool(Vars.HasCoins,this.OnHasCoinsChanged,this),this.canHideHint=!0,this.StopRunningEvents(),this.catShowHint.Start(),XT.SetBool(InterfaceVars.ShowCoinsAndCashHint,!1),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)},CoinsAndCashHint.prototype.HideHint=function(){this.canHideHint=!1,this.StopRunningEvents(),this.catHideHint.Start()},CoinsAndCashHint.prototype.HideHintForever=function(){this.OnHasCoinsChanged(!0)},CoinsAndCashHint.prototype.StopRunningEvents=function(){this.catShowHint.IsRunning()&&this.catShowHint.Stop(),this.catHideHint.IsRunning()&&this.catHideHint.Stop()},CoinsAndCashHint.prototype.HideHintIfVisible=function(){this.canHideHint&&this.HideHint()},goog.provide("UHT.InterfaceUtils"),goog.require("UHT.XTLink"),MenuWindowControllerMobile.prototype=Object.create(XTLink.prototype),(MenuWindowControllerMobile.prototype.constructor=MenuWindowControllerMobile).prototype.ShowMenuWindow=function(t){this.content.SetActive(!0),this.ToggleMenuButtons(t),this.UpdateButtons(),XT.TriggerEvent(Vars.Evt_CodeToData_SettingsWindowOpened)},MenuWindowControllerMobile.prototype.HideMenuWindow=function(){this.content.SetActive(!1),XT.TriggerEvent(Vars.Evt_CodeToData_SettingsWindowClosed)},MenuWindowControllerMobile.prototype.ToggleMenuButtons=function(t){for(var e=0;e<this.menuButtons.length;e++){var i=this.menuButtons[e].GetComponentInChildren(ButtonEnabler);null!=i&&(t?i.EnableButton():i.DisableButton())}},MenuWindowControllerMobile.prototype.ToggleFastPlay=function(){XT.SetBool(Vars.FastPlay,!XT.GetBool(Vars.FastPlay)),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer),this.UpdateButtons()},MenuWindowControllerMobile.prototype.ToggleBatterySaver=function(){XT.SetBool(Vars.BatterySaver,!XT.GetBool(Vars.BatterySaver)),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer),this.UpdateButtons()},MenuWindowControllerMobile.prototype.UpdateButtons=function(){var t=XT.GetBool(Vars.FastPlay);this.fastPlayEnabled.SetActive(t),this.fastPlayDisabled.SetActive(!t);t=XT.GetBool(Vars.BatterySaver);this.batterySaverEnabled.SetActive(t),this.batterySaverDisabled.SetActive(!t)},goog.require("UHT.XTLink"),BetsControllerMobile.prototype=Object.create(XTLink.prototype),(BetsControllerMobile.prototype.constructor=BetsControllerMobile).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.MinBetReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.MaxBetReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.MinCoinValueReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.MaxCoinValueReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.MinBetAndCoinValueReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.MaxBetAndCoinValueReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.FromServer_AllowCoins,this.OnAllowCoinsChanged,this)},BetsControllerMobile.prototype.OnDestroy=function(){XT.UnregisterCallbackBool(this.OnBetStateUpdated,this),XT.UnregisterCallbackBool(this.OnAllowCoinsChanged,this)},BetsControllerMobile.prototype.ShowBetsWindow=function(){null!=this.windowShow&&null!=this.windowShow.cat&&this.windowShow.Start()},BetsControllerMobile.prototype.HideBetsWindow=function(){null!=this.windowHide&&null!=this.windowHide.cat&&this.windowHide.Start()},BetsControllerMobile.prototype.UpdateBetButtons=function(t){this.UpdateBetIncDecButtons(t)},BetsControllerMobile.prototype.OnBetStateUpdated=function(t){this.UpdateBetIncDecButtons(!0)},BetsControllerMobile.prototype.UpdateBetIncDecButtons=function(t){if(t){if(XT.GetBool(Vars.MinBetReached)?(this.decreaseBetButton.DisableButton(),this.decreaseBetButtonCash.DisableButton()):(this.decreaseBetButton.EnableButton(),this.decreaseBetButtonCash.EnableButton()),XT.GetBool(Vars.MaxBetReached)?(this.increaseBetButton.DisableButton(),this.increaseBetButtonCash.DisableButton()):(this.increaseBetButton.EnableButton(),this.increaseBetButtonCash.EnableButton()),XT.GetBool(Vars.MinCoinValueReached)?this.decreaseCoinValueButton.DisableButton():this.decreaseCoinValueButton.EnableButton(),XT.GetBool(Vars.MaxCoinValueReached)?this.increaseCoinValueButton.DisableButton():this.increaseCoinValueButton.EnableButton(),XT.GetBool(Vars.MinBetAndCoinValueReached))for(var e=0;e<this.decreaseBetAndCoinValueButtons.length;++e)this.decreaseBetAndCoinValueButtons[e].DisableButton();else for(e=0;e<this.decreaseBetAndCoinValueButtons.length;++e)this.decreaseBetAndCoinValueButtons[e].EnableButton();if(XT.GetBool(Vars.MaxBetAndCoinValueReached))for(e=0;e<this.increaseBetAndCoinValueButtons.length;++e)this.increaseBetAndCoinValueButtons[e].DisableButton();else for(e=0;e<this.increaseBetAndCoinValueButtons.length;++e)this.increaseBetAndCoinValueButtons[e].EnableButton()}else{this.decreaseBetButton.DisableButton(),this.increaseBetButton.DisableButton(),this.decreaseBetButtonCash.DisableButton(),this.increaseBetButtonCash.DisableButton(),this.decreaseCoinValueButton.DisableButton(),this.increaseCoinValueButton.DisableButton();for(e=0;e<this.decreaseBetAndCoinValueButtons.length;++e)this.decreaseBetAndCoinValueButtons[e].DisableButton();for(e=0;e<this.increaseBetAndCoinValueButtons.length;++e)this.increaseBetAndCoinValueButtons[e].DisableButton()}},BetsControllerMobile.prototype.OnAllowCoinsChanged=function(t){this.coinsContent.SetActive(t),this.cashContent.SetActive(!t)},goog.require("UHT.Engine"),FSMultiplierToggle.prototype=Object.create(Component.prototype),(FSMultiplierToggle.prototype.constructor=FSMultiplierToggle).prototype.FSMultiplierChanged=function(t){var e=!(this.hideWhenMultiplierIs1&&1==t||this.hideWhenMultiplierIsNot1&&1!=t);this.gameObject.SetActive(e),this.changeLocalPositions&&(1==t?this.transform.localPosition(this.newLocalPosWhenMultiplierIs1):this.transform.localPosition(this.newLocalPosWhenMultiplierIsNot1))},goog.require("UHT.Engine"),ToggleOnHideWin.prototype=Object.create(Component.prototype),(ToggleOnHideWin.prototype.constructor=ToggleOnHideWin).prototype.WinIsHidden=function(){this.gameObject.SetActive(this.visibleOnHideWin)},goog.provide("UHT.GUIMessageBase"),goog.require("UHT.Engine"),goog.require("UHT.XTLink"),GUIMessageBase.prototype=Object.create(XTLink.prototype),(GUIMessageBase.prototype.constructor=GUIMessageBase).prototype.Init=function(t){this.messages=t},GUIMessageBase.prototype.Show=function(){var t;null!=this.messages&&0<this.messages.length&&(t=Random.Range(0,this.messages.length),this.label.text=this.messages[t]),this.gameObject.SetActive(!0)},GUIMessageBase.prototype.Hide=function(){this.gameObject.SetActive(!1)},goog.require("UHT.Engine"),WinLinesInformationDisplayer.prototype=Object.create(Component.prototype),(WinLinesInformationDisplayer.prototype.constructor=WinLinesInformationDisplayer).prototype.scriptUpdatePriority=7,WinLinesInformationDisplayer.prototype.ShowWinLine=function(t,e){this.currentWLDesc=t,this.targetLabel.InternalSetText(t.text,!0),this.spriteWidth=0,this.isCentered=e;for(var i=new UHTMath.Vector3(0,0,0),n=0,o=!1,s=0;s<this.symbolSprites.length;s++)n<t.spriteNames.length?(null!=t.prefixText&&(o=!0,this.noOfThumbnailsLabel.text=t.prefixText,this.noOfThumbnailsLabel.transform.localPosition(i),i.x+=t.spacingExtraLabel,this.spriteWidth+=t.spacingExtraLabel),this.symbolSprites[s].width=t.thumbnailSize,this.symbolSprites[s].height=t.thumbnailSize,this.symbolSprites[s].atlas=t.atlases[n],this.symbolSprites[s].SetSpriteName(t.spriteNames[n]),this.symbolSprites[s].gameObject.SetActive(!0),this.symbolSprites[s].gameObject.transform.localPosition(i),i.x+=t.spacing,this.spriteWidth+=t.spacing,null!=t.prefixText&&(n+=t.spriteNames.length)):this.symbolSprites[s].gameObject.SetActive(!1),n++;this.noOfThumbnailsLabel.gameObject.SetActive(o),i.x+=t.spacingExtraLabel,this.spriteWidth+=t.spacingExtraLabel,this.targetLabel.transform.localPosition(i),this.oldWidth=-1,this.parent.localPosition(this.targetPosLeft.localPosition()),this.showLineEvent.Start()},WinLinesInformationDisplayer.prototype.HideWinLine=function(){this.hideLineEvent.Start()},WinLinesInformationDisplayer.prototype.MakeSpaceForNoOfThumbsLabel=function(){var t;null!=this.currentWLDesc&&((t=new UHTMath.Vector3(0,0,0)).x+=this.noOfThumbnailsLabel.GetWidth(),t.x+=this.currentWLDesc.spacingExtraLabel,this.symbolSprites[0].transform.localPosition(t),t.x+=this.currentWLDesc.spacing,t.x+=this.currentWLDesc.spacingExtraLabel,this.targetLabel.transform.localPosition(t))},WinLinesInformationDisplayer.prototype.Update=function(){var t,e;this.isCentered&&(t=this.spriteWidth+this.targetLabel.GetWidth(),this.noOfThumbnailsLabel.gameObject.activeSelf&&(t+=this.noOfThumbnailsLabel.GetWidth()),this.oldWidth!=t&&(this.noOfThumbnailsLabel.gameObject.activeSelf&&this.MakeSpaceForNoOfThumbsLabel(),this.oldWidth=t,e=this.targetPosCentered.localPosition(),this.parent.localPosition(e.x-t/2,e.y,e.z),null!=this.widthLabel&&(this.widthLabel.width=_number.otoi(t))))},goog.require("UHT.Engine"),goog.require("UHT.GUIMessageBase");var GUIMessageResultWinVars={GUIMessageResultWin_ForceGamePaysMessage:"GUIMessageResultWin_ForceGamePaysMessage",GUIMessageResultWin_ShouldForceGamePaysValue:"GUIMessageResultWin_ShouldForceGamePaysValue",GUIMessageResultWin_ForcedGamePaysValue:"GUIMessageResultWin_ForcedGamePaysValue"};function GUIMessageResultWin(){GUIMessageBase.call(this),this.labelCentered=null,this.winLineDisplayer=null,this.currentTotalWin=null,this.localized_GamePays=null,this.localized_WinTeasers=null,this.localized_Pays=null,this.localized_Line=null,this.localized_On=null,this.localized_Ways=null,this.localized_WordsOrder=null,this.label_FSWon=null,this.label_BonusWon=null,this.forceWinLineHasCoins=!1,this.forceWinLineHasCash=!1,this.catShowAllLines=null,this.catHideAllLines=null,this.orderedJPText=["MINI JACKPOT","MINOR JACKPOT","MAJOR JACKPOT","GRAND JACKPOT"],this.singleJPText="JACKPOT",this.curWinDesc=[],this.settings=null,this.receivedWinLines=null,this.isBonusWon=!1,this.isFSWon=!1,this.isCentered=!1,this.formatOptions=null,this.payingSymbolsDesc=[],this.jackpotText="",this.gamePaysText="",this.canShowGamePaysAsWinTeaser=!1}function CoinsAndCashDisplayer(){Component.call(this),this.cashGameObjects=null,this.hiddenWhenCashIsVisible=null,this.coinsGameObjects=null,this.hiddenWhenCoinsAreVisible=null}GUIMessageResultWin.prototype=Object.create(GUIMessageBase.prototype),(GUIMessageResultWin.prototype.constructor=GUIMessageResultWin).prototype.XTRegisterCallbacks=function(){},GUIMessageResultWin.prototype.XTInitVariablesAndEvents=function(){XT.SetInt(InterfaceVars.ExtraWinMultiplier,1),XT.SetBool(GUIMessageResultWinVars.GUIMessageResultWin_ForceGamePaysMessage,!1),XT.SetBool(GUIMessageResultWinVars.GUIMessageResultWin_ShouldForceGamePaysValue,!1),XT.SetDouble(GUIMessageResultWinVars.GUIMessageResultWin_ForcedGamePaysValue,0),XT.SetBool(InterfaceVars.ShowInterfaceThumbnailsCount,!1)},GUIMessageResultWin.prototype.OnDestroy=function(){},GUIMessageResultWin.prototype.OnDisable=function(){this.Hide()},GUIMessageResultWin.prototype.SetSpecialFlags=function(t,e){this.isBonusWon=t,this.isFSWon=e,this.isCentered=!this.isBonusWon&&!this.isFSWon},GUIMessageResultWin.prototype.Show=function(){this.Hide(),XT.RegisterCallbackEvent(Vars.Evt_Internal_StartDisplayWinLine,this.OnWinLineShow,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StopDisplayWinLine,this.OnWinLineHide,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowAllLinesWin,this.OnAllLinesShow,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_HideAllLinesWin,this.OnAllLinesHide,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowJackpotWin,this.OnJackpotShow,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_HideJackpotWin,this.OnAllLinesHide,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowScattersWin,this.OnScattersWinShow,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_HideScattersWin,this.OnWinLineHide,this),XT.RegisterCallbackEvent(PayingSymbolVars.Evt_Internal_ShowPayingSymbol,this.OnPayingSymbolShow,this),XT.RegisterCallbackEvent(PayingSymbolVars.Evt_Internal_HidePayingSymbol,this.OnWinLineHide,this),this.gameObject.SetActive(!0),this.settings=XT.GetObject(InterfaceVars.GUIMessageZoneSettings),this.Prepare(),this.isBonusWon?this.label_BonusWon.gameObject.SetActive(!0):this.isFSWon&&this.label_FSWon.gameObject.SetActive(!0)},GUIMessageResultWin.prototype.Hide=function(){XT.UnregisterCallbackEvent(this.OnWinLineShow,this),XT.UnregisterCallbackEvent(this.OnWinLineHide,this),XT.UnregisterCallbackEvent(this.OnAllLinesShow,this),XT.UnregisterCallbackEvent(this.OnAllLinesHide,this),XT.UnregisterCallbackEvent(this.OnJackpotShow,this),XT.UnregisterCallbackEvent(this.OnScattersWinShow,this),XT.UnregisterCallbackEvent(this.OnPayingSymbolShow,this),this.label_BonusWon.gameObject.SetActive(!1),this.label_FSWon.gameObject.SetActive(!1),this.winLineDisplayer.HideWinLine(),this.label.gameObject.SetActive(!1),this.labelCentered.gameObject.SetActive(!1),this.gameObject.SetActive(!1)},GUIMessageResultWin.prototype.Prepare=function(){var t=XT.GetObject(Vars.ResultScreenSymbols),e=t.length,i=t[0].length;this.curWinDesc.splice(0),this.receivedWinLines=XT.GetObject(Vars.ReceivedWinLines);for(var n=0;n<this.receivedWinLines.length;n++){var o=this.receivedWinLines[n];o.isWinWaysGroup?(r=this.ComputeWinGroupDesc(o.symbolId,o.waysLength,o.WinPositions)).text=this.ComputeWinGroupText(o.WinAmount,!1,o.Multiplier,o.waysCount):(r=this.ComputeWinLineDesc(t,e,i,o.WinPositions)).text=this.ComputeWinLineText(o.WinAmount,!1,o.Multiplier,o.LineNumber),this.curWinDesc.push(r)}this.payingSymbolsDesc.splice(0);for(var s=XT.GetObject(PayingSymbolVars.PayingSymbols),n=0;n<s.length;++n){var r,a=s[n];(r=this.ComputeWinLineDesc(t,e,i,a.positions)).text=this.ComputeWinLineText(a.amount,!0,1,-1),this.payingSymbolsDesc.push(r)}this.gamePaysText="";var l=VSGameStateManager.GetState()==VSGameState.ResultFreeSpins?XT.GetDouble(Vars.FreeSpinsLastWinDisplayed):XT.GetDouble(Vars.WinDisplayed);XT.GetBool(GUIMessageResultWinVars.GUIMessageResultWin_ShouldForceGamePaysValue)&&(l=XT.GetDouble(GUIMessageResultWinVars.GUIMessageResultWin_ForcedGamePaysValue)),this.canShowGamePaysAsWinTeaser=l!=XT.GetDouble(Vars.SpinCycleWinDisplayed),1e-4<l&&(this.gamePaysText=this.ComputeText(l,null,this.localized_GamePays.text,!1)),this.jackpotText="",ResultDisplayer.isJackpotWin&&(l=null==(l=XT.GetObject(Vars.FromServer_LastValidJackpotsInformation))||1==l.length&&"S"==l[0].JackpotGroupType?this.singleJPText:this.orderedJPText[XT.GetInt(Vars.FromServer_JackpotWonOrder)],this.jackpotText=this.ComputeText(XT.GetDouble(Vars.FromServer_JackpotAmountWon),null,l,!0)),this.winLineDisplayer.targetLabel.fontName=this.localized_Pays.fontName,this.winLineDisplayer.targetLabel.fontNameExpectedFromCallback=this.winLineDisplayer.targetLabel.fontName},GUIMessageResultWin.prototype.ComputeWinGroupDesc=function(t,e,i){var n=new WinLineDesc;n.spacing=this.settings.GetSpacing(),n.spacingExtraLabel=this.settings.GetSpacingExtraLabel(),n.thumbnailSize=this.settings.GetThumbnailSize();var o=this.settings.GetThumbnail(t);if(null!=o)for(var s=0;s<e;s++)if(n.atlases.push(o.atlas),n.spriteNames.push(o.sprite),XT.GetBool(InterfaceVars.ShowInterfaceThumbnailsCount)||e>this.winLineDisplayer.symbolSprites.length){n.prefixText=i.length+"X";break}return n},GUIMessageResultWin.prototype.ComputeWinLineDesc=function(t,e,i,n){var o=new WinLineDesc;o.spacing=this.settings.GetSpacing(),o.spacingExtraLabel=this.settings.GetSpacingExtraLabel(),o.thumbnailSize=this.settings.GetThumbnailSize();for(var s=0;s<n.length;s++){var r=n[s],a=t[r%e][i-1-(r/e|0)],l=this.settings.GetThumbnail(a);if(null!=l){r=l.sprite+(XT.GetBool(Vars.HasReelAwareSymbolContent)?"_"+r%e:"");if(XT.GetBool(InterfaceVars.ShowInterfaceThumbnailsCount)){if(2!=a||s+1==n.length){o.prefixText=n.length+"X",o.atlases.push(l.atlas),o.spriteNames.push(r);break}}else o.atlases.push(l.atlas),o.spriteNames.push(r)}}return o},GUIMessageResultWin.prototype.ComputeWinLineText=function(t,e,i,n){var o=XT.GetDouble(Vars.CurrentWinMultiplier),s=[];s.push(i),s.push(o),s.push(XT.GetInt(InterfaceVars.ExtraWinMultiplier));i=null;return-1<n&&(0!=XT.GetBool(Vars.GameHasWaysInsteadOfLines)&&!XT.GetBool(Vars.GameHasLinesWithBetMultiplier)||(i=this.localized_Line.text+" "+(n+1))),this.ComputeText(e?t:t*o,s,i,!0)},GUIMessageResultWin.prototype.ComputeWinGroupText=function(t,e,i,n){var o=XT.GetDouble(Vars.CurrentWinMultiplier),s=[];s.push(i),s.push(o),s.push(XT.GetInt(InterfaceVars.ExtraWinMultiplier));i=this.localized_WordsOrder.text,s=this.ComputeText(e?t:t*o,s,null,!1);return i=(i=i.replace("<PAYS>",this.localized_Pays.text)).replace("<$6>",s),i=1<n?(i=(i=i.replace("<ON>",this.localized_On.text)).replace("<#9>",n.toString())).replace("<WAYS>",this.localized_Ways.text):i},GUIMessageResultWin.prototype.WinLineHasCoins=function(){return!this.forceWinLineHasCash&&(!!this.forceWinLineHasCoins||XT.GetBool(Vars.HasCoins))},GUIMessageResultWin.prototype.OnWinLineShow=function(){var t=XT.GetInt(Vars.CurrentDisplayedWinLineIndex);this.winLineDisplayer.ShowWinLine(this.curWinDesc[t],this.isCentered),this.label.gameObject.SetActive(!1),this.labelCentered.gameObject.SetActive(!1)},GUIMessageResultWin.prototype.OnWinLineHide=function(){this.winLineDisplayer.HideWinLine()},GUIMessageResultWin.prototype.OnAllLinesHide=function(){this.OnWinLineHide(),this.HideLabel(),null!=this.catHideAllLines&&this.catHideAllLines.Start()},GUIMessageResultWin.prototype.OnAllLinesShow=function(){var t,e=XT.GetBool(GUIMessageResultWinVars.GUIMessageResultWin_ForceGamePaysMessage);1!=this.receivedWinLines.length||ResultDisplayer.isJackpotWin||XT.GetBool(InterfaceVars.ShowGamePaysAsWinTeaser)||e?(this.winLineDisplayer.HideWinLine(),t=XT.GetBool(Vars.LastWinIsCounting)&&!e?(t=XT.GetInt(Vars.BigWinLevel),4==XT.GetObject(Vars.CoinCounterObject).BigWinSteps.length&&3<=t&&t++,(null==t||t<0||t>=this.localized_WinTeasers.length)&&(t=0),XT.GetBool(InterfaceVars.ShowGamePaysAsWinTeaser)&&this.canShowGamePaysAsWinTeaser?this.gamePaysText:this.localized_WinTeasers[t].text):this.gamePaysText,this.ShowLabel(t),null!=this.catShowAllLines&&this.catShowAllLines.Start()):this.ShowWinLine(this.curWinDesc[0])},GUIMessageResultWin.prototype.OnJackpotShow=function(){this.ShowLabel(this.jackpotText)},GUIMessageResultWin.prototype.OnPayingSymbolShow=function(){this.ShowWinLine(this.payingSymbolsDesc[XT.GetInt(PayingSymbolVars.CurrentDisplayedPayingSymbolIndex)])},GUIMessageResultWin.prototype.OnScattersWinShow=function(){var t=XT.GetInt(PayingSymbolVars.PayingSymbolsScatterIndex);-1<t&&this.ShowWinLine(this.payingSymbolsDesc[t])},GUIMessageResultWin.prototype.ShowWinLine=function(t){this.winLineDisplayer.ShowWinLine(t,this.isCentered),this.HideLabel()},GUIMessageResultWin.prototype.ShowLabel=function(t){this.OnWinLineHide();var e=this.isCentered?this.labelCentered:this.label;e.text=t,e.gameObject.SetActive(!0)},GUIMessageResultWin.prototype.HideLabel=function(){this.label.gameObject.SetActive(!1),this.labelCentered.gameObject.SetActive(!1)},GUIMessageResultWin.prototype.ComputeText=function(t,e,i,n){var o=[];if(null!=i&&o.push(i),n&&o.push(this.localized_Pays.text),null!=e){for(var s=1,r=0;r<e.length;r++)s*=e[r];if(1<s){o.push(this.FormatValue(t/s));for(r=0;r<e.length;r++)1<e[r]&&(o.push("x"),o.push(String(e[r])));o.push("=")}}return o.push(this.FormatValue(t)),o.join(" ")},GUIMessageResultWin.prototype.FormatValue=function(t){return this.WinLineHasCoins()?String(CoinManager.ConvertMoneyToCoins(t)):(null==this.formatOptions&&(this.formatOptions=new FormatOptions),LocaleManager.FormatValue(t,this.formatOptions))},goog.require("UHT.Engine"),CoinsAndCashDisplayer.prototype=Object.create(Component.prototype),(CoinsAndCashDisplayer.prototype.constructor=CoinsAndCashDisplayer).prototype.UpdateDisplay=function(t,e){for(var i=0,i=0;i<this.cashGameObjects.length;i++)this.cashGameObjects[i].SetActive(t);for(i=0;i<this.hiddenWhenCashIsVisible.length;i++)this.hiddenWhenCashIsVisible[i].SetActive(!t);for(i=0;i<this.coinsGameObjects.length;i++)this.coinsGameObjects[i].SetActive(e);for(i=0;i<this.hiddenWhenCoinsAreVisible.length;i++)this.hiddenWhenCoinsAreVisible[i].SetActive(!e)},goog.require("UHT.Engine"),goog.require("UHT.XTLink");var MessageControllerVars={MessageController_ForceGUIMessageResultWin:"MessageController_ForceGUIMessageResultWin"};function MessageController(){XTLink.call(this),this.rq=null,this.hasFeatureWonText=!0,this.dynamicContentNormal=null,this.dynamicContentAutoplay=null,this.dynamicContentFreeSpins=null,this.dynamicContentFreeSpinsMysteryScatter=null,this.dynamicContentBonusRounds=null,this.dynamicContentBonusRoundsAutoplay=null,this.msg_RandomSpin=null,this.showMsgRandomSpinAfterWin=!1,this.msg_ResultWin=null,this.messagesResultWin=null,this.useMessagesResultWin=!1,this.msg_ResultTeaser=null,this.msg_ResultBeforeWinIsDisplayed=null,this.LocalizedSpinMessages=null,this.LocalizedResultTeaserMessages=null,this.event_Win=null,this.event_BigWin=null,this.event_Reset=null,this.winDisplayedContainers=null,this.mysteryScatterSymbolHolder=null,this.mysteryScatterScaleFactor=1,this.freeSpinsFeatureCompleted=[],this.bonusGameFeatureCompleted=[],this.internalState=VSGameState.Invalid,this.coinValueChanged=!1,this.requestToUpdateDisplayedWinInUICame=!1}function InterfaceController(){XTLink.call(this),this.settingsBtns=null,this.autoplayBtn=null,this.autoplayStopBtn=null,this.betBtn=null,this.gambleButton=null,this.hiddenPaytableBtn=null,this.payTableBtn=null,this.betHiddenBtn=null,this.betUpBtn=null,this.betDownBtn=null,this.spinBtn=null,this.stopBtn=null,this.dynamicContentNormal=null,this.dynamicContentFreeSpins=null,this.dynamicContentAutoplay=null,this.dynamicContentFreeSpinsMysteryScatter=null,this.dynamicContentBonusRounds=null,this.dynamicContentBonusRoundsAutoplay=null,this.settingsWindow=null,this.autoplayWindow=null,this.betsWindow=null,this.buttons_resultFSWithGamble=null,this.buttons_resultFSWithoutGamble=null,this.toggledInHiddenMode=null,this.toggledInInterfaceGamble=null,this.visibleInSpecialFeatures=null,this.fsMultiplierToggles=[],this.toggledOnHideWin=[],this.visibleIfGameHasLines=null,this.visibleIfGameHasWays=null,this.rq=null,this.messageController=null,this.balanceParent=null,this.bonusBalanceParent=null,this.internalState=VSGameState.Invalid,this.currentOpenedWindow=InterfaceController.WindowTypes.None,this.betChangeAllowed=!1,this.stopButtonEnabler=null,this.stopButtonColliderEnabler=null}function SmallWinSkipper(){XTLink.call(this)}function LabelGroupScaler(){Component.call(this),this.target=null,this.sources=null}function CoinsSwitcher(){XTLink.call(this)}function GUIMessageTurboSpin(){GUIMessageBase.call(this),this.localized_SpaceToTurboSpin=null,this.turboSpinUsageCount=0}function ValueControlledActive(){XTLink.call(this),this.vdVariable=null,this.visibleWhenPositive=null,this.visibleWhenZeroOrNegative=null}function HasCoinsSwitcher(){XTLink.call(this),this.visibleIfCoins=null,this.visibleIfNoCoins=null}function IdleSpinCounter(){XTLink.call(this),this.activeState=null,this.idleState=null,this.timeToIdleState=5,this.timer=0,this.isIdle=!1,this.isCounting=!1}function OrderedCATStarter(){Component.call(this),this.cats=null,this.resetAutomatically=!1,this.nextCAT=0}function SoundSliderVolume2Cat(){this.value=0,this.cat=null}function SoundSlider(){XTLink.call(this),this.thumb=null,this.localPositionMin=null,this.localPositionMax=null,this.scrollWheelMovement=null,this.scrollWheels=null,this.labels=null,this.bars=null,this.catMute=null,this.catUnmute=null,this.catVolume=null,this.cachedCamera=null,this.prevThumbPos=new UHTMath.Vector3(-1,-1,-1),this.soundManagerInit=!1,this.volumePercent=0,this.mustUpdateVolume=!1}function SoundButtonControllerMobile(){XTLink.call(this),this.buttonOn=null,this.buttonOff=null,this.buttonDownload=null,this.waiting=null,this.mustUpdate=!0,this.enableSoundsWhenReady=!1}function GameHistoryButton(){XTLink.call(this),this.wasTouchMove=!1,this.touchStartHandler=null,this.touchMoveHandler=null,this.touchEndHandler=null}function GameHistoryWindow(){this.root=null,this.btn=null,this.resizeHandler=null,GameHistoryWindow.I=this}function JurisdictionPromoUrlButton(){XTLink.call(this),this.wasTouchMove=!1,this.touchStartHandler=null,this.touchMoveHandler=null,this.touchEndHandler=null}function JurisdictionPromoUrl(){XTLink.call(this),this.mobile=!1,this.newPos=null,this.newScale=null,this.settingWindows=[]}MessageController.prototype=Object.create(XTLink.prototype),(MessageController.prototype.constructor=MessageController).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_MysteryScatterSymbol_Show,this.OnMysteryScatterSymbolShow,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_MysteryScatterSymbol_Hide,this.OnMysteryScatterSymbolHide,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnSpinStarted,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged,this.OnCoinValueChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI,this.OnRequestToUpdateDisplayedWinInUI,this)},MessageController.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(InterfaceVars.HasGUIMessageBeforeWinCount,!1),XT.SetBool(MessageControllerVars.MessageController_ForceGUIMessageResultWin,!1)},MessageController.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGUIInit,this),XT.UnregisterCallbackEvent(this.OnMysteryScatterSymbolShow,this),XT.UnregisterCallbackEvent(this.OnMysteryScatterSymbolHide,this),XT.UnregisterCallbackEvent(this.OnCoinValueChanged,this),XT.UnregisterCallbackEvent(this.OnSpinStarted,this),XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWinInUI,this)},MessageController.prototype.OnGUIInit=function(){this.msg_RandomSpin.Init(this.GetListOfMessages(this.LocalizedSpinMessages,InterfaceVars.GUIMessage_RandomSpin)),this.msg_ResultTeaser.Init(this.GetListOfMessages(this.LocalizedResultTeaserMessages,InterfaceVars.GUIMessage_RandomResultTeaser)),Globals.isMini&&(this.msg_RandomSpin.label.anchorX=0,this.msg_ResultTeaser.label.anchorX=0)},MessageController.prototype.GetListOfMessages=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n].text);return XT.SetObject(e,i),i},MessageController.prototype.ChangeToState=function(t){var e=this.internalState==t;switch(this.internalState=t,e||this.HideAllMessages(),this.event_Reset.Start(),this.UpdateDynamicContent(!0),this.internalState){case VSGameState.Spin:case VSGameState.SpinAutoplay:case VSGameState.SpinFreeSpins:case VSGameState.SpinBonusRounds:case VSGameState.SpinBonusRoundsAutoplay:this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(XT.GetDouble(InterfaceVars.GUIDynamicMessageDelay))),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HideWin,null,this)),this.showMsgRandomSpinAfterWin&&this.IsWinDisplayed()?this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.ShowMessage,this.msg_RandomSpin,this)):this.ShowMessage(this.msg_RandomSpin),this.rq.StartRoutines(),this.requestToUpdateDisplayedWinInUICame=!1;break;case VSGameState.Result:case VSGameState.ResultAutoplay:case VSGameState.ResultBonusRounds:case VSGameState.ResultBonusRoundsAutoplay:case VSGameState.ResultFreeSpins:case VSGameState.ResultFreeSpinsPrepare:case VSGameState.ResultPrepareForBonus:this.UpdateWinDisplayedState(),this.requestToUpdateDisplayedWinInUICame&&this.OnRequestToUpdateDisplayedWinInUI();var i=this.internalState==VSGameState.ResultBonusRounds||this.internalState==VSGameState.ResultBonusRoundsAutoplay;VSGameStateManager.GetPreviousState()==VSGameState.ResultFreeSpins&&t!=VSGameStateManager.GetPreviousState()&&(this.InternalSetActive(this.freeSpinsFeatureCompleted,!i),this.InternalSetActive(this.bonusGameFeatureCompleted,!1),this.HideMessage(this.msg_ResultTeaser)),VSGameStateManager.GetPreviousState()==VSGameState.Bonus&&(this.InternalSetActive(this.bonusGameFeatureCompleted,!i),this.InternalSetActive(this.freeSpinsFeatureCompleted,!1),this.HideMessage(this.msg_ResultTeaser));break;case VSGameState.Bonus:case VSGameState.Gamble:case VSGameState.GambleCustom:case VSGameState.FSBG:case VSGameState.Invalid:this.requestToUpdateDisplayedWinInUICame=!1}},MessageController.prototype.InternalSetActive=function(t,e){for(var i=0;i<t.length;i++)t[i].SetActive(e)},MessageController.prototype.ShowMessage=function(t){t.Show()},MessageController.prototype.HideMessage=function(t){t.Hide()},MessageController.prototype.UpdateDynamicContent=function(t){var e=t;switch(this.internalState){case VSGameState.Spin:case VSGameState.Result:case VSGameState.ResultFreeSpinsPrepare:case VSGameState.ResultPrepareForBonus:this.InternalSetActive(this.dynamicContentNormal,e),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1);break;case VSGameState.SpinAutoplay:case VSGameState.ResultAutoplay:this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentAutoplay,e),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1);break;case VSGameState.SpinFreeSpins:case VSGameState.ResultFreeSpins:this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),0==XT.GetObject(Vars.ReceivedFreeSpinsResponse).MysteryScatter.length?(this.InternalSetActive(this.dynamicContentFreeSpins,e),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1)):(this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,e));break;case VSGameState.SpinBonusRounds:case VSGameState.ResultBonusRounds:this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentBonusRounds,e),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1);break;case VSGameState.SpinBonusRoundsAutoplay:case VSGameState.ResultBonusRoundsAutoplay:this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,e)}},MessageController.prototype.IsWinDisplayed=function(){return 1e-4<(this.internalState==VSGameState.ResultFreeSpins?XT.GetDouble(Vars.FreeSpinsLastWinDisplayed):XT.GetDouble(Vars.SpinCycleWinDisplayed))||XT.GetBool(MessageControllerVars.MessageController_ForceGUIMessageResultWin)},MessageController.prototype.UpdateWinDisplayedState=function(){var t=this.IsWinDisplayed();this.UpdateDisplayForWinContainers(t,t&&!this.coinValueChanged)},MessageController.prototype.HideWin=function(t){this.internalState!=VSGameState.Spin&&this.internalState!=VSGameState.SpinAutoplay&&this.internalState!=VSGameState.SpinFreeSpins||this.UpdateDisplayForWinContainers(!1,!1)},MessageController.prototype.OnSpinStarted=function(){this.coinValueChanged=!1},MessageController.prototype.OnCoinValueChanged=function(){var t;this.internalState!=VSGameState.Result&&this.internalState!=VSGameState.ResultBonusRounds||(this.coinValueChanged=!0,t=this.IsWinDisplayed(),this.UpdateDisplayForWinContainers(t,!1),t&&this.HideAllMessages())},MessageController.prototype.UpdateDisplayForWinContainers=function(t,e){for(var i=0;i<this.winDisplayedContainers.length;i++)this.winDisplayedContainers[i].UpdateDisplay(t,e)},MessageController.prototype.OnRequestToUpdateDisplayedWinInUI=function(){if(this.requestToUpdateDisplayedWinInUICame=!0,this.gameObject.activeInHierarchy)if(this.UpdateWinDisplayedState(),this.IsWinDisplayed()){var t=this.internalState==VSGameState.ResultFreeSpinsPrepare,e=this.internalState==VSGameState.ResultPrepareForBonus;if(this.useMessagesResultWin)for(var i=0;i<this.messagesResultWin.length;++i)this.messagesResultWin[i].SetSpecialFlags(e&&this.hasFeatureWonText,t&&this.hasFeatureWonText),this.ShowMessage(this.messagesResultWin[i]);else this.msg_ResultWin.SetSpecialFlags(e&&this.hasFeatureWonText,t&&this.hasFeatureWonText),this.ShowMessage(this.msg_ResultWin);this.HideMessage(this.msg_ResultTeaser),0==XT.GetInt(Vars.BigWinLevel)?(i=Random.Range(0,this.event_Win.length),this.event_Win[i].Start()):this.event_BigWin.Start()}else{if(this.useMessagesResultWin)for(i=0;i<this.messagesResultWin.length;++i)this.HideMessage(this.messagesResultWin[i]);else this.HideMessage(this.msg_ResultWin);this.internalState!=VSGameState.ResultFreeSpins&&this.internalState!=VSGameState.ResultFreeSpinsPrepare&&this.internalState!=VSGameState.ResultAutoplay?this.ShowMessage(this.msg_ResultTeaser):this.HideMessage(this.msg_ResultTeaser)}},MessageController.prototype.HideAllMessages=function(){if(this.rq.StopRoutines(),this.msg_RandomSpin.Hide(),this.msg_ResultTeaser.Hide(),this.msg_ResultBeforeWinIsDisplayed.Hide(),this.useMessagesResultWin)for(var t=0;t<this.messagesResultWin.length;++t)this.messagesResultWin[t].Hide();else this.msg_ResultWin.Hide();this.InternalSetActive(this.freeSpinsFeatureCompleted,!1),this.InternalSetActive(this.bonusGameFeatureCompleted,!1)},MessageController.prototype.OnMysteryScatterSymbolHide=function(){var t,e;null!=this.mysteryScatterSymbolHolder&&(null!=(t=XT.GetObject(Vars.MysteryScatterSymbol_GameObject))?(e=XT.GetObject(Vars.MysteryScatterSymbol_ParentGameObject),t.transform.SetParent(e.transform,!1)):this.mysteryScatterSymbolHolder.SetActive(!1))},MessageController.prototype.OnMysteryScatterSymbolShow=function(){var t;null!=this.mysteryScatterSymbolHolder&&((t=XT.GetObject(Vars.MysteryScatterSymbol_GameObject)).transform.localScale(this.mysteryScatterScaleFactor,this.mysteryScatterScaleFactor,1),t.transform.SetParent(this.mysteryScatterSymbolHolder.transform,!1))},goog.require("UHT.Engine"),goog.require("UHT.InterfaceUtils"),InterfaceController.prototype=Object.create(XTLink.prototype),(InterfaceController.prototype.constructor=InterfaceController).AutoplayState={Normal:0,Pressed:1,Stop:2},InterfaceController.WindowTypes={None:0,Settings:1,Autoplay:2,Bets:3,Paytable:4},InterfaceController.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(InterfaceVars.IsMobileGUI,!1)},InterfaceController.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytableClosed,this.OnRequestToClosePaytable,this),XT.RegisterCallbackBool(Vars.MinBetAndCoinValueReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.MaxBetAndCoinValueReached,this.OnBetStateUpdated,this),XT.RegisterCallbackBool(Vars.CanSpin,this.OnCanSpinChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_EnableGambleButton,this.OnEnableGambleButton,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_DisableGambleButton,this.OnDisableGambleButton,this),XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows,this.CloseCurrentOpenedWindow,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState,this.OnVSGameStateChanged,this),XT.RegisterCallbackDouble(Vars.BonusBalance,this.UpdateBalanceContent,this),XT.RegisterCallbackBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins,this.OnResultMinimumTimeBetweenSpins,this),XT.RegisterCallbackBool(Vars.DisableStopButton,this.OnDisableStopButton,this)},InterfaceController.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGUIInit,this),XT.UnregisterCallbackEvent(this.OnRequestToClosePaytable,this),XT.UnregisterCallbackBool(this.OnBetStateUpdated,this),XT.UnregisterCallbackEvent(this.OnEnableGambleButton,this),XT.UnregisterCallbackEvent(this.OnDisableGambleButton,this),XT.UnregisterCallbackEvent(this.OnVSGameStateChanged,this),XT.UnregisterCallbackDouble(this.UpdateBalanceContent,this)},InterfaceController.prototype.OnVSGameStateChanged=function(){this.ChangeState(VSGameStateManager.GetState())},InterfaceController.prototype.Pressed_Settings_Open=function(){this.UpdateWindows(InterfaceController.WindowTypes.Settings,!0)},InterfaceController.prototype.Pressed_Settings_Close=function(){this.UpdateWindows(InterfaceController.WindowTypes.Settings,!1)},InterfaceController.prototype.Pressed_TotalBet_Open=function(){this.UpdateWindows(InterfaceController.WindowTypes.Bets,!0)},InterfaceController.prototype.Pressed_TotalBet_Close=function(){this.UpdateWindows(InterfaceController.WindowTypes.Bets,!1)},InterfaceController.prototype.Pressed_Autoplay_Open=function(){this.UpdateWindows(InterfaceController.WindowTypes.Autoplay,!0)},InterfaceController.prototype.Pressed_Autoplay_Close=function(){this.UpdateWindows(InterfaceController.WindowTypes.Autoplay,!1)},InterfaceController.prototype.Pressed_Paytable_Open=function(){this.UpdateWindows(InterfaceController.WindowTypes.Paytable,!0)},InterfaceController.prototype.Pressed_Paytable_Close=function(){this.UpdateWindows(InterfaceController.WindowTypes.Paytable,!1)},InterfaceController.prototype.OnRequestToClosePaytable=function(){this.UpdateWindows(InterfaceController.WindowTypes.Paytable,!1)},InterfaceController.prototype.Pressed_AutoplayStart=function(){this.CloseCurrentOpenedWindow()},InterfaceController.prototype.Pressed_BetSelect=function(){this.CloseCurrentOpenedWindow()},InterfaceController.prototype.OnBetStateUpdated=function(t){this.betChangeAllowed&&this.UpdateBetIncDecButtons(!0)},InterfaceController.prototype.Pressed_Balance=function(){XT.TriggerEvent(Vars.Evt_ToServer_OpenCashier)},InterfaceController.prototype.Pressed_Home=function(){XT.TriggerEvent(Vars.Evt_ToServer_CloseGame)},InterfaceController.prototype.Pressed_SkipScreens=function(){XT.SetBool(Vars.Autoplay_SkipScreens,!XT.GetBool(Vars.Autoplay_SkipScreens))},InterfaceController.prototype.OnGUIInit=function(){var t=XT.GetBool(Vars.CanGamble_Spin);this.gambleButton.SetActive(t);t=XT.GetBool(Vars.CanGamble_FreeSpin);this.buttons_resultFSWithGamble.SetActive(t),this.buttons_resultFSWithoutGamble.SetActive(!t);t=XT.GetBool(Vars.GameHasWaysInsteadOfLines);this.InternalSetActive(this.visibleIfGameHasLines,!t),this.InternalSetActive(this.visibleIfGameHasWays,t),this.ChangeState(VSGameState.Invalid),this.stopButtonEnabler=this.stopBtn.transform.gameObject.GetComponentsInChildren(ButtonEnabler,!0)[0],this.stopButtonColliderEnabler=this.stopBtn.transform.gameObject.GetComponentsInChildren(ColliderEnabler,!0)[0]},InterfaceController.prototype.ChangeState=function(t){this.internalState=t;var e=!1,i=!1,n=XT.GetObject(Vars.ReceivedFreeSpinsResponse);switch(null!=n&&(e=0<n.MysteryScatter.length,i=n.IsFreeSpin),this.rq.StopRoutines(),this.internalState!=VSGameState.Spin&&this.internalState!=VSGameState.SpinAutoplay&&this.internalState!=VSGameState.SpinFreeSpins&&this.internalState!=VSGameState.SpinBonusRounds&&this.internalState!=VSGameState.SpinBonusRoundsAutoplay||(this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(XT.GetDouble(InterfaceVars.GUIDynamicMessageDelay))),this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HideWin,null,this)),this.rq.StartRoutines()),t){case VSGameState.Spin:this.CloseCurrentOpenedWindow(),this.UpdateBetBtns(!1),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!0),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,!1),this.messageController.ChangeToState(VSGameState.Spin);break;case VSGameState.SpinAutoplay:this.UpdateBetBtns(!1),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!0),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop,!0),this.messageController.ChangeToState(VSGameState.SpinAutoplay);break;case VSGameState.SpinFreeSpins:this.UpdateBetBtns(!1),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!0),this.InternalSetActive(this.dynamicContentNormal,!1),e?(this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,i)):(this.InternalSetActive(this.dynamicContentFreeSpins,i),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1)),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,!1),this.messageController.ChangeToState(VSGameState.SpinFreeSpins);break;case VSGameState.SpinBonusRounds:this.CloseCurrentOpenedWindow(),this.UpdateBetBtns(!1),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!0),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,!1),this.messageController.ChangeToState(VSGameState.SpinBonusRounds);break;case VSGameState.SpinBonusRoundsAutoplay:this.UpdateBetBtns(!1),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!0),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop,!0),this.messageController.ChangeToState(VSGameState.SpinBonusRoundsAutoplay);break;case VSGameState.Result:var o=this.InternalCanSpin();this.gambleButton.SetActive(XT.GetBool(Vars.CanGamble_Spin)),this.UpdateBetBtns(o),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.InternalSetActive(this.toggledInInterfaceGamble,!0),this.spinBtn.SetActive(o),this.stopBtn.SetActive(!o),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!0),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,o),this.messageController.ChangeToState(VSGameState.Result);break;case VSGameState.ResultPrepareForBonus:this.UpdateBetBtns(!1),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!0),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,!1),this.messageController.ChangeToState(VSGameState.ResultPrepareForBonus);break;case VSGameState.ResultAutoplay:this.gambleButton.SetActive(XT.GetBool(Vars.CanGamble_Spin)),this.UpdateBetBtns(!1),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.InternalSetActive(this.toggledInInterfaceGamble,!0),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!0),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop,!0),this.messageController.ChangeToState(VSGameState.ResultAutoplay);break;case VSGameState.ResultFreeSpinsPrepare:this.UpdateBetBtns(!1),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.InternalSetActive(this.toggledInInterfaceGamble,!0),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!0),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,!1),this.messageController.ChangeToState(VSGameState.ResultFreeSpinsPrepare);break;case VSGameState.ResultFreeSpins:this.UpdateBetBtns(!1),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.InternalSetActive(this.toggledInInterfaceGamble,!0),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!0),this.InternalSetActive(this.dynamicContentNormal,!1),e?(this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,i)):(this.InternalSetActive(this.dynamicContentFreeSpins,i),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1)),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,!1),this.messageController.ChangeToState(VSGameState.ResultFreeSpins);break;case VSGameState.ResultBonusRounds:this.gambleButton.SetActive(!1),this.UpdateBetBtns(!1),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.InternalSetActive(this.toggledInInterfaceGamble,!0);o=this.InternalCanSpin();this.spinBtn.SetActive(o),this.stopBtn.SetActive(!o),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!0),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!1),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,o),this.messageController.ChangeToState(VSGameState.ResultBonusRounds);break;case VSGameState.ResultBonusRoundsAutoplay:this.gambleButton.SetActive(!1),this.UpdateBetBtns(!1),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.InternalSetActive(this.toggledInInterfaceGamble,!0),this.spinBtn.SetActive(!1),this.stopBtn.SetActive(!0),this.ToggleFSMultiplier(!1),this.InternalSetActive(this.dynamicContentNormal,!1),this.InternalSetActive(this.dynamicContentFreeSpins,!1),this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter,!1),this.InternalSetActive(this.dynamicContentAutoplay,!1),this.InternalSetActive(this.dynamicContentBonusRounds,!1),this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay,!0),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop,!0),this.messageController.ChangeToState(VSGameState.ResultBonusRoundsAutoplay);break;case VSGameState.Bonus:this.UpdateBetBtns(!1),this.ToggleFSMultiplier(i),this.CloseCurrentOpenedWindow(),this.InternalSetActive(this.toggledInHiddenMode,!1),this.InternalSetActive(this.visibleInSpecialFeatures,!0),this.messageController.ChangeToState(VSGameState.Bonus);break;case VSGameState.Gamble:this.ToggleFSMultiplier(!1),this.CloseCurrentOpenedWindow(),this.InternalSetActive(this.toggledInHiddenMode,!0),this.InternalSetActive(this.visibleInSpecialFeatures,!1),this.InternalSetActive(this.toggledInInterfaceGamble,!1),this.messageController.ChangeToState(VSGameState.Gamble);break;case VSGameState.GambleCustom:this.ToggleFSMultiplier(!1),this.CloseCurrentOpenedWindow(),this.InternalSetActive(this.toggledInHiddenMode,!1),this.InternalSetActive(this.visibleInSpecialFeatures,!0),this.messageController.ChangeToState(VSGameState.GambleCustom);break;case VSGameState.FSBG:this.UpdateBetBtns(!1),this.ToggleFSMultiplier(!1),this.CloseCurrentOpenedWindow(),this.InternalSetActive(this.toggledInHiddenMode,!1),this.InternalSetActive(this.visibleInSpecialFeatures,!0),this.messageController.ChangeToState(VSGameState.FSBG);break;default:case VSGameState.Invalid:this.ToggleFSMultiplier(!1),this.CloseCurrentOpenedWindow(),this.InternalSetActive(this.toggledInHiddenMode,!1),this.InternalSetActive(this.visibleInSpecialFeatures,!0),this.messageController.ChangeToState(VSGameState.Invalid)}},InterfaceController.prototype.InternalSetActive=function(t,e){for(var i=0;i<t.length;++i)t[i].SetActive(e)},InterfaceController.prototype.UpdateAutoplayButtons=function(t,e){switch(t){case InterfaceController.AutoplayState.Normal:this.autoplayBtn.opened.SetActive(!1),this.autoplayBtn.closed.SetActive(!0);var i=this.autoplayBtn.closed.GetComponent(ButtonEnabler);e?i.EnableButton():i.DisableButton(),this.autoplayStopBtn.SetActive(!1);break;case InterfaceController.AutoplayState.Pressed:this.autoplayBtn.opened.SetActive(!0),this.autoplayBtn.closed.SetActive(!1),this.autoplayStopBtn.SetActive(!1);break;case InterfaceController.AutoplayState.Stop:this.autoplayBtn.opened.SetActive(!1),this.autoplayBtn.closed.SetActive(!1),this.autoplayStopBtn.SetActive(!0)}},InterfaceController.prototype.CloseCurrentOpenedWindow=function(){this.currentOpenedWindow!=InterfaceController.WindowTypes.None&&(this.ShowHideWindow(this.currentOpenedWindow,!1),this.currentOpenedWindow=InterfaceController.WindowTypes.None)},InterfaceController.prototype.UpdateWindows=function(t,e){this.currentOpenedWindow!=InterfaceController.WindowTypes.None&&this.currentOpenedWindow!=t&&(this.ShowHideWindow(this.currentOpenedWindow,!1),this.currentOpenedWindow=InterfaceController.WindowTypes.None),t!=InterfaceController.WindowTypes.None&&(this.ShowHideWindow(t,e),this.currentOpenedWindow=e?t:InterfaceController.WindowTypes.None,e&&XT.TriggerEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen))},InterfaceController.prototype.ShowHideWindow=function(t,e){switch(t){case InterfaceController.WindowTypes.Settings:e?this.settingsWindow.ShowMenuWindow(this.internalState==VSGameState.Result||this.internalState==VSGameState.ResultBonusRounds):this.settingsWindow.HideMenuWindow();for(var i=0;i<this.settingsBtns.length;++i)this.settingsBtns[i].opened.SetActive(e),this.settingsBtns[i].closed.SetActive(!e);break;case InterfaceController.WindowTypes.Autoplay:var n=XT.GetBool(Vars.InstantAutoplay);n||this.autoplayWindow.SetActive(e),e?(n&&(this.autoplayWindow.GetComponentsInChildren(AutoplayControllerAdvanced,!0)[0].StartAutoplayPressed(),this.Pressed_AutoplayStart()),this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Pressed,!0)):this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,!0);break;case InterfaceController.WindowTypes.Bets:e?this.betsWindow.ShowBetsWindow():this.betsWindow.HideBetsWindow(),this.betBtn.opened.SetActive(e),this.betBtn.closed.SetActive(!e),this.betHiddenBtn.opened.SetActive(e),this.betHiddenBtn.closed.SetActive(!e);break;case InterfaceController.WindowTypes.Paytable:e?XT.TriggerEvent(Vars.Evt_Internal_PaytableOpen):XT.TriggerEvent(Vars.Evt_Internal_PaytableClose),this.payTableBtn.opened.SetActive(e),this.payTableBtn.closed.SetActive(!e),this.hiddenPaytableBtn.opened.SetActive(e),this.hiddenPaytableBtn.closed.SetActive(!e);break;default:console.error("Interface: Trying to start / close an invalid window")}},InterfaceController.prototype.UpdateBetBtns=function(t){this.betChangeAllowed=t;var e=this.betBtn.closed.GetComponent(ButtonEnabler);t?e.EnableButton():e.DisableButton(),this.betHiddenBtn.closed.SetActive(t),this.betsWindow.UpdateBetButtons(t),this.UpdateBetIncDecButtons(t)},InterfaceController.prototype.UpdateBetIncDecButtons=function(t){var e=this.betUpBtn.GetComponent(ButtonEnabler),i=this.betDownBtn.GetComponent(ButtonEnabler);t?(XT.GetBool(Vars.MinBetAndCoinValueReached)?i.DisableButton():i.EnableButton(),XT.GetBool(Vars.MaxBetAndCoinValueReached)?e.DisableButton():e.EnableButton()):(e.DisableButton(),i.DisableButton())},InterfaceController.prototype.OnDisableGambleButton=function(){var t=this.gambleButton.GetComponentsInChildren(ButtonEnabler,!0);if(null!=t)for(var e=0;e<t.length;e++)t[e].DisableButton()},InterfaceController.prototype.OnEnableGambleButton=function(){var t=this.gambleButton.GetComponentsInChildren(ButtonEnabler,!0);if(null!=t)for(var e=0;e<t.length;e++)t[e].EnableButton()},InterfaceController.prototype.OnCanSpinChanged=function(){var t;this.internalState!=VSGameState.Result&&this.internalState!=VSGameState.ResultBonusRounds||(t=this.InternalCanSpin(),this.spinBtn.SetActive(t),this.stopBtn.SetActive(!t),this.UpdateBetBtns(t&&this.internalState==VSGameState.Result),0<=XT.GetInt(Vars.AutoplaySpinsLeft)?this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop,!0):this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal,t))},InterfaceController.prototype.HideWin=function(t){for(var e=0;e<this.toggledOnHideWin.length;e++)this.toggledOnHideWin[e].WinIsHidden()},InterfaceController.prototype.InternalCanSpin=function(){var t=XT.GetObject(Vars.RespinData);return XT.GetBool(Vars.CanSpin)&&(null==t||t.IsDone||XT.GetBool(Vars.ManualRespin))},InterfaceController.prototype.ToggleFSMultiplier=function(t){for(var e=XT.GetObject(Vars.ReceivedFreeSpinsResponse),i=t?Math.floor(e.TotalMultiplier):1,n=0;n<this.fsMultiplierToggles.length;n++)this.fsMultiplierToggles[n].FSMultiplierChanged(i)},InterfaceController.prototype.UpdateBalanceContent=function(t){t=_number.otod(t);XT.GetBool(Vars.Jurisdiction_SplitBalance)&&(this.balanceParent.SetActive(t<=0),this.bonusBalanceParent.SetActive(0<t))},InterfaceController.prototype.OnResultMinimumTimeBetweenSpins=function(t){t&&(XT.RegisterCallbackFloat(Vars.SpinDuration,this.OnSpinDuration,this),XT.RegisterCallbackBool(Vars.CanSpin,this.OnCanSpin,this))},InterfaceController.prototype.OnSpinDuration=function(t){t>XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value)&&(this.stopButtonEnabler.EnableButton(),this.stopButtonColliderEnabler.EnableCollider())},InterfaceController.prototype.OnCanSpin=function(t){t?(this.stopButtonEnabler.EnableButton(),this.stopButtonColliderEnabler.EnableCollider()):(this.stopButtonEnabler.DisableButton(),this.stopButtonColliderEnabler.DisableCollider())},InterfaceController.prototype.OnDisableStopButton=function(t){t&&XT.RegisterCallbackBool(Vars.CanSpin,this.OnCanSpin,this)},goog.require("UHT.Engine"),SmallWinSkipper.prototype=Object.create(XTLink.prototype),(SmallWinSkipper.prototype.constructor=SmallWinSkipper).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.LastWinIsCounting,this.OnWinCount,this)},SmallWinSkipper.prototype.OnDestroy=function(){XT.UnregisterCallbackBool(this.OnWinCount,this)},SmallWinSkipper.prototype.OnWinCount=function(t){t=t&&!XT.GetBool(Vars.WaitInResultForBigWin);this.gameObject.SetActive(t)},SmallWinSkipper.prototype.SkipSmallWinCount=function(){XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),this.gameObject.SetActive(!1)},goog.require("UHT.Engine"),LabelGroupScaler.prototype=Object.create(Component.prototype),(LabelGroupScaler.prototype.constructor=LabelGroupScaler).prototype.Update=function(){for(var t=this.sources[0].localScale().x,e=1;e<this.sources.length;++e)this.sources[e].localScale().x<t&&(t=this.sources[e].localScale().x);t!=this.target.GetNormalizedTime()&&this.target.Sample(UHTMath.clamp(t,0,1))},goog.require("UHT.XTLink"),CoinsSwitcher.prototype=Object.create(XTLink.prototype),(CoinsSwitcher.prototype.constructor=CoinsSwitcher).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.FromServer_AllowCoins,this.OnAllowCoinsChanged,this)},CoinsSwitcher.prototype.OnAllowCoinsChanged=function(t){this.gameObject.GetComponent(Collider).enabled=t},CoinsSwitcher.prototype.OnPress=function(t){t&&(XT.SetBool(Vars.HasCoins,!XT.GetBool(Vars.HasCoins)),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))},goog.require("UHT.Engine"),goog.require("UHT.GUIMessageBase"),GUIMessageTurboSpin.prototype=Object.create(GUIMessageBase.prototype),(GUIMessageTurboSpin.prototype.constructor=GUIMessageTurboSpin).randomMessagesBetweenTurboSpinMessage=0,GUIMessageTurboSpin.prototype.Show=function(){XT.GetBool(Vars.ContinuousSpin)&&XT.SetInt(Vars.DesktopTurboSpinMessageShowCount,XT.GetInt(Vars.DesktopTurboSpinMessageShowCount)+1);var t=!1;XT.GetInt(Vars.DesktopTurboSpinMessageShowCount)<=this.turboSpinUsageCount&&GUIMessageTurboSpin.randomMessagesBetweenTurboSpinMessage%3==0&&(this.label.text=this.localized_SpaceToTurboSpin.text,t=!0),!t&&null!=this.messages&&0<this.messages.length&&(t=Random.Range(0,this.messages.length),this.label.text=this.messages[t]),GUIMessageTurboSpin.randomMessagesBetweenTurboSpinMessage++,this.gameObject.SetActive(!0)},GUIMessageTurboSpin.prototype.Hide=function(){this.gameObject.SetActive(!1)},goog.require("UHT.XTLink"),ValueControlledActive.prototype=Object.create(XTLink.prototype),(ValueControlledActive.prototype.constructor=ValueControlledActive).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackDouble(this.vdVariable.variable.name,this.OnTargetValueChanged,this)},ValueControlledActive.prototype.OnTargetValueChanged=function(t){for(var e=0<t,i=0;i<this.visibleWhenPositive.length;++i)this.visibleWhenPositive[i].SetActive(e);for(i=0;i<this.visibleWhenZeroOrNegative.length;++i)this.visibleWhenZeroOrNegative[i].SetActive(!e)},goog.require("UHT.Engine"),HasCoinsSwitcher.prototype=Object.create(XTLink.prototype),(HasCoinsSwitcher.prototype.constructor=HasCoinsSwitcher).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.HasCoins,this.OnHasCoinsChanged,this)},HasCoinsSwitcher.prototype.OnDestroy=function(){XT.UnregisterCallbackBool(this.OnHasCoinsChanged,this)},HasCoinsSwitcher.prototype.OnHasCoinsChanged=function(t){for(var e=0,e=0;e<this.visibleIfCoins.length;e++)null!=this.visibleIfCoins[e]&&this.visibleIfCoins[e].SetActive(t);for(e=0;e<this.visibleIfNoCoins.length;e++)null!=this.visibleIfNoCoins[e]&&this.visibleIfNoCoins[e].SetActive(!t)},goog.require("UHT.Engine"),IdleSpinCounter.prototype=Object.create(XTLink.prototype),(IdleSpinCounter.prototype.constructor=IdleSpinCounter).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_StartIdleSpinCounter,this.StartCounter,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StopIdleSpinCounter,this.StopCounter,this)},IdleSpinCounter.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(Vars.IdleStateActive,!1)},IdleSpinCounter.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.StartCounter,this),XT.UnregisterCallbackEvent(this.StopCounter,this)},IdleSpinCounter.prototype.StopCounter=function(){this.isIdle&&(this.idleState.IsRunning()&&this.idleState.Stop(),this.activeState.Start()),this.isIdle=!1,this.isCounting=!1,XT.SetBool(Vars.IdleStateActive,!1),XT.TriggerEvent(Vars.Evt_Internal_ExitIdleSpinState)},IdleSpinCounter.prototype.StartCounter=function(){this.isCounting||(this.isCounting=!0,this.timer=0)},IdleSpinCounter.prototype.Update=function(){this.isCounting&&!this.isIdle&&(this.timer+=Time.deltaTime,this.timer>=this.timeToIdleState&&(XT.SetBool(Vars.IdleStateActive,!0),XT.TriggerEvent(Vars.Evt_Internal_EnterIdleSpinState),this.isIdle=!0,this.idleState.Start()))},goog.require("UHT.Engine"),OrderedCATStarter.prototype=Object.create(Component.prototype),(OrderedCATStarter.prototype.constructor=OrderedCATStarter).prototype.StartMextCAT=function(){this.resetAutomatically&&this.nextCAT>=this.cats.length&&this.ResetCATCount(),this.nextCAT>=this.cats.length||null==this.cats[this.nextCAT].cat||(this.cats[this.nextCAT].Start(),this.nextCAT++)},OrderedCATStarter.prototype.ResetCATCount=function(){this.nextCAT=0},OrderedCATStarter.prototype.SetNextCAT=function(t){this.nextCAT=t},goog.require("UHT.XTLink"),SoundSlider.prototype=Object.create(XTLink.prototype),(SoundSlider.prototype.constructor=SoundSlider).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SoundManager,this.OnInitSoundManager,this,-1),XT.RegisterCallbackEvent(Vars.Evt_Internal_SoundStateChanged,this.OnSoundStateChanged,this)},SoundSlider.prototype.OnInitSoundManager=function(){this.thumb.limitPosition=!0,this.thumb.useScrollWheel=!0,this.thumb.localPositionLimitMin=this.localPositionMin,this.thumb.localPositionLimitMax=this.localPositionMax,this.thumb.scrollWheelMovement=this.scrollWheelMovement;for(var t=0;t<this.scrollWheels.length;++t)this.scrollWheels[t].limitPosition=!0,this.scrollWheels[t].useScrollWheel=!0,this.scrollWheels[t].useOnlyScrollWheel=!0,this.scrollWheels[t].localPositionLimitMin=this.localPositionMin,this.scrollWheels[t].localPositionLimitMax=this.localPositionMax,this.scrollWheels[t].scrollWheelMovement=this.scrollWheelMovement;this.UpdateVolume(XT.GetFloat(Vars.SoundVolume)),this.OnSoundStateChanged()},SoundSlider.prototype.LateUpdate=function(){var t=this.thumb.target.localPosition();t.equals(this.prevThumbPos)||this.UpdateVolume((t.x-this.thumb.localPositionLimitMin.x)/(this.thumb.localPositionLimitMax.x-this.thumb.localPositionLimitMin.x)),this.mustUpdateVolume&&this.InternalUpdateVolume(XT.GetFloat(Vars.SoundVolume))},SoundSlider.prototype.InternalUpdateVolume=function(t){SoundLoader.initialized?(createjs.Sound.setVolume(t),this.mustUpdateVolume=!1):this.mustUpdateVolume=!0},SoundSlider.prototype.UpdateVolume=function(t){t=UHTMath.clamp(t,1e-5,1),this.InternalUpdateVolume(t),this.volumePercent=Math.round(100*t);for(var e=String(this.volumePercent),i=0;i<this.labels.length;++i)this.labels[i].text=e;for(var n=0,i=0;i<this.catVolume.length;++i)this.volumePercent>=this.catVolume[i].value&&(n=i);this.catVolume[n].cat.Start();for(i=0;i<this.bars.length;++i)this.bars[i].transform.localScale(new UHTMath.Vector3(t,1,1));var o=UHTMath.Vector3.lerp(this.thumb.localPositionLimitMin,this.thumb.localPositionLimitMax,t);this.thumb.target.localPosition(o),this.prevThumbPos=o,!this.soundManagerInit||((o=XT.GetObject(Vars.SoundState).gameSoundIsOn)&&0==this.volumePercent||!o&&0<this.volumePercent)&&XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn),XT.SetFloat(Vars.SoundVolume,t),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer),this.soundManagerInit=!0},SoundSlider.prototype.OnPress=function(t){t&&(null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),this.thumb.target.position(this.thumb.GetPosition(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition)))),this.thumb.OnPress(t)},SoundSlider.prototype.OnSoundStateChanged=function(){(XT.GetObject(Vars.SoundState).gameSoundIsOn?this.catUnmute:this.catMute).Start()},SoundSlider.prototype.SoundButtonPressed=function(){!XT.GetObject(Vars.SoundState).gameSoundIsOn&&0==this.volumePercent||XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)},goog.provide("UHT.SoundButtonControllerMobile"),goog.require("UHT.Engine"),SoundButtonControllerMobile.prototype=Object.create(XTLink.prototype),(SoundButtonControllerMobile.prototype.constructor=SoundButtonControllerMobile).buttonsUpdatedAfterDownload=!1,SoundButtonControllerMobile.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_SoundStateChanged,this.OnSoundStateChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnSoundStateChanged,this)},SoundButtonControllerMobile.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnSoundStateChanged,this)},SoundButtonControllerMobile.prototype.OnSoundStateChanged=function(){UHTEngine.SoundsAreLoaded()&&this.InternalUpdateButtons()},SoundButtonControllerMobile.prototype.Start=function(){this.buttonOn.SetActive(!1),this.buttonOff.SetActive(!1),this.buttonDownload.SetActive(!0),this.waiting.SetActive(!1)},SoundButtonControllerMobile.prototype.Update=function(){UHTEngine.SoundsAreLoading()&&!this.waiting.activeInHierarchy?(this.buttonDownload.SetActive(!1),this.waiting.SetActive(!0)):UHTEngine.SoundsAreLoaded()&&this.mustUpdate&&(this.mustUpdate=!1,this.waiting.SetActive(!1),this.buttonDownload.SetActive(!1),this.InternalUpdateButtons(),SoundButtonControllerMobile.buttonsUpdatedAfterDownload=!0)},SoundButtonControllerMobile.prototype.SoundOffButtonClicked=function(){(XT.GetObject(Vars.SoundState).gameSoundIsOn||Globals.isMini)&&XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)},SoundButtonControllerMobile.prototype.SoundOnButtonClicked=function(){XT.GetObject(Vars.SoundState).gameSoundIsOn&&!Globals.isMini||XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)},SoundButtonControllerMobile.prototype.InternalUpdateButtons=function(){var t=XT.GetObject(Vars.SoundState).gameSoundIsOn;this.buttonOn.SetActive(t),this.buttonOff.SetActive(!t)},SoundButtonControllerMobile.prototype.SoundDownloadClicked=function(){UHTEngine.StartLoadingSounds(),this.enableSoundsWhenReady&&XT.SetBool(InterfaceVars.EnableSoundsWhenReady,!0)},goog.require("UHT.Engine"),GameHistoryButton.prototype=Object.create(XTLink.prototype),(GameHistoryButton.prototype.constructor=GameHistoryButton).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.HasGameHistory,this.OnValueChanged,this)},GameHistoryButton.prototype.OnDestroy=function(){XT.UnregisterCallbackBool(this.OnValueChanged,this)},GameHistoryButton.prototype.OnValueChanged=function(t){var e=this.gameObject.GetComponent(ButtonEnabler);t?e.EnableButton():e.DisableButton()},GameHistoryButton.prototype.Awake=function(){createjs.BrowserDetect.isIOS&&(this.touchStartHandler=new EventHandler(this,this.OnTouchStart),this.touchMoveHandler=new EventHandler(this,this.OnTouchMove),globalColliderInputManager.addEventHandler(ColliderEvent.ButtonDown,this.touchStartHandler),globalColliderInputManager.addEventHandler(ColliderEvent.MouseMove,this.touchMoveHandler)),this.touchEndHandler=new EventHandler(this,this.OnTouchEnd),globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,this.touchEndHandler),this.cachedCamera=Globals.GetCameraForObject(this.gameObject)},GameHistoryButton.prototype.OnTouchStart=function(){this.wasTouchMove=!1},GameHistoryButton.prototype.OnTouchMove=function(){this.wasTouchMove=!0},GameHistoryButton.prototype.OnTouchEnd=function(){var t;this.gameObject.activeInHierarchy&&XT.GetBool(Vars.HasGameHistory)&&((t=new LayerMask).mask=1<<this.gameObject.layer,t=globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),t),this.wasTouchMove||t!=this.gameObject.collider||UHTInterfaceBOSS.HandleGameHistory()||(UHT_GAME_CONFIG.openHistoryInTab?window.open(ServerOptions.gameHistory):GameHistoryWindow.IsOpen()||(new GameHistoryWindow).Open()))},GameHistoryWindow.I=null,GameHistoryWindow.IsOpen=function(){return null!=GameHistoryWindow.I},GameHistoryWindow.prototype.CreateElement=function(t,e,i){var n,o=document.createElement(t);for(n in e)o.setAttribute(n,e[n]);return i&&document.body.appendChild(o),o},GameHistoryWindow.prototype.Open=function(){var t=this,e=t.CreateElement("iframe",{src:ServerOptions.gameHistory,class:"history-frame",frameborder:"0"},!1);t.btn=t.CreateElement("div",{class:"history-button"},!0),t.btn.addEventListener("click",function(){t.Close()},!1),t.root=t.CreateElement("div",{class:"history-root"},!0),(null!=window.safari||0<=document.documentElement.className.indexOf("iOS"))&&!window.OLD_GAMEHISTORY&&(e.style.width="100%",e.style.height="100%",t.root.style.width="100%",t.root.style.height="100%"),t.root.appendChild(e),(null!=window.safari||0<=document.documentElement.className.indexOf("iOS"))&&!window.OLD_GAMEHISTORY?null!=(e=window.frames[0])&&(document.getElementsByClassName("history-button")[0].style.cssText="-moz-transform:scale(0.6369230769230769);-webkit-transform:scale(0.6369230769230769);-ms-transform:scale(0.6369230769230769);-o-transform:scale(0.6369230769230769);transform:scale(0.6369230769230769)",e.addEventListener("DOMContentLoaded",function(){this.document.addEventListener("touchmove",function(t){1!==t.scale&&t.preventDefault()},{passive:!1});var e,t,i,n=this.frames.historyFrame;null!=n?(n.contentWindow.addEventListener("touchmove",function(t){1!==t.scale&&t.preventDefault()},{passive:!1}),this.document.getElementsByClassName("last-history-container")[0].style.width="100%",this.document.getElementsByClassName("history-detail-iframe")[0].style.width="100%",this.document.getElementsByClassName("customScroll")[0].style.minHeight="100px",t=window.matchMedia("(orientation: portrait)"),e=this,(i=function(t){t.matches?(e.document.getElementsByClassName("history-detail-iframe")[0].style.height="55vh",e.document.getElementsByClassName("history-detail-iframe")[0].style.minHeight="30vh",e.document.getElementsByClassName("customScroll")[0].style.height="30vh"):(e.document.getElementsByClassName("history-detail-iframe")[0].style.height="50vh",e.document.getElementsByClassName("history-detail-iframe")[0].style.minHeight="30vh",e.document.getElementsByClassName("customScroll")[0].style.height="50vh")})(t)):(i=function(t){t.matches?(document.getElementsByClassName("history-frame")[0].style.height="85%",document.getElementsByClassName("history-frame")[0].style.width="100%"):(document.getElementsByClassName("history-frame")[0].style.height="100%",document.getElementsByClassName("history-frame")[0].style.width="85%")})(t=window.matchMedia("(orientation: portrait)")),t.addListener(i)})):(t.resizeHandler=function(){t.OnResize()},window.addEventListener("resize",t.resizeHandler,!0),t.OnResize()),t.SetVisible(!0),Globals.InputBlocked=!0},GameHistoryWindow.prototype.Close=function(){this.SetVisible(!1),document.body.removeChild(this.root),document.body.removeChild(this.btn),window.removeEventListener("resize",this.resizeHandler,!1),GameHistoryWindow.I=null,ServerOptions.isReplay||(Globals.InputBlocked=!1)},GameHistoryWindow.prototype.OnResize=function(){var t=1,t=window.innerHeight/window.innerWidth>650/600?window.innerWidth/600:window.innerHeight/650,t="-moz-transform:scale(VAL);-webkit-transform:scale(VAL);-ms-transform:scale(VAL);-o-transform:scale(VAL);transform:scale(VAL)".replace(new RegExp("VAL","g"),String(t));this.root.setAttribute("style",t),UHT_DEVICE_TYPE.DESKTOP||this.btn.setAttribute("style",t)},GameHistoryWindow.prototype.SetVisible=function(t){var e=document.documentElement,i="history-visible",n=String(e.className).replace(new RegExp(i,"g"),"").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"");t&&(n=[n,i].join(" ")),e.className=n},goog.require("UHT.Engine"),JurisdictionPromoUrlButton.prototype=Object.create(XTLink.prototype),(JurisdictionPromoUrlButton.prototype.constructor=JurisdictionPromoUrlButton).prototype.Awake=function(){createjs.BrowserDetect.isIOS&&(this.touchStartHandler=new EventHandler(this,this.OnTouchStart),this.touchMoveHandler=new EventHandler(this,this.OnTouchMove),globalColliderInputManager.addEventHandler(ColliderEvent.ButtonDown,this.touchStartHandler),globalColliderInputManager.addEventHandler(ColliderEvent.MouseMove,this.touchMoveHandler)),this.touchEndHandler=new EventHandler(this,this.OnTouchEnd),globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,this.touchEndHandler),this.cachedCamera=Globals.GetCameraForObject(this.gameObject)},JurisdictionPromoUrlButton.prototype.OnTouchStart=function(){this.wasTouchMove=!1},JurisdictionPromoUrlButton.prototype.OnTouchMove=function(){this.wasTouchMove=!0},JurisdictionPromoUrlButton.prototype.OnTouchEnd=function(){var t;this.gameObject.activeInHierarchy&&((t=new LayerMask).mask=1<<this.gameObject.layer,t=globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),t),this.wasTouchMove||t!=this.gameObject.collider||window.open(ServerOptions.promotionurl))},goog.require("UHT.Engine"),JurisdictionPromoUrl.prototype=Object.create(XTLink.prototype),(JurisdictionPromoUrl.prototype.constructor=JurisdictionPromoUrl).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_CodeToData_SettingsWindowOpened,this.OnShowPromo,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_SettingsWindowClosed,this.OnHidePromo,this),this.settingWindows=[],this.mobile&&(this.settingWindows.push(globalRuntime.sceneRoots[1].GetComponentsInChildren(MenuWindowControllerMobile,!0)[0].gameObject),this.settingWindows.push(globalRuntime.sceneRoots[1].GetComponentsInChildren(MenuWindowControllerMobile,!0)[1].gameObject))},JurisdictionPromoUrl.prototype.OnShowPromo=function(){XT.GetBool(Vars.Jurisdiction_PromotionURL)&&null!=ServerOptions.promotionurl&&this.gameObject.SetActive(!0)},JurisdictionPromoUrl.prototype.OnEnable=function(){if(this.mobile)for(var t=0;t<this.settingWindows.length;t++)this.settingWindows[t].activeInHierarchy&&(this.settingWindows[t].transform.localPosition(this.newPos),this.settingWindows[t].transform.localScale(this.newScale))},JurisdictionPromoUrl.prototype.OnHidePromo=function(){this.gameObject.SetActive(!1)},goog.require("UHT.XTLink");var SliderType={Bool:0,Int:1,Double:2,Float:3};function Slider(){XTLink.call(this),this.thumb=null,this.thumbVisual=null,this.localPositionMin=null,this.localPositionMax=null,this.scrollWheelMovement=null,this.scrollWheels=null,this.valueDisplayers=null,this.bars=null,this.slicedBars=null,this.slicedBarsMinimumScale=null,this.colorAnimators=null,this.type=SliderType.Bool,this.minValue=0,this.maxValue=0,this.values=null,this.value=0,this.valueIndex=0,this.notifyWhenValueChanged=!0,this.autocomplete=!1,this.animator=null,this.animationTime=0,this.inverseAnimationTime=0,this.xtVariableName="",this.xtVariableIsIndex=!1,this.soundPlayer=null,this.playClickSoundOnRelease=!1,this.cachedCamera=null,this.prevThumbPos=new UHTMath.Vector3(-1,-1,-1),this.isInit=!1,this.internalValue=0,this.autocompleteFrameCount=0}function SoundButtonControllerMobileV10(){SoundButtonControllerMobile.call(this),this.musicSlider=null,this.effectsSlider=null,this.soundSlider=null,this.soundSliderContent=null}function NoMoneyWindowController(){XTLink.call(this)}function Nike_XTEvent(){Component.call(this)}function BonusRoundsTimeLeftDisplayer(){XTLink.call(this),this.timeLabel=null,this.localizedStartsInLabel_0=null,this.localizedStartsInLabel_1=null,this.localizedOpenLabel_0=null,this.localizedOpenLabel_1=null,this.localizedCloseLabel=null,this.localizedDayLabel_0=null,this.localizedDayLabel_1=null,this.localizedDaysLabel_0=null,this.localizedDaysLabel_1=null,this.localizedHourLabel_0=null,this.localizedHourLabel_1=null,this.localizedHoursLabel_0=null,this.localizedHoursLabel_1=null,this.localizedMinuteLabel_0=null,this.localizedMinuteLabel_1=null,this.localizedMinutesLabel_0=null,this.localizedMinutesLabel_1=null,this.localizedSecondLabel_0=null,this.localizedSecondLabel_1=null,this.localizedSecondsLabel_0=null,this.localizedSecondsLabel_1=null,this.maxDaysDisplayedInShortFormat=99999,this.timeIsUp=null,this.synchedTime=0}function LabelTextCopy(){Component.call(this),this.source=null,this.myLabel=null}function AutoplayTypeSwitcher(){XTLink.call(this),this.simpleAutoplay=null,this.advancedAutoplay=null,this.isAllowed=!0,this.isAdvanced=!1}function AutoplayControllerMobile(){XTLink.call(this),this.windowShow=null,this.windowHide=null,this.content=null,this.increaseAutoSpinsButton=null,this.decreaseAutoSpinsButton=null,this.startAutoplayButton=null,this.quickStartAutoplayButtons=null,this.selectSpinsLabel=null,this.autoplayStartAllowed=!1,this.requestedAutoSpins=[10,20,30,50,70,100,500,1e3]}function AutoplayControllerMobileV10(){AutoplayControllerMobile.call(this),this.sliderSpins=null}function CheckBoxControl(){Component.call(this),this.checkedGO=null,this.uncheckedGO=null,this.checkedByDefault=!1,this.isChecked=!1,this.needsInit=!0,this.allowChange=!0}function MobileKeyboard(){Component.call(this),this.titleLabel=null,this.input=null,this.origInput=null,this.isHacked=!1}function MobileKeyboardStarter(){Component.call(this),this.keyboard=null,this.titleLabel=null,this.input=null}function AutoplayControllerAdvanced(){XTLink.call(this),this.startAutoplayButton=null,this.fastPlayToOn=null,this.fastPlayToOff=null,this.turboSpinToOn=null,this.turboSpinToOff=null,this.checkSpins=null,this.checkOnAnyWin=null,this.checkIfAnyFeature=null,this.checkIfSingleWin=null,this.inputWin=null,this.checkIfCashIncreases=null,this.inputCashIncrease=null,this.checkIfCashDecreases=null,this.inputCashDecrease=null,this.requestedAutoSpins=[10,20,30,50,70,100],this.mallHacked=!1,this.isCashDecreaseValid=!0,this.wasCashDecreaseSelected=!1,this.cashDecreaseValidColor=null,this.cashDecreasesUIButtons=null,this.cashDecreasesLabels=null,this.inputCashDecreaseSprite=null,this.startAutoplayButtonLabel=null,this.startAutoplayButtonSprite=null,this.startAutoplayUIButtons=null,this.startAutoplayUIButtonOnClick=null,this.cashDecreaseKeyboardStarter=null,this.validColor=null,this.validColorHover=null,this.validColorPressed=null,this.invalidColor=null,this.invalidColorHover=null,this.invalidColorPressed=null,this.startAutoplayInvalidColor=null}function AutoplayControllerAdvancedV10(){AutoplayControllerAdvanced.call(this),this.sliderSpins=null,this.sliderWinExceeds=null,this.sliderCashIncreases=null,this.sliderCashDecreases=null,this.startAutoplayButtonEnablers=null}function Interface_GambleCard(){XTLink.call(this),this.animatedObject=null,this.stopInLoops=2,this.loopsBeforeStop=0,this.isRed=!1,this.mustStop=!1}function VS_GambleVisual(){XTLink.call(this),this.colorMultiplier=2,this.suitMultiplier=4,this.currentWin=0,this.openedResultWindow=""}function GambleProgressObject(){this.itemIndex=0,this.itemID=0,this.isFromInit=!1}function VS_GambleProgressDisplayer(){XTLink.call(this)}function VS_GambleProgressItem(){XTLink.call(this),this.itemIndex=0,this.Cat=null,this.EventSetRed=null,this.EventSetBlack=null,this.EventShowOnInit=null,this.EventShowAfterPick=null,this.EventReset=null}function QuickSpinWindowController(){XTLink.call(this),this.showWindow=null,this.disableWindow=null,this.numberOfSpinsBeforeWindow=5,this.numberOfStopsBeforeWindow=3,this.numberOfSpins=0,this.numberOfStops=0,this.isFreeSpin=!1,this.isAutoSpin=!1,this.spinStopped=!1}function RatingWindowController(){XTLink.call(this),this.showWindow=null,this.hideWindow=null,this.rateLucky=null,this.rateLuckyUpdateState=null,this.ratePretty=null,this.ratePrettyUpdateState=null,this.okButton=null,this.happyRating=3,this.numberOfWinsBeforeRating=30,this.disabled=!0,this.luckyRating=0,this.prettyRating=0,this.numberOfWins=0,this.mustShowWindow=!1,this.numSkipClicked=0,this.numClicksToSkip=3}function DefaultGameWindowOverrideData(){this.customFSWinWindow=!1,this.customFSLoseWindow=!1}function GameWindowOverrider(){XTLink.call(this),this.FSWinWindow=null,this.FSLoseWindow=null}function GUI_SoundLogic(){XTLink.call(this),this.clipValueAnimator=null,this.gambleSounds=null,this.sndManager=null,this.enableSoundsWhenReady=!1}function CoinManager(){XTLink.call(this)}function AutoplayReopen(){XTLink.call(this),this.shouldReopen=!1,this.reopenAutoplay=null,this.oldState=VSGameState.Invalid}function GUIArrangerPortraitButtonArranger(){this.collider=null,this.animator=null}function GUIArrangerPortraitObjectsBase(){this.DynamicContentV11=null,this.TopBar=null,this.TopBarBackground=null,this.TournamentRankLocalPosition=null,this.AutoplaySimpleWindow=null,this.autoplayButton=null,this.betButton=null,this.spinButtonObstacles=null}function GUIArrangerPortraitObjects(){GUIArrangerPortraitObjectsBase.call(this),this.TournamentRankBackgrounds=null,this.TopBarSprite_base=null,this.TopBarExtraSprite=null,this.BottomBarSprite_base=null,this.BottomBarExtraSprite=null,this.betButtonArranger=null,this.autoplayButtonArranger=null}function GUIArrangerSettingsPortraitObjects(){GUIArrangerPortraitObjectsBase.call(this),this.TournamentRankBackground=null,this.TopBarSprite_base=null,this.TopBarSprite_extra=null,this.BottomBarSprite_base=null,this.BottomBarSprite_extra=null,this.TopBarColor=null,this.BottomBarColor=null}function GUIArrangerSettingsLandscapeObjects(){this.BottomBar=null,this.AnchoredLeftButtonsLocalPosition=null,this.AnchoredRightButtonsScreenAnchor=null,this.TopBarSprite_base=null}function GUIArrangerLandscapeObjects(){GUIArrangerSettingsLandscapeObjects.call(this),this.autoplayButton=null,this.autoplayCollider=null,this.betButton=null,this.betCollider=null}function BlackBands(){this.up=null,this.down=null,this.left=null,this.right=null}function GameAnchors(t,e){this.upLeft=t,this.downRight=e}Slider.prototype=Object.create(XTLink.prototype),(Slider.prototype.constructor=Slider).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this,-1)},Slider.prototype.OnGameInit=function(){this.thumb.limitPosition=!0,this.thumb.useScrollWheel=!0,this.thumb.localPositionLimitMin=this.localPositionMin,this.thumb.localPositionLimitMax=this.localPositionMax,this.thumb.scrollWheelMovement=this.scrollWheelMovement;for(var t=0;t<this.scrollWheels.length;++t)this.scrollWheels[t].limitPosition=!0,this.scrollWheels[t].useScrollWheel=!0,this.scrollWheels[t].useOnlyScrollWheel=!0,this.scrollWheels[t].localPositionLimitMin=this.localPositionMin,this.scrollWheels[t].localPositionLimitMax=this.localPositionMax,this.scrollWheels[t].scrollWheelMovement=this.scrollWheelMovement;this.OnEnable(),this.UpdateValue(this.value),this.isInit=!0},Slider.prototype.OnEnable=function(){var t;_string.IsNullOrEmpty(this.xtVariableName)||(t=0,this.type==SliderType.Bool?t=XT.GetBool(this.xtVariableName)?1:0:this.type==SliderType.Int?t=XT.GetInt(this.xtVariableName):this.type==SliderType.Float?t=XT.GetFloat(this.xtVariableName):this.type==SliderType.Double&&(t=XT.GetDouble(this.xtVariableName)),this.notifyWhenValueChanged=!1,this.xtVariableIsIndex?this.SetValueIndex(t):this.SetValue(t),this.notifyWhenValueChanged=!0)},Slider.prototype.LateUpdate=function(){var t;this.isInit&&((t=this.thumb.target.localPosition()).equals(this.prevThumbPos)||this.UpdateValue((t.x-this.thumb.localPositionLimitMin.x)/(this.thumb.localPositionLimitMax.x-this.thumb.localPositionLimitMin.x)))},Slider.prototype.SetValue=function(t){this.UpdateValue(UHTMath.inverseLerp(this.minValue,this.maxValue,t))},Slider.prototype.SetValueIndex=function(t){this.UpdateValue(UHTMath.inverseLerp(0,this.values.length-1,t))},Slider.prototype.UpdateValue=function(t){var e=t;this.internalValue=t,this.type==SliderType.Bool?this.value=Math.round(t):0<this.values.length?(this.valueIndex=Math.round(UHTMath.lerp(0,this.values.length-1,t)),e=this.valueIndex/(this.values.length-1),this.value=this.values[this.valueIndex]):(this.value=UHTMath.lerp(this.minValue,this.maxValue,t),this.type==SliderType.Int&&(this.value=Math.round(this.value)));for(var i=0;i<this.valueDisplayers.length;++i)this.valueDisplayers[i].callEventWhenValueChangedAllowed=this.notifyWhenValueChanged,this.valueDisplayers[i].SetValueManually(this.value);for(i=0;i<this.bars.length;++i)this.bars[i].transform.localScale(new UHTMath.Vector3(e,1,1));for(i=0;i<this.slicedBars.length;++i)this.slicedBars[i].Sample(e>this.slicedBarsMinimumScale[i]?e:this.slicedBarsMinimumScale[i]);for(i=0;i<this.colorAnimators.length;++i)this.colorAnimators[i].Sample(e);t=UHTMath.Vector3.lerp(this.thumb.localPositionLimitMin,this.thumb.localPositionLimitMax,t);this.thumb.target.localPosition(t),this.prevThumbPos=t,t=UHTMath.Vector3.lerp(this.thumb.localPositionLimitMin,this.thumb.localPositionLimitMax,e),this.thumbVisual.localPosition(t),_string.IsNullOrEmpty(this.xtVariableName)||(this.type==SliderType.Bool?XT.SetBool(this.xtVariableName,.5<=this.value):this.type==SliderType.Int?XT.SetInt(this.xtVariableName,this.value):this.type==SliderType.Float?XT.SetFloat(this.xtVariableName,this.value):this.type==SliderType.Double&&XT.SetDouble(this.xtVariableName,this.value))},Slider.prototype.OnPress=function(t){t?(null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),this.thumb.target.position(this.thumb.GetPosition(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition)))):(this.Autocomplete(),this.playClickSoundOnRelease&&this.soundPlayer.OnClick()),this.thumb.OnPress(t)},Slider.prototype.Autocomplete=function(){var t,e;this.autocomplete&&(this.type!=SliderType.Bool||(t=.5<=this.internalValue?1:0)!=(e=UHTMath.inverseLerp(this.thumb.localPositionLimitMin.x,this.thumb.localPositionLimitMax.x,this.thumb.target.localPosition().x))&&(this.animator.manualTo=.5<=this.internalValue?this.thumb.localPositionLimitMax:this.thumb.localPositionLimitMin,this.animator.animationTime=this.animationTime*Math.abs(t-e),this.animator.Play())),this.autocompleteFrameCount=Time.frameCount},Slider.prototype.InverseAutocomplete=function(){var t,e;this.autocomplete&&this.autocompleteFrameCount!=Time.frameCount&&(this.type!=SliderType.Bool||(t=.5<=this.internalValue?0:1)!=(e=UHTMath.inverseLerp(this.thumb.localPositionLimitMin.x,this.thumb.localPositionLimitMax.x,this.thumb.target.localPosition().x))&&(this.animator.manualTo=1==t?this.thumb.localPositionLimitMax:this.thumb.localPositionLimitMin,this.animator.animationTime=this.inverseAnimationTime*Math.abs(t-e),this.animator.Play()))},goog.require("UHT.SoundButtonControllerMobile"),SoundButtonControllerMobileV10.prototype=Object.create(SoundButtonControllerMobile.prototype),(SoundButtonControllerMobileV10.prototype.constructor=SoundButtonControllerMobileV10).prototype.OnEnable=function(){null!=this.soundSlider&&(this.soundSlider.notifyWhenValueChanged=!1,this.soundSlider.SetValue(XT.GetObject(Vars.SoundState).gameSoundIsOn?1:0),this.soundSlider.notifyWhenValueChanged=!0),null!=this.musicSlider&&(this.musicSlider.notifyWhenValueChanged=!1,this.musicSlider.SetValue(XT.GetObject(Vars.SoundState).musicIsOn?1:0),this.musicSlider.notifyWhenValueChanged=!0),null!=this.effectsSlider&&(this.effectsSlider.notifyWhenValueChanged=!1,this.effectsSlider.SetValue(XT.GetObject(Vars.SoundState).soundFXIsOn?1:0),this.effectsSlider.notifyWhenValueChanged=!0)},SoundButtonControllerMobileV10.prototype.Start=function(){SoundButtonControllerMobile.prototype.Start.call(this),null!=this.soundSliderContent&&this.soundSliderContent.SetActive(!1)},SoundButtonControllerMobileV10.prototype.InternalUpdateButtons=function(){SoundButtonControllerMobile.prototype.InternalUpdateButtons.call(this),null!=this.soundSliderContent&&(this.OnEnable(),this.soundSliderContent.SetActive(!0))},goog.require("UHT.Engine"),NoMoneyWindowController.prototype=Object.create(XTLink.prototype),(NoMoneyWindowController.prototype.constructor=NoMoneyWindowController).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated,this.OnBalanceUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdatedFromResult,this.OnBalanceUpdated,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_NotEnoughMoney_pressedOK,this.OnNoMoneyPressedOK,this)},NoMoneyWindowController.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnBalanceUpdated,this)},NoMoneyWindowController.prototype.OnBalanceUpdated=function(){this.gameObject.activeSelf&&CoinManager.GetNextTotalBet()<=XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived)&&XT.TriggerEvent(Vars.Evt_CodeToData_HideNoMoneyWindow)},NoMoneyWindowController.prototype.OnNoMoneyPressedOK=function(){XT.TriggerEvent(Vars.Evt_CodeToData_HideNoMoneyWindow),1!=window.UHT_DISABLEOPENCASHIEREVENT&&UHTInterfaceBOSS.PostMessage("openCashier")},goog.require("UHT.Component"),Nike_XTEvent.prototype=Object.create(Component.prototype),(Nike_XTEvent.prototype.constructor=Nike_XTEvent).prototype.JustDoIt=function(t){XT.TriggerEvent(t)},goog.require("UHT.Engine"),BonusRoundsTimeLeftDisplayer.prototype=Object.create(XTLink.prototype),(BonusRoundsTimeLeftDisplayer.prototype.constructor=BonusRoundsTimeLeftDisplayer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackDouble(Vars.Jurisdiction_ServerTime,this.OnServerTimeChanged,this)},BonusRoundsTimeLeftDisplayer.prototype.OnServerTimeChanged=function(t){this.synchedTime=.001*t},BonusRoundsTimeLeftDisplayer.prototype.Update=function(){this.synchedTime+=Time.deltaTimeInRealTime;var t=Math.floor(XT.GetDouble(Vars.BonusRoundEndDateTimestamp)-this.synchedTime),t=new Tournament.DHMS(t);this.timeLabel.text=this.SecondstoString(t)},BonusRoundsTimeLeftDisplayer.prototype.SecondstoString=function(t){var e="",i=t.d,n=t.h,o=t.m,t=t.s;return 1==i?e+=this.localizedDayLabel_0.text+i.toString()+this.localizedDayLabel_1.text:1<i&&(e+=this.localizedDaysLabel_0.text+i.toString()+this.localizedDaysLabel_1.text),i>this.maxDaysDisplayedInShortFormat?e=this.localizedDaysLabel_0.text+i.toString()+this.localizedDaysLabel_1.text:(1==n?e+=this.localizedHourLabel_0.text+n.toString()+this.localizedHourLabel_1.text:(0<i||1<n)&&(e+=this.localizedHoursLabel_0.text+n.toString()+this.localizedHoursLabel_1.text),0==i&&(1==o?e+=this.localizedMinuteLabel_0.text+o.toString()+this.localizedMinuteLabel_1.text:(0<i||0<n||1<o)&&(e+=this.localizedMinutesLabel_0.text+o.toString()+this.localizedMinutesLabel_1.text)),0==i&&0==n&&0==i&&(1==t?e+=this.localizedSecondLabel_0.text+t.toString()+this.localizedSecondLabel_1.text:(0<i||0<n||0<o||1<t)&&(e+=this.localizedSecondsLabel_0.text+t.toString()+this.localizedSecondsLabel_1.text)),0==i&&0==n&&0==o&&0==t&&this.timeIsUp.Start(),e)},goog.require("UHT.Engine"),LabelTextCopy.prototype=Object.create(Component.prototype),(LabelTextCopy.prototype.constructor=LabelTextCopy).prototype.Awake=function(){this.myLabel=this.gameObject.GetComponent(UILabel)},LabelTextCopy.prototype.Update=function(){this.source.text!=this.myLabel.text&&(this.myLabel.text=this.source.text)},goog.require("UHT.Engine"),goog.require("UHT.XTLink"),AutoplayTypeSwitcher.prototype=Object.create(XTLink.prototype),(AutoplayTypeSwitcher.prototype.constructor=AutoplayTypeSwitcher).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.HasAdvancedAutoplay,this.OnAdvancedAutoplay,this),XT.RegisterCallbackBool(Vars.Jurisdiction_DisableAutoplay,this.OnDisableAutoplay,this),XT.RegisterCallbackBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin,this.HideStopOnFeatureWin,this),XT.RegisterCallbackBool(Vars.Jurisdiction_Autoplay_NoSkipScreens,this.HideSkipScreens,this)},AutoplayTypeSwitcher.prototype.OnAdvancedAutoplay=function(t){this.isAdvanced=t,this.DoIt()},AutoplayTypeSwitcher.prototype.OnDisableAutoplay=function(t){this.isAllowed=!t,this.DoIt()},AutoplayTypeSwitcher.prototype.DoIt=function(){this.simpleAutoplay.SetActive(!this.isAdvanced&&this.isAllowed),this.advancedAutoplay.SetActive(this.isAdvanced&&this.isAllowed)},AutoplayTypeSwitcher.prototype.HideStopOnFeatureWin=function(t){t&&this.HideObjects(["UI Root/XTRoot/Root/GUI/Interface/Windows/AutoplayAnimator/AutoplayWindow/AdvanceAutoplayWindow/StopAutoplay/Checkboxes/IfFeatureIsWon","UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/StopAutoplay/Checkboxes/IfFeatureIsWon","UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/Clipped/Content/StopAutoplay/Checkboxes/IfFeatureIsWon","UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayWindow/CheckBoxes/Left/IfFeatureIsWon"])},AutoplayTypeSwitcher.prototype.HideSkipScreens=function(t){t&&this.HideObjects(["UI Root/XTRoot/Root/GUI/Interface/Windows/AutoplayAnimator/AutoplayWindow/AutoplaySimpleWindow/Content/Checkboxes/SkipScreens","UI Root/XTRoot/Root/GUI/Interface/Windows/AutoplayAnimator/AutoplayWindow/AdvanceAutoplayWindow/Checkboxes/SkipScreens","UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/Windows/AutoplaySimpleWindow/Content/Checkboxes/SkipScreens","UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/Checkboxes/SkipScreens","UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AutoplaySimpleWindow/Content/Checkboxes/SkipScreens","UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/Clipped/Content/Checkboxes/SkipScreens","UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AutoplaySimpleWindow/Content/SkipScreens","UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayWindow/SkipScreens"])},AutoplayTypeSwitcher.prototype.HideObjects=function(t){for(var e=globalRuntime.sceneRoots,i=e[1].transform.GetComponentsInChildren(LocalizationRoot,!0)[0].transform,n=0;n<e.length;++n)for(var o=0;o<t.length;++o){var s=e[n].transform.Find(t[o]);if(null!=s)s.gameObject.SetActive(!1);else{for(var r=t[o].split("/"),a="",l=3;l<r.length;l++)a+=r[l]+(l<r.length-1?"/":"");null!=(s=i.Find(a))?s.gameObject.SetActive(!1):console.log("Couldn't find object at path: "+t[o])}}},goog.provide("UHT.AutoplayControllerMobile"),goog.require("UHT.XTLink"),AutoplayControllerMobile.prototype=Object.create(XTLink.prototype),(AutoplayControllerMobile.prototype.constructor=AutoplayControllerMobile).prototype.XTInitVariablesAndEvents=function(){XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex,0)},AutoplayControllerMobile.prototype.ShowAutoplayWindow=function(){null!=this.windowShow&&null!=this.windowShow.cat&&this.windowShow.Start()},AutoplayControllerMobile.prototype.HideAutoplayWindow=function(){null!=this.windowHide&&null!=this.windowHide.cat&&this.windowHide.Start()},AutoplayControllerMobile.prototype.AllowAutoplay=function(t){this.autoplayStartAllowed=t,this.UpdateAutoplaySelectionButtons()},AutoplayControllerMobile.prototype.UpdateAutospinsLabel=function(){this.selectSpinsLabel.text=this.requestedAutoSpins[XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex)]},AutoplayControllerMobile.prototype.IncreaseAutoSpins=function(){var t=XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex);XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex,++t),this.UpdateAutoplaySelectionButtons(),this.UpdateAutospinsLabel(),this.SetNumberOfAutoSpins()},AutoplayControllerMobile.prototype.DecreaseAutoSpins=function(){var t=XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex);XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex,--t),this.UpdateAutoplaySelectionButtons(),this.UpdateAutospinsLabel(),this.SetNumberOfAutoSpins()},AutoplayControllerMobile.prototype.SetNumberOfAutoSpins=function(){this.startAutoplayButton.GetComponent(XTButton).paramValue=this.requestedAutoSpins[XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex)]},AutoplayControllerMobile.prototype.UpdateAutoplaySelectionButtons=function(){for(var t=this.increaseAutoSpinsButton.GetComponent(ButtonEnabler),e=this.decreaseAutoSpinsButton.GetComponent(ButtonEnabler),i=this.startAutoplayButton.GetComponent(ButtonEnabler),n=[],o=0;o<this.quickStartAutoplayButtons.length;o++)n.push(this.quickStartAutoplayButtons[o].GetComponent(ButtonEnabler));if(this.autoplayStartAllowed){for(i.EnableButton(),o=0;o<n.length;o++)n[o].EnableButton();XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex)<=0?e.DisableButton():e.EnableButton(),XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex)>=this.requestedAutoSpins.length-1?t.DisableButton():t.EnableButton()}else for(t.DisableButton(),e.DisableButton(),i.DisableButton(),o=0;o<n.length;o++)n[o].DisableButton()},AutoplayControllerMobile.prototype.UpdateAutoplayContent=function(){this.UpdateAutospinsLabel(),this.UpdateAutoplaySelectionButtons(),this.SetNumberOfAutoSpins()},goog.require("UHT.AutoplayControllerMobile"),AutoplayControllerMobileV10.prototype=Object.create(AutoplayControllerMobile.prototype),(AutoplayControllerMobileV10.prototype.constructor=AutoplayControllerMobileV10).prototype.ShowAutoplayWindow=function(){AutoplayControllerMobile.prototype.ShowAutoplayWindow.call(this),this.sliderSpins.SetValueIndex(5),this.SliderValueChanged()},AutoplayControllerMobileV10.prototype.UpdateAutoplaySelectionButtons=function(){for(var t=this.startAutoplayButton.GetComponent(ButtonEnabler),e=[],i=0;i<this.quickStartAutoplayButtons.length;i++)e.push(this.quickStartAutoplayButtons[i].GetComponent(ButtonEnabler));if(this.autoplayStartAllowed)for(t.EnableButton(),i=0;i<e.length;i++)e[i].EnableButton();else for(t.DisableButton(),i=0;i<e.length;i++)e[i].DisableButton()},AutoplayControllerMobileV10.prototype.UpdateAutoplayContent=function(){this.UpdateAutoplaySelectionButtons(),this.SetNumberOfAutoSpins()},AutoplayControllerMobileV10.prototype.SliderValueChanged=function(){var t=this.sliderSpins.valueIndex;XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex,t),this.SetNumberOfAutoSpins()},goog.require("UHT.Engine"),CheckBoxControl.prototype=Object.create(Component.prototype),(CheckBoxControl.prototype.constructor=CheckBoxControl).prototype.Awake=function(){this.needsInit&&this.SetValue(this.checkedByDefault)},CheckBoxControl.prototype.SetValue=function(t){this.isChecked=t,this.needsInit=!1,this.checkedGO.SetActive(t),this.uncheckedGO.SetActive(!t)},CheckBoxControl.prototype.GetValue=function(){return this.isChecked},CheckBoxControl.prototype.OnClick=function(){this.allowChange&&this.SetValue(!this.isChecked)},CheckBoxControl.prototype.Check=function(){this.isChecked||this.gameObject.SendMessage("OnClick")},goog.require("UHT.Engine"),MobileKeyboard.prototype=Object.create(Component.prototype),(MobileKeyboard.prototype.constructor=MobileKeyboard).prototype.OnEnable=function(){if(!this.isHacked){this.isHacked=!0,this.input.validation=UIInput.Validation.Float;for(var t=this.gameObject.transform.Find("Keys/0").GetComponentsInChildren(UIButton,!0),e=null,i=0;i<t.length;++i)if("Label"==t[i].target.gameObject.name){e=t[i];break}var n=e.GetComponent(MessageSender),o=this.gameObject.transform.Find("Keys/Cancel/X/SpriteX").GetComponent(UISprite);o.color=e.color_normal,o.width=200,o.height=200,o.spriteType=UISprite.Type.Filled,o.fillDirection=UISprite.FillDirection.Custom,o.fillAmountTop=.7,o.fillAmountBottom=.4,o.fillAmountLeft=.6,o.fillAmountRight=.6,o.SetSpriteName("menuIcon_info"),o.transform.localPosition(new UHTMath.Vector3(0,-50,0)),o.transform.parent.localPosition(UHTMath.Vector3.zero),o.transform.parent.localScale(UHTMath.Vector3.one),this.gameObject.transform.Find("Keys/Cancel/Bg/SpriteBG").GetComponent(UISprite).color=e.color_normal;var s=this.gameObject.transform.Find("Keys/Cancel").GetComponentsInChildren(UIButton,!0),r=new MessageData(n.onClickEvents[0].eventReceiver,n.onClickEvents[0].methodToCall,n.onClickEvents[0].useParam,"."),n=s[0].gameObject.AddComponent("MessageSender");n.onEnabledEvents=[],n.animationEvents=[],n.onClickEvents=[],n.onClickEvents.push(r);for(i=0;i<s.length;++i)"ContainerBorder"!=s[i].normal&&(s[i].normal=o.spriteName,s[i].hover=o.spriteName,s[i].pressed=o.spriteName,s[i].disabled=o.spriteName,s[i].color_pressed=e.color_pressed),s[i].color_normal=e.color_normal,s[i].color_hover=e.color_hover,null!=s[i].onClick&&s[i].onClick.splice(0)}},MobileKeyboard.prototype.OnDisable=function(){this.gameObject.SetActive(!1)},MobileKeyboard.prototype.ShowKeyboard=function(t,e){this.gameObject.SetActive(!0),this.titleLabel.text=t.text,this.origInput=e,this.input.SetValue(-1<[null,"","0"].indexOf(e.value)?"":e.value),this.input.Select(!0)},MobileKeyboard.prototype.CloseKeyboard=function(){this.gameObject.SetActive(!1)},MobileKeyboard.prototype.ApplyAndCloseKeyboard=function(){this.gameObject.SetActive(!1),this.origInput.SetValue(this.input.value)},goog.require("UHT.Engine"),MobileKeyboardStarter.prototype=Object.create(Component.prototype),(MobileKeyboardStarter.prototype.constructor=MobileKeyboardStarter).prototype.OnClick=function(){this.keyboard.ShowKeyboard(this.titleLabel,this.input)},goog.provide("UHT.AutoplayControllerAdvanced"),goog.require("UHT.XTLink"),AutoplayControllerAdvanced.prototype=Object.create(XTLink.prototype),(AutoplayControllerAdvanced.prototype.constructor=AutoplayControllerAdvanced).formatOptions=null,AutoplayControllerAdvanced.layoutMode=LayoutManager.Mode.Invalid,AutoplayControllerAdvanced.layoutSwitchedFrame=0,AutoplayControllerAdvanced.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout,this.OnSwitchToLandscape,this,-1),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide,this.OnSwitchToLandscape,this,-1),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull,this.OnSwitchToLandscape,this,-1),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout,this.OnSwitchToPortrait,this,-1),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone,this.OnSwitchToPortrait,this,-1),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad,this.OnSwitchToPortrait,this,-1)},AutoplayControllerAdvanced.prototype.XTInitVariablesAndEvents=function(){XT.SetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced,3),XT.SetObject(Vars.AdvancedAutoplaySettings,new AdvancedAutoplaySettings)},AutoplayControllerAdvanced.prototype.OnEnable=function(){if(!this.mallHacked){if(this.mallHacked=!0,this.inputWin.validation=UIInput.Validation.Float,this.inputCashIncrease.validation=UIInput.Validation.Float,this.inputCashDecrease.validation=UIInput.Validation.Float,XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit)){this.checkIfCashDecreases.SetValue(!0),this.checkIfCashDecreases.allowChange=!1,this.cashDecreaseValidColor=this.inputCashDecrease.activeTextColor;var e=this;this.inputCashDecrease.TextExtraHandler=function(t){return e.ProcessCashDecreaseText(t)},this.cashDecreasesLabels=this.checkIfCashDecreases.GetComponentsInChildren(UILabel,!0),this.cashDecreasesUIButtons=this.checkIfCashDecreases.GetComponentsInChildren(UIButton,!0),this.inputCashDecreaseSprite=this.inputCashDecrease.gameObject.transform.Find("Background/Sprite").GetComponent(UISprite),this.cashDecreaseKeyboardStarter=this.inputCashDecrease.GetComponent(MobileKeyboardStarter),this.startAutoplayUIButtons=this.startAutoplayButton.GetComponents(UIButton);for(var t=[],i=[],n=0;n<this.startAutoplayUIButtons.length;++n){for(var o=this.startAutoplayUIButtons[n],s=0;s<o.onClick.length;++s)(o.onClick[s].target==this?t:i).push(o.onClick[s]);o.onClick=[]}this.startAutoplayUIButtons[0].onClick=t,this.startAutoplayUIButtonOnClick=i,this.startAutoplayButtonSprite=this.startAutoplayButton.GetComponent(UISprite),this.startAutoplayButtonLabel=this.startAutoplayButton.transform.parent.GetComponentInChildren(UILabel),this.validColor=this.RGBToColor(1,1,1),this.validColorHover=this.RGBToColor(.5294117647058824,.8823529411764706,.0705882352941176),this.validColorPressed=this.RGBToColor(.3058823529411765,.5372549019607843,.007843137254902),this.invalidColor=this.RGBToColor(1,0,0),this.invalidColorHover=this.RGBToColor(1,.5568627450980392,.5568627450980392),this.invalidColorPressed=this.RGBToColor(1,.1607843137254902,.1607843137254902),this.startAutoplayInvalidColor=this.RGBToColor(.4862745098039216,.4862745098039216,.4862745098039216)}var r,a=this.GetComponent(Collider);null!=a&&(r=a.center,a.center=new UHTMath.Vector3(r.x,r.y,20),a.UpdateCachedMembers())}this.wasCashDecreaseSelected=XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit),AutoplayControllerAdvanced.layoutSwitchedFrame!=Time.frameCount&&XT.SetObject(Vars.AdvancedAutoplaySettings,new AdvancedAutoplaySettings),this.UpdateAutoplayContent()},AutoplayControllerAdvanced.prototype.SetAutoSpinsIndex=function(t){t=_number.otoi(t);t<0||t>=this.requestedAutoSpins.length||(XT.SetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced,t),this.UpdateAutoplayContent())},AutoplayControllerAdvanced.prototype.StartAutoplayPressed=function(){if(!XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit)||this.isCashDecreaseValid){if(this.FillAutoplaySettings(),XT.SetInt(Vars.AutoplaySpinsRequested,this.requestedAutoSpins[XT.GetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced)]),XT.TriggerEvent(Vars.Evt_DataToCode_StartAutoplay),null!=this.startAutoplayUIButtonOnClick)for(var t=0;t<this.startAutoplayUIButtonOnClick.length;t++)null!=this.startAutoplayUIButtonOnClick[t].target&&this.startAutoplayUIButtonOnClick[t].target[this.startAutoplayUIButtonOnClick[t].methodName]()}else Globals.isMobile?this.cashDecreaseKeyboardStarter.OnClick():this.inputCashDecrease.Select(!0)},AutoplayControllerAdvanced.prototype.UpdateAutoplayContent=function(){var t=XT.GetObject(Vars.AdvancedAutoplaySettings);this.checkOnAnyWin.SetValue(t.stopOnAnyWin),this.checkIfAnyFeature.SetValue(t.stopIfFeature),this.checkIfSingleWin.SetValue(t.stopIfSingleWinExceeds),this.inputWin.SetValue(String(0<t.singleWinValue?t.singleWinValue:"")),this.checkIfCashIncreases.SetValue(t.stopIfCashIncreases),this.inputCashIncrease.SetValue(String(0<t.cashIncreasesValue?t.cashIncreasesValue:"")),XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit)||this.checkIfCashDecreases.SetValue(t.stopIfCashDecreases),this.inputCashDecrease.SetValue(String(0<t.cashDecreasesValue?t.cashDecreasesValue:""));for(var e=XT.GetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced),i=0;i<this.checkSpins.length;i++)this.checkSpins[i].SetValue(i==e);this.UpdateFastPlayButtons()},AutoplayControllerAdvanced.prototype.FillAutoplaySettings=function(){var t=new AdvancedAutoplaySettings;t.stopOnAnyWin=this.checkOnAnyWin.GetValue(),t.stopIfFeature=this.checkIfAnyFeature.GetValue(),t.stopIfSingleWinExceeds=this.checkIfSingleWin.GetValue(),t.singleWinValue=_number.otod(this.inputWin.value),t.stopIfCashIncreases=this.checkIfCashIncreases.GetValue(),t.cashIncreasesValue=_number.otod(this.inputCashIncrease.value),t.cashDecreasesValue=_number.otod(this.inputCashDecrease.value),t.stopIfCashDecreases=0<t.cashDecreasesValue,t.initialBalance=XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived),XT.SetObject(Vars.AdvancedAutoplaySettings,t)},AutoplayControllerAdvanced.prototype.ProcessCashDecreaseText=function(t){var e=0;_string.IsNullOrEmpty(t)||(e=_number.otod(t));var i=t;!this.wasCashDecreaseSelected&&this.inputCashDecrease.isSelected&&(this.wasCashDecreaseSelected=!0),this.wasCashDecreaseSelected||(i=-1<[null,"","0"].indexOf(t)?"∞":t);var n=CoinManager.GetNextTotalBet(),t=XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived);if(this.isCashDecreaseValid=("∞"==i||n<e||Math.abs(e-n)<UHTMath.numberError)&&(e<t||Math.abs(e-t)<UHTMath.numberError),this.isCashDecreaseValid)if(this.inputCashDecrease.label.SetColor(this.cashDecreaseValidColor),this.startAutoplayButtonLabel.SetColor(this.validColor),this.startAutoplayButtonSprite.color=this.validColor,this.inputCashDecreaseSprite.color=this.validColor,this.UpdateUIButtonsColors(this.startAutoplayUIButtons,this.validColor,this.validColorHover,this.validColorPressed),Globals.isMobile)for(var o=0;o<this.cashDecreasesLabels.length;++o)this.cashDecreasesLabels[o].SetColor(this.cashDecreaseValidColor);else this.UpdateUIButtonsColors(this.cashDecreasesUIButtons,this.validColor,this.validColorHover,this.validColorPressed);else if(this.inputCashDecrease.label.SetColor(this.invalidColor),this.startAutoplayButtonLabel.SetColor(this.invalidColor),this.startAutoplayButtonSprite.color=this.invalidColor,this.inputCashDecreaseSprite.color=this.invalidColor,this.UpdateUIButtonsColors(this.startAutoplayUIButtons,this.startAutoplayInvalidColor,this.startAutoplayInvalidColor,this.startAutoplayInvalidColor),Globals.isMobile)for(o=0;o<this.cashDecreasesLabels.length;++o)this.cashDecreasesLabels[o].SetColor(this.invalidColor);else this.UpdateUIButtonsColors(this.cashDecreasesUIButtons,this.invalidColor,this.invalidColorHover,this.invalidColorPressed);return i},AutoplayControllerAdvanced.prototype.RGBToColor=function(t,e,i){var n=new Color;return n.r=t,n.g=e,n.b=i,n.a=1,n},AutoplayControllerAdvanced.prototype.UpdateUIButtonsColors=function(t,e,i,n){for(var o=0;o<t.length;++o){var s=t[o];s.color_normal=e,s.color_hover=i,s.color_pressed=n;var r=s.curState;r==UIButton.State.None&&(r=null!=s.gameObject.collider&&s.gameObject.collider.enabled?UIButton.State.Normal:UIButton.State.Disabled),t[o].InternalChangeState(r)}},AutoplayControllerAdvanced.prototype.UpdateFastPlayButtons=function(){var t=XT.GetBool(Vars.FastPlay);this.fastPlayToOn.SetActive(!t),this.fastPlayToOff.SetActive(t),t&&XT.GetBool(Vars.AutoplayContinuousSpin)&&this.UpdateTurboSpinButtons()},AutoplayControllerAdvanced.prototype.UpdateTurboSpinButtons=function(){XT.SetBool(Vars.AutoplayContinuousSpin,!XT.GetBool(Vars.AutoplayContinuousSpin));var t=XT.GetBool(Vars.AutoplayContinuousSpin),e=XT.GetBool(Vars.FastPlay);this.turboSpinToOn.SetActive(!t),this.turboSpinToOff.SetActive(t),t&&e&&(XT.SetBool(Vars.FastPlay,!e),this.fastPlayToOn.SetActive(e),this.fastPlayToOff.SetActive(!e))},AutoplayControllerAdvanced.prototype.OnSwitchToPortrait=function(){this.OnLayoutSwitched(LayoutManager.Mode.Portrait)},AutoplayControllerAdvanced.prototype.OnSwitchToLandscape=function(){this.OnLayoutSwitched(LayoutManager.Mode.Landscape)},AutoplayControllerAdvanced.prototype.OnLayoutSwitched=function(t){AutoplayControllerAdvanced.layoutMode!=t&&(AutoplayControllerAdvanced.layoutMode=t,AutoplayControllerAdvanced.layoutSwitchedFrame=Time.frameCount)},goog.require("UHT.AutoplayControllerAdvanced"),AutoplayControllerAdvancedV10.prototype=Object.create(AutoplayControllerAdvanced.prototype),(AutoplayControllerAdvancedV10.prototype.constructor=AutoplayControllerAdvancedV10).prototype.OnEnable=function(){var t=AutoplayControllerAdvanced.layoutSwitchedFrame!=Time.frameCount;t&&XT.SetObject(Vars.AdvancedAutoplaySettings,new AdvancedAutoplaySettings),this.UpdateAutoplayContent(),this.sliderSpins.SetValueIndex(t?3:XT.GetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced)),this.SetAutoSpinsIndex()},AutoplayControllerAdvancedV10.prototype.SetAutoSpinsIndex=function(){XT.SetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced,this.sliderSpins.valueIndex),this.UpdateAutoplayContent()},AutoplayControllerAdvancedV10.prototype.UpdateAutoplayContent=function(){var t=XT.GetObject(Vars.AdvancedAutoplaySettings);this.checkOnAnyWin.SetValue(t.stopOnAnyWin),this.checkIfAnyFeature.SetValue(t.stopIfFeature);var e=CoinManager.GetNextTotalBet();this.sliderWinExceeds.maxValue=500*e,this.sliderWinExceeds.SetValue(t.singleWinValue),this.sliderCashIncreases.maxValue=5e3*e,this.sliderCashIncreases.SetValue(t.cashIncreasesValue),this.sliderCashDecreases.maxValue=XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived),this.sliderCashDecreases.SetValue(t.cashDecreasesValue),this.UpdateFastPlayButtons(),this.UpdateStartAutoplayButton(t)},AutoplayControllerAdvancedV10.prototype.FillAutoplaySettings=function(){var t=new AdvancedAutoplaySettings;t.stopOnAnyWin=this.checkOnAnyWin.GetValue(),t.stopIfFeature=this.checkIfAnyFeature.GetValue(),t.singleWinValue=Math.round(100*this.sliderWinExceeds.value)/100,t.stopIfSingleWinExceeds=0<t.singleWinValue,t.cashIncreasesValue=Math.round(100*this.sliderCashIncreases.value)/100,t.stopIfCashIncreases=0<t.cashIncreasesValue,t.cashDecreasesValue=Math.round(100*this.sliderCashDecreases.value)/100,t.stopIfCashDecreases=XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit)||0<t.cashDecreasesValue,t.initialBalance=XT.GetDouble(Vars.BalanceReceived)+XT.GetDouble(Vars.BonusBalanceReceived),XT.SetObject(Vars.AdvancedAutoplaySettings,t),this.UpdateStartAutoplayButton(t)},AutoplayControllerAdvancedV10.prototype.UpdateStartAutoplayButton=function(t){if(XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit))if(null==this.startAutoplayButtonEnablers&&(this.startAutoplayButtonEnablers=this.startAutoplayButton.GetComponents(ButtonEnabler)),t.cashDecreasesValue<CoinManager.GetNextTotalBet())for(var e=0;e<this.startAutoplayButtonEnablers.length;++e)this.startAutoplayButtonEnablers[e].DisableButton();else for(e=0;e<this.startAutoplayButtonEnablers.length;++e)this.startAutoplayButtonEnablers[e].EnableButton()},goog.require("UHT.Engine"),Interface_GambleCard.prototype=Object.create(XTLink.prototype),(Interface_GambleCard.prototype.constructor=Interface_GambleCard).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_PickResult_Handled,this.OnResultHandled,this),XT.RegisterCallbackBool(Vars.GameHasCustomGamble,this.OnGameHasCustomGamble,this)},Interface_GambleCard.prototype.OnGameHasCustomGamble=function(t){t&&this.OnDestroy()},Interface_GambleCard.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnResultHandled,this),XT.UnregisterCallbackBool(this.OnGameHasCustomGamble,this)},Interface_GambleCard.prototype.OnDisable=function(){XT.TriggerEvent(Vars.Evt_Internal_StopGambleShuffleCard)},Interface_GambleCard.prototype.OnResultHandled=function(){XT.GetInt(Vars.Gamble_PickResult_ItemID)<26?this.SetAsBlack():this.SetAsRed()},Interface_GambleCard.prototype.IsVisibleRed=function(){this.mustStop&&this.loopsBeforeStop--,this.mustStop&&this.isRed&&this.loopsBeforeStop<1&&(this.animatedObject.animation.GetAnimationState(this.animatedObject.animation.clip.name).speed=0,XT.TriggerEvent(Vars.Evt_Internal_StopGambleShuffleCard),XT.TriggerEvent(Vars.Evt_Internal_PlayGambleShufflingStop))},Interface_GambleCard.prototype.IsVisibleBlack=function(){this.mustStop&&this.loopsBeforeStop--,this.mustStop&&!this.isRed&&this.loopsBeforeStop<1&&(this.animatedObject.animation.GetAnimationState(this.animatedObject.animation.clip.name).speed=0,XT.TriggerEvent(Vars.Evt_Internal_StopGambleShuffleCard),XT.TriggerEvent(Vars.Evt_Internal_PlayGambleShufflingStop))},Interface_GambleCard.prototype.SetAsRed=function(){this.isRed=!0},Interface_GambleCard.prototype.SetAsBlack=function(){this.isRed=!1},Interface_GambleCard.prototype.StartShuffling=function(){this.mustStop=!1,this.loopsBeforeStop=this.stopInLoops,this.animatedObject.animation.isPlaying||this.animatedObject.animation.Play(),this.animatedObject.animation.GetAnimationState(this.animatedObject.animation.clip.name).speed=1,XT.TriggerEvent(Vars.Evt_Internal_PlayGambleShuffleCard)},Interface_GambleCard.prototype.StopShuffling=function(){this.mustStop=!0},goog.require("UHT.Engine"),VS_GambleVisual.prototype=Object.create(XTLink.prototype),(VS_GambleVisual.prototype.constructor=VS_GambleVisual).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackDouble(Vars.Gamble_CurrentBalance,this.OnGambleBalanceReceived,this),XT.RegisterCallbackDouble(Vars.Gamble_ColorMultiplier,this.OnColorMultiplierUpdate,this),XT.RegisterCallbackDouble(Vars.Gamble_SuitMultiplier,this.OnSuitMultiplierUpdate,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Gamble_UpdateDisplayedLabels,this.UpdateDisplayedLabels,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GambleCloseCurrentResultWindow,this.OnResultWindowClose,this),XT.RegisterCallbackBool(Vars.GameHasCustomGamble,this.OnGameHasCustomGamble,this)},VS_GambleVisual.prototype.OnGameHasCustomGamble=function(t){t&&this.OnDestroy()},VS_GambleVisual.prototype.OnDestroy=function(){XT.UnregisterCallbackDouble(this.OnGambleBalanceReceived,this),XT.UnregisterCallbackDouble(this.OnColorMultiplierUpdate,this),XT.UnregisterCallbackDouble(this.OnSuitMultiplierUpdate,this),XT.UnregisterCallbackEvent(this.UpdateDisplayedLabels,this),XT.UnregisterCallbackEvent(this.OnResultWindowClose,this),XT.UnregisterCallbackBool(this.OnGameHasCustomGamble,this)},VS_GambleVisual.prototype.UpdateDisplayedLabels=function(){XT.SetDouble(Vars.Gamble_CurrentBalanceDisplayed,this.currentWin),this.UpdatePossibleWins(this.currentWin)},VS_GambleVisual.prototype.UpdatePossibleWins=function(t){XT.SetDouble(Vars.Gamble_ColorWinDisplayed,t*this.colorMultiplier),XT.SetDouble(Vars.Gamble_SuitWinDisplayed,t*this.suitMultiplier)},VS_GambleVisual.prototype.OnGambleBalanceReceived=function(t){this.currentWin=t},VS_GambleVisual.prototype.OnColorMultiplierUpdate=function(t){this.colorMultiplier=t},VS_GambleVisual.prototype.OnSuitMultiplierUpdate=function(t){this.suitMultiplier=t},VS_GambleVisual.prototype.OnResultWindowClose=function(){"WIN"==this.openedResultWindow?XT.TriggerEvent(Vars.Evt_CodeToData_GambleCloseResultWindowWin):"LOSE"==this.openedResultWindow&&XT.TriggerEvent(Vars.Evt_CodeToData_GambleCloseResultWindowLose),this.openedResultWindow=""},VS_GambleVisual.prototype.ShowResultWindow=function(t){"WIN"==(this.openedResultWindow=t)?(XT.SetDouble(Vars.Gamble_FinalBalanceDisplayed,this.currentWin),XT.TriggerEvent(Vars.Evt_CodeToData_GambleShowResultWindowWin)):XT.TriggerEvent(Vars.Evt_CodeToData_GambleShowResultWindowLose)},goog.require("UHT.Engine"),VS_GambleProgressDisplayer.prototype=Object.create(XTLink.prototype),(VS_GambleProgressDisplayer.prototype.constructor=VS_GambleProgressDisplayer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_DisplayHistory,this.OnHistoryDisplayed,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Gamble_DisplayProgress,this.OnProgressDisplayed,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_ClearProgress,this.OnProgressClear,this),XT.RegisterCallbackBool(Vars.GameHasCustomGamble,this.OnGameHasCustomGamble,this)},VS_GambleProgressDisplayer.prototype.OnGameHasCustomGamble=function(t){t&&this.OnDestroy()},VS_GambleProgressDisplayer.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnHistoryDisplayed,this),XT.UnregisterCallbackEvent(this.OnProgressDisplayed,this),XT.UnregisterCallbackEvent(this.OnProgressClear,this),XT.UnregisterCallbackBool(this.OnGameHasCustomGamble,this)},VS_GambleProgressDisplayer.prototype.OnHistoryDisplayed=function(){for(var t=XT.GetObject(Vars.FromServer_GambleHistory).History,e=0;e<t.length;e++){var i=XT.GetObject(Vars.Gamble_CurrentProgressObject);i.isFromInit=!0,i.itemIndex=e+1,i.itemID=t[e].GetCard(),XT.TriggerEvent(Vars.Evt_Internal_Gamble_UpdateCurrentProgress)}},VS_GambleProgressDisplayer.prototype.OnProgressDisplayed=function(){var t=XT.GetObject(Vars.Gamble_CurrentProgressObject);t.isFromInit=!1;var e=XT.GetObject(Vars.FromServer_GambleResult);t.itemID=e.GetCard(),t.itemIndex++,XT.TriggerEvent(Vars.Evt_Internal_Gamble_UpdateCurrentProgress)},VS_GambleProgressDisplayer.prototype.OnProgressClear=function(){XT.GetObject(Vars.Gamble_CurrentProgressObject).itemIndex=0},goog.require("UHT.Engine"),VS_GambleProgressItem.prototype=Object.create(XTLink.prototype),(VS_GambleProgressItem.prototype.constructor=VS_GambleProgressItem).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_ClearProgress,this.OnProgressClear,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_UpdateCurrentProgress,this.OnProgressUpdate,this),XT.RegisterCallbackBool(Vars.GameHasCustomGamble,this.OnGameHasCustomGamble,this)},VS_GambleProgressItem.prototype.OnGameHasCustomGamble=function(t){t&&this.OnDestroy()},VS_GambleProgressItem.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnProgressClear,this),XT.UnregisterCallbackEvent(this.OnProgressUpdate,this),XT.UnregisterCallbackBool(this.OnGameHasCustomGamble,this)},VS_GambleProgressItem.prototype.OnProgressClear=function(){this.Cat.StartEvent(this.EventReset.id)},VS_GambleProgressItem.prototype.OnProgressUpdate=function(){var t=XT.GetObject(Vars.Gamble_CurrentProgressObject);if(this.itemIndex==t.itemIndex){switch(Math.floor(t.itemID/26)){case 0:this.Cat.StartEvent(this.EventSetBlack.id);break;case 1:this.Cat.StartEvent(this.EventSetRed.id)}t.isFromInit?this.Cat.StartEvent(this.EventShowOnInit.id):this.Cat.StartEvent(this.EventShowAfterPick.id)}},goog.require("UHT.XTLink"),QuickSpinWindowController.prototype=Object.create(XTLink.prototype),(QuickSpinWindowController.prototype.constructor=QuickSpinWindowController).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},QuickSpinWindowController.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(InterfaceVars.ShowFastPlayHint,!0)},QuickSpinWindowController.prototype.OnGameInit=function(){XT.GetBool(Vars.FastPlay)||!XT.GetBool(InterfaceVars.ShowFastPlayHint)||XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins)?this.disableWindow.Start():(XT.RegisterCallbackBool(Vars.Logic_IsFreeSpin,this.OnIsFreeSpinChanged,this),XT.RegisterCallbackBool(Vars.FastPlay,this.OnQuickSpinChanged,this),XT.RegisterCallbackBool(Vars.ContinuousSpin,this.OnQuickSpinChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded,this.OnSpinEnded,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin,this.OnStopSpin,this),XT.RegisterCallbackInt(Vars.AutoplaySpinsLeft,this.OnAutoplaySpinsLeftChanged,this))},QuickSpinWindowController.prototype.OnAutoplaySpinsLeftChanged=function(t){this.isAutoSpin=0<=t,this.isAutoSpin&&(this.numberOfSpins=0,this.numberOfStops=0,this.spinStopped=!1)},QuickSpinWindowController.prototype.OnIsFreeSpinChanged=function(t){this.isFreeSpin=t,this.isFreeSpin&&(this.numberOfSpins=0,this.numberOfStops=0,this.spinStopped=!1)},QuickSpinWindowController.prototype.OnQuickSpinChanged=function(t){t&&(this.xtEnabled=!1)},QuickSpinWindowController.prototype.OnStopSpin=function(){this.isFreeSpin||this.isAutoSpin||(this.spinStopped=!0)},QuickSpinWindowController.prototype.OnSpinEnded=function(){this.isFreeSpin||this.isAutoSpin||(this.numberOfSpins++,this.spinStopped?this.numberOfStops++:this.numberOfStops=0,this.spinStopped=!1,XT.GetDouble(Vars.WinReceived)<=0&&this.numberOfSpins>=this.numberOfSpinsBeforeWindow&&this.numberOfStops>=this.numberOfStopsBeforeWindow&&(this.showWindow.Start(),this.xtEnabled=!1,XT.SetBool(InterfaceVars.ShowFastPlayHint,!1),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)))},goog.require("UHT.Engine"),RatingWindowController.prototype=Object.create(XTLink.prototype),(RatingWindowController.prototype.constructor=RatingWindowController).prototype.ShowWindow=function(){this.SwitchOkButton(),this.showWindow.Start()},RatingWindowController.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},RatingWindowController.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(Vars.GameIsRated,!1),XT.SetBool(Vars.RatingSkipped,!1)},RatingWindowController.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGameInit,this)},RatingWindowController.prototype.OnGameInit=function(){ServerOptions.noRating||this.disabled||XT.GetBool(Vars.GameIsRated)||XT.GetBool(Vars.RatingSkipped)||XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded,this.OnSpinEnded,this)},RatingWindowController.prototype.OnSpinEnded=function(){var t,e;0<XT.GetDouble(Vars.WinReceived)?(this.numberOfWins++,this.numberOfWins>=this.numberOfWinsBeforeRating&&(this.mustShowWindow=!0)):(t=null!=(e=XT.GetObject(Vars.ReceivedFreeSpinsResponse))&&e.IsFreeSpin,e=0<XT.GetInt(Vars.AutoplaySpinsLeft),!this.mustShowWindow||t||e||(this.ShowWindow(),XT.UnregisterCallbackEvent(this.OnSpinEnded,this)))},RatingWindowController.prototype.RateLucky=function(t){var e=_number.otoi(t),t=e+1;(this.luckyRating!=t&&(this.luckyRating>=this.happyRating&&t<this.happyRating||this.luckyRating<this.happyRating&&t>=this.happyRating)?this.rateLuckyUpdateState:this.rateLucky)[e].Start(),this.luckyRating=t,this.SwitchOkButton()},RatingWindowController.prototype.RatePretty=function(t){var e=_number.otoi(t),t=e+1;(this.prettyRating!=t&&(this.prettyRating>=this.happyRating&&t<this.happyRating||this.prettyRating<this.happyRating&&t>=this.happyRating)?this.ratePrettyUpdateState:this.ratePretty)[e].Start(),this.prettyRating=t,this.SwitchOkButton()},RatingWindowController.prototype.SwitchOkButton=function(){for(var t=this.okButton.GetComponents(UIButton),e=0<this.luckyRating&&0<this.prettyRating,i=0;i<t.length;++i)t[i].SetEnabled(e)},RatingWindowController.prototype.OkButtonClicked=function(){globalTracking.SendTimer("Rating","Lucky",1e3*this.luckyRating,"RatingTracker"),globalTracking.SendTimer("Rating","Pretty",1e3*this.prettyRating,"RatingTracker"),XT.SetBool(Vars.GameIsRated,!0),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer),this.hideWindow.Start()},RatingWindowController.prototype.CloseButtonClicked=function(){globalTracking.SendTimer("Rating","SkippedLucky",1e3*this.luckyRating,"RatingTracker"),globalTracking.SendTimer("Rating","SkippedPretty",1e3*this.prettyRating,"RatingTracker"),XT.SetBool(Vars.RatingSkipped,!0),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer),this.hideWindow.Start()},RatingWindowController.prototype.SkipButtonClicked=function(){++this.numSkipClicked,this.numSkipClicked>=this.numClicksToSkip&&(XT.SetBool(Vars.GameIsRated,!0),XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer),this.hideWindow.Start())},goog.require("UHT.Engine"),GameWindowOverrider.prototype=Object.create(XTLink.prototype),(GameWindowOverrider.prototype.constructor=GameWindowOverrider).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit,this.OnGUIInit,this)},GameWindowOverrider.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGUIInit,this)},GameWindowOverrider.prototype.OnGUIInit=function(){var t=XT.GetObject(Vars.DefaultGameWindowOverrideData);null!=this.FSWinWindow&&(this.FSWinWindow.isEnabled=!t.customFSWinWindow),null!=this.FSLoseWindow&&(this.FSLoseWindow.isEnabled=!t.customFSLoseWindow)},goog.require("UHT.XTLink"),goog.require("UHT.SoundManager"),goog.require("UHT.AudioClassesUtils"),GUI_SoundLogic.prototype=Object.create(XTLink.prototype),(GUI_SoundLogic.prototype.constructor=GUI_SoundLogic).prototype.XTInitVariablesAndEvents=function(){XT.SetBool(InterfaceVars.EnableSoundsWhenReady,!1)},GUI_SoundLogic.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.SoundManagerObject,this.OnSoundManagerChanged,this),XT.RegisterCallbackBool(Vars.MusicIsOn,this.OnMusicStateChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PlayValueAnimatorSound,this.OnValueAnimatorIsCounting,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StopValueAnimatorSound,this.OnValueAnimatorFinishedCounting,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PlayGambleShuffleCard,this.OnGambleShuffleStart,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PlayGambleShufflingStop,this.OnGambleShufflePlayStop,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StopGambleShuffleCard,this.OnGambleShuffleStop,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayGambleNewProgressItem,this.OnGambleNewProgressItem,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayGambleResultWin,this.OnGambleResultWindowWin,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayGambleResultLose,this.OnGambelResultWindowLose,this),XT.RegisterCallbackBool(InterfaceVars.EnableSoundsWhenReady,this.OnEnableSoundsWhenReadyChanged,this)},GUI_SoundLogic.prototype.OnDestroy=function(){XT.UnregisterCallbackObject(this.OnSoundManagerChanged,this),XT.UnregisterCallbackBool(this.OnMusicStateChanged,this),XT.UnregisterCallbackEvent(this.OnValueAnimatorIsCounting,this),XT.UnregisterCallbackEvent(this.OnValueAnimatorFinishedCounting,this),XT.UnregisterCallbackEvent(this.OnGambleShuffleStart,this),XT.UnregisterCallbackEvent(this.OnGambleShuffleStop,this),XT.UnregisterCallbackEvent(this.OnGambleNewProgressItem,this),XT.UnregisterCallbackEvent(this.OnGambleResultWindowWin,this),XT.UnregisterCallbackEvent(this.OnGambelResultWindowLose,this)},GUI_SoundLogic.prototype.OnSoundManagerChanged=function(t){this.sndManager=t},GUI_SoundLogic.prototype.OnMusicStateChanged=function(t){var e;this.clipValueAnimator.IsPlaying()&&(e={handle:this.clipValueAnimator.handler},this.sndManager.StopLoopingSound(e),this.clipValueAnimator.handler=e.handle,this.clipValueAnimator.handler=this.sndManager.PlayLooping(this.clipValueAnimator.GetClip(XT.GetInt(Vars.ValueAnimatorSoundIndex))))},GUI_SoundLogic.prototype.OnGambleShuffleStart=function(){this.gambleSounds.shufflingCardLoopable.handler=this.sndManager.PlayLooping(this.gambleSounds.shufflingCardLoopable.GetClip())},GUI_SoundLogic.prototype.OnGambleShuffleStop=function(){var t;this.gambleSounds.shufflingCardLoopable.IsPlaying()&&(t={handle:this.gambleSounds.shufflingCardLoopable.handler},this.sndManager.StopLoopingSound(t),this.gambleSounds.shufflingCardLoopable.handler=t.handle)},GUI_SoundLogic.prototype.OnGambleShufflePlayStop=function(){this.sndManager.PlaySimple(this.gambleSounds.shufflingCardStop)},GUI_SoundLogic.prototype.OnGambleNewProgressItem=function(){this.sndManager.PlaySimple(this.gambleSounds.newProgressItem)},GUI_SoundLogic.prototype.OnGambleResultWindowWin=function(){this.sndManager.PlaySimple(this.gambleSounds.resultWindowWin)},GUI_SoundLogic.prototype.OnGambelResultWindowLose=function(){this.sndManager.PlaySimple(this.gambleSounds.resultWindowLose)},GUI_SoundLogic.prototype.OnValueAnimatorIsCounting=function(){var t;this.clipValueAnimator.IsPlaying()&&(t={handle:this.clipValueAnimator.handler},this.sndManager.StopLoopingSound(t),this.clipValueAnimator.handler=t.handle),this.clipValueAnimator.handler=this.sndManager.PlayLooping(this.clipValueAnimator.GetClip(XT.GetInt(Vars.ValueAnimatorSoundIndex)))},GUI_SoundLogic.prototype.OnValueAnimatorFinishedCounting=function(){var t;this.clipValueAnimator.IsPlaying()&&(t={handle:this.clipValueAnimator.handler},this.sndManager.StopLoopingSound(t),this.clipValueAnimator.handler=t.handle),this.sndManager.PlaySimple(this.clipValueAnimator.GetClip(ClipStage.finalStage))},GUI_SoundLogic.prototype.OnEnableSoundsWhenReadyChanged=function(t){this.enableSoundsWhenReady=t},GUI_SoundLogic.prototype.Update=function(){this.enableSoundsWhenReady&&UHTEngine.SoundsAreLoaded()&&(this.enableSoundsWhenReady=!1,0==XT.GetObject(Vars.SoundState).gameSoundIsOn&&XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn))},goog.require("UHT.XTLink"),CoinManager.prototype=Object.create(XTLink.prototype),(CoinManager.prototype.constructor=CoinManager).instance=null,CoinManager.isInited=!1,CoinManager.lastBet=-1,CoinManager.lastTotalBet=-1,CoinManager.lastIndicesPair=null,CoinManager.isStrictMode=!1,CoinManager.canStillGoToStrictMode=!1,CoinManager.desiredBetIndex=-1,CoinManager.desiredCoinIndex=-1,CoinManager.desiredBet=-1,CoinManager.savedDesiredBet=-1,CoinManager.defaultBet=-1,CoinManager.computedCoinValues=null,CoinManager.betsFromServer=null,CoinManager.prototype.XTInitVariablesAndEvents=function(){CoinManager.instance=this,XT.SetObject(Vars.TotalBets,null),XT.SetObject(Vars.CoinValues,[]),XT.SetInt(Vars.CoinValueIndex,-1),XT.SetInt(Vars.NextBetIndex,0),XT.SetDouble(Vars.MinTotalBetFromServer,0),XT.SetDouble(Vars.MaxTotalBetFromServer,0)},CoinManager.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnSpinStarted,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IncreaseBet,this.IncreaseBet,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_DecreaseBet,this.DecreaseBet,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IncreaseCoinValue,this.IncreaseCoinValue,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_DecreaseCoinValue,this.DecreaseCoinValue,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_SmartIncreaseBet,this.SmartIncreaseBet,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_SmartDecreaseBet,this.SmartDecreaseBet,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_RevertToLastBet,this.RevertToLastBet,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ForceUpdateBetValues,this.UpdateBetValues,this)},CoinManager.prototype.OnDestroy=function(){},CoinManager.prototype.SmartIncreaseBet=function(){var t,e,i,n;XT.GetBool(Vars.FromServer_AllowCoins)?XT.GetBool(Vars.HasCoins)?(t=XT.GetInt(Vars.NextBetIndex),e=XT.GetObject(Vars.Bets),i=XT.GetObject(Vars.CoinValues),n=XT.GetInt(Vars.CoinValueIndex),t<e.length-1?this.IncreaseBet():n<i.length-1&&this.IncreaseCoinValue()):this.SetSmartBet(!0):this.IncreaseBet()},CoinManager.prototype.SmartDecreaseBet=function(){var t,e;XT.GetBool(Vars.FromServer_AllowCoins)?XT.GetBool(Vars.HasCoins)?(t=XT.GetInt(Vars.NextBetIndex),e=XT.GetInt(Vars.CoinValueIndex),0<t?this.DecreaseBet():0<e&&this.DecreaseCoinValue()):this.SetSmartBet(!1):this.DecreaseBet()},CoinManager.prototype.DecreaseBet=function(){var t=XT.GetInt(Vars.NextBetIndex);XT.SetInt(Vars.NextBetIndex,t-1),this.UpdateBetValues()},CoinManager.prototype.IncreaseBet=function(){var t=XT.GetInt(Vars.NextBetIndex);XT.SetInt(Vars.NextBetIndex,t+1),this.UpdateBetValues()},CoinManager.SetBetIndex=function(t){XT.SetInt(Vars.NextBetIndex,t),CoinManager.instance.UpdateBetValues()},CoinManager.prototype.UpdateBetValues=function(){if(0!=CoinManager.isInited){var t=XT.GetInt(Vars.NextBetIndex),e=XT.GetObject(Vars.Bets);if(null==e||t<0||t>=e.length)console.error("Invalid bet data received!!!");else{XT.SetDouble(Vars.BetDisplayed,e[t]);for(var i=XT.GetInt(Vars.BetToTotalBetMultiplier),n=[],o=0;o<e.length;o++)n.push(1e3*e[o]*i/1e3);XT.SetObject(Vars.TotalBets,n),XT.SetDouble(Vars.TotalBetDisplayed,n[t]),XT.SetBool(Vars.MinBetReached,0==t),XT.SetBool(Vars.MaxBetReached,t==e.length-1),XT.GetBool(Vars.FromServer_AllowCoins)?(XT.SetBool(Vars.MinBetAndCoinValueReached,XT.GetBool(Vars.MinBetReached)&&XT.GetBool(Vars.MinCoinValueReached)),XT.SetBool(Vars.MaxBetAndCoinValueReached,XT.GetBool(Vars.MaxBetReached)&&XT.GetBool(Vars.MaxCoinValueReached))):(XT.SetBool(Vars.MinBetAndCoinValueReached,XT.GetBool(Vars.MinBetReached)),XT.SetBool(Vars.MaxBetAndCoinValueReached,XT.GetBool(Vars.MaxBetReached))),XT.TriggerEvent(Vars.Evt_Internal_BetChanged)}}},CoinManager.prototype.IncreaseCoinValue=function(){XT.GetBool(Vars.WaitInResultForBigWin)?XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin):this.SetCoinValueIndex(XT.GetInt(Vars.CoinValueIndex)+1)},CoinManager.prototype.DecreaseCoinValue=function(){XT.GetBool(Vars.WaitInResultForBigWin)?XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin):this.SetCoinValueIndex(XT.GetInt(Vars.CoinValueIndex)-1)},CoinManager.prototype.OnSpinStarted=function(){var t=CoinManager.lastBet,e=XT.GetInt(Vars.NextBetIndex),i=XT.GetObject(Vars.TotalBets);CoinManager.lastTotalBet=i[e];i=XT.GetObject(Vars.Bets);CoinManager.lastBet=i[e];i=!1;XT.GetBool(Vars.FromServer_AllowCoins)&&(CoinManager.lastIndicesPair.betIndex==e&&CoinManager.lastIndicesPair.coinIndex==XT.GetInt(Vars.CoinValueIndex)||(i=!0),CoinManager.lastIndicesPair.betIndex=e,CoinManager.lastIndicesPair.coinIndex=XT.GetInt(Vars.CoinValueIndex)),XT.TriggerEvent(Vars.Evt_Internal_LastBetsChanged),t==CoinManager.lastBet&&!i||(XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))},CoinManager.IsInit=function(){return CoinManager.isInited},CoinManager.InitLastBets=function(){CoinManager.lastBet=CoinManager.GetNextBet(),CoinManager.lastTotalBet=CoinManager.GetNextTotalBet(),XT.TriggerEvent(Vars.Evt_Internal_LastBetsChanged)},CoinManager.GetLastBet=function(){return CoinManager.lastBet},CoinManager.GetNextBet=function(){return XT.GetObject(Vars.Bets)[XT.GetInt(Vars.NextBetIndex)]},CoinManager.GetLastTotalBet=function(){return CoinManager.lastTotalBet},CoinManager.GetNextTotalBet=function(){var t=XT.GetObject(Vars.TotalBets),e=XT.GetInt(Vars.NextBetIndex),i=XT.GetDouble(Vars.AlternativeWager);return 0<=i?i:t[e]},CoinManager.GetLastBetIndices=function(){return CoinManager.lastIndicesPair},CoinManager.ConvertMoneyToCoins=function(t){if(!CoinManager.isInited)return-69;if(XT.GetBool(Vars.FromServer_AllowCoins)){var e=XT.GetObject(Vars.CoinValues),i=XT.GetInt(Vars.CoinValueIndex);return Math.round(t/e[i])}return Math.round(t/CoinManager.GetLastBet())},CoinManager.GetFormatedMoneyValue=function(t,e,i){null==i&&(i=!0);t*=e;if(XT.GetBool(Vars.HasCoins))return CoinManager.ConvertMoneyToCoins(t).toString();e=new FormatOptions;return e.hasDecimals=i,e.fontId=1,LocaleManager.FormatValue(t,e)},CoinManager.prototype.SetCoinValueIndex=function(t){var e=XT.GetObject(Vars.CoinValues);if(t<0||t>=e.length)console.error("Invalid CoinValueIndex!!!");else{var i=XT.GetInt(Vars.NumberOfBetLevels);CoinManager.isInited=!0;for(var n=[],o=1;o<=i;o++)n.push(o*(1e3*e[t])/1e3);XT.SetObject(Vars.Bets,n),XT.SetBool(Vars.MinCoinValueReached,0==t),XT.SetBool(Vars.MaxCoinValueReached,t==e.length-1),XT.SetInt(Vars.CoinValueIndex,t),XT.SetDouble(Vars.CoinValueDisplayed,e[t]),this.UpdateBetValues(),XT.SetBool(Vars.MinBetAndCoinValueReached,XT.GetBool(Vars.MinBetReached)&&XT.GetBool(Vars.MinCoinValueReached)),XT.SetBool(Vars.MaxBetAndCoinValueReached,XT.GetBool(Vars.MaxBetReached)&&XT.GetBool(Vars.MaxCoinValueReached)),XT.TriggerEvent(Vars.Evt_Internal_CoinValueChanged)}},CoinManager.ComputeCoinValuesAndCurrentBet=function(t,e,i){var n=XT.GetInt(Vars.Jurisdiction_MaxBetCents);if(0<n){var o=XT.GetInt(Vars.LinesForMinBet),s=100*t[0];n<s*o&&(s=1);for(var r=[];r.push(s/100),s<10?s++:s+=s<100?5:25,s*o<=n;);var a=Math.floor(n/o);r[r.length-1]!=a/100&&r.push(a/100),e=UHTMath.clamp(e,(t=r)[0],r[r.length-1]),i=UHTMath.clamp(i,r[0],r[r.length-1]),XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer,n/100)}var l=XT.GetInt(Vars.LinesForMinBet),a=XT.GetInt(Vars.LinesForMaxBet);if(XT.SetDouble(Vars.MinTotalBetFromServer,t[0]*l),XT.SetDouble(Vars.MaxTotalBetFromServer,t[t.length-1]*a),XT.GetDouble(Vars.MaxTotalBetFromServer)>XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer)&&XT.SetDouble(Vars.MaxTotalBetFromServer,XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer)),0<n&&XT.GetDouble(Vars.MaxTotalBetFromServer)>n/100&&XT.SetDouble(Vars.MaxTotalBetFromServer,t[t.length-1]*XT.GetInt(Vars.LinesForMinBet)),XT.GetBool(Vars.FromServer_AllowCoins)){for(var u=t[0],h=t[t.length-1],c=[.05,.1,.2,.4],p=XT.GetInt(Vars.NumberOfBetLevels);u*p<h/p*c[0];)c.unshift(.2*c[0]);h/u<p&&XT.SetInt(Vars.NumberOfBetLevels,p=1e3*h/(1e3*u)|0);var d=1e3*h/p/1e3,m=d-u,S=[];S.push(u);for(var g=0;g<c.length;g++){var y=CoinManager.GetNiceCoinValue(u+m*c[g]);u<y&&y<d&&S.push(y)}S.push(d);for(var T=1;T<S.length;T++)Math.abs(S[T]-S[T-1])<.001&&(S.splice(T,1),T--);XT.SetObject(Vars.CoinValues,S),CoinManager.computedCoinValues=S}else CoinManager.betsFromServer=t;CoinManager.SetDesiredBet(e),CoinManager.SetDefaultBet(i)},CoinManager.GetNiceCoinValue=function(t){var e;if(5<t)e=Math.floor(t);else if(1<=t)e=Math.floor(4*t)/4;else{for(var i=[.01,.02,.03,.05,.07,.1,.2,.3,.5,.75],n=5,o=-1,s=0;s<i.length;s++){var r=Math.abs(t-i[s]);r<n&&(n=r,o=s)}e=i[o]}return e},CoinManager.SetPreviousBetIndices=function(t,e){CoinManager.desiredBetIndex=t,CoinManager.desiredCoinIndex=e},CoinManager.SetDesiredBet=function(t){CoinManager.desiredBet=t,CoinManager.savedDesiredBet=t,CoinManager.canStillGoToStrictMode=!0},CoinManager.SetDefaultBet=function(t){CoinManager.defaultBet=t},CoinManager.SetStrictBetMode=function(t){var e=!1;if(XT.GetBool(Vars.FromServer_AllowCoins)){var i=0,n=3<CoinManager.computedCoinValues.length?2:0,o=!1;if(null==CoinManager.lastIndicesPair&&(CoinManager.lastIndicesPair={}),-1!=CoinManager.desiredBetIndex&&-1!=CoinManager.desiredCoinIndex&&(0<=CoinManager.desiredBetIndex&&CoinManager.desiredBetIndex<XT.GetInt(Vars.NumberOfBetLevels)&&(i=CoinManager.desiredBetIndex),0<=CoinManager.desiredCoinIndex&&CoinManager.desiredCoinIndex<CoinManager.computedCoinValues.length&&(n=CoinManager.desiredCoinIndex),o=!0),t&&CoinManager.canStillGoToStrictMode&&(!CoinManager.isStrictMode||!CoinManager.isInited||0<CoinManager.desiredBet)){CoinManager.isInited=!0,CoinManager.canStillGoToStrictMode=!1,CoinManager.isStrictMode=!0;var s=[],r=0,a=0;if(s.push(CoinManager.savedDesiredBet),o&&n==CoinManager.desiredCoinIndex&&i==CoinManager.desiredBetIndex){var l=CoinManager.computedCoinValues[n];if(Math.abs(CoinManager.savedDesiredBet/l-(i+1))<=.001){for(s=[],g=0;g<CoinManager.computedCoinValues.length;g++)s.push(CoinManager.computedCoinValues[g]);a=n,r=i}}XT.SetObject(Vars.CoinValues,s),XT.SetInt(Vars.NextBetIndex,r),CoinManager.lastIndicesPair.betIndex=r,CoinManager.lastIndicesPair.coinIndex=a,CoinManager.instance.SetCoinValueIndex(a)}else if(!t&&(CoinManager.isStrictMode||!CoinManager.isInited||0<CoinManager.desiredBet)){CoinManager.isInited=!0,CoinManager.canStillGoToStrictMode=!1,CoinManager.isStrictMode=!1,XT.SetObject(Vars.CoinValues,CoinManager.computedCoinValues);o=o&&Math.abs(CoinManager.savedDesiredBet-CoinManager.computedCoinValues[n]*(i+1))<.001;if(0<CoinManager.defaultBet&&-1==CoinManager.desiredBetIndex||!o){var u=o?CoinManager.defaultBet:CoinManager.savedDesiredBet,u=CoinManager.GetClosestIndices(u),i=u.betIndex,n=u.coinIndex;CoinManager.defaultBet=-1,e=!0}else if(0<CoinManager.desiredBet)for(var h=XT.GetInt(Vars.NumberOfBetLevels),c=!1,p=0;p<h;p++){for(var d=0;d<CoinManager.computedCoinValues.length;d++)if(Math.abs(CoinManager.desiredBet-CoinManager.computedCoinValues[d]*(p+1))<=.001){i=p,n=d,c=!0;break}if(c)break}XT.SetInt(Vars.NextBetIndex,i),CoinManager.lastIndicesPair.betIndex=i,CoinManager.lastIndicesPair.coinIndex=n,CoinManager.instance.SetCoinValueIndex(n)}}else if(t&&CoinManager.canStillGoToStrictMode&&(!CoinManager.isStrictMode||!CoinManager.isInited||0<CoinManager.desiredBet)){CoinManager.isInited=!0,CoinManager.canStillGoToStrictMode=!1,CoinManager.isStrictMode=!0,XT.SetInt(Vars.NextBetIndex,0);u=[];u.push(CoinManager.savedDesiredBet),XT.SetObject(Vars.Bets,u),CoinManager.instance.UpdateBetValues()}else if(!t&&(CoinManager.isStrictMode||!CoinManager.isInited)){CoinManager.isInited=!0,CoinManager.canStillGoToStrictMode=!1,CoinManager.isStrictMode=!1;var m=CoinManager.savedDesiredBet;-1==CoinManager.desiredBetIndex&&0<CoinManager.defaultBet&&(m=CoinManager.defaultBet);for(var S=2<CoinManager.betsFromServer.length?2:CoinManager.betsFromServer.length,g=0;g<CoinManager.betsFromServer.length;g++)if(Math.abs(m-CoinManager.betsFromServer[g])<=.001){S=g;break}XT.SetInt(Vars.NextBetIndex,S),XT.SetObject(Vars.Bets,CoinManager.betsFromServer),CoinManager.instance.UpdateBetValues()}CoinManager.desiredBet=-1,e&&(XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer,!0),XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))},CoinManager.GetClosestIndices=function(t){for(var e={},i=1e30,n=XT.GetInt(Vars.NumberOfBetLevels),o=0;o<n;o++)for(var s=0;s<CoinManager.computedCoinValues.length;s++){var r=Math.abs(t-CoinManager.computedCoinValues[s]*(o+1));r<i&&(e.betIndex=o,e.coinIndex=s,i=r)}return e},CoinManager.prototype.RevertToLastBet=function(){if(XT.GetBool(Vars.FromServer_AllowCoins))XT.SetInt(Vars.NextBetIndex,CoinManager.lastIndicesPair.betIndex),CoinManager.instance.SetCoinValueIndex(CoinManager.lastIndicesPair.coinIndex);else{for(var t=XT.GetObject(Vars.Bets),e=0,i=0;i<t.length;i++)CoinManager.lastBet==t[i]&&(e=i);XT.SetInt(Vars.NextBetIndex,e),this.UpdateBetValues()}},CoinManager.SmartBet=function(){this.betIndex=-1,this.coinValueIndex=-1,this.betValue=0},CoinManager.smartBets=null,CoinManager.prototype.InitSmartBets=function(){for(var t=XT.GetObject(Vars.CoinValues),e=XT.GetObject(Vars.Bets).length,i=[],n=[],o=0;o<t.length;++o)for(var s=e;0<s;--s){for(var r,a=t[o]*s,l=!0,u=0;u<n.length;++u)if(Math.abs(n[u]-a)<1e-6){l=!1;break}l&&((r=new CoinManager.SmartBet).coinValueIndex=o,r.betIndex=s-1,r.betValue=a,i.push(r),n.push(a))}CoinManager.smartBets=i.sort(function(t,e){return t.betValue>e.betValue?1:e.betValue>t.betValue?-1:0})},CoinManager.prototype.SetSmartBet=function(t){null==CoinManager.smartBets&&this.InitSmartBets();var e=XT.GetInt(Vars.NextBetIndex),i=XT.GetObject(Vars.Bets)[e],n=CoinManager.smartBets,o=null;if(t){for(var s=0;s<n.length;++s)if(i<n[s].betValue&&1e-6<Math.abs(i-n[s].betValue)){o=n[s];break}}else for(s=n.length-1;0<=s;--s)if(i>n[s].betValue&&1e-6<Math.abs(i-n[s].betValue)){o=n[s];break}if(null!=o){if(XT.GetInt(Vars.CoinValueIndex)!=o.coinValueIndex){if(XT.GetBool(Vars.WaitInResultForBigWin))return void XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin);this.SetCoinValueIndex(o.coinValueIndex)}e!=o.betIndex&&(XT.SetInt(Vars.NextBetIndex,o.betIndex),this.UpdateBetValues())}},goog.require("UHT.Engine"),AutoplayReopen.prototype=Object.create(XTLink.prototype),(AutoplayReopen.prototype.constructor=AutoplayReopen).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StartAutoplay,this.OnStartAutoplay,this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay,this.OnStopAutoplay,this),XT.RegisterCallbackBool(Vars.CanSpin,this.OnCanSpin,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState,this.OnVSGameStateChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_StoppedAutoplayByCondition,this.OnStopAutoplay,this)},AutoplayReopen.prototype.OnLastWinIsCountingChanged=function(t){!t&&XT.GetInt(Vars.AutoplaySpinsLeft)<0&&this.shouldReopen&&(this.reopenAutoplay.Start(),this.shouldReopen=!1,XT.UnregisterCallbackBool(this.OnLastWinIsCountingChanged,this))},AutoplayReopen.prototype.OnStartAutoplay=function(){this.shouldReopen=!0,window.globalMustStopAutoplay=!1},AutoplayReopen.prototype.OnStopAutoplay=function(){this.shouldReopen=!1},AutoplayReopen.prototype.OnCanSpin=function(t){t&&XT.GetInt(Vars.AutoplaySpinsLeft)<0&&this.shouldReopen&&(XT.GetDouble(Vars.WinReceived)<=0?(this.reopenAutoplay.Start(),this.shouldReopen=!1):XT.RegisterCallbackBool(Vars.LastWinIsCounting,this.OnLastWinIsCountingChanged,this))},AutoplayReopen.prototype.OnVSGameStateChanged=function(){var t=VSGameStateManager.GetState();this.oldState!=VSGameState.Bonus&&this.oldState!=VSGameState.ResultFreeSpins&&this.oldState!=VSGameState.Gamble&&this.oldState!=VSGameState.GambleCustom||t!=VSGameState.Result||XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone,this.OnResultDisplayerLoopDone,this),this.oldState=t},AutoplayReopen.prototype.OnResultDisplayerLoopDone=function(){XT.GetInt(Vars.AutoplaySpinsLeft)<0&&this.shouldReopen&&(this.reopenAutoplay.Start(),this.shouldReopen=!1,XT.UnregisterCallbackEvent(this.OnResultDisplayerLoopDone,this))},goog.require("UHT.GUIArrangerSettings"),GUIArrangerPortraitButtonArranger.prototype.Arrange=function(t,e,i){null!=t&&null!=e&&(i.CopyPosition(t,e),i.CopyPosition(t,this.collider),this.animator.from=this.animator.to=e)},GUIArrangerPortraitObjects.prototype=Object.create(GUIArrangerPortraitObjectsBase.prototype),GUIArrangerPortraitObjects.prototype.constructor=GUIArrangerPortraitObjects,GUIArrangerSettingsPortraitObjects.prototype=Object.create(GUIArrangerPortraitObjectsBase.prototype),GUIArrangerSettingsPortraitObjects.prototype.constructor=GUIArrangerSettingsPortraitObjects,GUIArrangerLandscapeObjects.prototype=Object.create(GUIArrangerSettingsLandscapeObjects.prototype),GUIArrangerLandscapeObjects.prototype.constructor=GUIArrangerLandscapeObjects;var GUIArrangerVars={GUIArranger_GameSize:"GUIArranger_GameSize"};function GUIArranger(){XTLink.call(this),this.logoObjectAnchor=null,this.logoObjectArrangeable=null,this.TopBarSprite_base=null,this.portraitObjects=null,this.landscapeObjects=null,this.gameAnchorUpLeft=null,this.gameAnchorDownRight=null,this.screenAnchorUpLeft=null,this.screenAnchorDownRight=null,this.blackBands=null,this.gameTitles=null,this.settings=null,this.screenAnchorUpdated=!1}function UserNotification(){XTLink.call(this),this.currentNotificationId=0,this.myNotificationId=-1,this.mustShow=!1}function TimedFreeRoundBonusManager(){UserNotification.call(this),this.currentTime=0,this.timeLabels=null,this.isActive=!1,this.shouldUpdateTimer=!1,this.cachedStartEvent=[],this.cachedbetLevel=0,this.bonusRoundsData=null,this.showTimedFRBInfo=null,this.countingInBackground=!1}GUIArranger.prototype=Object.create(XTLink.prototype),(GUIArranger.prototype.constructor=GUIArranger).I=null,GUIArranger.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(GUIArrangerVars.GUIArranger_GameSize,UHTMath.Vector3.zero),XT.SetObject(InterfaceVars.GameAnchors,new GameAnchors(this.gameAnchorUpLeft.transform,this.gameAnchorDownRight.transform))},GUIArranger.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(InterfaceVars.GUIArrangerSettings,this.OnGUIArrangerSettingsChanged,this)},GUIArranger.prototype.OnGUIArrangerSettingsChanged=function(t){this.settings=t,null!=this.settings&&this.DoIt()},GUIArranger.prototype.Awake=function(){XTLink.prototype.Awake.call(this),GUIArranger.I=this},GUIArranger.prototype.DoIt=function(){if(Globals.isMobile){if(this.CopyTransform(this.settings.portraitTargets.TopBar,this.portraitObjects.TopBar),this.CopyTransform(this.settings.portraitTargets.TopBarBackground,this.portraitObjects.TopBarBackground),this.CopyTransform(this.settings.portraitTargets.DynamicContentV11,this.portraitObjects.DynamicContentV11),this.CopySprite(this.settings.portraitTargets.TopBarSprite_base,this.portraitObjects.TopBarSprite_base),this.CopySprite(this.settings.portraitTargets.TopBarSprite_extra,this.portraitObjects.TopBarExtraSprite),this.CopySprite(this.settings.portraitTargets.BottomBarSprite_base,this.portraitObjects.BottomBarSprite_base),this.CopySprite(this.settings.portraitTargets.BottomBarSprite_extra,this.portraitObjects.BottomBarExtraSprite),this.CopyColor(this.settings.portraitTargets.TopBarColor,this.portraitObjects.TopBarExtraSprite),this.CopyColor(this.settings.portraitTargets.BottomBarColor,this.portraitObjects.BottomBarExtraSprite),this.CopyTransform(this.settings.landscapeTargets.BottomBar,this.landscapeObjects.BottomBar),this.CopyArrangeableTransform(this.settings.gameAnchorUpLeftMobile,this.gameAnchorUpLeft),this.CopyArrangeableTransform(this.settings.gameAnchorDownRightMobile,this.gameAnchorDownRight),null!=this.settings.landscapeTargets.TopBarSprite_base&&null!=this.landscapeObjects.TopBarSprite_base&&(this.CopySprite(this.settings.landscapeTargets.TopBarSprite_base,this.landscapeObjects.TopBarSprite_base),this.CopySpriteSize(this.settings.landscapeTargets.TopBarSprite_base,this.landscapeObjects.TopBarSprite_base),this.CopyColor(this.settings.landscapeTargets.TopBarSprite_base.color,this.landscapeObjects.TopBarSprite_base)),this.settings.applyToExtraElements){this.CopyTransform(this.settings.portraitTargets.AutoplaySimpleWindow,this.portraitObjects.AutoplaySimpleWindow),this.CopyTransformLocalPosition(this.settings.portraitTargets.TournamentRankLocalPosition,this.portraitObjects.TournamentRankLocalPosition);for(var t=0;t<this.portraitObjects.TournamentRankBackgrounds.length;++t)this.CopyTransformLocalPosition(this.settings.portraitTargets.TournamentRankBackground,this.portraitObjects.TournamentRankBackgrounds[t])}var e=this.landscapeObjects.AnchoredLeftButtonsLocalPosition,i=this.settings.landscapeTargets.AnchoredLeftButtonsLocalPosition;null!=e&&null!=i&&(this.CopyLocalPosition(i,e),this.CopyPosition(this.landscapeObjects.autoplayButton,this.landscapeObjects.autoplayCollider),this.CopyPosition(this.landscapeObjects.betButton,this.landscapeObjects.betCollider)),e=this.portraitObjects.spinButtonObstacles,i=this.settings.portraitTargets.spinButtonObstacles,null!=e&&null!=i&&this.CopyTransform(i,e);i=this.landscapeObjects.AnchoredRightButtonsScreenAnchor,e=this.settings.landscapeTargets.AnchoredRightButtonsScreenAnchor;null!=i&&null!=e&&this.CopyScreenAnchor(e,i),this.portraitObjects.betButtonArranger.Arrange(this.settings.portraitTargets.betButton,this.portraitObjects.betButton,this),this.portraitObjects.autoplayButtonArranger.Arrange(this.settings.portraitTargets.autoplayButton,this.portraitObjects.autoplayButton,this)}else null!=this.settings.TopBarSprite_base&&null!=this.TopBarSprite_base&&(this.CopyTransformLocalPosition(this.settings.TopBarSprite_base.gameObject,this.TopBarSprite_base.gameObject),this.CopySprite(this.settings.TopBarSprite_base,this.TopBarSprite_base),this.CopyColor(this.settings.TopBarSprite_base.color,this.TopBarSprite_base),this.CopySpriteSize(this.settings.TopBarSprite_base,this.TopBarSprite_base)),this.CopyTransform(this.settings.gameAnchorUpLeftDesktop,this.gameAnchorUpLeft.gameObject),this.CopyTransform(this.settings.gameAnchorDownRightDesktop,this.gameAnchorDownRight.gameObject)},GUIArranger.prototype.CopyTransform=function(t,e){null!=t&&(e.transform.position(t.transform.position()),e.transform.localScale(t.transform.localScale()))},GUIArranger.prototype.CopyTransformLocalPosition=function(t,e){null!=t&&(e.transform.localPosition(t.transform.localPosition()),e.transform.localScale(t.transform.localScale()))},GUIArranger.prototype.CopyPosition=function(t,e){null!=t&&e.transform.position(t.transform.position())},GUIArranger.prototype.CopyLocalPosition=function(t,e){null!=t&&e.transform.localPosition(t.transform.localPosition())},GUIArranger.prototype.CopyArrangeableTransform=function(t,e){null!=t&&(this.CopyTransform(t.gameObject,e.gameObject),e.localPositionLandscape=t.localPositionLandscape,e.localScaleLandscape=t.localScaleLandscape,e.localPositionPortrait=t.localPositionPortrait,e.localScalePortrait=t.localScalePortrait,e.separateForIPhone=t.separateForIPhone,e.localPositionIPhonePortrait=t.localPositionIPhonePortrait,e.localScaleIPhonePortrait=t.localScaleIPhonePortrait,e.separateForIPad=t.separateForIPad,e.localPositionIPadPortrait=t.localPositionIPadPortrait,e.localScaleIPadPortrait=t.localScaleIPadPortrait,e.separateForLandscapeWide=t.separateForLandscapeWide,e.localPositionLandscapeWide=t.localPositionLandscapeWide,e.localScaleLandscapeWide=t.localScaleLandscapeWide,e.separateForLandscapeWideFull=t.separateForLandscapeWideFull,e.localPositionLandscapeWideFull=t.localPositionLandscapeWideFull,e.localScaleLandscapeWideFull=t.localScaleLandscapeWideFull)},GUIArranger.prototype.CopyScreenAnchor=function(t,e){null!=t&&(this.CopyTransform(t.gameObject,e.gameObject),e.anchorLeft=t.anchorLeft,e.leftOffset=t.leftOffset,e.anchorRight=t.anchorRight,e.rightOffset=t.rightOffset,e.limitByGameAnchors=t.limitByGameAnchors)},GUIArranger.prototype.CopyColor=function(t,e){null!=e&&(e.color=t)},GUIArranger.prototype.CopySprite=function(t,e){null!=t&&null!=e&&(e.atlas=t.atlas,e.anchorX=t.anchorX,e.anchorY=t.anchorY,e.spriteType=t.spriteType,e.SetSpriteName(t.spriteName))},GUIArranger.prototype.CopySpriteSize=function(t,e){null!=t&&null!=e&&(e.width=t.width,e.height=t.height)},GUIArranger.prototype.CopyBand=function(t,e){null!=t&&null!=e&&(e.gameObject.SetActive(t.gameObject.activeSelf),e.gameObject.activeSelf&&(this.CopySpriteSize(t,e),this.CopyTransform(t.gameObject,e.gameObject)))},GUIArranger.prototype.ArrangeBlackBands=function(){var t=this.gameAnchorUpLeft.transform.localPosition(),e=this.gameAnchorDownRight.transform.localPosition(),i=this.screenAnchorUpLeft.transform.localPosition(),n=this.screenAnchorDownRight.transform.localPosition(),o=Math.round(i.y-t.y),s=Math.round(n.y-e.y),r=Math.round(i.x-t.x),a=Math.round(n.x-e.x),l=Math.round(n.x-i.x),n=Math.round(i.y-n.y);this.blackBands.up.gameObject.SetActive(0<o),this.blackBands.up.gameObject.activeSelf&&(this.blackBands.up.width=l,this.blackBands.up.height=o),this.blackBands.down.gameObject.SetActive(s<0),this.blackBands.down.gameObject.activeSelf&&(this.blackBands.down.width=l,this.blackBands.down.height=-s),this.blackBands.left.gameObject.SetActive(r<0),this.blackBands.left.gameObject.activeSelf&&(this.blackBands.left.height=n,this.blackBands.left.width=-r),this.blackBands.right.gameObject.SetActive(0<a),this.blackBands.right.gameObject.activeSelf&&(this.blackBands.right.height=n,this.blackBands.right.width=a);a=Math.round(e.x-t.x),e=Math.round(t.y-e.y);XT.SetObject(GUIArrangerVars.GUIArranger_GameSize,new UHTMath.Vector3(Math.min(l,a),Math.min(n,e),0)),XT.TriggerEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated)},GUIArranger.InitBands=function(t){var e=GUIArranger.I,i=e.blackBands;e.CopySprite(i.up,t.up),e.CopySprite(i.down,t.down),e.CopySprite(i.left,t.left),e.CopySprite(i.right,t.right)},GUIArranger.UpdateBands=function(t){var e=GUIArranger.I,i=e.blackBands;e.CopyBand(i.up,t.up),e.CopyBand(i.down,t.down),e.CopyBand(i.left,t.left),e.CopyBand(i.right,t.right)},GUIArranger.prototype.ScreenAnchorUpdated=function(){this.screenAnchorUpdated=!0},GUIArranger.prototype.LateUpdate=function(){this.screenAnchorUpdated&&(this.ArrangeBlackBands(),this.screenAnchorUpdated=!1)},goog.require("UHT.Engine"),goog.provide("UHT.UserNotification"),UserNotification.prototype=Object.create(XTLink.prototype),(UserNotification.prototype.constructor=UserNotification).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.ShowPendingNotifications,this.OnShowPendingNotifications,this)},UserNotification.prototype.OnShowPendingNotifications=function(){this.myNotificationId==this.currentNotificationId&&this.mustShow&&(this.mustShow=!1,this.Show())},UserNotification.prototype.RequestToShow=function(){this.currentNotificationId++,this.myNotificationId=this.currentNotificationId,this.mustShow=!0},UserNotification.prototype.Handled=function(){this.myNotificationId=-1,this.currentNotificationId--},UserNotification.prototype.Show=function(){},goog.require("UHT.Engine"),goog.require("UHT.UserNotification"),TimedFreeRoundBonusManager.prototype=Object.create(UserNotification.prototype),(TimedFreeRoundBonusManager.prototype.constructor=TimedFreeRoundBonusManager).prototype.XTRegisterCallbacks=function(){UserNotification.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed,this.OnContinuePressed,this),XT.RegisterCallbackEvent(Vars.Evt_CodeToData_TimedBonusRoundsFinished,this.OnTimedBonusRoundsFinished,this),XT.RegisterCallbackObject(Vars.BonusRoundsData,this.OnBonusRoundsData,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived,this.OnSpinResultReceived,this)},TimedFreeRoundBonusManager.prototype.XTInitVariablesAndEvents=function(){XT.SetBool(Vars.TimedBonusRoundIsOngoing,!1),XT.SetInt(Vars.TimedBonusRoundsSeconds,0),XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer,!1)},TimedFreeRoundBonusManager.prototype.OnBonusRoundsData=function(t){if(null!=(this.bonusRoundsData=t)&&this.bonusRoundsData.Type==VsFreeRound.RoundType.Timed){var e,i=XT.GetObject(Vars.BonusRoundsEvents);if(null!=i)for(var n=0;n<i.length;n++)i[n].Type==VsFreeRoundEvent.EventType.Start&&(this.cachedStartEvent.push(i[n].Clone()),this.cachedbetLevel=XT.GetDouble(Vars.BetDisplayed),XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer,!0),e=XT.GetObject(Vars.ReceivedFreeSpinsResponse),1!=i.length||e.IsLastFreeSpin||this.RequestToShow(),XT.SetDouble(Vars.BonusRoundEndDateTimestamp,i[n].EndDateTimestamp),null==i||1!=i.length||i[0].Type!=VsFreeRoundEvent.EventType.Start||i[0].IsFreeRoundPending||(this.countingInBackground=!0,this.currentTime=this.bonusRoundsData.RoundsLeft))}},TimedFreeRoundBonusManager.prototype.Update=function(){this.isActive?this.shouldUpdateTimer&&this.UpdateTimer():this.countingInBackground&&0<this.currentTime-Time.deltaTimeInRealTime&&(this.currentTime-=Time.deltaTimeInRealTime)},TimedFreeRoundBonusManager.prototype.UpdateTimer=function(){null!=this.bonusRoundsData&&2<this.currentTime-this.bonusRoundsData.RoundsLeft&&(this.currentTime=this.bonusRoundsData.RoundsLeft);var t=Math.floor(this.currentTime);t<0&&(t=0);var e=Math.floor(t%60).toString(),i=Math.floor(t/60%60).toString();e.length<2&&(e="0"+e),i.length<2&&(i="0"+i),this.currentTime<0&&!XT.GetBool(Vars.Logic_IsFreeSpin)&&!XT.GetBool(Vars.IsDifferentSpinType)&&(this.shouldUpdateTimer=!1,0<this.cachedStartEvent.length&&(this.cachedStartEvent[0].Type=VsFreeRoundEvent.EventType.Finish,this.cachedStartEvent[0].Bet=this.cachedbetLevel),XT.SetBool(Vars.SpinBlockingFeatureIsRunning,!0),this.RequestToShow());for(var n=0;n<this.timeLabels.length;n++)this.timeLabels[n].text=i+":"+e;this.currentTime-=Time.deltaTimeInRealTime},TimedFreeRoundBonusManager.prototype.OnContinuePressed=function(){if(null==this.bonusRoundsData||this.bonusRoundsData.Type==VsFreeRound.RoundType.Timed){var t=XT.GetObject(Vars.BonusRoundsEvents);if(0!=t.length&&t[0].Type==VsFreeRoundEvent.EventType.Finish)return t[0].TurboSpinMode||this.EnableTurboSpin(),XT.SetBool(Vars.SpinBlockingFeatureIsRunning,!1),1<t.length&&XT.SetInt(Vars.TimedBonusRoundsSeconds,this.bonusRoundsData.RoundsLeft),void this.Handled();0!=t.length&&t[0].Type==VsFreeRoundEvent.EventType.Start&&(this.isActive||(this.isActive=!0,this.countingInBackground||(this.currentTime=this.bonusRoundsData.RoundsLeft),this.countingInBackground=!1,this.UpdateTimer(),XT.SetBool(Vars.TimedBonusRoundIsOngoing,!0)),t[0].TurboSpinMode||this.DisableTurboSpin())}},TimedFreeRoundBonusManager.prototype.OnSpinResultReceived=function(){this.isActive&&!this.shouldUpdateTimer&&(this.shouldUpdateTimer=!0)},TimedFreeRoundBonusManager.prototype.OnTimedBonusRoundsFinished=function(){this.isActive=!1,XT.SetBool(Vars.TimedBonusRoundIsOngoing,!1)},TimedFreeRoundBonusManager.prototype.Show=function(){var t=[];0<this.cachedStartEvent.length&&t.push(this.cachedStartEvent[0].Clone()),XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer,!1);var e=XT.GetObject(Vars.BonusRoundsEvents);null!=e&&1<e.length&&e[1].Type==VsFreeRoundEvent.EventType.Start&&t.push(e[1]),XT.SetObject(Vars.BonusRoundsEvents,t);BonusRoundsController.HandleNextEvent(!1,!1,!0);if(XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer,!0),null!=e&&1==e.length&&e[0].Type==VsFreeRoundEvent.EventType.Start&&!e[0].IsFreeRoundPending&&(XT.TriggerEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed),this.shouldUpdateTimer=!0,null!=this.showTimedFRBInfo))for(var i=0;i<this.showTimedFRBInfo.length;i++)null!=this.showTimedFRBInfo&&this.showTimedFRBInfo[i].Start()},TimedFreeRoundBonusManager.prototype.DisableTurboSpin=function(){if(Globals.isMobile){for(var t=globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile,!0),e=0;e<t.length;++e)null!=(s=t[e].transform.Find("Content/Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!1);for(var i=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1,!0),e=0;e<i.length;++e)null!=(n=i[e].transform.Find("ContentInterface/DynamicContent/AnchoredRight/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay"))&&n.gameObject.SetActive(!1);for(var n,o=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2,!0),e=0;e<o.length;++e)null!=(n=o[e].transform.Find("ContentInterface/DynamicContent/ContentScale/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay"))&&n.gameObject.SetActive(!1)}else{for(t=globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile,!0),e=0;e<t.length;++e)null!=(s=t[e].transform.Find("Content/Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!1);TimedFreeRoundBonusManager.OGMTS_Show=window.GUIMessageTurboSpin.prototype.Show,window.GUIMessageTurboSpin.prototype.Show=function(){var t;null!=this.messages&&0<this.messages.length&&(t=Random.Range(0,this.messages.length),this.label.text=this.messages[t]),this.gameObject.SetActive(!0)}}for(var s,r=globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerAdvanced,!0),e=0;e<r.length;++e)null!=(s=r[e].transform.Find("Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!1),null!=(s=r[e].transform.Find("Clipped/Content/Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!1);if(!Globals.isMini)for(var a=globalRuntime.sceneRoots[1].GetComponentsInChildren(QuickSpinWindowController,!0),e=0;e<a.length;++e)a[e].disableWindow.Start();XT.RegisterCallbackBool(Vars.ContinuousSpin,this.OnXTContinuousSpinChanged,this)},TimedFreeRoundBonusManager.prototype.EnableTurboSpin=function(){if(Globals.isMobile){for(var t=globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile,!0),e=0;e<t.length;++e)null!=(s=t[e].transform.Find("Content/Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!0);for(var i=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1,!0),e=0;e<i.length;++e)null!=(n=i[e].transform.Find("ContentInterface/DynamicContent/AnchoredRight/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay"))&&n.gameObject.SetActive(!0);for(var n,o=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2,!0),e=0;e<o.length;++e)null!=(n=o[e].transform.Find("ContentInterface/DynamicContent/ContentScale/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay"))&&n.gameObject.SetActive(!0)}else{for(t=globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile,!0),e=0;e<t.length;++e)null!=(s=t[e].transform.Find("Content/Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!0);null!=TimedFreeRoundBonusManager.OGMTS_Show&&(window.GUIMessageTurboSpin.prototype.Show=TimedFreeRoundBonusManager.OGMTS_Show)}for(var s,r=globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerAdvanced,!0),e=0;e<r.length;++e)null!=(s=r[e].transform.Find("Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!0),null!=(s=r[e].transform.Find("Clipped/Content/Checkboxes/TurboSpin"))&&s.gameObject.SetActive(!0);if(!Globals.isMini)for(var a=globalRuntime.sceneRoots[1].GetComponentsInChildren(QuickSpinWindowController,!0),e=0;e<a.length;++e)a[e].disableWindow.Start();XT.UnregisterCallbackBool(this.OnXTContinuousSpinChanged,this)},TimedFreeRoundBonusManager.prototype.OnXTContinuousSpinChanged=function(t){t&&XT.SetBool(Vars.ContinuousSpin,!1)},goog.require("UHT.Component");var Nike_XTVariableType={XT_Bool:0,XT_Int:1,XT_Float:2,XT_Double:3,XT_String:4,None:5};function Nike_XTVariable(){Component.call(this),this.variableType=Nike_XTVariableType.None,this.variableName="",this.forcedValue="",this.unforcedValue=""}function MiniPaytableScrollbar(){ArrangeableBase.call(this),this.scrollbar=null,this.scrollbarThumb=null,this.scrollbarThumbDragObject=null,this.visiblePartOfPage=1,this.blackBandsPanel=null,this.activeInPortrait=!1,this.updatePaytableLayer=!1,this.paytableLayer=null,this.colliderProxy=null,this.hasInertia=!1,this.inertiaCurve=null,this.isSimpleScrollbar=!1,this.simpleDragObject=null,this.simpleLocalPositionLimitMin=null,this.simpleLocalPositionLimitMax=null,this.simpleUseScrollWheel=!1,this.simpleScrollWheelMovement=null,this.autoplayPaths=null,this.inertiaTime=0,this.isInertia=!1,this.mobilePaytable=null,this.isInit=!1,this.prevThumbPos=null,this.prevPaytablePos=null,this.cachedCamera=null,this.scrollDelta=0,this.isEnabled=!0}function PaytableArranger(){XTLink.call(this),this.panelOver=null,this.panelUnder=null,this.zOrderNearer=null,this.zOrderFarther=null,this.updatePaytableLayer=!1,this.paytableLayer=null,this.updatePaytablePosition=!1,this.paytableLocalPosition=null}function CATContentLooper(){Component.call(this),this.show=null,this.hide=null,this.duration=null,this.playAutomatically=!1,this.resetOnStart=!1,this.ignoreFirstShow=!1,this.isLooping=!0,this.index=0,this.time=0,this.internalIsLooping=!1,this.isHidden=!1}Nike_XTVariable.prototype=Object.create(Component.prototype),(Nike_XTVariable.prototype.constructor=Nike_XTVariable).prototype.JustDoIt=function(t){switch(this.variableType){case Nike_XTVariableType.XT_Bool:XT.SetBool(this.variableName,_bool.Parse(t));break;case Nike_XTVariableType.XT_Int:XT.SetInt(this.variableName,_number.otoi(t));break;case Nike_XTVariableType.XT_Float:XT.SetFloat(this.variableName,_number.otod(t));break;case Nike_XTVariableType.XT_Double:XT.SetDouble(this.variableName,_number.otod(t));break;case Nike_XTVariableType.XT_String:XT.SetString(this.variableName,t)}},Nike_XTVariable.prototype.ForceValue=function(t){this.variableType==Nike_XTVariableType.XT_Bool?(this.unforcedValue=String(XT.GetBool(this.variableName)),XT.RegisterCallbackBool(this.variableName,this.ForcedCallbackBool,this)):this.variableType==Nike_XTVariableType.XT_Double?(this.unforcedValue=String(XT.GetDouble(this.variableName)),XT.RegisterCallbackDouble(this.variableName,this.ForcedCallbackDouble,this)):this.variableType==Nike_XTVariableType.XT_Float?(this.unforcedValue=String(XT.GetFloat(this.variableName)),XT.RegisterCallbackFloat(this.variableName,this.ForcedCallbackFloat,this)):this.variableType==Nike_XTVariableType.XT_Int?(this.unforcedValue=String(XT.GetInt(this.variableName)),XT.RegisterCallbackInt(this.variableName,this.ForcedCallbackInt,this)):this.variableType==Nike_XTVariableType.XT_String&&(this.unforcedValue=XT.GetString(this.variableName),XT.RegisterCallbackString(this.variableName,this.ForcedCallbackString,this)),this.forcedValue=t,this.JustDoIt(t)},Nike_XTVariable.prototype.UnforceValue=function(){this.variableType==Nike_XTVariableType.XT_Bool?XT.UnregisterCallbackBool(this.ForcedCallbackBool,this):this.variableType==Nike_XTVariableType.XT_Double?XT.UnregisterCallbackDouble(this.ForcedCallbackDouble,this):this.variableType==Nike_XTVariableType.XT_Float?XT.UnregisterCallbackFloat(this.ForcedCallbackFloat,this):this.variableType==Nike_XTVariableType.XT_Int?XT.UnregisterCallbackInt(this.ForcedCallbackInt,this):this.variableType==Nike_XTVariableType.XT_String&&XT.UnregisterCallbackString(this.ForcedCallbackString,this),this.JustDoIt(this.unforcedValue)},Nike_XTVariable.prototype.ForcedCallbackBool=function(t){this.JustDoIt(this.forcedValue)},Nike_XTVariable.prototype.ForcedCallbackDouble=function(t){this.JustDoIt(this.forcedValue)},Nike_XTVariable.prototype.ForcedCallbackFloat=function(t){this.JustDoIt(this.forcedValue)},Nike_XTVariable.prototype.ForcedCallbackInt=function(t){this.JustDoIt(this.forcedValue)},Nike_XTVariable.prototype.ForcedCallbackString=function(t){this.JustDoIt(this.forcedValue)},goog.require("UHT.ArrangeableBase"),MiniPaytableScrollbar.prototype=Object.create(ArrangeableBase.prototype),(MiniPaytableScrollbar.prototype.constructor=MiniPaytableScrollbar).scroll=0,MiniPaytableScrollbar.prototype.XTRegisterCallbacks=function(){ArrangeableBase.prototype.XTRegisterCallbacks.call(this),this.isSimpleScrollbar||(XT.RegisterCallbackObject(Vars.MobilePaytableObject,this.OnMobilePaytableChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen,this.OnPressedPaytableOpen,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose,this.OnPressedPaytableClose,this))},MiniPaytableScrollbar.prototype.OnMobilePaytableChanged=function(t){if(this.mobilePaytable=t,null!=this.autoplayPaths&&0<this.autoplayPaths.length){for(var e=globalRuntime.sceneRoots,i=0,n=0;n<e.length;++n)for(var o=0;o<this.autoplayPaths.length;++o)null!=e[n].transform.Find(this.autoplayPaths[o])&&i++;this.mobilePaytable.hasAutoplayPages=this.autoplayPaths.length==i}this.updatePaytableLayer&&Globals.SetLayerRecursively(this.mobilePaytable.gameObject,this.paytableLayer.value());for(var s=this.mobilePaytable.GetComponentsInChildren(Collider,!0),r=0,o=0;o<s.length;++o){var a=this.transform.inverseTransformPoint(s[o].transform.position()).z+s[o].center.z;(0==o||a<r)&&(r=a)}if(r<=0&&(t=this.transform.localPosition(),this.transform.localPosition(new UHTMath.Vector3(t.x,t.y,t.z+r-10))),Globals.isMini)for(var l=this.mobilePaytable.GetComponentsInChildren(PageFlipper,!0),o=0;o<l.length;++o){var u=l[o].GetComponent(ArrangeableActive);null==u||u.activeInLandscape||(u=Math.max(l[o].flippingPanelDepth,l[o].staticPanelDepth),this.blackBandsPanel.depth<=u&&(this.blackBandsPanel.depth=u+1))}else{for(var h=this.blackBandsPanel.depth,l=this.mobilePaytable.GetComponentsInChildren(PageFlipper,!0),o=0;o<l.length;++o){var c=Math.max(l[o].flippingPanelDepth,l[o].staticPanelDepth);h<c&&(h=c)}for(var p=this.mobilePaytable.GetComponentsInChildren(UIPanel,!0),o=0;o<p.length;++o)p[o].depth>h&&(h=p[o].depth);this.blackBandsPanel.depth<=h&&(this.blackBandsPanel.depth=h+1)}},MiniPaytableScrollbar.prototype.OnPressedPaytableOpen=function(){this.gameObject.SetActive(!0)},MiniPaytableScrollbar.prototype.OnPressedPaytableClose=function(){this.gameObject.SetActive(!1)},MiniPaytableScrollbar.prototype.LateUpdate=function(){if(this.isEnabled){var t=this.GetDragObject(),e=this.scrollbarThumbDragObject;if(!this.isInit){if(this.isSimpleScrollbar)t.limitPosition=!0,t.localPositionLimitMin=this.simpleLocalPositionLimitMin,t.localPositionLimitMax=this.simpleLocalPositionLimitMax,t.useScrollWheel=this.simpleUseScrollWheel,t.scrollWheelMovement=this.transform.transformVector(this.simpleScrollWheelMovement);else{var i=this.GetPageFlipper();if(null==i)return;this.scrollbarThumb.height=this.scrollbar.height*this.visiblePartOfPage/(2*i.topPages.length),null!=this.colliderProxy&&this.colliderProxy.boxColliders.push(t.GetComponent(Collider))}e.limitPosition=!0,e.localPositionLimitMin=new UHTMath.Vector3(0,-(this.scrollbar.height-this.scrollbarThumb.height),0),e.localPositionLimitMax=UHTMath.Vector3.zero,this.isInit=!0}var n,o=t.target.localPosition(),i=e.target.localPosition();null!=this.prevPaytablePos&&o.equals(this.prevPaytablePos)?i.equals(this.prevThumbPos)?this.isInertia?(this.inertiaTime>this.inertiaCurve.keys[this.inertiaCurve.keys.length-1].time&&(this.isInertia=!1,this.scrollDelta=0),this.isInertia&&(n=MiniPaytableScrollbar.scroll+this.inertiaCurve.Evaluate(this.inertiaTime)*this.scrollDelta,n=UHTMath.clamp(n,0,1),MiniPaytableScrollbar.scroll=n,o=UHTMath.Vector3.lerp(t.localPositionLimitMin,t.localPositionLimitMax,n),t.target.position(t.target.parent.transformPoint(o)),i=UHTMath.Vector3.lerp(e.localPositionLimitMax,e.localPositionLimitMin,n),e.target.position(e.target.parent.transformPoint(i)),this.inertiaTime+=Time.deltaTime)):this.scrollDelta=0:(n=UHTMath.Vector3.sub(i,e.localPositionLimitMax).y/UHTMath.Vector3.sub(e.localPositionLimitMin,e.localPositionLimitMax).y,o=UHTMath.Vector3.lerp(t.localPositionLimitMin,t.localPositionLimitMax,n),t.target.position(t.target.parent.transformPoint(o)),this.scrollDelta=n-MiniPaytableScrollbar.scroll,MiniPaytableScrollbar.scroll=n):(n=UHTMath.Vector3.sub(o,t.localPositionLimitMin).y/UHTMath.Vector3.sub(t.localPositionLimitMax,t.localPositionLimitMin).y,i=UHTMath.Vector3.lerp(e.localPositionLimitMax,e.localPositionLimitMin,n),e.target.position(e.target.parent.transformPoint(i)),this.scrollDelta=n-MiniPaytableScrollbar.scroll,MiniPaytableScrollbar.scroll=n),this.prevThumbPos=i,this.prevPaytablePos=o}},MiniPaytableScrollbar.prototype.ScrollbarClicked=function(){null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject));var t=this.GetDragObject(),e=this.scrollbarThumbDragObject,i=this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),e=e.target.position();t.ScrollWheel(i.y<e.y?1:-1)},MiniPaytableScrollbar.prototype.GetPageFlipper=function(){return Globals.isMini?this.mobilePaytable.miniPageFlipper:this.activeInPortrait?this.mobilePaytable.portraitPageFlipper:this.mobilePaytable.landscapePageFlipper},MiniPaytableScrollbar.prototype.GetDragObject=function(){return this.isSimpleScrollbar?this.simpleDragObject:Globals.isMini?this.mobilePaytable.miniDragObject:this.activeInPortrait?this.mobilePaytable.portraitDragObject:this.mobilePaytable.landscapeDragObject},MiniPaytableScrollbar.prototype.OnSwitchToPortrait=function(){Globals.isMini||(this.isEnabled=this.activeInPortrait,this.OnLayoutChanged())},MiniPaytableScrollbar.prototype.OnSwitchToLandscape=function(){Globals.isMini||(this.isEnabled=!this.activeInPortrait,this.OnLayoutChanged())},MiniPaytableScrollbar.prototype.OnLayoutChanged=function(){var t,e;this.isEnabled&&this.gameObject.activeInHierarchy&&(this.isInertia=!1,t=this.GetDragObject(),e=UHTMath.Vector3.lerp(t.localPositionLimitMin,t.localPositionLimitMax,MiniPaytableScrollbar.scroll),t.target.position(t.target.parent.transformPoint(e)))},MiniPaytableScrollbar.prototype.OnColliderReleased=function(){this.isEnabled&&this.hasInertia&&0!=this.scrollDelta&&(this.inertiaTime=0,this.isInertia=!0)},MiniPaytableScrollbar.prototype.OnColliderPressed=function(){this.isEnabled&&this.hasInertia&&(this.isInertia=!1,this.scrollDelta=0)},goog.require("UHT.XTLink"),PaytableArranger.prototype=Object.create(XTLink.prototype),(PaytableArranger.prototype.constructor=PaytableArranger).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.MobilePaytableObject,this.OnPaytableChanged,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen,this.OnPressedPaytableOpen,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose,this.OnPressedPaytableClose,this)},PaytableArranger.prototype.OnPaytableChanged=function(t){this.updatePaytablePosition&&t.transform.localPosition(this.paytableLocalPosition);var e=t.transform.Find("Background");null!=e&&e.gameObject.SetActive(!1);for(var i=t.GetComponentsInChildren(Collider,!0),n=0,o=0,s=0;s<i.length;++s){var r=i[s].transform.position(),a=this.zOrderNearer.inverseTransformPoint(r).z+i[s].center.z;(0==s||a<n)&&(n=a),a=this.zOrderFarther.inverseTransformPoint(r).z+i[s].center.z,(0==s||o<a)&&(o=a)}e=this.zOrderNearer.localPosition();this.zOrderNearer.localPosition(new UHTMath.Vector3(e.x,e.y,n-1)),e=this.zOrderFarther.localPosition(),this.zOrderFarther.localPosition(new UHTMath.Vector3(e.x,e.y,o+1));for(var l=this.panelUnder.depth,u=this.panelOver.depth,h=t.GetComponentsInChildren(UIPanel,!0),s=0;s<h.length;++s)h[s].depth>u&&(u=h[s].depth),h[s].depth<l&&(l=h[s].depth);this.panelOver.depth<=u&&(this.panelOver.depth=u+1),this.panelUnder.depth>=l&&(this.panelUnder.depth=l-1),this.updatePaytableLayer&&Globals.SetLayerRecursively(t.gameObject,this.paytableLayer.value())},PaytableArranger.prototype.OnPressedPaytableOpen=function(){this.gameObject.SetActive(!0)},PaytableArranger.prototype.OnPressedPaytableClose=function(){this.gameObject.SetActive(!1)},goog.require("UHT.Engine"),CATContentLooper.prototype=Object.create(Component.prototype),(CATContentLooper.prototype.constructor=CATContentLooper).prototype.SwitchTo=function(t){t=_number.otoi(t),t%=this.show.length,this.index!=t&&(this.Hide(),this.InternalShow(t))},CATContentLooper.prototype.Awake=function(){this.ignoreFirstShow||(this.isHidden=!0)},CATContentLooper.prototype.Update=function(){this.internalIsLooping&&(this.time+=Time.deltaTime,this.time>this.duration[this.index]&&this.SwitchTo(this.index+1))},CATContentLooper.prototype.OnEnable=function(){this.playAutomatically&&this.StartLooping()},CATContentLooper.prototype.StartLooping=function(){this.isHidden&&this.InternalShow(this.resetOnStart?0:this.index),this.internalIsLooping=this.isLooping},CATContentLooper.prototype.StopLooping=function(){this.Hide(),this.internalIsLooping=!1},CATContentLooper.prototype.InternalShow=function(t){this.index=t,this.Show()},CATContentLooper.prototype.Show=function(){this.show[this.index].IsRunning()&&this.show[this.index].Stop(),this.show[this.index].Start(),this.isHidden=!1,this.time=0},CATContentLooper.prototype.Hide=function(){this.hide[this.index].IsRunning()&&this.hide[this.index].Stop(),this.hide[this.index].Start(),this.isHidden=!0},CATContentLooper.prototype.ResetTime=function(){this.time=0},CATContentLooper.prototype.SetLooping=function(t){this.isLooping=t};var InterfaceVars={IsMobileGUI:"IsMobileGUI",SelectedAutoSpinsIndex:"SelectedAutoSpinsIndex",SelectedAutoSpinsIndexAdvanced:"SelectedAutoSpinsIndexAdvanced",ExtraWinMultiplier:"ExtraWinMultiplier",ShowInterfaceThumbnailsCount:"ShowInterfaceThumbnailsCount",GUIMessageZoneSettings:"GUIMessageZoneSettings",HasGUIMessageBeforeWinCount:"HasGUIMessageBeforeWinCount",GUIDynamicMessageDelay:"GUIDynamicMessageDelay",GUIMessage_RandomSpin:"GUIMessage_RandomSpin",GUIMessage_RandomResultTeaser:"GUIMessage_RandomResultTeaser",LastResultHasNoWin:"LastResultHasNoWin",FSWinIsCounting:"FSWinIsCounting",Evt_DataToCode_CloseAllInterfaceWindows:"Evt_DataToCode_CloseAllInterfaceWindows",Evt_CodeToData_InterfaceWindowOpen:"Evt_CodeToData_InterfaceWindowOpen",EnableSoundsWhenReady:"EnableSoundsWhenReady",GUIArrangerSettings:"GUIArrangerSettings",Evt_DataToCode_HidePortraitMiddleBar:"Evt_DataToCode_HidePortraitMiddleBar",Evt_DataToCode_ShowPortraitMiddleBar:"Evt_DataToCode_ShowPortraitMiddleBar",ShowCoinsAndCashHint:"ShowCoinsAndCashHint",ShowFastPlayHint:"ShowFastPlayHint",Evt_Internal_BlackBandsUpdated:"Evt_Internal_BlackBandsUpdated",GameAnchors:"GameAnchors",SpinButtonPositionLandscape:"SpinButtonPositionLandscape",SpinButtonPositionPortrait:"SpinButtonPositionPortrait",SpinButtonPositionLocked:"SpinButtonPositionLocked",Evt_DataToCode_ToggleSpinButtonPositionLocked:"Evt_DataToCode_ToggleSpinButtonPositionLocked",ShowGamePaysAsWinTeaser:"ShowGamePaysAsWinTeaser"};function TournamentSimpleOptIn(){XTLink.call(this),this.enableOptOut=null,this.disableOptOut=null,this.enableOptOutDDW=null,this.disableOptOutDDW=null,this.isMergedDDW=!1}function CustomNotificationButton(){Component.call(this),this.label=null,this.cachedCamera=null,this.handlers=null}goog.require("UHT.Engine"),goog.require("UHT.XTLink"),TournamentSimpleOptIn.prototype=Object.create(XTLink.prototype),(TournamentSimpleOptIn.prototype.constructor=TournamentSimpleOptIn).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Announce,this.OnAnnounce,this,1)},TournamentSimpleOptIn.prototype.OnAnnounce=function(){(XT.GetBool(Vars.Jurisdiction_TournamentOptOut)||XT.GetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut)?this.isMergedDDW?this.enableOptOutDDW:this.enableOptOut:this.isMergedDDW?this.disableOptOutDDW:this.disableOptOut).Start()},goog.require("UHT.Engine"),CustomNotificationButton.prototype=Object.create(Component.prototype),(CustomNotificationButton.prototype.constructor=CustomNotificationButton).touchEndFrame=0,CustomNotificationButton.prototype.Awake=function(){globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,new EventHandler(this,this.OnTouchEnd))},CustomNotificationButton.prototype.UpdateButton=function(t){var e=null!=t;e&&(this.handlers=t.handlers,this.label.text=_string.IsNullOrEmpty(t.label)?"":t.label),this.gameObject.SetActive(e),this.label.gameObject.SetActive(e)},CustomNotificationButton.prototype.OnTouchEnd=function(){if(CustomNotificationButton.touchEndFrame!=Time.frameCount&&this.gameObject.activeInHierarchy&&null!=this.handlers){null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject));var t=new LayerMask;if(t.mask=1<<this.gameObject.layer,this.gameObject.collider==globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),t)){for(var e=0;e<this.handlers.length;++e)this.handlers[e]();CustomNotificationButton.touchEndFrame=Time.frameCount}}},goog.require("UHT.XTLink");var CustomNotificationVars={CustomNotification:"CustomNotification",Evt_Internal_ShowIntrusiveNotification:"Evt_Internal_ShowIntrusiveNotification",Evt_Internal_HideIntrusiveNotification:"Evt_Internal_HideIntrusiveNotification",Evt_Internal_ShowNonIntrusiveNotification:"Evt_Internal_ShowNonIntrusiveNotification",Evt_Internal_HideNonIntrusiveNotification:"Evt_Internal_HideNonIntrusiveNotification"};function CustomNotificationParser(){TournamentRule.call(this)}function CustomNotificationButtonsGroup(){this.buttons=null}function CustomNotificationExtraLayout(){this.scrollableList=null,this.parser=null,this.title=null,this.buttons=null,this.buttonsCat=null,this.textAnimator=null,this.responsiveLinesCat=null}function CustomNotificationController(){XTLink.call(this),this.defaultDelay=7,this.lineDelay=1.5,this.showShort=null,this.showLong=null,this.expandLong=null,this.hide=null,this.scrollableList=null,this.autoClicker=null,this.parser=null,this.title=null,this.buttons=null,this.useButtonsGroups=!1,this.buttonsGroups=null,this.isIntrusive=!1,this.textAnimator=null,this.hasExtraLayout=!1,this.extraLayout=null,this.isResponsive=!1,this.responsiveLinesCat=null,this.responsiveButtonsCat=null,this.responsiveMaxLabelWidths=null,this.ellipsis=" ...",this.mustHide=!1,this.mustIgnoreInputBlocked=!1,this.cachedCamera=null,this.notification=null}function ReelDragSettings(){this.isEnabled=!1,this.percentageOfSymbolVisible=0,this.isCustom=!1,this.customLayer=null,this.customZ=0}function ReelDragController(){XTLink.call(this),this.reelId=-1,this.boxCollider=null,this.dragObject=null,this.animator=null,this.animatorReel=null,this.animationTime=0,this.movementCurve=null,this.spinButtons=null,this.catDragStart=null,this.reelsManager=null,this.reel=null,this.reelLocalPos=null,this.reelOffset=null,this.prevPos=null,this.targetPos=null,this.minPos=null,this.maxPos=null,this.isEnabled=!1,this.checkSpinButtonsActiveState=!1,this.isDragStarted=!1,this.extraVisible=0,this.screenWidth=-69,this.screenHeight=-69,this.screenChangedFrame=-69,this.numberError=.001}function MenuButton(){Component.call(this),this.label=null,this.icon=null,this.button=null}CustomNotificationParser.prototype=Object.create(TournamentRule.prototype),CustomNotificationParser.prototype.constructor=CustomNotificationParser,CustomNotificationController.prototype=Object.create(XTLink.prototype),CustomNotificationController.prototype.constructor=CustomNotificationController,CustomNotificationButtonsGroup.prototype.UpdateButtons=function(t){if(null==t)for(var e=0;e<this.buttons.length;++e)this.buttons[e].UpdateButton(null);else for(e=0;e<this.buttons.length;++e)this.buttons[e].UpdateButton(t[e])},CustomNotificationController.prototype.XTRegisterCallbacks=function(){this.isIntrusive?(XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowIntrusiveNotification,this.ShowNotification,this),XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideIntrusiveNotification,this.HideNotification,this)):(XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowNonIntrusiveNotification,this.ShowNotification,this),XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideNonIntrusiveNotification,this.HideNotification,this))},CustomNotificationController.prototype.Update=function(){var t;null!=this.notification&&(this.InternalShowNotification(),this.mustHide=!1,this.notification=null),this.mustHide&&(this.mustHide=!1,this.hide.Start(),this.isIntrusive&&(this.GetCamera().ignoreInputBlocked=!1),null!=this.autoClicker&&(this.autoClicker.enabled=!1)),!this.mustIgnoreInputBlocked||null!=(t=this.GetCamera())&&(this.mustIgnoreInputBlocked=!1,t.ignoreInputBlocked=!0)},CustomNotificationController.prototype.HideNotification=function(){this.mustHide=!0},CustomNotificationController.prototype.ShowNotification=function(){this.notification=XT.GetObject(CustomNotificationVars.CustomNotification)},CustomNotificationController.prototype.InternalShowNotification=function(){var t=0;if(null!=this.notification.buttons){if(t=Math.min((this.useButtonsGroups?this.buttonsGroups:this.buttons).length,this.notification.buttons.length),this.useButtonsGroups&&0<t)this.buttonsGroups[t-1].UpdateButtons(this.notification.buttons);else for(var e=0;e<t;++e)this.buttons[e].UpdateButton(this.notification.buttons[e]);if(this.hasExtraLayout)for(e=0;e<t;++e)this.extraLayout.buttons[e].UpdateButton(this.notification.buttons[e])}var i=_string.IsNullOrEmpty(this.notification.title)?"":this.notification.title;if(this.hasExtraLayout){this.extraLayout.title.text=i;for(e=t;e<this.extraLayout.buttons.length;++e)this.extraLayout.buttons[e].UpdateButton(null);for(this.extraLayout.parser.rules="",this.extraLayout.parser.UpdateRules(this.notification.text);!this.extraLayout.parser.isSplit;)this.extraLayout.parser.Split();this.extraLayout.scrollableList.SetValues(this.extraLayout.parser.splitRules),this.extraLayout.buttonsCat.StartEvent(t),this.extraLayout.textAnimator.Sample(this.extraLayout.parser.splitRules.length/this.extraLayout.parser.maxNumberOfLines),this.isResponsive&&this.extraLayout.responsiveLinesCat.StartEvent(Math.min(this.extraLayout.parser.splitRules.length,this.extraLayout.parser.maxNumberOfLines))}if(this.useButtonsGroups){for(e=0;e<t-1;++e)this.buttonsGroups[e].UpdateButtons(null);for(e=t;e<this.buttonsGroups.length;++e)this.buttonsGroups[e].UpdateButtons(null)}else for(e=t;e<this.buttons.length;++e)this.buttons[e].UpdateButton(null);for(this.isResponsive&&(this.parser.maxLabelWidth=this.responsiveMaxLabelWidths[t],this.title.width=this.responsiveMaxLabelWidths[t]),this.title.text=i,this.parser.rules="",this.parser.UpdateRules(this.notification.text);!this.parser.isSplit;)this.parser.Split();for(var n=Math.min(this.showShort.length,this.parser.splitRules.length),o=[],e=0;e<n;++e)o.push(this.parser.splitRules[e]);i=this.parser.splitRules.length>this.showShort.length;i&&0<n&&(o[n-1]=this.GetTextWithEllipsis(o[n-1])),this.UpdateAutoClickerDelay(this.defaultDelay),this.scrollableList.SetValues(0<o.length?o:this.parser.splitRules),(i?this.showLong:this.showShort[this.parser.splitRules.length-1]).Start(),null!=this.textAnimator&&this.textAnimator.Sample(this.parser.splitRules.length/this.parser.maxNumberOfLines),this.isResponsive&&(this.responsiveLinesCat.StartEvent(Math.min(this.parser.splitRules.length,this.parser.maxNumberOfLines)),this.responsiveButtonsCat.StartEvent(t)),this.isIntrusive&&(this.mustIgnoreInputBlocked=!0)},CustomNotificationController.prototype.ShowMore=function(){this.UpdateAutoClickerDelay(Math.max(this.defaultDelay,this.lineDelay*this.parser.splitRules.length)),this.scrollableList.SetValues(this.parser.splitRules),this.expandLong[UHTMath.clamp(this.parser.splitRules.length-1,0,this.expandLong.length-1)].Start()},CustomNotificationController.prototype.UpdateAutoClickerDelay=function(t){null!=this.autoClicker&&(this.autoClicker.delay=t,this.autoClicker.delayInAutoplay=t,this.autoClicker.enabled=!0,this.autoClicker.gameObject.SetActive(!1),this.autoClicker.gameObject.SetActive(!0))},CustomNotificationController.prototype.GetTextWithEllipsis=function(t){if(this.parser.sampleLabel.text=t+this.ellipsis,this.parser.sampleLabel.width<=this.parser.maxLabelWidth)return this.parser.sampleLabel.text;var e=t.split(" "),i=null;if(1<e.length)for(var n=[],o=0;o<e.length&&(n.push(e[o]),this.parser.sampleLabel.text=n.join(" ")+this.ellipsis,!(this.parser.sampleLabel.width>this.parser.maxLabelWidth));++o)i=this.parser.sampleLabel.text;return i=null==i?t.substr(0,t.length-this.ellipsis.length)+this.ellipsis:i},CustomNotificationController.prototype.CloseButtonClicked=function(){window.SystemMessageManager.CloseMessage()},CustomNotificationController.prototype.GetCamera=function(){return null==this.cachedCamera&&(this.cachedCamera=Globals.GetCameraForObject(this.gameObject)),this.cachedCamera},goog.require("UHT.XTLink"),ReelDragController.prototype=Object.create(XTLink.prototype),(ReelDragController.prototype.constructor=ReelDragController).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackObject(Vars.ReelsManagerObject,this.OnReelsManagerObject,this)},ReelDragController.prototype.ScreenChanged=function(){this.isEnabled&&((this.isDragStarted||this.animator.IsPlaying())&&(this.animator.Stop(),this.animatorReel.Stop(),this.reel.transform.localPosition(this.reelLocalPos)),this.isDragStarted&&this.dragObject.OnPress(!1),this.boxCollider.enabled=!1,this.screenWidth=UHTScreen.width,this.screenHeight=UHTScreen.height,this.screenChangedFrame=Time.frameCount)},ReelDragController.prototype.OnReelsManagerObject=function(t){this.reelsManager=t,this.reelsManager.dragSettings.isEnabled&&(this.isEnabled=this.reelsManager.showTopBottomSymbols&&this.reelId<this.reelsManager.reels.length&&1<this.reelsManager.reels.length,this.isEnabled&&(this.reel=this.reelsManager.reels[this.reelId],this.isEnabled=this.isEnabled&&1<this.reel.symbolHolders.length,this.isEnabled&&(this.dragObject.limitPosition=!0,this.animatorReel.target=this.animatorReel.from=this.reel.gameObject,this.reelsManager.dragSettings.isCustom&&(t=this.transform.localPosition(),this.transform.localPosition(new UHTMath.Vector3(t.x,t.y,this.reelsManager.dragSettings.customZ)),Globals.SetLayerRecursively(this.gameObject,this.reelsManager.dragSettings.customLayer.value())),this.UpdatePositionSizeAndDragLimits())))},ReelDragController.prototype.UpdatePositionSizeAndDragLimits=function(){var t,e,i=this.reel.symbolHolders[0].transform.position().y,n=this.reel.symbolHolders[this.reel.symbolHolders.length-1].transform.position().y,o=i-this.reel.symbolHolders[1].transform.position().y,s=0==this.reelId,r=this.reelId==this.reelsManager.reels.length-1;e=s||r?(t=new UHTMath.Vector3(this.reel.transform.position().x,.5*(i+n),this.transform.position().z),s?this.reelsManager.reels[this.reelId+1].transform.position().x-this.reel.transform.position().x:this.reel.transform.position().x-this.reelsManager.reels[this.reelId-1].transform.position().x):(e=this.reelsManager.reels[this.reelId-1].transform.position().x,s=this.reelsManager.reels[this.reelId+1].transform.position().x,t=new UHTMath.Vector3(.5*(s+e),.5*(i+n),this.transform.position().z),.5*(s-e)),this.prevPos=this.targetPos=this.transform.position(t),this.reelOffset=UHTMath.Vector3.sub(this.reel.transform.position(),t),this.reelLocalPos=this.reel.transform.localPosition();n=this.TransformPoint(new UHTMath.Vector3(e,i-n+o,0));this.boxCollider.size=new UHTMath.Vector3(n.x,n.y,this.boxCollider.size.z),this.extraVisible=o*this.reelsManager.dragSettings.percentageOfSymbolVisible,this.minPos=new UHTMath.Vector3(t.x,t.y-this.extraVisible,t.z),this.maxPos=new UHTMath.Vector3(t.x,t.y+this.extraVisible,t.z),this.dragObject.localPositionLimitMin=this.TransformPoint(this.minPos),this.dragObject.localPositionLimitMax=this.TransformPoint(this.maxPos)},ReelDragController.prototype.TransformPoint=function(t){return this.transform.parent.inverseTransformPoint(t)},ReelDragController.prototype.DragStarted=function(){this.isDragStarted=!0,this.catDragStart.Start(),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup)},ReelDragController.prototype.DragEnded=function(){this.isDragStarted=!1;var t=this.transform.position();this.VectorsEqual(this.targetPos,t)||(this.animator.manualTo=this.targetPos,this.animator.animationTime=this.animationTime*UHTMath.inverseLerp(0,this.extraVisible,Math.abs(t.y-this.targetPos.y)),this.animatorReel.manualTo=UHTMath.Vector3.add(this.targetPos,this.reelOffset),this.animatorReel.animationTime=this.animator.animationTime,this.boxCollider.enabled?(this.animator.Play(),this.animatorReel.Play()):(this.animator.Sample(1),this.animatorReel.Sample(1)))},ReelDragController.prototype.AnimationFinished=function(){this.boxCollider.enabled&&(XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_Prepare),XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop))},ReelDragController.prototype.SpinButtonActiveStateChanged=function(){this.checkSpinButtonsActiveState=!0},ReelDragController.prototype.LateUpdate=function(){if(this.isEnabled&&(this.screenWidth==UHTScreen.width&&this.screenHeight==UHTScreen.height||this.ScreenChanged(),this.screenChangedFrame!=Time.frameCount)){if(this.screenChangedFrame+1==Time.frameCount&&(this.UpdatePositionSizeAndDragLimits(),this.checkSpinButtonsActiveState=!0),this.checkSpinButtonsActiveState){for(var t=!1,e=0;e<this.spinButtons.length;++e)this.spinButtons[e].activeInHierarchy&&(t=!0);this.boxCollider.enabled=t,this.checkSpinButtonsActiveState=!1,t||this.dragObject.OnPress(!1)}var i,n,o=this.transform.position();this.isDragStarted&&!this.VectorsEqual(this.prevPos,o)&&(i=o.y-this.targetPos.y,n=UHTMath.inverseLerp(0,this.extraVisible,Math.abs(i)),this.prevPos=o,this.reel.transform.position(UHTMath.Vector3.add(UHTMath.Vector3.lerp(this.targetPos,0<i?this.maxPos:this.minPos,this.movementCurve.Evaluate(n)),this.reelOffset)))}},ReelDragController.prototype.VectorsEqual=function(t,e){return Math.abs(t.x-e.x)<this.numberError&&Math.abs(t.y-e.y)<this.numberError&&Math.abs(t.z-e.z)<this.numberError},goog.require("UHT.Engine"),MenuButton.prototype=Object.create(Component.prototype),(MenuButton.prototype.constructor=MenuButton).prototype.UpdateValue=function(t,e){this.label.text=t.text,this.label.fontName=t.fontName,this.label.Prepare(),GUIArranger.I.CopySprite(e,this.icon),GUIArranger.I.CopySpriteSize(e,this.icon);for(var i=this.button.gameObject.GetComponents(UIButton),n=0;n<i.length;n++)i[n].target==this.icon&&(i[n].normal=e.spriteName)},goog.require("UHT.ArrangeableBase");var MenuButtonType={Invalid:0,Lobby:1,Tournament:2,PrizeDrop:3,Replay:4};function MenuControllerTransform(){this.localPosition=null,this.localScale=null}function MenuController(){ArrangeableBase.call(this),this.order=null,this.icons=null,this.labels=null,this.click=null,this.button=null,this.buttons=null,this.count=null,this.countArrangeable=null,this.countArrangementLandscape=null,this.countArrangementPortrait=null,this.collapse=null,this.isEnabled=null,this.isEnabledPrev=null,this.internalOrder=[],this.promotions=null,this.isCollapsed=!0,this.isCollapsedChangedInFrame=-1,this.updateCountArrangement=!1,this.countArrangement=null}function DemoLabelPosition(){ArrangeableBase.call(this),this.mobileLandscapeScale=new UHTMath.Vector3(1,1,1),this.mobilePortraitScale=new UHTMath.Vector3(1,1,1),this.defaultPosition=new UHTMath.Vector3(0,0,0),this.topBarReference=null,this.portraitOffSet=new UHTMath.Vector3(0,0,0),this.showDemoCAT=null}function PaytableSymbolPayout_Ways(){XTLink.call(this),this.symbolIndex=0,this.isDisplayingCoins=!1,this.isMultipliedByTotalBet=!1,this.showOnlyValue=!1,this.isDisplayingRange=!1,this.ignoreRightUpperRange=!1,this.updatedUpperRange=!1,this.rangeDelimiter=" - ",this.valueDelimiter="  ",this.rightUpperRangeReplacer="+",this.customPayoutData=null,this.formatOptions=null}function RTPInfoSelector(){XTLink.call(this),this.List1RTP=[],this.List2RTP=[]}MenuController.prototype=Object.create(ArrangeableBase.prototype),(MenuController.prototype.constructor=MenuController).prototype.Awake=function(){ArrangeableBase.prototype.Awake.call(this),this.isEnabled=[],this.isEnabledPrev=[];for(var t=0;t<this.order.length;++t)this.isEnabled[t]=!1,this.isEnabledPrev[t]=!0;this.UpdateButtons()},MenuController.prototype.LateUpdate=function(){var t;this.updateCountArrangement&&(this.updateCountArrangement=!1,null!=this.countArrangement&&0<this.countArrangement.length&&(t=this.countArrangement[this.internalOrder.length],this.countArrangeable.localPosition(t.localPosition),this.countArrangeable.localScale(t.localScale)))},MenuController.prototype.XTRegisterCallbacks=function(){ArrangeableBase.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackObject(TournamentVars.Tournaments,this.OnPromotions,this),XT.RegisterCallbackObject(LobbyVars.LobbyCategorySymbols,this.OnLobbyCategories,this),XT.RegisterCallbackBool(ReplayVars.Replay_WinningsEnabled,this.OnReplayWinningsEnabled,this),XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen,this.Collapse,this),XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows,this.OnCloseAllInterfaceWindows,this)},MenuController.prototype.OnSwitchToPortrait=function(){this.countArrangement=this.countArrangementPortrait,this.updateCountArrangement=!0},MenuController.prototype.OnSwitchToLandscape=function(){this.countArrangement=this.countArrangementLandscape,this.updateCountArrangement=!0},MenuController.prototype.OnCloseAllInterfaceWindows=function(){this.isCollapsedChangedInFrame<Time.frameCount&&this.Collapse()},MenuController.prototype.OnPromotions=function(t){if(this.promotions=t,this.isEnabled[this.order.indexOf(MenuButtonType.PrizeDrop)]=!1,this.isEnabled[this.order.indexOf(MenuButtonType.Tournament)]=!1,null!=this.promotions&&0!=this.promotions.length){for(var e=0;e<this.promotions.length;++e)this.promotions[e].type==TournamentProtocol.PromoType.Race?this.isEnabled[this.order.indexOf(MenuButtonType.PrizeDrop)]=!0:this.promotions[e].type==TournamentProtocol.PromoType.Tournament&&(this.isEnabled[this.order.indexOf(MenuButtonType.Tournament)]=!0);this.UpdateButtons()}else this.UpdateButtons()},MenuController.prototype.OnLobbyCategories=function(t){null==t||0==t.length?this.isEnabled[this.order.indexOf(MenuButtonType.Lobby)]=!1:this.isEnabled[this.order.indexOf(MenuButtonType.Lobby)]=!0,this.UpdateButtons()},MenuController.prototype.OnReplayWinningsEnabled=function(t){this.isEnabled[this.order.indexOf(MenuButtonType.Replay)]=t,this.UpdateButtons()},MenuController.prototype.UpdateButtons=function(){for(var t=!1,e=0;e<this.isEnabled.length;++e)this.isEnabledPrev[e]!=this.isEnabled[e]&&(t=!0,this.isEnabledPrev[e]=this.isEnabled[e]);if(t){this.internalOrder.splice(0);for(e=0;e<this.isEnabled.length;++e)this.isEnabled[e]&&this.internalOrder.push(this.order[e]);var i=this.internalOrder.length;if(1==i)this.internalOrder[0]!=MenuButtonType.Tournament&&this.internalOrder[0]!=MenuButtonType.PrizeDrop?(n=this.order.indexOf(this.internalOrder[0]),this.button.UpdateValue(this.labels[n],this.icons[n])):i=0;else for(e=0;e<this.internalOrder.length;++e){var n=this.order.indexOf(this.internalOrder[e]);this.buttons[e].UpdateValue(this.labels[n],this.icons[n])}this.count[i].Start(),this.updateCountArrangement=!0}},MenuController.prototype.ButtonClicked=function(t){var e,i=this.internalOrder[t];i!=MenuButtonType.Tournament&&i!=MenuButtonType.PrizeDrop||(e=PromotionsHelper.GetPromotionType(XT.GetString(TournamentVars.SelectedTournamentID)),t=i==MenuButtonType.Tournament?TournamentProtocol.PromoType.Tournament:TournamentProtocol.PromoType.Race,XT.SetInt(TournamentVars.MenuPromotionType,t),e!=t&&this.SelectPromotionOfType(t)),this.click[this.order.indexOf(i)].Start()},MenuController.prototype.SelectPromotionOfType=function(t){if(null!=this.promotions)for(var e=0;e<this.promotions.length;++e)if(this.promotions[e].type==t){XT.SetString(TournamentVars.SelectedTournamentID,this.promotions[e].uid);break}},MenuController.prototype.Collapse=function(){this.isCollapsed||this.collapse.Start()},MenuController.prototype.SetCollapsed=function(t){this.isCollapsed=t,this.isCollapsedChangedInFrame=Time.frameCount},goog.require("UHT.ArrangeableBase"),DemoLabelPosition.prototype=Object.create(ArrangeableBase.prototype),(DemoLabelPosition.prototype.constructor=DemoLabelPosition).prototype.XTRegisterCallbacks=function(){(this.useOnMobile&&Globals.isMobile||this.useOnDesktop&&!Globals.isMobile)&&(XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout,this.OnSwitchToLandscape,this,10),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide,this.OnSwitchToLandscapeWide,this,10),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull,this.OnSwitchToLandscapeWideFull,this,10),this.useOnMobile&&Globals.isMobile&&(XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout,this.OnSwitchToPortrait,this,10),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone,this.OnSwitchToPortraitIPhone,this,10),XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad,this.OnSwitchToPortraitIPad,this,10))),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},DemoLabelPosition.prototype.OnGameInit=function(){ServerOptions.isDemoMode&&this.showDemoCAT.Start()},DemoLabelPosition.prototype.OnSwitchToPortrait=function(){this.transform.localScale(this.mobilePortraitScale),this.transform.position(this.topBarReference.transform.position()),this.transform.localPosition(UHTMath.Vector3.add(this.transform.localPosition(),this.portraitOffSet))},DemoLabelPosition.prototype.OnSwitchToLandscape=function(){this.transform.localScale(this.mobileLandscapeScale),this.transform.position(this.defaultPosition)},goog.provide("UHT.PaytableSymbolPayout_Ways"),goog.require("UHT.XTLink"),PaytableSymbolPayout_Ways.prototype=Object.create(XTLink.prototype),(PaytableSymbolPayout_Ways.prototype.constructor=PaytableSymbolPayout_Ways).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},PaytableSymbolPayout_Ways.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.OnGameInit,this),XT.UnregisterCallbackEvent(this.UpdateSymbolPayoutInformation,this),XT.UnregisterCallbackBool(this.OnHasCoinsChanged,this)},PaytableSymbolPayout_Ways.prototype.OnGameInit=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged,this.UpdateSymbolPayoutInformation,this),XT.RegisterCallbackBool(Vars.HasCoins,this.OnHasCoinsChanged,this),this.UpdateSymbolPayoutInformation()},PaytableSymbolPayout_Ways.prototype.OnHasCoinsChanged=function(t){this.UpdateSymbolPayoutInformation()},PaytableSymbolPayout_Ways.prototype.UpdateSymbolPayoutInformation=function(){var t=XT.GetObject(Vars.PaytablePayoutData);null!=t&&(this.gameObject.GetComponent(UILabel).text=this.GetProcessedText(0==this.customPayoutData.length?t[this.symbolIndex]:this.customPayoutData))},PaytableSymbolPayout_Ways.prototype.GetProcessedText=function(t){var e="",i=this.isMultipliedByTotalBet?CoinManager.GetNextTotalBet():CoinManager.GetNextBet();if(this.isDisplayingRange){this.updatedUpperRange=!1;var n=[],o=[],s=t.length-1,r=t.length-1;n.push(s);for(var a=t.length-1;0<=a;a--)t[s]!=t[a]&&(s=a,n.push(s));for(var l=0;l<n.length;l++){for(var u=n[l];0<=u&&t[n[l]]==t[u];u--)r=u;o.push(r)}for(var h,c=0;c<n.length;c++)t[n[c]]<=0||(h="",h=this.isDisplayingCoins&&XT.GetBool(Vars.HasCoins)?CoinManager.ConvertMoneyToCoins(t[n[c]]*i).toString():LocaleManager.FormatValue(t[n[c]]*i,this.formatOptions),n[c]==o[c]?e+=(this.showOnlyValue?"":(""==e?"":"\n")+(n[c]+1)+this.valueDelimiter)+h:this.ignoreRightUpperRange&&!this.updatedUpperRange?(this.updatedUpperRange=!0,e+=(this.showOnlyValue?"":(""==e?"":"\n")+(o[c]+1)+this.rightUpperRangeReplacer+this.valueDelimiter)+h):e+=(this.showOnlyValue?"":(""==e?"":"\n")+(o[c]+1)+this.rangeDelimiter+(n[c]+1)+this.valueDelimiter)+h)}else for(a=t.length-1;0<=a;a--)0<t[a]&&(h="",h=this.isDisplayingCoins&&XT.GetBool(Vars.HasCoins)?CoinManager.ConvertMoneyToCoins(t[a]*i).toString():LocaleManager.FormatValue(t[a]*i,this.formatOptions),e+=(this.showOnlyValue?"":(""==e?"":"\n")+(a+1)+" - ")+h);return e},goog.require("UHT.XTLink"),RTPInfoSelector.prototype=Object.create(XTLink.prototype),(RTPInfoSelector.prototype.constructor=RTPInfoSelector).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this)},RTPInfoSelector.prototype.OnGameInit=function(){var t=!1,e=!1;0<=XT.GetDouble(Vars.ReturnToPlayer)&&(0<=XT.GetDouble(Vars.ReturnToPlayerMin)?e=!0:t=!0);for(var i=0,i=0;i<this.List1RTP.length;i++)this.List1RTP[i].SetActive(t);for(i=0;i<this.List2RTP.length;i++)this.List2RTP[i].SetActive(e)},goog.require("UHT.FOXLink");var GameInfoVars={GameInfo:"GameInfo",Evt_Internal_GameInfoChanged:"Evt_Internal_GameInfoChanged"};function GameInfoFOX(){FOXLink.call(this)}function Variable(){this.type=VarType.XT_Int,this.variable=null,this.gameInfo_Name="",this.gameInfo_Key="",this.value="",this.valid=!1,this.parent=null,this.isDisplayingCoins=!1,this.isDisplayingDecimals=!1,this.formatOptions=null,this.forceHasCoins=!1}function AddVariablesToText(){XTLink.call(this),this.baseLabel=null,this.initialString=null,this.someVariables=[]}function JurisdictionShowXChance(){FOXLink.call(this),this.chanceLabel=null}function PayingSymbol(){this.id,this.amount,this.positions=[]}GameInfoFOX.prototype=Object.create(FOXLink.prototype),(GameInfoFOX.prototype.constructor=GameInfoFOX).prototype.XTInitVariablesAndEvents=function(){XT.SetObject(GameInfoVars.GameInfo,null)},GameInfoFOX.prototype.HandleInitResponse=function(t){var e=null;t.gameInfo&&(e=JSON5.parse(t.gameInfo)),XT.GetBool(Vars.Jurisdiction_DisableAnteBet)&&e.rtps&&e.rtps.ante&&delete e.rtps.ante,XT.SetObject(GameInfoVars.GameInfo,e),XT.TriggerEvent(GameInfoVars.Evt_Internal_GameInfoChanged)},goog.require("UHT.XTLink"),AddVariablesToText.prototype=Object.create(XTLink.prototype),AddVariablesToText.prototype.constructor=AddVariablesToText,Variable.prototype.OnTargetValueChangedInt=function(t){this.value=t.toString(),this.valid=!0,this.parent.OnValuesUpdate()},Variable.prototype.OnTargetValueChangedFloat=function(t){this.value=t.toString(),this.valid=!0,this.parent.OnValuesUpdate()},Variable.prototype.OnLocaleChanged=function(){this.isDisplayingCoins&&XT.GetBool(Vars.HasCoins)||(LocaleManager.ApplyFontToLabel(this.formatOptions.fontId,this.parent.baseLabel),this.parent.OnValuesUpdate())},Variable.prototype.OnCoinValueChanged=function(){this.isDisplayingCoins&&XT.GetBool(Vars.HasCoins)&&this.parent.OnValuesUpdate()},Variable.prototype.OnHasCoinsChanged=function(){this.parent.OnValuesUpdate()},Variable.prototype.OnGameInfoChanged=function(){var t=XT.GetObject(GameInfoVars.GameInfo);null==t||_string.IsNullOrEmpty(this.gameInfo_Name)||(t[this.gameInfo_Name]?t[this.gameInfo_Name][this.gameInfo_Key]?(this.value=t[this.gameInfo_Name][this.gameInfo_Key],this.valid=!0,this.parent.OnValuesUpdate()):console.warn("Couldn't find key <"+this.gameInfo_Key+">. Dictionary <"+this.gameInfo_Name+"> contains: <"+Object.getOwnPropertyNames(t[this.gameInfo_Name]).join()+">."):console.warn("Couldn't find dictionary <"+this.gameInfo_Name+">. GameInfo contains: <"+Object.getOwnPropertyNames(t).join()+">."))},AddVariablesToText.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this);for(var t=0;t<this.someVariables.length;t++){switch((this.someVariables[t].parent=this).someVariables[t].type){case VarType.XT_Int:XT.RegisterCallbackInt(this.someVariables[t].variable.name,this.someVariables[t].OnTargetValueChangedInt,this.someVariables[t]);break;case VarType.XT_Float:XT.RegisterCallbackFloat(this.someVariables[t].variable.name,this.someVariables[t].OnTargetValueChangedFloat,this.someVariables[t]);break;case VarType.XT_Double:XT.RegisterCallbackDouble(this.someVariables[t].variable.name,this.someVariables[t].OnTargetValueChangedFloat,this.someVariables[t]);break;case VarType.XT_GameInfo:XT.RegisterCallbackEvent(GameInfoVars.Evt_Internal_GameInfoChanged,this.someVariables[t].OnGameInfoChanged,this.someVariables[t]);break;default:console.warn("The "+this.someVariables[t].type+" case was not implemented.")}XT.RegisterCallbackEvent(Vars.Evt_Internal_LocaleChanged,this.someVariables[t].OnLocaleChanged,this.someVariables[t]),XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged,this.someVariables[t].OnCoinValueChanged,this.someVariables[t]),XT.RegisterCallbackBool(Vars.HasCoins,this.someVariables[t].OnHasCoinsChanged,this.someVariables[t])}},AddVariablesToText.prototype.OnGameInit=function(){this.initialString=this.baseLabel.text,this.OnValuesUpdate()},AddVariablesToText.prototype.OnValuesUpdate=function(){if(null!=this.initialString){this.baseLabel.text=this.initialString;for(var t=0;t<this.someVariables.length;t++){if(!this.someVariables[t].valid)return void(this.baseLabel.text=" ");var e="{"+t.toString()+"}";this.someVariables[t].isDisplayingCoins&&XT.GetBool(Vars.HasCoins)?isNaN(this.someVariables[t].value)||(this.baseLabel.text=this.baseLabel.text.replace(e,""+CoinManager.ConvertMoneyToCoins(parseFloat(this.someVariables[t].value)))):this.someVariables[t].isDisplayingDecimals?isNaN(this.someVariables[t].value)||(this.baseLabel.text=this.baseLabel.text.replace(e,""+LocaleManager.FormatValue(parseFloat(this.someVariables[t].value),this.someVariables[t].formatOptions))):this.baseLabel.text=this.baseLabel.text.replace(e,this.someVariables[t].value)}}},goog.require("UHT.FOXLink"),JurisdictionShowXChance.prototype=Object.create(FOXLink.prototype),(JurisdictionShowXChance.prototype.constructor=JurisdictionShowXChance).prototype.HandleInitResponse=function(t){if(XT.GetBool(Vars.Jurisdiction_Show_X_Chance)){var e=null;t.gameInfo&&(e=JSON5.parse(t.gameInfo));var i=!1;if(null!=e&&null!=e.props&&null!=e.props.max_rnd_win&&null!=e.props.max_rnd_hr){var n=new FormatOptions;n.hasDecimals=!1,n.hasCurrency=!1;t=LocaleManager.FormatValue(e.props.max_rnd_win,n),n=LocaleManager.FormatValue(e.props.max_rnd_hr,n);this.chanceLabel.text=this.chanceLabel.text.replace("{0}",t+"X"),this.chanceLabel.text=this.chanceLabel.text.replace("{1}",n),this.chanceLabel.gameObject.SetActive(!0);n=globalRuntime.sceneRoots[1];if(!Globals.isMobile)for(var o=n.GetComponentsInChildren(PaytableArranger,!0),s=0;s<o.length;s++){var r=o[s].panelUnder.GetComponentsInChildren(UISprite,!0)[0];null!=r&&(r.transform.localPosition(new UHTMath.Vector3(r.transform.localPosition().x,-39,r.transform.localPosition().z)),r.transform.localScale(new UHTMath.Vector3(r.transform.localScale().x,1.097,r.transform.localScale().z)))}i=!0}i||XT.SetBool(Vars.Jurisdiction_Show_X_Chance,!1)}},goog.require("UHT.FOXLink");var PayingSymbolVars={PayingSymbols:"PayingSymbols",PayingSymbolIsScatter:"PayingSymbolIsScatter",PayingSymbolsScatterIndex:"PayingSymbolsScatterIndex",CurrentDisplayedPayingSymbolIndex:"CurrentDisplayedPayingSymbolIndex",Evt_Internal_ShowPayingSymbol:"Evt_Internal_ShowPayingSymbol",Evt_Internal_HidePayingSymbol:"Evt_Internal_HidePayingSymbol"};function PayingSymbolFOX(){FOXLink.call(this),this.payingSymbols=[]}PayingSymbolFOX.prototype=Object.create(FOXLink.prototype),(PayingSymbolFOX.prototype.constructor=PayingSymbolFOX).prototype.XTInitVariablesAndEvents=function(){XT.SetObject(PayingSymbolVars.PayingSymbols,this.payingSymbols)},PayingSymbolFOX.prototype.HandleResponse=function(t){this.payingSymbols.splice(0);var e=-1;if(null!=t.psym){var i=null;null!=t.s&&(i=_array.ConvertAll(t.s.split(","),_number.otoi));for(var n=t.psym.split(";"),o=0;o<n.length;++o){var s,r=n[o].split("~");1<r.length&&((s=new PayingSymbol).id=_number.otoi(r[0]),s.amount=_number.otod(r[1]),s.positions=2<r.length?_array.ConvertAll(r[2].split(","),_number.otoi):this.FindPositions(i,s.id),this.payingSymbols.push(s),1==s.id&&(e=o))}}XT.SetInt(PayingSymbolVars.PayingSymbolsScatterIndex,e),XT.SetBool(PayingSymbolVars.PayingSymbolIsScatter,1==this.payingSymbols.length&&0==e)},PayingSymbolFOX.prototype.FindPositions=function(t,e){var i=[];if(null!=t)for(var n=0;n<t.length;++n)t[n]==e&&i.push(n);return i},PayingSymbolFOX.prototype.HandleInitResponse=function(t){this.HandleResponse(t)},PayingSymbolFOX.prototype.HandleSpinResponse=function(t){this.HandleResponse(t)},goog.require("UHT.FOXLink");var DefaultStateVars={DefaultSymbolsAbove:"DefaultSymbolsAbove",DefaultSymbolsBelow:"DefaultSymbolsBelow"};function DefaultStateFOX(){FOXLink.call(this),this.initResponse=null}function ClockDisplayer(){XTLink.call(this),this.hoursLabel=null,this.separatorLabel=null,this.minutesLabel=null,this.initialTimeZone="",this.synchedTime=0,this.useSynchedTime=!1,this.isSynched=!1}function JurisdictionClock(){XTLink.call(this)}function JurisdictionClientRevision(){XTLink.call(this),this.valueLabel=null,this.isActive=!1}function JurisdictionGameSymbol(){XTLink.call(this),this.valueLabel=null,this.isActive=!1}function LineByLineSkipper(){XTLink.call(this)}function SB_JurisdictionCustomization(){XTLink.call(this),this.disableQuickSpin=null,this.wasApplied=!1,this.patchLabels=[]}function BonusGameMultiplePicks(){XTLink.call(this),this.show=null,this.resume=null,this.close=null,this.reset=null,this.indicatorShow=null,this.indicatorGameOver=null,this.indicatorResume=null,this.indicatorReset=null,this.pickItems=[]}function PickableItemBase(){XTLink.call(this),this.showPicked=null,this.resumePicked=null,this.resetPick=null,this.myCollider=null}function NetPositionFOX(){FOXLink.call(this),this.netPositionLabel=null,this.currentNetPosition=0,this.lastTotalWin=0,this.ignoreFirstTumble=!0,this.formatOptions=new FormatOptions}function JurisdictionSessionUptime(){XTLink.call(this),this.contents=null,this.minutesLabels=null,this.secondsLabels=null,this.currentTime=0}function AGCCController(){Component.call(this),this.image=null,this.shouldShow=!1}function AnimatedScaledBar(){Component.call(this),this.target=null,this.clip=null}DefaultStateFOX.prototype=Object.create(FOXLink.prototype),(DefaultStateFOX.prototype.constructor=DefaultStateFOX).Keys={symbols:"def_s",symbolsAbove:"def_sa",symbolsBelow:"def_sb",awardIndex:"def_aw",awardPosition:"def_aw_p"},DefaultStateFOX.prototype.XTRegisterCallbacks=function(){FOXLink.prototype.XTRegisterCallbacks.call(this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived,this.OnInitReceivedFromServer,this)},DefaultStateFOX.prototype.XTInitVariablesAndEvents=function(){XT.SetObject(DefaultStateVars.DefaultSymbolsAbove,null),XT.SetObject(DefaultStateVars.DefaultSymbolsBelow,null)},DefaultStateFOX.prototype.HandleInitResponse=function(t){this.initResponse=t},DefaultStateFOX.prototype.OnInitReceivedFromServer=function(){var t,e;null!=this.initResponse[DefaultStateFOX.Keys.symbols]&&(e=GameProtocolDictionary.winSymbols,GameProtocolDictionary.winSymbols=DefaultStateFOX.Keys.symbols,0<(t=VSProtocolParser.ParseWinScreenSymbols(this.initResponse,GameConnection.prototype.SlotHeight,GameProtocolDictionary.winSymbols)).length&&XT.SetObject(Vars.InitialScreen,t),GameProtocolDictionary.winSymbols=e),null!=this.initResponse[DefaultStateFOX.Keys.symbolsAbove]&&XT.SetObject(DefaultStateVars.DefaultSymbolsAbove,GameProtocolCommonParser.ParseIntList(this.initResponse,DefaultStateFOX.Keys.symbolsAbove)),null!=this.initResponse[DefaultStateFOX.Keys.symbolsBelow]&&XT.SetObject(DefaultStateVars.DefaultSymbolsBelow,GameProtocolCommonParser.ParseIntList(this.initResponse,DefaultStateFOX.Keys.symbolsBelow)),null==this.initResponse[DefaultStateFOX.Keys.awardIndex]&&null==this.initResponse[DefaultStateFOX.Keys.awardPosition]||(null==(e=XT.GetObject(Vars.InitialRandomAward))&&(e=new RandomAwardsResponse,XT.SetObject(Vars.InitialRandomAward,e)),null!=this.initResponse[DefaultStateFOX.Keys.awardIndex]&&(e.awardIndex=_number.otoi(this.initResponse[DefaultStateFOX.Keys.awardIndex])),null!=this.initResponse[DefaultStateFOX.Keys.awardPosition]&&(e.awardPositionInReel=_number.otoi(this.initResponse[DefaultStateFOX.Keys.awardPosition]))),this.initResponse=null},goog.require("UHT.XTLink"),ClockDisplayer.prototype=Object.create(XTLink.prototype),(ClockDisplayer.prototype.constructor=ClockDisplayer).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.Jurisdiction_Clock_Server,this.OnJurisdictionClockServerChanged,this),XT.RegisterCallbackDouble(Vars.Jurisdiction_ServerTime,this.OnServerTimeChanged,this),null!=window.Intl&&(this.initialTimeZone=(new Intl.DateTimeFormat).resolvedOptions().timeZone)},ClockDisplayer.prototype.OnJurisdictionClockServerChanged=function(t){this.useSynchedTime=t},ClockDisplayer.prototype.OnServerTimeChanged=function(t){this.synchedTime=t,this.isSynched=!0},ClockDisplayer.prototype.UpdateTime=function(){var t=new Date;this.useSynchedTime&&this.isSynched&&(t=""==this.initialTimeZone||null==this.initialTimeZone||null==window.Date.toLocaleString?new Date(this.synchedTime):new Date(new Date(this.synchedTime).toLocaleString("en-US",{timeZone:this.initialTimeZone}))),this.hoursLabel.text=t.getHours();t=t.getMinutes();this.minutesLabel.text=9<t?t:"0"+t},ClockDisplayer.prototype.Update=function(){this.UpdateTime(),this.synchedTime+=1e3*Time.deltaTime},goog.require("UHT.XTLink"),JurisdictionClock.prototype=Object.create(XTLink.prototype),(JurisdictionClock.prototype.constructor=JurisdictionClock).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.Jurisdiction_Clock,this.OnJurisdictionClockChanged,this)},JurisdictionClock.prototype.OnJurisdictionClockChanged=function(t){this.gameObject.SetActive(t)},goog.require("UHT.XTLink"),JurisdictionClientRevision.prototype=Object.create(XTLink.prototype),(JurisdictionClientRevision.prototype.constructor=JurisdictionClientRevision).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen,this.OnPressedPaytableOpen,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose,this.OnPressedPaytableClose,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackBool(Vars.Jurisdiction_ClientRevision,this.OnJurisdictionInfoChanged,this)},JurisdictionClientRevision.prototype.OnJurisdictionInfoChanged=function(t){this.isActive=t},JurisdictionClientRevision.prototype.OnPressedPaytableOpen=function(){this.isActive&&this.gameObject.SetActive(!0)},JurisdictionClientRevision.prototype.OnPressedPaytableClose=function(){this.isActive&&this.gameObject.SetActive(!1)},JurisdictionClientRevision.prototype.OnGameInit=function(){this.valueLabel.text=UHT_REVISION.common},goog.require("UHT.XTLink"),JurisdictionGameSymbol.prototype=Object.create(XTLink.prototype),(JurisdictionGameSymbol.prototype.constructor=JurisdictionGameSymbol).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen,this.OnPressedPaytableOpen,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose,this.OnPressedPaytableClose,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this),XT.RegisterCallbackBool(Vars.Jurisdiction_GameSymbol,this.OnJurisdictionInfoChanged,this)},JurisdictionGameSymbol.prototype.OnJurisdictionInfoChanged=function(t){this.isActive=t},JurisdictionGameSymbol.prototype.OnPressedPaytableOpen=function(){this.isActive&&this.gameObject.SetActive(!0)},JurisdictionGameSymbol.prototype.OnPressedPaytableClose=function(){this.isActive&&this.gameObject.SetActive(!1)},JurisdictionGameSymbol.prototype.OnGameInit=function(){this.valueLabel.text=UHT_GAME_CONFIG.GAME_SYMBOL},goog.require("UHT.Engine"),goog.require("UHT.XTLink"),LineByLineSkipper.prototype=Object.create(XTLink.prototype),(LineByLineSkipper.prototype.constructor=LineByLineSkipper).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.LastWinIsCounting,this.OnLastWinIsCounting,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted,this.OnSpinStarted,this)},LineByLineSkipper.prototype.OnDestroy=function(){XT.UnregisterCallbackBool(this.OnLastWinIsCounting,this),XT.UnregisterCallbackEvent(this.OnSpinStarted,this)},LineByLineSkipper.prototype.OnLastWinIsCounting=function(t){t&&(XT.GetBool(Vars.Jurisdiction_LineByLineGlobal)||XT.GetBool(Vars.Jurisdiction_LineByLineFreespin))&&(!XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin&&-1==XT.GetInt(Vars.AutoplaySpinsLeft)&&null==XT.GetObject(Vars.TumblingData)||this.gameObject.SetActive(!0))},LineByLineSkipper.prototype.ClickedLineByLineSkipperCollider=function(){for(var t=XT.GetObject(Vars.RQManagerObject),e=[],i=0;i<t.rqiList.length;i++)"RQIMarker"==t.rqiList[i].constructor.name&&e.push(i);for(;0<e.length;)t.rqiList[e[0]].type==RQIMarker.MarkerType.StartLineByLine?(t.rqiList.splice(e[0],e[1]-e[0]),e.splice(0,2)):(t.rqiList.splice(0,e[0]),e.splice(0,1));XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin),XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_Spin),this.gameObject.SetActive(!1)},LineByLineSkipper.prototype.OnSpinStarted=function(){this.gameObject.SetActive(!1)},LineByLineSkipper.prototype.ActivateOnFSResume=function(){XT.GetBool(Vars.Jurisdiction_LineByLineGlobal)||XT.GetBool(Vars.Jurisdiction_LineByLineFreespin)||this.gameObject.SetActive(!1)},goog.require("UHT.Engine"),goog.require("UHT.XTLink"),SB_JurisdictionCustomization.prototype=Object.create(XTLink.prototype),(SB_JurisdictionCustomization.prototype.constructor=SB_JurisdictionCustomization).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins,this.OnDisableFastPlay,this),XT.RegisterCallbackBool(Vars.DisableFastPlay,this.OnDisableFastPlay,this),XT.RegisterCallbackBool(Vars.Jurisdiction_DisableAnteBet,this.OnDisableAnteBet,this)},SB_JurisdictionCustomization.prototype.OnDisableFastPlay=function(t){t&&!this.wasApplied&&(XT.RegisterCallbackBool(Vars.FastPlay,this.OnFastPlay,this),this.RemoveQuickSpinReferences(),this.wasApplied=!0)},SB_JurisdictionCustomization.prototype.OnFastPlay=function(t){XT.SetBool(Vars.FastPlay,!1)},SB_JurisdictionCustomization.prototype.RemoveQuickSpinReferences=function(){this.disableQuickSpin.Start()},SB_JurisdictionCustomization.prototype.OnDisableAnteBet=function(t){if(t){XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,this.OnGameInit,this);t=globalRuntime.sceneRoots[1].GetComponentsInChildren(window.Paytable,!0);if(0<(t=0==t.length?globalRuntime.sceneRoots[1].GetComponentsInChildren(window.Paytable_mobile,!0):t).length){for(var e=t[0].GetComponentsInChildren(Transform,!0),i=0;i<e.length;i++)(-1<e[i].gameObject.name.indexOf("PreBetHolder")||-1<e[i].gameObject.name.indexOf("AnteBetHolder")||-1<e[i].gameObject.name.indexOf("AnteHolder"))&&(e[i].gameObject.SetActive(!1),e[i].gameObject.name+="MMWillNeverFindMe");for(var n=t[0].GetComponentsInChildren(UILabel,!0),i=0;i<n.length;i++)if("ante bet"==n[i].text.toLowerCase().trim()&&(n[i].gameObject.SetActive(!1),n[i].gameObject.name+="MMWillNeverFindMe"),-1<n[i].text.toLowerCase().indexOf("ante bet")&&-1==n[i].text.toLowerCase().indexOf("rtp")){var o=n[i].text.split(".");if(1<o.length){for(var s=0;s<o.length;s++)-1<o[s].toLowerCase().indexOf("ante bet")&&(null==n[i].NOAB_sentenceToRemoveIndex&&(n[i].NOAB_sentenceToRemoveIndex=[]),n[i].NOAB_sentenceToRemoveIndex.push(s));n[i].NOAB_sentenceToRemoveIndex&&(n[i].NOAB_sentencesCount=o.length,this.patchLabels.push(n[i]))}}}}},SB_JurisdictionCustomization.prototype.OnGameInit=function(){for(var t=0;t<this.patchLabels.length;t++)for(var e=[".","。"],i=0;i<e.length;i++){var n=this.patchLabels[t].text.split(e[i]);if(1<n.length&&n.length==this.patchLabels[t].NOAB_sentencesCount){for(var o=this.patchLabels[t].NOAB_sentenceToRemoveIndex.length-1;0<=o;o--)n.splice(this.patchLabels[t].NOAB_sentenceToRemoveIndex[o],1);this.patchLabels[t].text=n.join(e[i]);break}}},goog.provide("UHT.BonusGameMultiplePicks"),goog.require("UHT.XTLink"),BonusGameMultiplePicks.prototype=Object.create(XTLink.prototype),(BonusGameMultiplePicks.prototype.constructor=BonusGameMultiplePicks).prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackEvent(BGVars.Evt_Internal_ShowLevel,this.ShowBonusGame,this),XT.RegisterCallbackEvent(BGVars.Evt_Internal_ResumeLevel,this.ResumeBonusGame,this),XT.RegisterCallbackEvent(BGVars.Evt_DataToCode_BonusPickItemClicked,this.OnPickableItemClick,this),XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived,this.OnLevelResponseReceived,this)},BonusGameMultiplePicks.prototype.XTInitVariablesAndEvents=function(){null!=this.indicatorGameOver&&null!=this.indicatorGameOver.cat||(this.indicatorGameOver=this.indicatorShow)},BonusGameMultiplePicks.prototype.OnDestroy=function(){XT.UnregisterCallbackEvent(this.ShowBonusGame,this),XT.UnregisterCallbackEvent(this.ResumeBonusGame,this),XT.UnregisterCallbackEvent(this.OnPickableItemClick,this),XT.UnregisterCallbackEvent(this.OnLevelResponseReceived,this)},BonusGameMultiplePicks.prototype.ActivatePicks=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&this.indicatorShow.cat.UnregisterCallback(this.indicatorShow.id,this.ActivatePicks,this);var i=XT.GetObject(Vars.BonusData);XT.SetInt(Vars.BonusTotalWinDisplayed,i.WinPoints);for(var n=0;n<this.pickItems.length;n++)n>=i.ItemsStatus.length||this.pickItems[n].ActivateInput(i.ItemsStatus[n]<=0)},BonusGameMultiplePicks.prototype.GameOver=function(t,e){t==CAT_Event.CallbackType.EndOfEvent&&(this.indicatorGameOver.cat.UnregisterCallback(this.indicatorGameOver.id,this.GameOver,this),this.AnnounceGameOver())},BonusGameMultiplePicks.prototype.UpdatePickableItems=function(t){for(var e=XT.GetObject(Vars.BonusData),i=0;i<this.pickItems.length;i++)i>=e.ItemsStatus.length||(t?0<e.ItemsStatus[i]&&this.pickItems[i].ItemResume(e,i):(!e.GameOver&&0<e.ItemsStatus[i]&&e.ItemsStatus[i]==e.Level||e.GameOver&&e.ItemsStatus[i]==e.Level+1)&&this.pickItems[i].ItemShow(e,i))},BonusGameMultiplePicks.prototype.AnnounceGameOver=function(){var t=XT.GetObject(Vars.BonusData);XT.SetInt(Vars.BonusTotalWinDisplayed,t.WinPoints);for(var e=0;e<this.pickItems.length;e++)this.pickItems[e].ActivateInput(!1);XT.GetBool(BGVars.ShowResultAfterBigWin)&&(XT.SetDouble(Vars.BonusRealWinDisplayed,0),XT.SetDouble(Vars.BonusRealWinDisplayed,t.RealWin)),XT.TriggerEvent(BGVars.Evt_CodeToData_BonusResultWindowShow)},BonusGameMultiplePicks.prototype.IsResume=function(t){return 0<t.Level},BonusGameMultiplePicks.prototype.ShowBonusGame=function(){var t=XT.GetObject(Vars.BonusData);if(this.IsResume(t))this.ResumeBonusGame();else{this.indicatorReset.Start(),this.reset.Start(),this.show.Start();for(var e=0;e<this.pickItems.length;e++)this.pickItems[e].ResetItem()}},BonusGameMultiplePicks.prototype.ResumeBonusGame=function(){var t=XT.GetObject(Vars.BonusData);this.UpdatePickableItems(!0),this.resume.Start(),t.GameOver&&this.AnnounceGameOver()},BonusGameMultiplePicks.prototype.OnLevelResponseReceived=function(){var t=XT.GetObject(Vars.BonusData);this.UpdatePickableItems(!1),t.GameOver?(this.indicatorGameOver.cat.RegisterCallback(this.indicatorGameOver.id,this.GameOver,this),this.indicatorGameOver.Start()):(this.indicatorShow.cat.RegisterCallback(this.indicatorShow.id,this.ActivatePicks,this),this.indicatorShow.Start())},BonusGameMultiplePicks.prototype.OnPickableItemClick=function(){XT.GetInt(BGVars.BonusPickItemIndex);for(var t=0;t<this.pickItems.length;t++)this.pickItems[t].ActivateInput(!1);XT.TriggerEvent(BGVars.Evt_ToServer_BonusPickedItem)},goog.provide("UHT.PickableItemBase"),goog.require("UHT.Engine"),PickableItemBase.prototype=Object.create(XTLink.prototype),(PickableItemBase.prototype.constructor=PickableItemBase).prototype.ItemShow=function(t,e){},PickableItemBase.prototype.ItemResume=function(t,e){this.ActivateInput(!1)},PickableItemBase.prototype.ActivateInput=function(t){if(null==this.myCollider){var e=this.GetComponentsInChildren(Collider,!0);if(null==e||e.length<1)return;this.myCollider=e[0]}this.myCollider.enabled=t},PickableItemBase.prototype.ResetItem=function(){this.ActivateInput(!0)},goog.require("UHT.FOXLink"),NetPositionFOX.prototype=Object.create(FOXLink.prototype),(NetPositionFOX.prototype.constructor=NetPositionFOX).prototype.XTInitVariablesAndEvents=function(){XT.RegisterCallbackBool(Vars.ShowNetPosition,this.OnShowNetPosition,this),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI,this.OnUpdateDisplayedWin,this)},NetPositionFOX.prototype.OnShowNetPosition=function(t){this.gameObject.SetActive(t)},NetPositionFOX.prototype.OnUpdateDisplayedWin=function(){this.netPositionLabel.text=LocaleManager.FormatValue(this.currentNetPosition,this.formatOptions)},NetPositionFOX.prototype.HandleInitResponse=function(t){this.netPositionLabel.text=LocaleManager.FormatValue(this.currentNetPosition,this.formatOptions)},NetPositionFOX.prototype.HandleSpinResponse=function(t){if(null!=t[GameProtocolDictionary.spinCycleWin]&&(this.lastTotalWin=_number.otod(t[GameProtocolDictionary.spinCycleWin])),!XT.GetBool(Vars.Logic_IsFreeSpin)){if(XT.GetBool(Vars.IsDifferentSpinType)){if(!this.ignoreFirstTumble)return;this.ignoreFirstTumble=!1}var e=-1,i=-1;null!=t[GameProtocolDictionary.line]&&(e=_number.otoi(t[GameProtocolDictionary.line])),-1!=(i=null!=t[GameProtocolDictionary.coin]?_number.otod(t[GameProtocolDictionary.coin]):i)&&-1!=e&&null==t[GameProtocolDictionary.FreeRound.TotalWin]&&(this.currentNetPosition-=i*e),this.OnUpdateDisplayedWin()}},NetPositionFOX.prototype.HandleCollectResponse=function(t){this.ignoreFirstTumble=!0,this.currentNetPosition+=this.lastTotalWin},NetPositionFOX.prototype.HandlePickBonusResponse=function(t){null!=t[GameProtocolDictionary.spinCycleWin]&&(this.lastTotalWin=_number.otod(t[GameProtocolDictionary.spinCycleWin]))},NetPositionFOX.prototype.HandleBonusRespinResponse=function(t){null!=t[GameProtocolDictionary.spinCycleWin]&&(this.lastTotalWin=_number.otod(t[GameProtocolDictionary.spinCycleWin]))},NetPositionFOX.prototype.HandleBonusCollectResponse=function(t){this.currentNetPosition+=this.lastTotalWin,this.OnUpdateDisplayedWin()},NetPositionFOX.prototype.HandleGambleResponse=function(t){null!=t[GameProtocolDictionary.spinCycleWin]&&(this.lastTotalWin=_number.otod(t[GameProtocolDictionary.spinCycleWin]))},NetPositionFOX.prototype.HandleGambleCollectResponse=function(t){this.currentNetPosition+=this.lastTotalWin},goog.require("UHT.XTLink"),JurisdictionSessionUptime.prototype=Object.create(XTLink.prototype),(JurisdictionSessionUptime.prototype.constructor=JurisdictionSessionUptime).prototype.Awake=function(){null==UHT_GAME_CONFIG_SRC.s_elapsed?null!=UHT_GAME_CONFIG.rcSettings&&null!=UHT_GAME_CONFIG.rcSettings.elapsed&&(this.currentTime=60*UHT_GAME_CONFIG.rcSettings.elapsed):this.currentTime=60*UHT_GAME_CONFIG_SRC.s_elapsed},JurisdictionSessionUptime.prototype.XTRegisterCallbacks=function(){XT.RegisterCallbackBool(Vars.Jurisdiction_ShowSessionUptime,this.OnJurisdictionSessionUptimeChanged,this),XT.RegisterCallbackBool(Vars.Jurisdiction_Clock,this.OnJurisdictionClockChanged,this)},JurisdictionSessionUptime.prototype.OnJurisdictionSessionUptimeChanged=function(t){for(var e=0;e<this.contents.length;e++)this.contents[e].SetActive(t)},JurisdictionSessionUptime.prototype.OnJurisdictionClockChanged=function(t){var e=this.gameObject.GetComponentsInChildren(ScreenAnchor,!0);0<e.length&&(e[0].leftOffset=t?75:15,e[0].updateIsNeeded=!0)},JurisdictionSessionUptime.prototype.Update=function(t){this.currentTime+=Time.deltaTimeInRealTime;for(var e=Math.floor(this.currentTime/60),i=this.currentTime%60|0,n=0;n<this.minutesLabels.length;n++)this.minutesLabels[n].text=(1==e.toString().length?"0":"")+e.toString(),this.secondsLabels[n].text=(1==i.toString().length?"0":"")+i.toString()},goog.require("UHT.BonusGameMultiplePicks"),goog.require("UHT.PickableItemBase"),goog.require("UHT.VSGameStateManager"),goog.require("UHT.PaytableSymbolPayout_Ways"),goog.require("UHT.Engine"),AGCCController.prototype=Object.create(Component.prototype),(AGCCController.prototype.constructor=AGCCController).prototype.Update=function(){var t,e;null!=UHT_GAME_CONFIG&&(this.shouldShow="imageAGCC"==UHT_GAME_CONFIG.jurisdictionMsg,this.image.SetActive(this.shouldShow)),this.shouldShow&&(null!=(t=Globals.GetCameraForObject(this.image))&&((e=new UHTMath.Vector3(0,0,0)).y=UHTScreen.height,t=t.ScreenToWorldPoint(e),e=this.image.transform.position(),this.image.transform.position(e.x,t.y+.05,e.z)),UHTScreen.width>=1.4*UHTScreen.height?this.image.transform.localScale(2.1,2.1,2.1):UHTScreen.width>=UHTScreen.height?this.image.transform.localScale(1.7,1.7,1.7):UHTScreen.width<UHTScreen.height&&this.image.transform.localScale(1.05,1.05,1.05),(e=globalRuntime.sceneRoots[0].GetComponentsInChildren(ClientLoader)[0]).transform.localScale(.6,.6,.6),e.transform.localPosition(0,30,0))},goog.require("UHT.Engine"),AnimatedScaledBar.prototype=Object.create(Component.prototype),(AnimatedScaledBar.prototype.constructor=AnimatedScaledBar).prototype.Scale=function(t){var e=this.target.GetAnimationState(this.clip.name);e.enabled=!0,e.weight=1,e.time=t*e.length,this.target.Sample(),e.enabled=!1},goog.require("UHT.Engine"),ClientLoader.prototype=Object.create(Component.prototype),ClientLoader.prototype.constructor=ClientLoader;var UHT_LOADER_DEBUG=!1;function ClientLoader(){Component.call(this),this.scaledBar=null,this.minTimeForLoader=0,this.percentLabel=null,this.shouldHide=-1,this.timeSpentInLoader=0,this.canStartImport=!1,this.curScale=0,this.maxDeltaScale=.01,this.animatedBars=null,this.tryToHide=!1}function padLeft(t,e,i){return Array(e-String(t).length+1).join(i||"0")+t}function ClientLoaderAnimation(){Component.call(this),this.framePrefix="",this.dt=.1,this.digits=2,this.sprite=null,this.oframe=-1,this.frame=0,this.animTime=0}function ClientCustomContentTGCE(){Component.call(this),this.start=null,this.animate=null,this.landscape=null,this.portrait=null,this.framesAnimator=null,this.framesAnimationTime=0,this.progressSampler=null,this.progressSamplers=null,this.progressAnimator=null,this.progressAnimators=null,this.progressAnimationTime=0,this.progressThreshold=0,this.totalDistance=0,this.minimalDistance=0,this.targetProgress=0,this.screenWidth=0,this.screenHeight=0}function ClientCustomContent_PBlinders(){Component.call(this),this.hasMovingPivot=!0,this.movingPivot=null,this.movingStartPos=UHTMath.Vector3.zero,this.movingEndPos=UHTMath.Vector3.zero,this.hasFillingSprites=!0,this.fillingSprites=null,this.fillingStart=.15,this.fillingEnd=1}function OrientationChanger(){Component.call(this),this.toLandscape=null,this.toPortrait=null,this.screenWidth=0,this.screenHeight=0}function FullscreenVisual(){Component.call(this),this.catShow=null,this.catHide=null,this.mustShow=!1,this.isShown=!1,UHTEventBroker.AddHandler(UHTEventBroker.Type.Game,new UHTEventBroker.Handler(this,this.OnGameEvent))}function LoaderScaler(){Component.call(this),this.curWidth=-1,this.curHeight=-1,this.background=null}function SpriteSizeProxy(){Component.call(this),this.sprite=null,this.width=-1,this.height=-1,this.curWidth=-1,this.curHeight=-1,this.useUpdate=!0}ClientLoader.progressPercent=0,ClientLoader.prototype.Start=function(){UHTEngine.StartDownloadingMainGame(this,"OnGameDownloaded","OnRequestToHideLoader"),this.scaledBar.transform.localScale(0,1,1);for(var t=0;t<this.animatedBars.length;++t)this.animatedBars[t].Scale(0);this.percentLabel.gameObject.SetActive(!1),UHTEngine.HideFirstLoader()},ClientLoader.prototype.OnGameDownloaded=function(){this.canStartImport=!0},ClientLoader.prototype.OnRequestToHideLoader=function(){this.tryToHide=!0},ClientLoader.prototype.Update=function(){if(this.timeSpentInLoader+=Time.deltaTime,!(this.timeSpentInLoader<this.minTimeForLoader)){if(this.percentLabel.gameObject.SetActive(!0),LoaderProgress.Download_Total=UHT_GAME_SIZE,-1==LoaderProgress.Download_AlreadyDownloaded&&(LoaderProgress.Download_Weight*=1-(LoaderProgress.Download_Current+1)/(LoaderProgress.Download_Total+1),LoaderProgress.GameAndSound_Download_Weight*=1-(LoaderProgress.Download_Current+1)/(LoaderProgress.Download_Total+1),LoaderProgress.Download_AlreadyDownloaded=LoaderProgress.Download_Current),-1==LoaderProgress.Download_SoundAlreadyDownloaded&&(LoaderProgress.Sound_Download_Weight*=1-(LoaderProgress.Sound_Download_Current+1)/(LoaderProgress.Sound_Download_Total+1),LoaderProgress.Download_SoundAlreadyDownloaded=LoaderProgress.Sound_Download_Current),0!=globalResourcesNeededList.length||UHTEngine.WaitingForSounds()?this.shouldHide=-1:this.tryToHide&&this.shouldHide<0&&(this.shouldHide=5),this.canStartImport&&(this.canStartImport=!1,UHTEngine.StartImportingMainGame()),0!=this.shouldHide){for(var t,e=0,i=0,n=0;n<globalResourcesNeededInfo.length;n++)null!=globalResourcesNeededInfo[n].baseTexture.source.downloadSizeTotal?(i+=globalResourcesNeededInfo[n].baseTexture.source.downloadSizeLoaded,-1==(t=globalResourcesNeededInfo[n].baseTexture.source.downloadSizeTotal)?e=-1:-1!=e&&(e+=t)):(globalResourcesNeededInfo[n].valid&&i++,e++);0<e&&(LoaderProgress.Blocking_Current=i,LoaderProgress.Blocking_Total=e),this.tryToHide&&-1==LoaderProgress.Blocking_Total&&0==globalResourcesNeededInfo.length&&(LoaderProgress.Blocking_Current=1,LoaderProgress.Blocking_Total=1),LoaderProgress.InitConnection_Visual<LoaderProgress.InitConnection_Current&&(LoaderProgress.InitConnection_Visual+=.2),LoaderProgress.Sound_Download_Weight=0,LoaderProgress.Download_Weight=LoaderProgress.GameAndSound_Download_Weight;var o,s=LoaderProgress.Download_Weight+(null==window.UHT_ForceClickForSounds&&UHT_DEVICE_TYPE.DESKTOP?LoaderProgress.Sound_Download_Weight:0)+LoaderProgress.Import_Weight+LoaderProgress.Import_Textures_Weight+LoaderProgress.InitConnection_Weight+LoaderProgress.Localize_Weight+LoaderProgress.Blocking_Weight+LoaderProgress.SymbolsManagers_Weight+.02,r=0;r+=((LoaderProgress.Download_Current-LoaderProgress.Download_AlreadyDownloaded+1)/(LoaderProgress.Download_Total-LoaderProgress.Download_AlreadyDownloaded+1)*(1-LoaderProgress.Download_Retried_LockedPercent)+LoaderProgress.Download_Retried_LockedPercent)*(LoaderProgress.Download_Weight/s),UHT_DEVICE_TYPE.DESKTOP&&-1!=LoaderProgress.Sound_Download_Total&&(r+=(LoaderProgress.Sound_Download_Current-LoaderProgress.Download_SoundAlreadyDownloaded+1)/(LoaderProgress.Sound_Download_Total-LoaderProgress.Download_SoundAlreadyDownloaded+1)*(LoaderProgress.Sound_Download_Weight/s)),-1!=LoaderProgress.Import_Total&&(r+=LoaderProgress.Import_Current/LoaderProgress.Import_Total*(LoaderProgress.Import_Weight/s)),-1!=LoaderProgress.Import_Textures_Total&&(o=LoaderProgress.Import_Textures_Current/LoaderProgress.Import_Textures_Total,r+=(o=UHTMath.clamp(o,0,1))*(LoaderProgress.Import_Textures_Weight/s)),r+=LoaderProgress.InitConnection_Visual/LoaderProgress.InitConnection_Total*(LoaderProgress.InitConnection_Weight/s),r+=LoaderProgress.Localize_Current/LoaderProgress.Localize_Total*(LoaderProgress.Localize_Weight/s),-1!=LoaderProgress.Blocking_Total&&(r+=LoaderProgress.Blocking_Current/LoaderProgress.Blocking_Total*(LoaderProgress.Blocking_Weight/s)),-1!=LoaderProgress.SymbolsManagers_Total&&(r+=LoaderProgress.SymbolsManagers_Current/LoaderProgress.SymbolsManagers_Total*(LoaderProgress.SymbolsManagers_Weight/s));s=r-this.curScale;(s=s<0?0:s)>this.maxDeltaScale*(2.5/s)*r&&(s=this.maxDeltaScale*(2.5/s)*r),this.curScale+=s,UHT_LOADER_DEBUG&&(UHT_DEBUG_TEXT="\nLP:   "+Number(r).toFixed(2)+"      "+Number(this.curScale).toFixed(2)+"      \n  IC "+padLeft(LoaderProgress.Import_Current,6," ")+"/"+padLeft(LoaderProgress.Import_Total,6," ")+"\n  IT "+padLeft(LoaderProgress.Import_Textures_Current,6," ")+"/"+padLeft(LoaderProgress.Import_Textures_Total,6," ")+"\n       CC "+padLeft(LoaderProgress.InitConnection_Current,1," ")+"  CV "+Number(LoaderProgress.InitConnection_Visual).toFixed(2)+"  CT "+padLeft(LoaderProgress.InitConnection_Total,1," ")+"\n       LC "+padLeft(LoaderProgress.Localize_Current,1," ")+"/"+padLeft(LoaderProgress.Localize_Total,1," ")+"\n       BLOCK "+padLeft(LoaderProgress.Blocking_Current,10," ")+"  BT "+padLeft(LoaderProgress.Blocking_Total,10," ")+"\n       SM "+padLeft(LoaderProgress.SymbolsManagers_Current,3," ")+"/"+padLeft(LoaderProgress.SymbolsManagers_Total,3," ")+"\n       DL "+padLeft(LoaderProgress.Download_Current,8," ")+"/"+padLeft(LoaderProgress.Download_Total,8," "))}0==this.shouldHide?(this.gameObject.SetActive(!1),UHTEngine.SignalLoaderIsHidden(),LoadingStep=4,globalTracking.StartTimer("uht_loading","_CLOSED_at_PLAYING","LoadingTracker"),globalTracking.StopTimerAndSend("uht_loading","_3_game_opening_and_connecting","LoadingTracker"),u=globalTracking.GetTimerValue("uht_loading","_3_game_opening_and_connecting","LoadingTracker"),globalTracking.SendEvent("uht_loading","_3_game_opening_and_connecting",u,"LoadingTracker"),globalTracking.StopTimerAndSend("uht_loading","_4_loading_total_time","LoadingTracker"),u=globalTracking.GetTimerValue("uht_loading","_4_loading_total_time","LoadingTracker"),globalTracking.SendEvent("uht_loading","_4_loading_total_time",u,"LoadingTracker"),globalTracking.SendEvent("uht_behaviour","Session_started",Renderer.IsWebGL?1:0,"BehaviourTracker"),globalTracking.StartTimer("uht_behaviour","Session_timer","BehaviourTracker"),UHTInterfaceBOSS.PostMessage("gameLoadingEnded"),window.RC2API.PostMessage("gameLoaded"),window.RC_timer=(new Date).getTime(),window.RC_sessionTimer=window.RC_timer,null!=UHT_GAME_CONFIG.rcSettings&&null!=UHT_GAME_CONFIG.rcSettings.elapsed&&(window.RC_sessionTimer-=6e4*UHT_GAME_CONFIG.rcSettings.elapsed)):0<this.shouldHide&&(this.shouldHide--,this.curScale+.004*this.shouldHide<1&&(this.curScale+=.004)),this.curScale=UHTMath.clamp(this.curScale,0,1);var a=this.curScale<.5?.5-2*(.5-this.curScale)*(.5-this.curScale):2*(this.curScale-.5)*(this.curScale-.5)+.5;this.scaledBar.transform.localScale(a,1,1);for(var l=0;l<this.animatedBars.length;++l)this.animatedBars[l].Scale(a);var u=UHTMath.clamp(a,.01,1);this.percentLabel.text=Math.round(100*u).toString()+"%",ClientLoader.progressPercent=u}},goog.require("UHT.Engine"),ClientLoaderAnimation.prototype=Object.create(Component.prototype),(ClientLoaderAnimation.prototype.constructor=ClientLoaderAnimation).prototype.AddDigits=function(t){for(;t.length<this.digits;)t="0"+t;return t},ClientLoaderAnimation.prototype.SetFrame=function(){this.sprite.color.a=1},ClientLoaderAnimation.prototype.Update=function(){UHTScreen.height<600?this.frame=32:this.frame=33,this.SetFrame()},goog.require("UHT.Engine"),ClientCustomContentTGCE.prototype=Object.create(Component.prototype),(ClientCustomContentTGCE.prototype.constructor=ClientCustomContentTGCE).prototype.Start=function(){this.totalDistance=UHTMath.Vector3.distance(this.progressSampler.manualFrom,this.progressSampler.manualTo),this.minimalDistance=this.totalDistance*this.progressThreshold,this.framesAnimator.animationTime=this.framesAnimationTime,this.progressAnimator.animationTime=this.progressAnimationTime;for(var t=0;t<this.progressAnimators.length;++t)this.progressAnimators[t].animationTime=this.progressAnimationTime;this.start.Start()},ClientCustomContentTGCE.prototype.LateUpdate=function(){this.UpdateLayout(),this.UpdateProgress()},ClientCustomContentTGCE.prototype.UpdateLayout=function(){this.screenWidth==UHTScreen.width&&this.screenHeight==UHTScreen.height||(this.screenWidth=UHTScreen.width,this.screenHeight=UHTScreen.height,(this.screenWidth>=this.screenHeight?this.landscape:this.portrait).Start())},ClientCustomContentTGCE.prototype.UpdateProgress=function(){var t=Math.round(100*ClientLoader.progressPercent/(100*this.progressThreshold))*this.progressThreshold;if(!(t<this.targetProgress||Math.abs(t-this.targetProgress)<UHTMath.numberError)){this.targetProgress=t,this.progressSampler.Sample(this.targetProgress);for(var e=0;e<this.progressSamplers.length;++e)this.progressSamplers[e].Sample(this.targetProgress);t=UHTMath.Vector3.distance(this.progressAnimator.target.transform.localPosition(),this.progressSampler.target.transform.localPosition())/this.minimalDistance;this.framesAnimator.animationTime=this.framesAnimationTime/t,this.animate.Start()}},goog.require("UHT.Engine"),ClientCustomContent_PBlinders.prototype=Object.create(Component.prototype),(ClientCustomContent_PBlinders.prototype.constructor=ClientCustomContent_PBlinders).prototype.Start=function(){var t=globalRuntime.sceneRoots[0].GetComponentsInChildren(ClientLoader,!0)[0],e=globalRuntime.sceneRoots[0].GetComponentsInChildren(ClientLoaderAnimation,!0)[0];null!=t&&null!=t.scaledBar&&t.scaledBar.SetActive(!1),null!=e&&null!=e.sprite&&e.sprite.gameObject.SetActive(!1)},ClientCustomContent_PBlinders.prototype.Update=function(){if(this.hasMovingPivot&&this.movingPivot.localPosition(UHTMath.Vector3.lerp(this.movingStartPos,this.movingEndPos,ClientLoader.progressPercent)),this.hasFillingSprites)for(var t=0;t<this.fillingSprites.length;t++)this.fillingSprites[t].fillAmount=this.fillingStart+ClientLoader.progressPercent*(this.fillingEnd-this.fillingStart),this.fillingSprites[t].SetSpriteName(this.fillingSprites[t].spriteName)},goog.require("UHT.Engine"),OrientationChanger.prototype=Object.create(Component.prototype),(OrientationChanger.prototype.constructor=OrientationChanger).prototype.LateUpdate=function(){this.screenWidth==UHTScreen.width&&this.screenHeight==UHTScreen.height||(this.screenWidth=UHTScreen.width,this.screenHeight=UHTScreen.height,(this.screenWidth>=this.screenHeight?this.toLandscape:this.toPortrait).Start())},goog.require("UHT.Engine"),FullscreenVisual.prototype=Object.create(Component.prototype),(FullscreenVisual.prototype.constructor=FullscreenVisual).prototype.OnGameEvent=function(t){switch(JSON.parse(t).common){case"EVT_FULLSCREEN_OVERLAY_SHOWN":this.mustShow=!0;break;case"EVT_FULLSCREEN_OVERLAY_HIDDEN":this.mustShow=!1}},FullscreenVisual.prototype.Update=function(){this.mustShow!=this.isShown&&(this.catShow.IsRunning()&&this.catShow.Stop(),this.catHide.IsRunning()&&this.catHide.Stop(),(this.mustShow?this.catShow:this.catHide).Start(),this.isShown=this.mustShow)},goog.require("UHT.Engine"),LoaderScaler.prototype=Object.create(Component.prototype),(LoaderScaler.prototype.constructor=LoaderScaler).prototype.Update=function(){UHTScreen.width==this.curWidth&&UHTScreen.height==this.curHeight||(this.curWidth=UHTScreen.width,this.curHeight=UHTScreen.height,this.curWidth>=this.curHeight?(console.log("-- Loader - Landscape!"),this.gameObject.transform.localScale(1.5,1.5,1.5),null!=this.background&&this.background.transform.localScale(1,1,1)):this.curWidth<this.curHeight&&(console.log("-- Loader - Portrait!"),this.gameObject.transform.localScale(1.6,1.6,1.6),null!=this.background&&this.background.transform.localScale(1,2,1)))},goog.require("UHT.Engine"),SpriteSizeProxy.prototype=Object.create(Component.prototype),(SpriteSizeProxy.prototype.constructor=SpriteSizeProxy).prototype.Update=function(){this.useUpdate&&(this.width!=this.curWidth&&(this.sprite.width=this.width,this.curWidth=this.width),this.height!=this.curHeight&&(this.sprite.height=this.height,this.curHeight=this.height))},SpriteSizeProxy.prototype.SetHeight=function(t){this.sprite.height=t},SpriteSizeProxy.prototype.SetWidth=function(t){this.sprite.width=t},goog.require("UHT.Engine");var BetwayAPI={};function new_uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}BetwayAPI.ReceiveMessage=function(e){if(e instanceof Object&&null!=e.data&&null!=e.data&&"string"==typeof e.data&&-1!=e.data.indexOf("{")){var t=null;try{t=JSON.parse(e.data)}catch(t){return void console.warn("unknown message:"+e.data)}"REQUEST"==t.Type&&("PAUSE_GAMEPLAY"==t.Name?(window.globalMustStopAutoplay=!0,XT.SetBool(Vars.ForceContinuousSpin,!1),BetwayAPI.PostMessage("PAUSE_GAMEPLAY",t.Id)):"RESUME_GAMEPLAY"==t.Name?BetwayAPI.PostMessage("RESUME_GAMEPLAY",t.Id,1e3,"Resuming gameplay is not supported"):BetwayAPI.PostMessage(t.Name,t.Id,1e3,"Message is not supported"))}},BetwayAPI.PostMessage=function(t,e,i,n,o){e={Name:t,Body:o||null,Type:null!=e?"RESPONSE":"REQUEST",Origin:"embeddedgame",SenderId:window.name,Id:null!=e?e:new_uuidv4()};null!=i&&(e.Error={ErrorCode:i,Description:n});e=JSON.stringify(e);window.parent.postMessage(e,"*")},BetwayAPI.UHTInterfaceBOSS_PostMessage_Override=function(t){"gameLoadingEnded"==t?BetwayAPI.PostMessage("BRIDGE_API_READY"):"gameRoundStarted"==t?BetwayAPI.PostMessage("BUSY"):"gameRoundEnded"==t?BetwayAPI.PostMessage("IDLE"):"openCashier"==t?BetwayAPI.PostMessage("LAUNCH_BANKING"):"gameQuit"==t&&BetwayAPI.PostMessage("CLOSE_GAME")},BetwayAPI.LobbyGameButtonOverride=function(t){BetwayAPI.PostMessage("launch_game",void 0,void 0,void 0,{game_id:t.symbol})},BetwayAPI.Init=function(){"BETWAY"==UHT_GAME_CONFIG_SRC.integrationType&&(window.addEventListener("message",BetwayAPI.ReceiveMessage,!1),UHTInterfaceBOSS.PostMessage=BetwayAPI.UHTInterfaceBOSS_PostMessage_Override,LobbyGameButton.prototype.StartGame=BetwayAPI.LobbyGameButtonOverride,UHTInterfaceBOSS.HandleGameHistory=function(){return BetwayAPI.PostMessage("LAUNCH_GAME_HISTORY"),!0},UHTInterfaceBOSS.UserInteraction=function(){BetwayAPI.PostMessage("PLAYER_ACTIVITY")})},BetwayAPI.Init(),goog.require("UHT.Engine"),goog.require("UHT.EventManager"),goog.require("UHT.VSGameStateManager");var BVAPI={isMobile:!1,BVFrame:null,BVWindow:null,canvas:null,isFirstUpdate:!0,isXTInit:!1,isResultShown:!1,spinCycleWin:0,gameReady:!1,overlayReady:!1,postGameReady:!1,postGameActive:!1,postGameIdle:!1,stopGame:!1,restartGame:!1,isGamePaused:!1,isGameIdle:!1,ReceiveMessage:function(t){t instanceof Object&&("restartGame"==(t=String(t.data))?BVAPI.restartGame=!0:"stopGame"==t?BVAPI.stopGame=!0:"overlayReady"!=t&&"rcFrameLoaded"!=t||(BVAPI.overlayReady=BVAPI.postGameReady=!0))}};BVAPI.VSGameStates=[VSGameState.Result,VSGameState.ResultBonusRounds],BVAPI.VSGameStatesAutoplay=[VSGameState.ResultAutoplay,VSGameState.ResultBonusRoundsAutoplay],BVAPI.PauseGame=function(t){t!=BVAPI.isGamePaused&&(BVAPI.isGamePaused=t,Globals.GamePaused=t,SystemMessageManager.IsMessageOpen()||UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:t?"EVT_MESSAGE_OPENED":"EVT_MESSAGE_CLOSED",args:null})),SystemMessageManager.SetHiddenMode(t),null==BVAPI.canvas&&(BVAPI.canvas=document.getElementsByTagName("canvas")[0]),null!=BVAPI.canvas&&BVAPI.canvas.classList[t?"add":"remove"]("paused"),t&&(XT.SetInt(Vars.AutoplaySpinsLeft,-1),-1<(t=BVAPI.VSGameStatesAutoplay.indexOf(VSGameStateManager.GetState()))&&VSGameStateManager.ChangeTo(BVAPI.VSGameStates[t])),BVAPI.isMobile&&BVAPI.OnUHTResize())},BVAPI.PostMessage=function(t){null!=BVAPI.BVWindow&&BVAPI.BVWindow.postMessage instanceof Function&&BVAPI.BVWindow.postMessage(t,"*")},BVAPI.UHTInterfaceBOSS_PostMessage=null,BVAPI.UHTInterfaceBOSS_PostMessage_Override=function(t){"gameRoundStarted"==t?BVAPI.postGameActive=!0:"gameRoundEnded"==t&&(BVAPI.postGameIdle=!0),UHTInterfaceBOSS.enabled&&BVAPI.UHTInterfaceBOSS_PostMessage(t)},BVAPI.OnFOXInitReceived=function(){var t=XT.GetObject(FOXVars.FOX_Response)||{};BVAPI.postGameIdle="s"==t.na&&null==t.fs&&null==t.fs_total&&null==t.rs,BVAPI.postGameActive=!BVAPI.postGameIdle},BVAPI.OnXTGameInit=function(){BVAPI.gameReady=!0},BVAPI.OnXTUpdateDisplayedWinInUI=function(){var t=XT.GetDouble(Vars.SpinCycleWinReceived);(t<=0||t==BVAPI.spinCycleWin)&&(BVAPI.isResultShown=!0),BVAPI.spinCycleWin=t},BVAPI.OnXTLastWinIsCountingChanged=function(t){0<XT.GetDouble(Vars.SpinCycleWinReceived)&&!t&&(BVAPI.isResultShown=!0)},BVAPI.OnUHTBeforeUpdate=function(){BVAPI.isXTInit&&BVAPI.overlayReady&&BVAPI.gameReady&&(BVAPI.stopGame&&(BVAPI.stopGame=!1,BVAPI.PauseGame(!0),BVAPI.isGameIdle&&BVAPI.PostMessage("gameIdle")),BVAPI.restartGame&&(BVAPI.restartGame=!1,BVAPI.PauseGame(!1)))},BVAPI.OnUHTUpdate=function(){BVAPI.isFirstUpdate&&(BVAPI.isFirstUpdate=!1,BVAPI.isMobile&&BVAPI.OnUHTResize()),!BVAPI.isXTInit&&XT.RegisterAndInitDone&&(BVAPI.isXTInit=!0,XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitReceived,BVAPI.OnFOXInitReceived,BVAPI),XT.RegisterCallbackBool(Vars.LastWinIsCounting,BVAPI.OnXTLastWinIsCountingChanged,BVAPI),XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI,BVAPI.OnXTUpdateDisplayedWinInUI,BVAPI),XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit,BVAPI.OnXTGameInit,BVAPI)),BVAPI.isXTInit&&BVAPI.overlayReady&&BVAPI.gameReady&&(BVAPI.postGameReady&&(BVAPI.postGameReady=!1,BVAPI.PostMessage("gameReady")),BVAPI.postGameIdle&&BVAPI.isResultShown&&(BVAPI.isGameIdle=!0,BVAPI.postGameIdle=BVAPI.isResultShown=!1,BVAPI.PostMessage("gameIdle")),BVAPI.postGameActive&&(BVAPI.isGameIdle=!1,BVAPI.postGameActive=!1,BVAPI.PostMessage("gameActive")))},BVAPI.OnUHTResize=function(){var t=[];t.push(["width:",BVAPI.isGamePaused?window.innerWidth:0,"px"].join("")),t.push(["height:",BVAPI.isGamePaused?window.innerHeight:0,"px"].join("")),BVAPI.BVFrame.setAttribute("style",t.join(";"))},BVAPI.Init=function(){var t;null!=UHT_GAME_CONFIG_SRC.externalOverlay_BV&&(BVAPI.isMobile=UHT_DEVICE_TYPE.MOBILE,BVAPI.isMobile?((t=document.createElement("iframe")).name="BVFrame",t.className="rciframe_visible",t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),document.body.appendChild(t),BVAPI.BVWindow=window.open(UHT_GAME_CONFIG_SRC.externalOverlay_BV,t.name),BVAPI.BVFrame=t,BVAPI.OnUHTResize(),EventManager.AddHandler("EVT_UHT_RESIZE",BVAPI.OnUHTResize,BVAPI)):(BVAPI.BVWindow=window.parent,BVAPI.overlayReady=BVAPI.postGameReady=!0),window.addEventListener("message",BVAPI.ReceiveMessage,!1),EventManager.AddHandler("EVT_UHT_BEFOREUPDATE",BVAPI.OnUHTBeforeUpdate,BVAPI),EventManager.AddHandler("EVT_UHT_UPDATE",BVAPI.OnUHTUpdate,BVAPI),BVAPI.UHTInterfaceBOSS_PostMessage=UHTInterfaceBOSS.PostMessage,UHTInterfaceBOSS.PostMessage=BVAPI.UHTInterfaceBOSS_PostMessage_Override)},BVAPI.Init();var CustomMsgManager={HistoryHandler:function(){UHT_GAME_CONFIG.openHistoryInTab?window.open(UHT_GAME_CONFIG.HISTORY):(new GameHistoryWindow).Open()},OpenHandler:function(t){window.open(t)},AjaxHandler:function(t){var e=new ServerRequest;e.Url=t.url,t.wait&&(e.Handler=new EventHandler(null,CustomMsgManager.OnAjaxResponse)),RequestManager.AddRequest(e,!0)},OnAjaxResponse:function(t,e){200==e&&SystemMessageManager.CloseMessage()},SendLogout:function(){var t=new XMLHttpRequest;t.open("POST",UHT_GAME_CONFIG.LOGOUT,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&("OK"==t.responseText?SystemMessageManager.CloseGame():setTimeout(function(){CustomMsgManager.SendLogout()},2e3))},t.send()},NotifyHandler:function(t){window.top!=window&&UHTInterfaceBOSS.PostMessageRec(window.parent,t),SystemMessageManager.CloseMessage()},HandleResponse:function(t,e){var i,n=e.custom_msg;if(null==n){try{i=JSON.parse(t)}catch(t){i={}}if(null==(n=i.custom_msg))return}try{n=decodeURIComponent(atob(String(n)).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch(t){}try{n=JSON.parse(String(n))}catch(t){}if(n instanceof Array){for(var o=!UHT_CONFIG.MINI_MODE,s=0;s<n.length;++s){var r=n[s];r.id="msg"+UID.Generate();var a=["sys-msg","custom"];null==r.title&&(r.title=o?SystemMessageManager.LocalizedText("WindowTitle"):"",a.push("no-title")),r.title=SystemMessageManager.ProcessText(r.title),r.className=a.join(" "),r.text=SystemMessageManager.ProcessText(String(r.text)),o||1==r.nonIntrusive||(r.text=r.text.replace(/\n/g,"<br>"));var l=r.options;null==l&&(l=1==r.nonIntrusive?[]:[{label:SystemMessageManager.LocalizedText("BtContinuePlaying"),action:"continue"}]);for(var u=0;u<l.length;++u){var h,c,p=l[u],d=p.action;"quit"==d&&(h=[SystemMessageManager.CloseGame]),"continue"==d&&(h=[SystemMessageManager.CloseMessage]),"logout"==d&&(h=[CustomMsgManager.SendLogout]),"history"==d&&(null==UHT_GAME_CONFIG.HISTORY?d="link":h=[SystemMessageManager.CloseMessage,CustomMsgManager.HistoryHandler]),"link"==d&&(c=p.linkType,m=p.url,"redirect"==c&&(h=[SystemMessageManager.GetBtnClickHandler([SystemMessageManager.Reload],m)]),"open"==c&&(h=[SystemMessageManager.GetBtnClickHandler([CustomMsgManager.OpenHandler],m)]),"openAndCloseMessage"==c&&(h=[SystemMessageManager.GetBtnClickHandler([CustomMsgManager.OpenHandler,SystemMessageManager.CloseMessage],m)]),"ajax"==c&&(h=[SystemMessageManager.GetBtnClickHandler([CustomMsgManager.AjaxHandler,SystemMessageManager.CloseMessage],{url:m,wait:!1})]),"ajaxResponse"==c&&(h=[SystemMessageManager.GetBtnClickHandler([CustomMsgManager.AjaxHandler],{url:m,wait:!0})]),"ajaxClose"==c&&(h=[SystemMessageManager.GetBtnClickHandler([CustomMsgManager.AjaxHandler,SystemMessageManager.CloseGame],{url:m,wait:!0})]),"notify"==c&&(h=[SystemMessageManager.GetBtnClickHandler([CustomMsgManager.NotifyHandler],m)]));var m=SystemMessageManager.ProcessText(p.label);null!=m&&"undefined"!=m||(m="quit"==d?SystemMessageManager.LocalizedText("BtCLOSE"):"continue"==d?SystemMessageManager.LocalizedText("BtContinuePlaying"):"history"==d?SystemMessageManager.LocalizedText("BtRCHistory"):SystemMessageManager.LocalizedText("BtOK")),p.id="",p.label=m,p.handlers=h}r.buttons=l,delete r.options,r.equals=function(){return!1}}SystemMessageManager.canShowMessage=!1;for(s=n.length-1;0<=s;--s)SystemMessageManager.ShowMessage(n[s].id,!1,n[s].text,null,n[s]);SystemMessageManager.canShowMessage=!0,SystemMessageManager.InternalShowMessage()}}},RC1API={enabled:!1,ReceiveMessage:function(e){if("object"==(void 0===e?"undefined":_typeof3(e))&&null!=e.data&&null!=e.data&&"string"==typeof e.data&&-1!=e.data.indexOf("{")){var t=null;try{t=JSON.parse(e.data)}catch(t){return void console.warn("unknown message:"+e.data)}"Tilt"==t.type&&(window.globalMustStopAutoplay=!0,XT.SetBool(Vars.ForceContinuousSpin,!1))}},PauseRC:function(){RC1API.enabled&&window.postMessage(JSON.stringify({type:"status",payload:{freeSpins:"true"}}),"*")},ReinstateRC:function(){RC1API.enabled&&window.postMessage(JSON.stringify({type:"status",payload:{freeSpins:"false"}}),"*")},Init:function(){window.addEventListener("message",RC1API.ReceiveMessage,!1),null!=UHT_GAME_CONFIG.rcSettings&&(RC1API.enabled="RC1"==UHT_GAME_CONFIG.rcSettings.rctype)}};RC1API.Init();var RC2API={enabled:!1,rciframe:null,rciwindow:null,isGamePaused:!1,ReceiveMessage:function(t){if(RC2API.enabled&&"object"==(void 0===t?"undefined":_typeof3(t))&&"object"==_typeof3(t.data)){var e,i,n=t.data.method,o=t.data.params;switch(n){case"operatorLoaded":break;case"confirmHandshake":"object"==(void 0===o?"undefined":_typeof3(o))&&RC2API.PostMessage(String(o.success));break;case"pauseGame":"object"==(void 0===o?"undefined":_typeof3(o))&&(i={},-1<(e=o.return_data instanceof Array?o.return_data:[]).indexOf("session_id")&&(i.session_id=UHT_GAME_CONFIG.rcSettings.session_id),-1<e.indexOf("game_name")&&(i.game_name=UHT_GAME_CONFIG.rcSettings.game_name),-1<e.indexOf("user_id")&&(i.user_id=UHT_GAME_CONFIG.rcSettings.user_id),RC2API.isGamePaused||(SystemMessageManager.IsMessageOpen()||UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_MESSAGE_OPENED",args:null})),SystemMessageManager.SetHiddenMode(!0),RC2API.isGamePaused=!0,RC2API.rciframe.className="rciframe_visible"),RC2API.PostMessage(String(o.callback),i));break;case"resumeGame":RC2API.isGamePaused&&(RC2API.isGamePaused=!1,RC2API.rciframe.className="rciframe_hidden",SystemMessageManager.IsMessageOpen()||UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_MESSAGE_CLOSED",args:null})),SystemMessageManager.SetHiddenMode(!1));break;case"navigateTo":"object"==(void 0===o?"undefined":_typeof3(o))&&"string"==typeof o.url&&(location.href=o.url)}}},PostMessage:function(t,e){null!=RC2API.rciwindow&&RC2API.rciwindow.postMessage({method:t,params:e},"*")},HandleResize:function(){var t=[];t.push(["width:",window.innerWidth,"px"].join("")),t.push(["height:",window.innerHeight,"px"].join("")),RC2API.rciframe.setAttribute("style",t.join(";"))},Init:function(){var t;null!=UHT_GAME_CONFIG.rcSettings&&(RC2API.enabled="RC2"==UHT_GAME_CONFIG.rcSettings.rctype,RC2API.enabled&&((t=document.createElement("iframe")).name="rciframe",t.className="rciframe_hidden",t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),document.body.appendChild(t),RC2API.rciwindow=window.open(UHT_GAME_CONFIG.rcSettings.rciframeurl,t.name),RC2API.rciframe=t,RC2API.HandleResize(),window.addEventListener("message",RC2API.ReceiveMessage,!1),window.addEventListener("resize",RC2API.HandleResize,!1)))}};RC2API.Init(),goog.provide("UHT.SystemMessageHelpers");var RCContinueURL,RCCloseURL,RCHistoryURL,RCContinueURL_Type,RCCloseURL_Type,SystemMessageType={NoMoney:"NoMoney",NoMoneyBlocking:"NoMoneyBlocking",Frozen:"Frozen",Reload:"Reload",Disabled:"Disabled",Techbreak:"Techbreak",GameAvailableOnlyAtRealMode:"GameAvailableOnlyAtRealMode",ProgressiveJackpotGamesAvailableOnlyAtRealMode:"ProgressiveJackpotGamesAvailableOnlyAtRealMode",SaveSettingError:"SaveSettingError",LostConnect:"LostConnect",PleaseLogin:"PleaseLogin",UseGoogleChrome:"UseGoogleChrome",UseSafari:"UseSafari",Timeout:"Timeout",ClientRegulation:"ClientRegulation",Regulation:"Regulation"},SystemMessageFrozenError={t0:"UNKNOWN",t1:"COULD_NOT_RESTORE_WITH_FRB",t2:"INVALID_SESSION",t3:"RETRY_REQUEST_ERROR",t4:"POSTPONED_WIN_ERROR",t5:"GAME_CONFIGURATION_ERROR",t6:"EXTERNAL_SERVICE_ERROR",t7:"SERVER_OBJECT_NOT_FOUND",t8:"EXPIRED_SESSION"},SystemMessageFrozenInfo={t100:"PLAYER_FROZEN",t101:"PLAYER_LIMIT_REACHED",t102:"DISABLED_GAME",t103:"RTP_CHANGED"};function SystemMessageData(t,e,i){this.type=t,this.text=e,this.args=i,this.id=""}function SystemMessageSettings(t){switch(t){case SystemMessageType.NoMoney:return{id:"NoMoney",buttons:[{id:"BtOK",handlers:[SystemMessageManager.CloseMessage]}]};case SystemMessageType.NoMoneyBlocking:return{id:"NoMoney",buttons:[]};case SystemMessageType.Frozen:case SystemMessageType.Disabled:return{id:"Frozen",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.Reload:return{id:"ServerError",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.Techbreak:return{id:"Techbreak",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.GameAvailableOnlyAtRealMode:return{id:"GameAvailableOnlyAtRealMode",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.ProgressiveJackpotGamesAvailableOnlyAtRealMode:return{id:"ProgressiveJackpotGamesAvailableOnlyAtRealMode",title:"ProgressiveJackpotGames",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.SaveSettingError:return{id:"SaveSettingError",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.LostConnect:return{id:"LostConnect",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.PleaseLogin:return{id:"PleaseLogin",buttons:UHT_DEVICE_TYPE.DESKTOP?[]:[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]};case SystemMessageType.UseGoogleChrome:return{id:"UseGoogleChrome",title:"UnsupportedBrowserTitle",buttons:[{id:"BtOK",handlers:[SystemMessageManager.CloseMessage]}]};case SystemMessageType.UseSafari:return{id:"UseSafari",title:"UnsupportedBrowserTitle",buttons:[{id:"BtOK",handlers:[SystemMessageManager.CloseMessage]}]};case SystemMessageType.Timeout:return{id:"Timeout",buttons:Globals.isMobile?[{id:"BtCLOSE",handlers:[SystemMessageManager.CloseGame]}]:[]};case SystemMessageType.ClientRegulation:var e,i,n=[],o=!1;if(null!=UHT_GAME_CONFIG.rcSettings.buttons)for(e=0;e<UHT_GAME_CONFIG.rcSettings.buttons.length;e++)"continue"==UHT_GAME_CONFIG.rcSettings.buttons[e].action&&(o=!0,RCContinueURL=UHT_GAME_CONFIG.rcSettings.buttons[e].url,RCContinueURL_Type=UHT_GAME_CONFIG.rcSettings.buttons[e].rcContinueType,n.push({id:"BtContinuePlaying",handlers:[SystemMessageManager.RCContinue]}));if(o||n.push({id:"BtContinuePlaying",handlers:[SystemMessageManager.RCCloseMessage]}),null!=UHT_GAME_CONFIG.rcSettings.buttons)for(e=0;e<UHT_GAME_CONFIG.rcSettings.buttons.length;e++)"history"==UHT_GAME_CONFIG.rcSettings.buttons[e].action&&(""!=(i=UHT_GAME_CONFIG.rcSettings.buttons[e].url)&&(RCHistoryURL=i),n.push({id:"BtRCHistory",handlers:[SystemMessageManager.RCHistory]}));if(null!=UHT_GAME_CONFIG.rcSettings.buttons)for(e=0;e<UHT_GAME_CONFIG.rcSettings.buttons.length;e++)"exit"==UHT_GAME_CONFIG.rcSettings.buttons[e].action&&(RCCloseURL=UHT_GAME_CONFIG.rcSettings.buttons[e].url,RCCloseURL_Type=UHT_GAME_CONFIG.rcSettings.buttons[e].rcCloseType,n.push({id:"BtCLOSE",handlers:[SystemMessageManager.RCClose]}));return{id:"ClientRegulation",buttons:n};case SystemMessageType.Regulation:return{id:"Regulation",buttons:[{id:"BtContinuePlaying",handlers:[SystemMessageManager.RegulationContinuePressed]},{id:"BtRCHistory",handlers:[SystemMessageManager.RCHistory]},{id:"BtStopPlaying",handlers:[SystemMessageManager.RegulationStopPressed]}]}}return null}SystemMessageData.prototype.equals=function(t){return this.type==t.type&&this.text==t.text&&this.args==t.args};var ScaleHelper={ScaleContent:function(){var t=1,t=window.innerWidth>window.innerHeight?window.innerHeight/999:window.innerWidth/999,e=["-moz-transform: scale(VAL)","-webkit-transform: scale(VAL)","-ms-transform: scale(VAL)","-o-transform: scale(VAL)","transform: scale(VAL)"];UHT_DEVICE_TYPE.DESKTOP&&(t=1<t?1:t);for(var i=0;i<e.length;++i)e[i]=e[i].replace("VAL",t);e.push("width:"+window.innerWidth/t+"px"),e.push("margin-top:"+(window.innerHeight-999*t)/2+"px"),document.getElementById("ScaleRoot").setAttribute("style",e.join(";"))},Init:function(){ScaleHelper.ScaleContent(),window.addEventListener("resize",ScaleHelper.ScaleContent,!1)}};ScaleHelper.Init(),goog.require("UHT.SystemMessageHelpers"),goog.require("UHT.Tracking");var SystemMessageManager={OS:{iOS:"iOS",Android:"Android"},os:null,root:null,scaleRoot:null,defaultTexts:null,localizedTexts:null,initialized:!1,showMessageTimeout:null,messagesToShow:[],shownMessages:[],browserWarningShownCallback:null,regulationType:null,isHiddenMode:!1,msgOpenWasTriggered:!1,fontName:"Tahoma",msgFontLoaded:{},canShowMessage:!0,handleNoMoney:!0,OnLoad:function(){var t=SystemMessageManager;UHTEventBroker.AddHandler(UHTEventBroker.Type.Wrapper,new UHTEventBroker.Handler(t,t.HandleWrapperEvent)),t.LoadLocalizedMessages()},CheckUserAgent:function(t,e,i){"Mozilla/5.0 (iPhone; CPU iPhone OS 9_3 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13E230"!=window.navigator.userAgent&&(SystemMessageManager.browserWarningShownCallback=new UHTEventBroker.Handler(i,e),e=(i=new UAParser2).getBrowser(),(i=i.getOS()).name==SystemMessageManager.OS.Android?(SystemMessageManager.os=SystemMessageManager.OS.Android,"Chrome"!=e.name&&SystemMessageManager.ShowMessage(SystemMessageType.UseGoogleChrome)):i.name==SystemMessageManager.OS.iOS&&(SystemMessageManager.os=SystemMessageManager.OS.iOS,t||"Mobile Safari"!=e.name&&SystemMessageManager.ShowMessage(SystemMessageType.UseSafari)))},LoadLocalizedMessages:function(){var t=JSON.parse(String(UHT_SYSTEM_MESSAGES).replace(/\n/g,"<br>")),e=UHT_CONFIG.LANGUAGE;null!=t[e]?(SystemMessageManager.locale=e,SystemMessageManager.localizedTexts=SystemMessageManager.Merge(t.en,t[e]),console.log("Localized messages found for locale "+e)):(SystemMessageManager.locale="en",SystemMessageManager.localizedTexts=t.en,console.warn("Localized messages not found, locale "+e)),SystemMessageManager.initialized=!0,UHT_SYSTEM_MESSAGES=null;e=document.getElementById("DeferredLoadingText");null!=e&&(e.innerHTML=SystemMessageManager.LocalizedText("DeferredLoading"))},Merge:function(t,e){var i,n={};for(i in t)n[i]=t[i];for(i in e)n[i]=e[i];return n},HandleWrapperEvent:function(t){var e=JSON.parse(t),t=e.common,i=e.args;switch(t){case"EVT_HTTP_RESPONSE":return void SystemMessageManager.HandleHttpResponse(i);case"EVT_SHOW_MESSAGE":return void SystemMessageManager.HandleShowMessage(i)}},HandleHttpResponse:function(t){var e=SystemMessageManager,i=SystemMessageType;if(200==Number(t.httpCode)){var n=t.data;if(null!=n)if(-1==n.indexOf("unlogged")){for(var o,s,r={},a=String(n).split("&"),l=0;l<a.length;++l){var u=a[l].split("=");r[u[0]]=u[1]||""}e.handleNoMoney&&null!=r.nomoney&&1==Number(r.nomoney)?(UHTInterfaceBOSS.PostMessage("balanceTooLow"),XT.GetBool(Vars.DisableNoMoneyMessageFromServer)||e.ShowMessage("i"==r.error_type?i.NoMoney:i.NoMoneyBlocking)):null!=r.frozen?(o=SystemMessageFrozenError["t"+r.msg_code]||"",t=SystemMessageFrozenInfo["t"+r.msg_code]||"",s="BAD_CODE_"+r.msg_code+"_"+r.frozen,""!=o&&(s="ERROR_"+o),globalTracking.SendEvent("uht_server_errors","Frozen_"+(s=""!=t?"INFO_"+t:s),loaderIsVisible?1:0,"ServerErrorsTracker"),e.ShowMessage(i.Frozen,!0,r.frozen)):null!=r.reload?e.ShowMessage(i.Reload,!0,r.reload,r.link):null!=r.disabled?e.ShowMessage(i.Disabled,!0,r.disabled):2==r.techbreak?e.ShowMessage(i.Techbreak,!0):null!=r.msg_code?1==(s=Number(r.msg_code))?e.ShowMessage(i.GameAvailableOnlyAtRealMode,!0):2==s&&e.ShowMessage(i.ProgressiveJackpotGamesAvailableOnlyAtRealMode,!0):null!=r.regulation&&(e.regulationType=r.regulation,e.ShowMessage(i.Regulation,!1,r.msg)),CustomMsgManager.HandleResponse(n,r)}else e.ShowMessage(i.PleaseLogin,!0)}},HandleShowMessage:function(t){switch(t.message||""){case"ALERT_CANT_SAVE_SETTINGS":globalTracking.SendEvent("uht_server_errors",SystemMessageType.SaveSettingError,loaderIsVisible?1:0,"ServerErrorsTracker");break;case"ALERT_CONNECTION_LOST":SystemMessageManager.ShowMessage(SystemMessageType.LostConnect,!0)}}},TimeoutWindowShown=!1;SystemMessageManager.ShowMessage=function(t,e,i,n,o){if(!TimeoutWindowShown){var s=null!=o;s||t==SystemMessageType.Frozen||globalTracking.SendEvent("uht_server_errors",t,loaderIsVisible?1:0,"ServerErrorsTracker"),1==e&&UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter,JSON.stringify({common:"UNLOGGED",type:"html5"}));var r=SystemMessageManager;if(null!=t&&(n=s?o:new SystemMessageData(t,i||null,n),r.MessageExists(n)||r.messagesToShow.push(n)),r.initialized){if(null!=r.showMessageTimeout&&(clearTimeout(r.showMessageTimeout),r.showMessageTimeout=null),null==r.root&&r.InitRootElements(),0!=r.messagesToShow.length){for(var a=0;a<r.messagesToShow.length;++a){var l=s?o:SystemMessageSettings(r.messagesToShow[a].type);if(null!=l){if(!UHT_CONFIG.MINI_MODE&&!s){for(var u=0;u<l.buttons.length;++u)l.buttons[u].label=r.LocalizedText(l.buttons[u].id);r.messagesToShow[a].buttons=l.buttons,r.messagesToShow[a].title=r.LocalizedText(l.title||"WindowTitle"),r.messagesToShow[a].text=null!=r.messagesToShow[a].text?r.ProcessText(r.messagesToShow[a].text):r.LocalizedText(l.id)}r.messagesToShow[a].id=l.id,r.scaleRoot.appendChild(r.CreateMessage(r.messagesToShow[a],l,s))}}SystemMessageManager.isHiddenMode||(r.shownMessages=r.shownMessages.concat(r.messagesToShow)),r.messagesToShow=[],r.InternalShowMessage()}}else r.showMessageTimeout=setTimeout(r.ShowMessage,200)}},SystemMessageManager.InternalShowMessage=function(){var t=SystemMessageManager;null==t.root&&t.InitRootElements();var e="sys-msg-root-hidden",i=null;if(XT.RegisterAndInitDone){if(t.canShowMessage&&0<t.shownMessages.length&&!t.isHiddenMode){var n=(i=t.shownMessages[t.shownMessages.length-1]).id;if(1==i.nonIntrusive)t.TriggerMessageClosed(),XT.SetObject(CustomNotificationVars.CustomNotification,i),XT.TriggerEvent(CustomNotificationVars.Evt_Internal_ShowNonIntrusiveNotification);else{if(!UHT_CONFIG.MINI_MODE)XT.SetObject(CustomNotificationVars.CustomNotification,i),XT.TriggerEvent(CustomNotificationVars.Evt_Internal_ShowIntrusiveNotification);else{if(!t.msgFontLoaded[n])return void setTimeout(t.InternalShowMessage,100);e=["sys-msg-root-visible",n].join(" ")}t.msgOpenWasTriggered||(UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_MESSAGE_OPENED",args:null})),t.msgOpenWasTriggered=!0),"UseSafari"==n&&t.BrowserWarningShown()}}t.root.className=e,null!=i&&(i.isCustom||Globals.isMini)&&(i.element.style.top=.5*(563-i.element.clientHeight)+"px")}else setTimeout(t.InternalShowMessage,100)},SystemMessageManager.SetHiddenMode=function(t){SystemMessageManager.isHiddenMode=t,SystemMessageManager.InternalShowMessage()},SystemMessageManager.IsMessageOpen=function(){var t=0<SystemMessageManager.shownMessages.length;return(t=t&&1==SystemMessageManager.shownMessages[SystemMessageManager.shownMessages.length-1].nonIntrusive?!1:t)||0<SystemMessageManager.messagesToShow.length||RC2API.isGamePaused},SystemMessageManager.RCContinue=function(){var t;"notify"==RCContinueURL_Type?((t=new XMLHttpRequest).open("GET",RCContinueURL,!0),t.send(null),SystemMessageManager.RCCloseMessage()):location.href=RCContinueURL},SystemMessageManager.RCClose=function(){var t;null!=RCCloseURL?"notify"==RCCloseURL_Type?((t=new XMLHttpRequest).open("GET",RCCloseURL,!0),t.send(null),UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter,JSON.stringify({common:"EVT_CLOSE_GAME",args:null}))):location.href=RCCloseURL:UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter,JSON.stringify({common:"EVT_CLOSE_GAME",args:null}))},SystemMessageManager.RCHistory=function(){var t;UHTInterfaceBOSS.HandleGameHistory()||(t=ServerOptions.gameHistory,null!=RCHistoryURL&&(ServerOptions.gameHistory=RCHistoryURL),null!=UHT_GAME_CONFIG_SRC.externalHistoryUrl&&(ServerOptions.gameHistory=UHT_GAME_CONFIG_SRC.externalHistoryUrl),UHT_GAME_CONFIG_SRC.openHistoryInWindow?window.location.assign(ServerOptions.gameHistory):UHT_GAME_CONFIG.openHistoryInTab?window.open(ServerOptions.gameHistory):(new GameHistoryWindow).Open(),ServerOptions.gameHistory=t)},SystemMessageManager.RCCloseMessage=function(){SystemMessageManager.CloseMessage(),RC_timer=(new Date).getTime(),RC_WindowShown=!1},SystemMessageManager.CloseMessage=function(){var t=SystemMessageManager;t.scaleRoot.removeChild(t.scaleRoot.lastChild),1==t.shownMessages.pop().nonIntrusive?XT.TriggerEvent(CustomNotificationVars.Evt_Internal_HideNonIntrusiveNotification):XT.TriggerEvent(CustomNotificationVars.Evt_Internal_HideIntrusiveNotification),t.InternalShowMessage(),t.shownMessages.length<1&&setTimeout(t.TriggerMessageClosed,1)},SystemMessageManager.TriggerMessageClosed=function(){UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_MESSAGE_CLOSED",args:null})),SystemMessageManager.msgOpenWasTriggered=!1},SystemMessageManager.MessageExists=function(t){for(var e=SystemMessageManager.shownMessages,i=0;i<e.length;++i)if(e[i].equals(t))return!0;for(var e=SystemMessageManager.messagesToShow,n=0;n<e.length;++n)if(e[n].equals(t))return!0;return!1},SystemMessageManager.CreateMessage=function(t,e,i){var n=SystemMessageManager,o=[],s=document.createElement("p");s.className="sys-msg-title",s.innerHTML=i?n.ProcessText(e.title):n.LocalizedText(e.title||"WindowTitle"),o.push(s.innerHTML);var r=document.createElement("table");r.className="sys-msg-text";var a=null!=t.text?n.ProcessText(t.text):n.LocalizedText(e.id);r.innerHTML=["<tbody><tr><td>",a,"</td></tr></tbody>"].join(""),o.push(a);var l=document.createElement("p");l.className="sys-msg-buttons";for(var u=0;u<e.buttons.length;++u){var h=document.createElement("a");h.className=["sys-msg-button",e.buttons[u].id].join(" "),h.innerHTML=i?n.ProcessText(e.buttons[u].label):n.LocalizedText(e.buttons[u].id),o.push(h.innerHTML),n.SetBtnHandlers(h,e.buttons[u].handlers,t.args),l.appendChild(h)}a=document.createElement("div");return a.id=e.id,a.className=i?e.className:"sys-msg",a.appendChild(s),a.appendChild(r),a.appendChild(l),1!=SystemMessageManager.msgFontLoaded[e.id]&&(n.msgFontLoaded[e.id]=!1,FontLoader.LoadFont(n.fontName,null,{force:!0,text:o.join("")}),FontLoader.AddHandler(n.fontName,function(){n.msgFontLoaded[e.id]=!0},n)),t.element=a,t.isCustom=i,a},SystemMessageManager.InitRootElements=function(){var t=SystemMessageManager;null==t.root&&(t.root=document.createElement("div"),t.root.className="sys-msg-root-hidden",t.root.id="SysMsgRoot_"+t.locale,t.scaleRoot=document.createElement("div"),t.scaleRoot.className="sys-msg-scale-root",t.root.appendChild(t.scaleRoot),document.body.appendChild(t.root),t.HandleResize(),window.addEventListener("resize",t.HandleResize,!1),t.os==t.OS.iOS&&t.root.addEventListener("touchmove",t.HandleTouchMove,!1))},SystemMessageManager.HandleTouchMove=function(t){return t.returnValue=!1,t.cancelBubble=!0,t.preventDefault&&(t.preventDefault(),t.stopPropagation()),!1},SystemMessageManager.SetBtnHandlers=function(t,e,i){var n=SystemMessageManager;t.addEventListener("click",n.GetBtnClickHandler(e,i),!1),t.addEventListener("touchstart",n.AddBtnActiveStyle,!1),t.addEventListener("touchend",n.RemoveBtnActiveStyle,!1),t.addEventListener("touchcancel",n.RemoveBtnActiveStyle,!1),t.addEventListener("touchleave",n.RemoveBtnActiveStyle,!1),t.addEventListener("mousedown",n.AddBtnActiveStyle,!1),t.addEventListener("mouseup",n.RemoveBtnActiveStyle,!1),t.addEventListener("mouseout",n.RemoveBtnActiveStyle,!1),t.addEventListener("mouseleave",n.RemoveBtnActiveStyle,!1)},SystemMessageManager.AddBtnActiveStyle=function(){var t=this||null;null!=t&&(/\bactive\b/.test(t.className)||(t.className=[t.className,"active"].join(" ")))},SystemMessageManager.RemoveBtnActiveStyle=function(){var t=this||null;null!=t&&/\bactive\b/.test(t.className)&&(t.className=String(t.className).replace(/\bactive\b/g,"").replace(/^\s/g,"").replace(/\s$/g,"").replace(/\s\s/g," "))},SystemMessageManager.GetBtnClickHandler=function(e,i){return function(){for(var t=0;t<e.length;++t)e[t](i)}},SystemMessageManager.HandleResize=function(){var t,e,i=1,i=window.innerWidth>window.innerHeight?window.innerHeight/567:window.innerWidth/567,n=["-moz-transform: scale(VAL)","-webkit-transform: scale(VAL)","-ms-transform: scale(VAL)","-o-transform: scale(VAL)","transform: scale(VAL)"];UHT_DEVICE_TYPE.DESKTOP&&(i=1<i?1:i),Globals.isMini&&(e=900,(e=null!=(t=document.getElementsByClassName("sys-msg-title")[0])&&null!=t.offsetWidth?t.offsetWidth:e)*i>window.innerWidth&&(i=window.innerWidth/e));for(var o=0;o<n.length;++o)n[o]=n[o].replace("VAL",i);n.push("width:"+window.innerWidth/i+"px"),n.push("margin-top:"+(window.innerHeight-567*i)/2+"px"),SystemMessageManager.scaleRoot.setAttribute("style",n.join(";"))},SystemMessageManager.ProcessText=function(t){return t=decodeURIComponent(t).replace(/\+/g," "),t=!UHT_CONFIG.MINI_MODE?t.replace(/<br/gi,"\n<br").replace(/<p/gi,"\n<p").replace(/(<([^>]+)>)/gi,"").replace(/\n\n/gi,"\n").replace(/^\n/gi,"").replace(/\n$/gi,""):t},SystemMessageManager.LocalizedText=function(t){if(null==SystemMessageManager.localizedTexts)return"*"+t+"*";var e=SystemMessageManager.localizedTexts[t];return null==e?"**"+t+"**":SystemMessageManager.ProcessText(e)},SystemMessageManager.RealMoney=function(){console.warn("real money"),UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter,JSON.stringify({common:"EVT_OPEN_CASHIER",args:null}))},SystemMessageManager.CloseGame=function(){console.warn("CloseGame"),UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter,JSON.stringify({common:"EVT_CLOSE_GAME",args:null}))},SystemMessageManager.Reload=function(t){console.warn("Reload"),location.assign(t)},SystemMessageManager.BrowserWarningShown=function(){SystemMessageManager.browserWarningShownCallback.call()},SystemMessageManager.RegulationContinuePressed=function(){SystemMessageManager.SendRegulationChoice(!0)},SystemMessageManager.RegulationStopPressed=function(){SystemMessageManager.SendRegulationChoice(!1)},SystemMessageManager.SendRegulationChoice=function(e){var i=new XMLHttpRequest;i.open("POST",UHT_GAME_CONFIG.REGULATION,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4==i.readyState){var t={};try{t=JSON.parse(_string.Trim(i.responseText))}catch(t){}"OK"==t.status?e?SystemMessageManager.CloseMessage():SystemMessageManager.RCClose():setTimeout(function(){SystemMessageManager.SendRegulationChoice(e)},1e3)}};var t=[];t.push(["action",e?"RESUME":"STOP"].join("=")),t.push(["type",SystemMessageManager.regulationType].join("=")),i.send(t.join("&"))},SystemMessageManager.SendTimeout=function(){var t=new XMLHttpRequest;t.open("POST",UHT_GAME_CONFIG.LOGOUT,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&("OK"==t.responseText||setTimeout(function(){SystemMessageManager.SendTimeout()},2e3))},t.send()},SystemMessageManager.OnLoad();var LastInteractionTime=(new Date).getTime();SystemMessageManager.UserInteraction=function(){LastInteractionTime=(new Date).getTime()};var RC_timer=-1,RC_sessionTimer=-1,RC_WindowShown=!1;function RC_CheckShowWindow(){var t,e,i;-1!=RC_timer&&null!=UHT_GAME_CONFIG.rcSettings&&"RC0"==UHT_GAME_CONFIG.rcSettings.rctype&&(RC_WindowShown||(i=(new Date).getTime(),t=UHT_GAME_CONFIG.rcSettings.interval,e=(0|Math.floor((i-RC_timer)/6e4))+(UHT_GAME_CONFIG.rcSettings.elapsed||0),i=0|Math.floor((i-RC_sessionTimer)/6e4),t<=e&&(SystemMessageManager.ShowMessage(SystemMessageType.ClientRegulation,!1,UHT_GAME_CONFIG.rcSettings.msg.replace("{0}",t.toString()).replace("{1}",i)),UHT_GAME_CONFIG.rcSettings.elapsed=0,RC_WindowShown=!0)))}function CheckTimeout(){"-1"==UHT_GAME_CONFIG.sessionTimeout||ServerOptions.isReplay||((new Date).getTime()-LastInteractionTime>60*UHT_GAME_CONFIG.sessionTimeout*1e3?(TimeoutWindowShown||(SystemMessageManager.ShowMessage(SystemMessageType.Timeout,!0),SystemMessageManager.SendTimeout()),TimeoutWindowShown=!0):setTimeout(CheckTimeout,1e4))}function IPhone7Helper(){}function IPhone8Helper(){IPhone7Helper.call(this),this.root=null,this.canvas=null,this.isLandscape=!1,this.clientHeight=0}setTimeout(CheckTimeout,6e4),IPhone8Helper.prototype=Object.create(IPhone7Helper.prototype),(IPhone8Helper.prototype.constructor=IPhone8Helper).prototype.GameStarted=function(){var t=window.UHTLogoIsVisible,e=null==window.loaderIsVisible||window.loaderIsVisible;return!t&&!e},IPhone8Helper.prototype.CreateElement=function(t,e){var i=document.createElement("div");return i.className=t,e&&document.body.appendChild(i),i},IPhone8Helper.prototype.InitElements=function(){var t=this;this.CreateElement("fullscreen-reserve",!0),this.root=this.CreateElement("fullscreen-root-hidden",!0),this.root.addEventListener("touchend",function(){t.HandleTouchEnd.apply(t,arguments)},!1),this.root.addEventListener("touchcancel",function(){t.HandleTouchEnd.apply(t,arguments)},!1),this.root.addEventListener("gesturestart",function(){t.PreventEvent.apply(t,arguments)},!1),this.root.addEventListener("gesturechange",function(){t.PreventEvent.apply(t,arguments)},!1),this.root.addEventListener("gestureend",function(){t.PreventEvent.apply(t,arguments)},!1),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.position="fixed",document.body.style.overflowY="scroll",document.body.style.scrollBehavior="smooth"},IPhone8Helper.prototype.PreventEvent=function(t){t.preventDefault()},IPhone8Helper.prototype.ResizeHandler=function(t){var e,i=this;this.GameStarted()&&!Globals.WatchingReplay?(null==this.root&&this.InitElements(),this.isLandscape=window.innerWidth>window.innerHeight,e=this.isLandscape?Math.min(screen.width,screen.height):Math.max(screen.width,screen.height),this.clientHeight=this.GetClientHeight(),this.isLandscape?this.clientHeight<=window.innerHeight&&window.innerHeight==e?(this.UpdateStyle(!1),UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_FULLSCREEN_OVERLAY_HIDDEN",args:null})),window.scrollTo(0,0)):(this.UpdateStyle(!0),UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_FULLSCREEN_OVERLAY_SHOWN",args:null}))):this.clientHeight<window.innerHeight&&window.innerHeight<=e?(this.UpdateStyle(!1),UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_FULLSCREEN_OVERLAY_HIDDEN",args:null})),window.scrollTo(0,0)):(this.UpdateStyle(!0),UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_FULLSCREEN_OVERLAY_SHOWN",args:null}))),void 0!==t&&setTimeout(function(){i.ResizeHandler()},100)):setTimeout(function(){i.ResizeHandler()},100)},IPhone8Helper.prototype.UpdateStyle=function(t){for(var e=String(document.documentElement.className).replace("fullscreen-visible","").split(" "),i=[],n=0;n<e.length;++n)""!=e[n]&&i.push(e[n]);t&&i.push("fullscreen-visible"),document.documentElement.className=i.join(" "),this.root.className=t?"fullscreen-root-visible":"fullscreen-root-hidden"},IPhone8Helper.prototype.HandleTouchEnd=function(){window.scrollTo(0,0)},IPhone8Helper.prototype.ScrollHandler=function(){var t;this.clientHeight!=this.GetClientHeight()&&((t=document.createEvent("HTMLEvents")).initEvent("resize",!0,!0),window.dispatchEvent(t))},IPhone8Helper.prototype.GetClientHeight=function(){return document.documentElement.clientHeight};var FullScreenIPhoneHelper={Init:function(){var t;UHT_FRAME||"iPhone"==UHT_UA_INFO.device.model&&"Mobile Safari"==UHT_UA_INFO.browser.name&&(7==_number.otoui(UHT_UA_INFO.os.version)?t=new IPhone7Helper:(t=new IPhone8Helper,window.addEventListener("resize",function(){t.ResizeHandler.apply(t,arguments)},!1),t.ResizeHandler()))},USING_NEW_IMPLEMENTATION:!0};!function(){var i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var t,e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=i.length,s={};n<o;n++)if((t=i[n])&&t[1]in document){for(n=0,e=t.length;n<e;n++)s[i[0][n]]=t[n];return s}return!1}(),t={request:function(t){var e;"iOS"!=UHT_UA_INFO.os.name&&(e=n.requestFullscreen,t=t||document.documentElement,"Android"==UHT_UA_INFO.os.name&&"Chrome"==UHT_UA_INFO.browser.name&&71<=_number.otoui(UHT_UA_INFO.browser.version)?t[e]({navigationUI:"hide"}):/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[e]():t[e](i&&Element.ALLOW_KEYBOARD_INPUT))},exit:function(){document[n.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:n};n?(Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),window.screenfull=t):window.screenfull=!1}();var FullScreenManager={};function IPhoneChromeFullscreen(){this.root=null,this.reserve=null,this.minHeight=-1,this.maxHeight=-1,this.topBarHeightLand=-1,this.topBarHeightPort=-1,this.isInit=!1,this.isLand=!1,this.isVisible=!1,this.isResized=!1,this.gameJustStarted=!0,this.timer=0,this.CreateElement=IPhone8Helper.prototype.CreateElement,this.UpdateStyle=IPhone8Helper.prototype.UpdateStyle,this.GameStarted=IPhone8Helper.prototype.GameStarted}FullScreenManager.overlay=null,FullScreenManager.reserve=null,FullScreenManager.RequestFullscreen=function(){window.screenfull.isFullscreen||window.screenfull.request()},FullScreenManager.ExitFullscreen=function(){window.screenfull.isFullscreen&&window.screenfull.exit()},FullScreenManager.IsFullscreen=function(){return window.screenfull.isFullscreen},FullScreenManager.Init=function(){var t;UHT_DEVICE_TYPE.MOBILE&&(null!=UHT_GAME_CONFIG_SRC.allowFullscreen&&window.top!=window&&!UHT_GAME_CONFIG_SRC.allowFullscreen||(t=FullScreenManager,null!=globalColliderInputManager?(window.screenfull&&window.screenfull.enabled&&globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp,new EventHandler(t,t.RequestFullscreen)),FullScreenIPhoneHelper.Init()):setTimeout(t.Init,50)))},FullScreenManager.OnLoad=function(){var t=FullScreenManager;t.Init(),window.RequestFullscreen=t.RequestFullscreen,window.ExitFullscreen=t.ExitFullscreen,window.IsFullscreen=t.IsFullscreen},FullScreenManager.OnLoad(),IPhoneChromeFullscreen.instance=null,IPhoneChromeFullscreen.prototype.UpdateReserve=function(){this.reserve.style.height=(this.isLand?this.minHeight:this.maxHeight)+Math.max(0,window.scrollY)+"px"},IPhoneChromeFullscreen.prototype.FixScroll=function(){window.scrollY<this.scrollY&&window.scrollTo(0,this.scrollY),this.UpdateReserve()},IPhoneChromeFullscreen.prototype.Init=function(){var t=Math.min(screen.width,screen.height),e=Math.max(screen.width,screen.height);320==t&&568==e&&(this.topBarHeightLand=this.topBarHeightPort=this.scrollY=76),375==t&&667==e&&(this.topBarHeightLand=this.topBarHeightPort=this.scrollY=76),414==t&&736==e&&(this.topBarHeightLand=this.topBarHeightPort=this.scrollY=76),375==t&&812==e&&(this.topBarHeightLand=56,this.topBarHeightPort=this.scrollY=100),414==t&&896==e&&(this.topBarHeightLand=56,this.topBarHeightPort=this.scrollY=100),this.minHeight=t,this.maxHeight=e,this.root=this.CreateElement("fullscreen-root-hidden",!0),this.reserve=document.createElement("div"),document.body.insertBefore(this.reserve,document.getElementsByTagName("canvas")[0]),this.UpdateReserve(),this.isInit=!0},IPhoneChromeFullscreen.prototype.IsMinimalMode=function(){return this.isLand=window.innerWidth>window.innerHeight,(this.isLand?this.minHeight:this.maxHeight)-window.innerHeight<(this.isLand?this.topBarHeightLand:this.topBarHeightPort)},IPhoneChromeFullscreen.prototype.OnUHTResize=function(t){Globals.WatchingReplay||(this.isInit||this.Init(),this.IsMinimalMode()?this.isVisible&&(this.isVisible=!1,this.UpdateStyle(!1),UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_FULLSCREEN_OVERLAY_HIDDEN",args:null}))):this.isVisible||(window.scrollTo(0,0),this.UpdateReserve(),this.isVisible=!0,this.UpdateStyle(!0),UHTEventBroker.Trigger(UHTEventBroker.Type.Game,JSON.stringify({common:"EVT_FULLSCREEN_OVERLAY_SHOWN",args:null}))),this.isResized=!0)},IPhoneChromeFullscreen.prototype.OnUHTUpdate=function(t){if(this.gameJustStarted&&this.GameStarted()&&(this.OnUHTResize(null),this.gameJustStarted=!1),this.isInit)return this.isResized?(this.isResized=!1,void(this.timer=0)):void(this.IsMinimalMode()&&(1<this.timer?(this.timer=0,this.FixScroll()):this.timer+=Time.deltaTime))},IPhoneChromeFullscreen.OnLoad=function(){var t;UHT_FRAME||"iPhone"!=UHT_UA_INFO.device.model||"Chrome"!=UHT_UA_INFO.browser.name||(t=IPhoneChromeFullscreen.instance=new IPhoneChromeFullscreen,EventManager.AddHandler("EVT_UHT_RESIZE",t.OnUHTResize,t),EventManager.AddHandler("EVT_UHT_UPDATE",t.OnUHTUpdate,t))};var NoSleep={os:null,uap:null,browserName:"",Android:function(){var t=document.createElement("source");t.src="data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",t.type="video/webm";var e=document.createElement("source");e.src="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==",e.type="video/mp4";var i=document.createElement("video");i.setAttribute("loop",""),i.appendChild(t),i.appendChild(e),i.play(),renderCanvas.removeEventListener("touchend",NoSleep.Android,!1),NoSleep=null},IOS10:function(){var t=document.createElement("video");t.setAttribute("playsinline",""),t.setAttribute("src","data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="),t.addEventListener("timeupdate",function(){.5<t.currentTime&&(t.currentTime=Math.random())}),t.play(),document.removeEventListener("touchend",NoSleep.IOS10,!1),NoSleep=null},Init:function(){null==NoSleep.uap&&(NoSleep.uap=new UAParser2,NoSleep.os=NoSleep.uap.getOS()||{name:"",version:"0"},NoSleep.browserName=NoSleep.uap.getBrowser().name),"Android"!=NoSleep.os.name||"Chrome"!=NoSleep.uap.getBrowser().name||IS_UCBROWSER?"iOS"!=NoSleep.os.name||-1==NoSleep.browserName.indexOf("Safari")&&-1==NoSleep.browserName.indexOf("Chrome")||10<=parseFloat(NoSleep.os.version)&&document.addEventListener("touchend",NoSleep.IOS10,!1):null!=renderCanvas?renderCanvas.addEventListener("touchend",NoSleep.Android,!1):setTimeout(NoSleep.Init,100)}};NoSleep.Init();